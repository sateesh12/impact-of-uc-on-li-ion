Library {
  Name			  "lib_electric_machine2"
  Version		  4.1.1
  LibraryLinkDisplay	  "all"
  CovSaveName		  "covdata"
  CovMetricSettings	  "dw"
  CovNameIncrementing	  off
  CovHtmlReporting	  on
  BlockNameDataTip	  on
  BlockParametersDataTip  on
  BlockDescriptionStringDataTip	off
  ToolBar		  on
  StatusBar		  on
  BrowserShowLibraryLinks on
  BrowserLookUnderMasks	  on
  Created		  "Tue May 30 16:33:10 2000"
  UpdateHistory		  "UpdateHistoryNever"
  ModifiedByFormat	  "%<Auto>"
  LastModifiedBy	  "mokeefe"
  ModifiedDateFormat	  "%<Auto>"
  LastModifiedDate	  "Thu Apr 24 11:59:16 2003"
  ModifiedComment	  "mokeefe -- Thu Apr 18 08:27:13 2002 -- Version 1.18"
"\nsaving the model:\no \"without the model browser open\"\no with only top-le"
"vel screen visible \no with \"fit to view\" enabled\no with \"status bar\" of"
"f and \"toolbar\" off\no with \"prompt to update model history with each save"
"\" on"
  ModifiedHistory	  "mokeefe -- Thu Apr 18 08:27:13 2002 -- Version 1.18"
"\nsaving the model:\no \"without the model browser open\"\no with only top-le"
"vel screen visible \no with \"fit to view\" enabled\no with \"status bar\" of"
"f and \"toolbar\" off\no with \"prompt to update model history with each save"
"\" on\n\nmokeefe -- Thu Apr 18 08:27:13 2002 -- Version 1.18\nsaving the mode"
"l:\no \"without the model browser open\"\no with only top-level screen visibl"
"e \no with \"fit to view\" enabled\no with \"status bar\" off and \"toolbar\""
" off\no with \"prompt to update model history with each save\" on\n\n"
  ModelVersionFormat	  "1.%<AutoIncrement:88>"
  ConfigurationManager	  "none"
  SimParamPage		  "Solver"
  AlgebraicLoopMsg	  "warning"
  MinStepSizeMsg	  "warning"
  UnconnectedInputMsg	  "warning"
  UnconnectedOutputMsg	  "warning"
  UnconnectedLineMsg	  "warning"
  InheritedTsInSrcMsg	  "warning"
  SingleTaskRateTransMsg  "none"
  MultiTaskRateTransMsg	  "error"
  IntegerOverflowMsg	  "warning"
  CheckForMatrixSingularity "none"
  UnnecessaryDatatypeConvMsg "none"
  Int32ToFloatConvMsg	  "warning"
  InvalidFcnCallConnMsg	  "error"
  SignalLabelMismatchMsg  "none"
  LinearizationMsg	  "none"
  VectorMatrixConversionMsg "none"
  SfunCompatibilityCheckMsg "none"
  BlockPriorityViolationMsg "warning"
  ArrayBoundsChecking	  "none"
  ConsistencyChecking	  "none"
  Profile		  off
  SimulationMode	  "normal"
  RTWRetainRTWFile	  off
  RTWMakeCommand	  "make_rtw"
  RTWGenerateCodeOnly	  off
  TLCProfiler		  off
  TLCDebug		  off
  TLCCoverage		  off
  ExtModeMexFile	  "ext_comm"
  ExtModeBatchMode	  off
  ExtModeTrigType	  "manual"
  ExtModeTrigMode	  "normal"
  ExtModeTrigPort	  "1"
  ExtModeTrigElement	  "any"
  ExtModeTrigDuration	  1000
  ExtModeTrigHoldOff	  0
  ExtModeTrigDelay	  0
  ExtModeTrigDirection	  "rising"
  ExtModeTrigLevel	  0
  ExtModeArchiveMode	  "off"
  ExtModeAutoIncOneShot	  off
  ExtModeIncDirWhenArm	  off
  ExtModeAddSuffixToVar	  off
  ExtModeWriteAllDataToWs off
  ExtModeArmWhenConnect	  on
  ExtModeSkipDownloadWhenConnect off
  ExtModeLogAll		  on
  ExtModeAutoUpdateStatusClock on
  BlockDefaults {
    Orientation		    "right"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    NamePlacement	    "normal"
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    ShowName		    on
  }
  AnnotationDefaults {
    HorizontalAlignment	    "center"
    VerticalAlignment	    "middle"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  LineDefaults {
    FontName		    "Helvetica"
    FontSize		    9
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  System {
    Name		    "lib_electric_machine2"
    Location		    [2, 73, 967, 748]
    Open		    on
    ModelBrowserVisibility  off
    ModelBrowserWidth	    200
    ScreenColor		    "automatic"
    PaperOrientation	    "landscape"
    PaperPositionMode	    "auto"
    PaperType		    "usletter"
    PaperUnits		    "inches"
    ZoomFactor		    "193"
    ReportName		    "simulink-default.rpt"
    Block {
      BlockType		      SubSystem
      Name		      "Sub-models"
      Ports		      []
      Position		      [116, 297, 155, 328]
      ShowPortLabels	      on
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      System {
	Name			"Sub-models"
	Location		[213, 77, 966, 744]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  "motor inertia as a function of total\nvehic"
"le inertia (generous approximation)"
	  Ports			  [1, 1]
	  Position		  [55, 90, 85, 140]
	  Orientation		  "up"
	  BackgroundColor	  "darkGreen"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "motor inertia as a function of total\nveh"
"icle inertia (generous approximation)"
	    Location		    [237, 353, 953, 819]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "76"
	    Block {
	      BlockType		      Inport
	      Name		      "gear ratio"
	      Position		      [55, 20, 85, 30]
	      Orientation	      "down"
	      NamePlacement	      "alternate"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [162, 275, 193, 310]
	      Orientation	      "down"
	      NamePlacement	      "alternate"
	      Inputs		      "*/"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [265, 205, 285, 225]
	      Orientation	      "down"
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "++|"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "engine inertia\nas a fraction of\ntotal"
" vehicle\ninertia \n(generous\napproximation)--denomenator"
	      Position		      [230, 160, 320, 180]
	      Orientation	      "down"
	      Expr		      "mc_inertia*u^2"
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "engine inertia\nas a fraction of\ntotal"
" vehicle\ninertia \n(generous\napproximation)--numerator"
	      Position		      [23, 100, 117, 120]
	      Orientation	      "down"
	      Expr		      "mc_inertia*u^2"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "veh mass calc"
	      Ports		      [0, 1]
	      Position		      [150, 207, 205, 223]
	      BackgroundColor	      "darkGreen"
	      SourceBlock	      "lib_electric_machine/Sub-models/veh mas"
"s calc"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      "off"
	      TreatAsAtomicUnit	      "off"
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [165, 370, 195, 385]
	      Orientation	      "down"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "engine inertia\nas a fraction of\ntotal"
" vehicle\ninertia \n(generous\napproximation)--numerator"
	      SrcPort		      1
	      Points		      [0, 135]
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "gear ratio"
	      SrcPort		      1
	      Points		      [0, 30]
	      Branch {
		DstBlock		"engine inertia\nas a fraction of\ntot"
"al vehicle\ninertia \n(generous\napproximation)--numerator"
		DstPort			1
	      }
	      Branch {
		Points			[205, 0]
		DstBlock		"engine inertia\nas a fraction of\ntot"
"al vehicle\ninertia \n(generous\napproximation)--denomenator"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "veh mass calc"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "engine inertia\nas a fraction of\ntotal"
" vehicle\ninertia \n(generous\napproximation)--denomenator"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      Points		      [0, 30]
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "veh mass calc"
	  Ports			  [0, 1]
	  Position		  [50, 42, 105, 58]
	  BackgroundColor	  "darkGreen"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "veh mass calc"
	    Location		    [152, 178, 650, 478]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [125, 157, 220, 183]
	      BackgroundColor	      "darkGreen"
	      Value		      "veh_mass"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      From
	      Name		      "From"
	      Position		      [125, 100, 245, 130]
	      BackgroundColor	      "darkGreen"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "veh_cargo_mass"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [270, 105, 290, 125]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "|++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [365, 108, 395, 122]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "From"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [55, 0]
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "generator controls"
      Ports		      []
      Position		      [145, 45, 201, 96]
      BackgroundColor	      "yellow"
      DropShadow	      on
      ShowPortLabels	      on
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      System {
	Name			"generator controls"
	Location		[202, 73, 966, 748]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "generator/\ncontroller <gc>"
      Ports		      [1, 1]
      Position		      [55, 46, 100, 84]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone Generator/Controller Mask"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'gc'|Log|{}|{}|'bdi_mc.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"generator/\ncontroller <gc>"
	Location		[192, 196, 954, 478]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed\nsupplied to rotor\n(Nm), "
"(rad/s)"
	  Position		  [65, 170, 85, 190]
	  FontName		  "Arial"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "GC Model"
	  Ports			  [2, 3]
	  Position		  [290, 165, 330, 225]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "GC Model"
	    Location		    [192, 81, 913, 345]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "torque and speed\nsupplied to rotor\n(N"
"m), (rad/s)"
	      Position		      [165, 145, 185, 165]
	      FontName		      "Arial"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "Control"
	      Position		      [35, 300, 55, 320]
	      FontName		      "Arial"
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>1"
	      Position		      [100, 299, 180, 321]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "bus_voltage_prev"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [3, 1]
	      Position		      [510, 253, 520, 367]
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 1]
	      Position		      [80, 291, 85, 329]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "1"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From<ess>2"
	      Position		      [390, 260, 475, 280]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gc_trq_in_a"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From<ess>3"
	      Position		      [390, 300, 475, 320]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gc_spd_in_a"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From<ess>4"
	      Position		      [390, 340, 475, 360]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gc_pwr_out_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      Position		      [185, 292, 279, 324]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "bus_voltage_prev"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      Position		      [285, 257, 379, 289]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gc_trq_in_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [285, 292, 379, 324]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gc_spd_in_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility3"
	      Position		      [285, 327, 379, 359]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gc_pwr_out_a"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "model"
	      Ports		      [1, 1]
	      Position		      [265, 125, 305, 185]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"model"
		Location		[227, 81, 977, 345]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed\nsupplied to rotor"
"\n(Nm), (rad/s)"
		  Position		  [25, 55, 45, 75]
		  FontName		  "Arial"
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>"
		  Position		  [45, 119, 125, 141]
		  Orientation		  "left"
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gc_trq_in_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>1"
		  Position		  [45, 154, 125, 176]
		  Orientation		  "left"
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gc_spd_in_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>4"
		  Position		  [635, 159, 715, 181]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gc_pwr_out_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Saturate
		  Name			  ">=0"
		  Position		  [570, 55, 600, 85]
		  UpperLimit		  "inf"
		  LowerLimit		  "0"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [615, 190, 671, 230]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [229, 259, 738, 365]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [247, 17]
		    VerticalAlignment	    "top"
		    Text		    "This generator/controller model i"
"ncludes loss data, rotational inertia, and performance limits.\nThis is the o"
"nly entirely forward-facing block in ADVISOR, computing the output power from"
" the\ninput torque and speed.  The generator map used in the lookup table blo"
"ck is VERY similar to\nthe input power motor map, with the main difference be"
"ing that the torque and power sign\nconventions are opposite: here torque inp"
"ut to the machine and power output by the machine\nare positive."
		    }
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [80, 29, 110, 96]
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  From
		  Name			  "From<ess>"
		  Position		  [45, 209, 175, 231]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "bus_voltage_prev"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [265, 40, 285, 60]
		  IconShape		  "rectangular"
		  Inputs		  "+-"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "effect of inertia\n(Nm)"
		  Ports			  [1, 1]
		  Position		  [180, 57, 215, 103]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [200, 196, 496, 316]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [20, 50, 40, 70]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [140, 35, 205, 85]
		    Gain		    "gc_inertia"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Derivative
		    Name		    "alpha"
		    Position		    [70, 50, 100, 70]
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [240, 50, 260, 70]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "alpha"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "alpha"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enforce\ntorque\nlimit"
		  Ports			  [2, 1]
		  Position		  [320, 39, 355, 86]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "enforce\ntorque\nlimit"
		    Location		    [203, 331, 574, 487]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "req'd generator\ninput torque (Nm"
")"
		    Position		    [45, 23, 75, 37]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "limited generator\nspeed (rad/s)"
		    Position		    [45, 103, 75, 117]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [300, 105, 356, 145]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [199, 193, 456, 260]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [132, 29]
		    Text		    "This block enforces the maximum t"
"orque\nabsorption capability limit of the generator."
		    }
		    }
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [220, 22, 250, 53]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max torque"
		    Position		    [125, 100, 155, 120]
		    InputValues		    "gc_map_spd*gc_spd_scale"
		    OutputValues	    "gc_max_trq*gc_overtrq_factor*gc_t"
"rq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "limited generator\ninput torque ("
"Nm)"
		    Position		    [300, 33, 330, 47]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "limited generator\nspeed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "max torque"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    DstBlock		    "limited generator\ninput torque ("
"Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "max torque"
		    SrcPort		    1
		    Points		    [20, 0; 0, -65]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "req'd generator\ninput torque (Nm"
")"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Saturate
		  Name			  "enforce max\nspeed"
		  Position		  [240, 131, 270, 149]
		  UpperLimit		  "max(gc_map_spd)*gc_spd_scale"
		  LowerLimit		  "0"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [630, 137, 725, 153]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|pwr_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gc_pwr_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [160, 17, 255, 33]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gc_trq_in_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  Ports			  [1]
		  Position		  [170, 182, 265, 198]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gc_spd_in_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Lookup2D
		  Name			  "generator\noutput power\nmap (W)"
		  Position		  [395, 36, 460, 74]
		  RowIndex		  "gc_map_spd*gc_spd_scale"
		  ColumnIndex		  "gc_map_trq*gc_trq_scale"
		  OutputValues		  "gc_outpwr_map*gc_spd_scale*gc_trq_s"
"cale"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  Ports			  []
		  Position		  [566, 194, 597, 237]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('generator"
"_controller.htm')]);"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "image(imread('doc_man.jpg'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "help"
		    Location		    [203, 331, 569, 538]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "limit request:\ncontroller current "
"limit"
		  Ports			  [2, 1]
		  Position		  [505, 42, 535, 93]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "limit request:\ncontroller curren"
"t limit"
		    Location		    [350, 374, 667, 527]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "computed output\npower (W)"
		    Position		    [35, 20, 55, 40]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "bus voltage\n(V)"
		    Position		    [35, 90, 55, 110]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [245, 100, 301, 140]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [229, 259, 525, 320]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [147, 12]
		    VerticalAlignment	    "top"
		    Text		    "This block prevents the generator"
"/controller set from\noutputting more than its maximum rated current."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [90, 49, 160, 71]
		    FontName		    "Arial"
		    Value		    "gc_max_crrnt"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [220, 12, 250, 83]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [180, 56, 200, 74]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [275, 40, 295, 60]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "computed output\npower (W)"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "bus voltage\n(V)"
		    SrcPort		    1
		    Points		    [105, 0]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "generator\noutput power (W)"
		  Position		  [655, 60, 675, 80]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  ">=0"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    Points		    [15, 0]
		    DstBlock		    "generator\noutput power (W)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 60; 0, 15]
		    Branch {
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "<sdo>4"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "limit request:\ncontroller current "
"limit"
		  SrcPort		  1
		  DstBlock		  ">=0"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [0, 0; 30, 0]
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 85]
		    DstBlock		    "<sdo>"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "From<ess>"
		  SrcPort		  1
		  Points		  [285, 0; 0, -140]
		  DstBlock		  "limit request:\ncontroller current "
"limit"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "enforce max\nspeed"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    Points		    [75, 0; 0, -95]
		    DstBlock		    "generator\noutput power\nmap (W)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -65]
		    DstBlock		    "enforce\ntorque\nlimit"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "generator\noutput power\nmap (W)"
		  SrcPort		  1
		  DstBlock		  "limit request:\ncontroller current "
"limit"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "enforce\ntorque\nlimit"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "enforce\ntorque\nlimit"
		  SrcPort		  1
		  DstBlock		  "generator\noutput power\nmap (W)"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "effect of inertia\n(Nm)"
		  SrcPort		  1
		  Points		  [15, 0; 0, -25]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "torque and speed\nsupplied to rotor"
"\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [0, 0; 40, 0]
		  Branch {
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "enforce max\nspeed"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    Branch {
		    DstBlock		    "<sdo>1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		    }
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal annotations"
	      Ports		      [1, 1]
	      Position		      [300, 88, 360, 122]
	      NamePlacement	      "alternate"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal annotations"
		Location		[433, 403, 931, 703]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  BusCreator
		  Name			  "Bus\nCreator"
		  Ports			  [2, 1]
		  Position		  [340, 91, 345, 129]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [155, 91, 160, 129]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "gc_trq_in_a"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "gc_spd_in_a"
		    PropagatedSignals	    "w shaft achieved by prime mover"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [360, 103, 390, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Bus\nCreator"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  Name			  "gc_trq_in_a"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  1
		}
		Line {
		  Name			  "gc_spd_in_a"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Bus\nCreator"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "requestedOut"
	      Position		      [390, 95, 410, 115]
	      FontName		      "Arial"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "generator\noutput power (W)"
	      Position		      [390, 145, 410, 165]
	      FontName		      "Arial"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Sensors"
	      Position		      [560, 300, 580, 320]
	      FontName		      "Arial"
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      DstBlock		      "<sdo>1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "torque and speed\nsupplied to rotor\n(N"
"m), (rad/s)"
	      SrcPort		      1
	      Points		      [35, 0]
	      Branch {
		DstBlock		"model"
		DstPort			1
	      }
	      Branch {
		Points			[0, -50]
		DstBlock		"signal annotations"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "model"
	      SrcPort		      1
	      DstBlock		      "generator\noutput power (W)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Control"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From<ess>2"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From<ess>3"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From<ess>4"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "Sensors"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "signal annotations"
	      SrcPort		      1
	      DstBlock		      "requestedOut"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [283, 229]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      DropShadow	      on
	      FontName		      "Arial"
	      FontSize		      14
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Position		      [178, 64]
	      BackgroundColor	      "yellow"
	      Text		      "Model"
	      DropShadow	      on
	      FontName		      "Arial"
	      FontSize		      14
	      FontWeight	      "bold"
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [120, 226, 230, 264]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gcControl"
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [395, 84, 495, 126]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gcReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [405, 224, 505, 266]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gcSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "generator\noutput power (W)"
	  Position		  [585, 185, 605, 205]
	  FontName		  "Arial"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "torque and speed\nsupplied to rotor\n(Nm), "
"(rad/s)"
	  SrcPort		  1
	  DstBlock		  "GC Model"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [20, 0; 0, -35]
	  DstBlock		  "GC Model"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "GC Model"
	  SrcPort		  1
	  Points		  [20, 0; 0, -70]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "GC Model"
	  SrcPort		  2
	  DstBlock		  "generator\noutput power (W)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "GC Model"
	  SrcPort		  3
	  Points		  [25, 0; 0, 30]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Annotation {
	  Position		  [322, 35]
	  BackgroundColor	  "yellow"
	  Text			  "Generator/ CONTROLLER\nInterface"
	  DropShadow		  on
	  FontName		  "Arial"
	  FontSize		  22
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "motor controls"
      Ports		      []
      Position		      [145, 170, 201, 221]
      BackgroundColor	      "yellow"
      DropShadow	      on
      ShowPortLabels	      on
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      System {
	Name			"motor controls"
	Location		[202, 73, 966, 748]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "motor/controller\n<mc>"
      Ports		      [2, 2]
      Position		      [55, 176, 100, 214]
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone Motor/Controller Mask"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'mc'|Log|{}|{}|'bdi_mc.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"motor/controller\n<mc>"
	Location		[206, 73, 966, 748]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "trq and spd\nout\nrequested"
	  Position		  [100, 163, 130, 177]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "electric power\nin\nachieved"
	  Position		  [100, 188, 130, 202]
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [155, 241, 265, 279]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "mcControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "motor model &\ninterface"
	  Ports			  [3, 4]
	  Position		  [310, 156, 375, 259]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "motor model &\ninterface"
	    Location		    [202, 73, 966, 748]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\nout\nrequested"
	      Position		      [205, 48, 235, 62]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "electric power\nin\nachieved"
	      Position		      [205, 138, 235, 152]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      Position		      [20, 358, 50, 372]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>1"
	      Position		      [110, 249, 230, 271]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "key_on"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>2"
	      Position		      [110, 424, 230, 446]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "current_veh_mass"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>3"
	      Position		      [110, 214, 230, 236]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "v_prev"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>4"
	      Position		      [110, 284, 230, 306]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "veh_spd_a_rec_prev"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>5"
	      Position		      [110, 319, 230, 341]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "bus_voltage_prev"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>6"
	      Position		      [110, 354, 230, 376]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mpha_prev"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>7"
	      Position		      [110, 459, 230, 481]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>8"
	      Position		      [110, 389, 230, 411]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "cyc_mph_r_prev"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>9"
	      Position		      [110, 494, 230, 516]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mc_init_spd_est"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Block NOTES"
	      Ports		      []
	      Position		      [75, 90, 154, 145]
	      BackgroundColor	      "green"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "disp('Block\\nNOTES')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Block NOTES"
		Location		[376, 286, 928, 570]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Annotation {
		  Position		  [256, 84]
		  Text			  "Available torque is computed from a"
"vailable power by assuming that the ratio of rotor torque to input\n(electric"
") power is the same for the actual/achievable situation as was computed for t"
"he request.  This\nis mathematically equivalent to assuming that the motor/co"
"ntroller efficiency.  Rotor speed for the\nactual/achievable calculations is "
"as computed in the 'request' branch."
		}
		Annotation {
		  Position		  [247, 32]
		  VerticalAlignment	  "top"
		  Text			  "This motor/controller model include"
"s loss data, rotational inertia, and performance limits."
		}
		Annotation {
		  Position		  [249, 153]
		  Text			  "Note: The block interface will auto"
"-configure itself based upon the generalName variable set in \nthe subsystem "
"component mask. The user must connect and create/configure the control block "
"\nup correctly based upon the control (nControl), sensor (nSensors), and requ"
"ested out signals (nReqOut)."
		}
	      }
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [9, 1]
	      Position		      [700, 229, 715, 511]
	      ShowName		      off
	      Inputs		      "9"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 9]
	      Position		      [75, 209, 85, 521]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "9"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From"
	      Position		      [470, 239, 595, 261]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "mc_trq_out_a"
	      Port {
		PortNumber		1
		Name			"mc_trq_out_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      Position		      [470, 419, 595, 441]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "mc_max_crrnt"
	      Port {
		PortNumber		1
		Name			"mc_max_crrnt"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From2"
	      Position		      [470, 269, 595, 291]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "mc_spd_out_a"
	      Port {
		PortNumber		1
		Name			"mc_spd_out_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From3"
	      Position		      [470, 299, 595, 321]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "mc_trq_limited"
	      Port {
		PortNumber		1
		Name			"mc_trq_limited"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From4"
	      Position		      [470, 329, 595, 351]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "P_mc_in_1lim"
	      Port {
		PortNumber		1
		Name			"P_mc_in_1lim"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From5"
	      Position		      [470, 359, 595, 381]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_mc_out_r"
	      Port {
		PortNumber		1
		Name			"w_mc_out_r"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From6"
	      Position		      [470, 389, 595, 411]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "mc_spd_limited"
	      Port {
		PortNumber		1
		Name			"mc_spd_limited"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From7"
	      Position		      [470, 449, 595, 471]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "P_mc_in_r"
	      Port {
		PortNumber		1
		Name			"P_mc_in_r"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From8"
	      Position		      [470, 479, 595, 501]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "mc_crrnt_limited"
	      Port {
		PortNumber		1
		Name			"mc_crrnt_limited"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      Position		      [234, 249, 342, 271]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "key_on"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility10"
	      Position		      [234, 354, 342, 376]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mpha_prev"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility11"
	      Position		      [359, 389, 467, 411]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mc_spd_limited"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility12"
	      Position		      [234, 424, 342, 446]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "current_veh_mass"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility13"
	      Position		      [234, 389, 342, 411]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "cyc_mph_r_prev"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility14"
	      Position		      [359, 419, 467, 441]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mc_max_crrnt"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility15"
	      Position		      [234, 459, 342, 481]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility16"
	      Position		      [359, 449, 467, 471]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "P_mc_in_r"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility17"
	      Position		      [359, 479, 467, 501]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mc_crrnt_limited"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility18"
	      Position		      [234, 494, 342, 516]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mc_init_spd_est"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [359, 269, 467, 291]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mc_spd_out_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility3"
	      Position		      [359, 239, 466, 260]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mc_trq_out_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      Position		      [234, 284, 342, 306]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "veh_spd_a_rec_prev"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility5"
	      Position		      [359, 299, 467, 321]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mc_trq_limited"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility6"
	      Position		      [359, 329, 467, 351]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "P_mc_in_1lim"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility7"
	      Position		      [359, 359, 467, 381]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "w_mc_out_r"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility8"
	      Position		      [234, 319, 342, 341]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "bus_voltage_prev"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility9"
	      Position		      [234, 214, 341, 235]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "v_prev"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "help"
	      Ports		      []
	      Position		      [80, 28, 112, 67]
	      BackgroundColor	      "yellow"
	      DropShadow	      on
	      ShowName		      off
	      OpenFcn		      "web(['file:\\\\\\' which('motor_control"
"ler.htm')]);"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "image(imread('doc_man.jpg'))"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"help"
		Location		[203, 331, 569, 538]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "mc model"
	      Ports		      [2, 2]
	      Position		      [330, 80, 380, 120]
	      BackgroundColor	      "yellow"
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"mc model"
		Location		[206, 77, 966, 736]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed\n req'd at rotor\n"
"(Nm), (rad/s)"
		  Position		  [45, 70, 65, 90]
		  FontName		  "Arial"
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "available motor\ninput power (W)"
		  Position		  [35, 315, 55, 335]
		  FontName		  "Arial"
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>"
		  Position		  [445, 263, 540, 287]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "mc_trq_out_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>1"
		  Position		  [385, 358, 490, 382]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "mc_spd_out_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  From
		  Name			  "<vc>"
		  Position		  [560, 392, 620, 408]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "v_prev"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [765, 190, 821, 230]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [206, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [247, 17]
		    VerticalAlignment	    "top"
		    Text		    "This motor/controller model inclu"
"des loss data, rotational inertia, and performance limits."
		    }
		    Annotation {
		    Position		    [256, 69]
		    Text		    "Available torque is computed from"
" available power by assuming that the ratio of rotor torque to input\n(electr"
"ic) power is the same for the actual/achievable situation as was computed for"
" the request.  This\nis mathematically equivalent to assuming that the motor/"
"controller efficiency.  Rotor speed for the\nactual/achievable calculations i"
"s as computed in the 'request' branch."
		    }
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [100, 21, 125, 134]
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn"
		  Position		  [575, 371, 600, 389]
		  ShowName		  off
		  Expr			  "u(3)-u(1)*u(2)"
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc>"
		  Position		  [560, 411, 630, 429]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "key_on"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [500, 302, 520, 353]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [550, 351, 555, 404]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "N-m drive torque\nper W input"
		  Ports			  [2, 1]
		  Position		  [665, 152, 695, 183]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "N-m drive torque\nper W input"
		    Location		    [206, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "req'd input power\n(W)"
		    Position		    [55, 50, 75, 70]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "req'd rotor drive torque\n(Nm)"
		    Position		    [55, 120, 75, 140]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [395, 160, 451, 200]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [206, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [223, 58]
		    Text		    "This block determines the ratio o"
"f req'd rotor torque to req'd electrical input power,\n which is proportional"
" to efficiency if the motor is providing torque.  This ratio is used\nto comp"
"ute actual rotor torque given some input power which may be different from\nt"
"he req'd value.\n\nIf the denominator, the req'd input power, is zero, this b"
"lock outputs inf,\nwhich is a flag used by the block .../rotor drive torque a"
"vailable (Nm)."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [90, 15, 110, 35]
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [205, 155, 225, 175]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [295, 155, 315, 175]
		    Value		    "inf"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [220, 47, 250, 78]
		    Inputs		    "/*"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [260, 92, 290, 123]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [150, 37, 180, 68]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [345, 60, 375, 90]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Nm per W"
		    Position		    [425, 65, 445, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "req'd rotor drive torque\n(Nm)"
		    SrcPort		    1
		    Points		    [120, 0; 0, -60]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [25, 0; 0, -35]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Nm per W"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "req'd input power\n(W)"
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -50]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		  }
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  Position		  [190, 90, 220, 120]
		  UpperLimit		  "max(mc_map_spd)*mc_spd_scale"
		  LowerLimit		  "0"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [385, 45, 405, 65]
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [385, 305, 405, 325]
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Constant
		  Name			  "do ex calcs?"
		  Position		  [665, 335, 725, 350]
		  Orientation		  "down"
		  ShowName		  off
		  Value			  "mc_th_calc"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "documentation10"
		  Ports			  []
		  Position		  [835, 191, 864, 230]
		  BackgroundColor	  "orange"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('motor_con"
"troller.htm')]);"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "image(imread('doc_man.jpg'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "documentation10"
		    Location		    [206, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "effect of inertia\n(Nm)"
		  Ports			  [1, 1]
		  Position		  [320, 86, 350, 124]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "mc_spd_out_a"
		    Position		    [35, 25, 55, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [500, 195, 556, 235]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [226, 34]
		    Text		    "Torque required to accelerate the"
" motor's inertia is calculated from the rate of change\nof mc_spd_out_a.  It "
"is no greater than the product of the maximum motor torque and\nthe fractiona"
"l contribution of the motor's inertia to the total vehicle inertia."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [75, 330, 95, 350]
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [140, 83, 405, 107]
		    Value		    "max(mc_max_trq)*mc_trq_scale*mc_o"
"vertrq_factor"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [190, 334, 355, 356]
		    Orientation		    "left"
		    Value		    "gb_ratio(1)*fd_ratio/wh_radius"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <wh>/\ntire slip model (m/s)"
		    Position		    [10, 259, 105, 291]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "veh_spd_a_rec_prev"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [165, 14, 245, 56]
		    Gain		    "mc_inertia"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [105, 175, 135, 205]
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [480, 27, 510, 58]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [425, 87, 455, 118]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [135, 267, 165, 298]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [195, 280, 225, 310]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Derivative
		    Name		    "alpha"
		    Position		    [100, 25, 130, 45]
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "motor inertia as a function of to"
"tal\nvehicle inertia (generous approximation)"
		    Ports		    [1, 1]
		    Position		    [285, 125, 315, 175]
		    Orientation		    "up"
		    BackgroundColor	    "darkGreen"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "motor inertia as a function of to"
"tal\nvehicle inertia (generous approximation)"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    Position		    [55, 20, 85, 30]
		    Orientation		    "down"
		    NamePlacement	    "alternate"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [85, 201, 205, 229]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "current_veh_mass"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [162, 275, 193, 310]
		    Orientation		    "down"
		    NamePlacement	    "alternate"
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [265, 205, 285, 225]
		    Orientation		    "down"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "++|"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--denomenator"
		    Position		    [230, 160, 320, 180]
		    Orientation		    "down"
		    Expr		    "mc_inertia*u^2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--numerator"
		    Position		    [23, 100, 117, 120]
		    Orientation		    "down"
		    Expr		    "mc_inertia*u^2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [165, 370, 195, 385]
		    Orientation		    "down"
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--numerator"
		    SrcPort		    1
		    Points		    [0, 135]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [0, 30]
		    Branch {
		    DstBlock		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--numerator"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [205, 0]
		    DstBlock		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--denomenator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--denomenator"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [0, 30]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "overall gear ratio\n/\nwh_radius"
		    Ports		    [2, 1]
		    Position		    [190, 182, 220, 213]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [555, 35, 575, 55]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "overall gear ratio\n/\nwh_radius"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "alpha"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "mc_spd_out_a"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 155]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "alpha"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "overall gear ratio\n/\nwh_radius"
		    SrcPort		    1
		    Points		    [75, 0]
		    DstBlock		    "motor inertia as a function of to"
"tal\nvehicle inertia (generous approximation)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "motor inertia as a function of to"
"tal\nvehicle inertia (generous approximation)"
		    SrcPort		    1
		    Points		    [0, -10]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <wh>/\ntire slip model (m/s)"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-5, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [0, -30; -55, 0]
		    DstBlock		    "overall gear ratio\n/\nwh_radius"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enforce\ntorque\nlimit"
		  Ports			  [2, 1]
		  Position		  [435, 44, 470, 91]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "enforce\ntorque\nlimit"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "req'd motor\ntorque (Nm)"
		    Position		    [45, 68, 75, 82]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "limited motor\nspeed (rad/s)"
		    Position		    [45, 148, 75, 162]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [470, 155, 526, 195]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [207, 39]
		    Text		    "This block enforces the maximum t"
"orque production and absorption\ncapability limits of the motor.  It assumes "
"that exactly as much torque\ncan be absorbed as can be produced at a given sp"
"eed."
		    }
		    }
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>"
		    Position		    [490, 16, 595, 44]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "mc_trq_limited"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [340, 67, 370, 98]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax1"
		    Ports		    [2, 1]
		    Position		    [340, 132, 370, 163]
		    Function		    "max"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    Position		    [440, 12, 470, 43]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [440, 80, 470, 110]
		    Threshold		    "0"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    Ports		    [1]
		    Position		    [215, 167, 310, 183]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|max_trq_vec|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_max_trq_vec"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max gen torque"
		    Position		    [140, 185, 170, 205]
		    InputValues		    "mc_map_spd*mc_spd_scale"
		    OutputValues	    "mc_max_gen_trq*mc_overtrq_factor*"
"mc_trq_scale"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max torque"
		    Position		    [140, 145, 170, 165]
		    InputValues		    "mc_map_spd*mc_spd_scale"
		    OutputValues	    "mc_max_trq*mc_overtrq_factor*mc_t"
"rq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "limited motor\ntorque (Nm)"
		    Position		    [520, 88, 550, 102]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "max torque"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [20, 0; 0, -65]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "req'd motor\ntorque (Nm)"
		    SrcPort		    1
		    Points		    [225, 0]
		    Branch {
		    Points		    [0, -55]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    Points		    [80, 0; 0, -25]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "MinMax1"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, -25; -65, 0]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "limited motor\ntorque (Nm)"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "MinMax1"
		    SrcPort		    1
		    Points		    [30, 0; 0, -45]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    DstBlock		    "Goto <sdo>"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "limited motor\nspeed (rad/s)"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "max torque"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "max gen torque"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "max gen torque"
		    SrcPort		    1
		    Points		    [150, 0]
		    DstBlock		    "MinMax1"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [220, 367, 315, 383]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|pwr_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_pwr_in_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [142, 270, 238, 290]
		  Orientation		  "up"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|ni_trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_ni_trq_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  Ports			  [1]
		  Position		  [35, 197, 130, 213]
		  Orientation		  "left"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_spd_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [35, 157, 130, 173]
		  Orientation		  "left"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_trq_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [567, 335, 663, 355]
		  Orientation		  "up"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|pwr_loss|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_pwr_loss"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  Ports			  [1]
		  Position		  [765, 377, 860, 393]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|mc_tmp|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_mc_tmp"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  Ports			  [1]
		  Position		  [765, 412, 860, 428]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|clt_th_pwr|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_clt_th_pwr"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  Ports			  [1]
		  Position		  [745, 97, 840, 113]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|pwr_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_pwr_in_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace8"
		  Ports			  [1]
		  Position		  [385, 407, 480, 423]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_spd_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace9"
		  Ports			  [1]
		  Position		  [450, 222, 545, 238]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace9"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_trq_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "mc tmp"
		  Ports			  [3, 2, 1]
		  Position		  [645, 366, 745, 434]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "mc tmp"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Qmc_gen"
		    Position		    [35, 35, 55, 55]
		    NamePlacement	    "alternate"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "veh spd"
		    Position		    [35, 65, 55, 85]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "key ON?"
		    Position		    [455, 35, 475, 55]
		    NamePlacement	    "alternate"
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [30, 122, 60, 148]
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1/mcp"
		    Position		    [590, 93, 615, 117]
		    Gain		    "1/(mc_mass*mc_cp)"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">=0"
		    Position		    [640, 35, 650, 55]
		    NamePlacement	    "alternate"
		    UpperLimit		    "Inf"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">=0 "
		    Position		    [170, 35, 180, 55]
		    NamePlacement	    "alternate"
		    UpperLimit		    "Inf"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [675, 135, 731, 175]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [172, 38]
		    Text		    "This block models the thermal beh"
"avior of a motor \nand controller  with active fluid cooling.\nThe module is "
"modeled as a single lumped thermal mass.  \nThe fan is on whenever the batter"
"y temp is > the set temp."
		    }
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux10"
		    Ports		    [2, 1]
		    Position		    [320, 74, 325, 121]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux9"
		    Ports		    [2, 1]
		    Position		    [240, 65, 245, 105]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qa"
		    Position		    [350, 91, 390, 109]
		    NamePlacement	    "alternate"
		    FontName		    "Arial"
		    Expr		    "u(1)*(mc_sarea*mc_trq_scale*mc_sp"
"d_scale)*u(2)"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qc1"
		    Ports		    [2, 1]
		    Position		    [560, 86, 570, 119]
		    ShowName		    off
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qnet"
		    Ports		    [3, 1]
		    Position		    [410, 54, 420, 146]
		    NamePlacement	    "alternate"
		    IconShape		    "rectangular"
		    Inputs		    "+++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qp2a,v7"
		    Position		    [145, 86, 220, 104]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "amb_tmp-u(1)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qr"
		    Position		    [350, 122, 390, 138]
		    FontName		    "Arial"
		    Expr		    "0.9*(5.67e-8)*(mc_sarea*mc_trq_sc"
"ale*mc_spd_scale)*((amb_tmp+273)^4 - (u(1)+273)^4)"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Tmc3"
		    Ports		    [1, 1]
		    Position		    [630, 95, 650, 115]
		    ShowName		    off
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    InitialCondition	    "mc_init_tmp"
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    ShowSaturationPort	    off
		    ShowStatePort	    off
		    AbsoluteTolerance	    "auto"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Va/Vv"
		    Position		    [90, 62, 120, 88]
		    Gain		    "0.5"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "ha"
		    Position		    [260, 76, 295, 94]
		    NamePlacement	    "alternate"
		    FontName		    "Arial"
		    Expr		    "6 + 6*((abs(u(2))/1000))^0.25 + 6"
"0*(abs(u(1))/30)^0.63"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "mc coolant"
		    Ports		    [2, 1, 1]
		    Position		    [445, 77, 530, 108]
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "mc coolant"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Tcl"
		    Position		    [15, 58, 45, 72]
		    NamePlacement	    "alternate"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Qmc "
		    Position		    [20, 78, 50, 92]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [186, 25, 223, 43]
		    NamePlacement	    "alternate"
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [50, 44, 95, 56]
		    ShowName		    off
		    Value		    "mc_tstat"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [165, 62, 180, 93]
		    ShowName		    off
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [120, 44, 140, 71]
		    ShowName		    off
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qmc_clt"
		    Position		    [200, 73, 230, 87]
		    NamePlacement	    "alternate"
		    Port		    "1"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "Qmc_clt"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qmc "
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Tcl"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Tmc"
		    Position		    [695, 95, 715, 115]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qmc_clt"
		    Position		    [695, 35, 715, 55]
		    Port		    "2"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux10"
		    SrcPort		    1
		    DstBlock		    "Qa"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux9"
		    SrcPort		    1
		    DstBlock		    "ha"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Va/Vv"
		    SrcPort		    1
		    DstBlock		    "Mux9"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "ha"
		    SrcPort		    1
		    DstBlock		    "Mux10"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qp2a,v7"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "Mux9"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 15]
		    DstBlock		    "Mux10"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Qr"
		    SrcPort		    1
		    DstBlock		    "Qnet"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Qmc_gen"
		    SrcPort		    1
		    DstBlock		    ">=0 "
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    ">=0 "
		    SrcPort		    1
		    Points		    [210, 0]
		    DstBlock		    "Qnet"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qa"
		    SrcPort		    1
		    DstBlock		    "Qnet"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "veh spd"
		    SrcPort		    1
		    DstBlock		    "Va/Vv"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "key ON?"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "mc coolant"
		    DstPort		    enable
		    }
		    Line {
		    SrcBlock		    ">=0"
		    SrcPort		    1
		    DstBlock		    "Qmc_clt"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "mc coolant"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    ">=0"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Qc1"
		    DstPort		    1
		    }
		    }
		    Line {
		    Labels		    [0, 0]
		    SrcBlock		    "Tmc3"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, -40; -225, 0]
		    DstBlock		    "mc coolant"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Tmc"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50; -330, 0]
		    Branch {
		    DstBlock		    "Qr"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [-205, 0]
		    DstBlock		    "Qp2a,v7"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "1/mcp"
		    SrcPort		    1
		    DstBlock		    "Tmc3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qc1"
		    SrcPort		    1
		    DstBlock		    "1/mcp"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qnet"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "mc coolant"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 25; 115, 0]
		    DstBlock		    "Qc1"
		    DstPort		    2
		    }
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "motor controller\nlogic interface"
		  Ports			  [2, 1]
		  Position		  [620, 14, 695, 76]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "motor controller\nlogic interface"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "w_mc_out_r"
		    Position		    [40, 205, 60, 225]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "P_mc_in_1lim"
		    Position		    [40, 105, 60, 125]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From1"
		    Position		    [90, 154, 215, 176]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From4"
		    Position		    [100, 44, 225, 66]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "bus_voltage_prev"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>"
		    Position		    [95, 197, 185, 233]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "w_mc_out_r"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>1"
		    Position		    [95, 98, 185, 132]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "P_mc_in_1lim"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>2"
		    Position		    [460, 43, 550, 77]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "P_mc_in_r"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "motor controller\nlogic"
		    Ports		    [4, 1]
		    Position		    [275, 40, 305, 160]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "motor controller\nlogic"
		    Location		    [206, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "bus voltage \nprevious"
		    Position		    [40, 30, 60, 50]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "req'd input\npower (W)"
		    Position		    [40, 160, 60, 180]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "req'd output\nspd (rad/s)"
		    Position		    [40, 280, 60, 300]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "shifting"
		    Position		    [40, 385, 60, 405]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Abs
		    Name		    "Abs"
		    Position		    [205, 123, 235, 147]
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Abs
		    Name		    "Abs1"
		    Position		    [105, 278, 135, 302]
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [590, 385, 646, 425]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [206, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [257, 40]
		    Text		    "This block models a motor/control"
"ler's logic, modulating the power input requirement as follows:\n- enforcing "
"the maximum current limit of the motor/controller\n- shutting the motor off i"
"f the average speed over the time step ==0\n- shutting the motor off if the t"
"ransmission is shifting."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [95, 79, 165, 101]
		    FontName		    "Arial"
		    Value		    "mc_max_crrnt"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [140, 348, 175, 372]
		    FontName		    "Arial"
		    Value		    "0.001"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [500, 232, 520, 258]
		    Orientation		    "left"
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>"
		    Position		    [545, 23, 645, 47]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "mc_crrnt_limited"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [434, 240, 466, 275]
		    Orientation		    "up"
		    NamePlacement	    "alternate"
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [270, 37, 300, 68]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [210, 36, 230, 54]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [230, 282, 260, 313]
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    Position		    [490, 17, 520, 48]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Sign"
		    Ports		    [1, 1]
		    Position		    [270, 157, 300, 183]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "Sign"
		    MaskDescription	    "y = sign(x)"
		    MaskHelp		    "Sign Function:\\n\\t\\t\\ty = 1 i"
"f x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"
		    MaskDisplay		    "plot(-50,-50,50,50,[-50,50],[0,0]"
",[0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Sign"
		    Location		    [206, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [35, 30, 55, 50]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [65, 105, 85, 125]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [140, 32, 170, 63]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [140, 92, 170, 123]
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [215, 64, 235, 91]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [265, 70, 285, 90]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 60]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -60]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -25]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [10, 0; 0, 20]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [495, 180, 525, 210]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "current-limited\npower"
		    Ports		    [2, 1]
		    Position		    [365, 51, 385, 69]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "true if motor\nshould be\nshut do"
"wn"
		    Ports		    [2, 1]
		    Position		    [385, 292, 415, 323]
		    Operator		    "OR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "req'd input\npower (W)1"
		    Position		    [590, 185, 610, 205]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Abs1"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "req'd output\nspd (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Abs1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -55]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "true if motor\nshould be\nshut do"
"wn"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    DstBlock		    "Goto <sdo>"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "current-limited\npower"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, -20]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "current-limited\npower"
		    SrcPort		    1
		    Points		    [60, 0; 0, 125]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "req'd input\npower (W)1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Sign"
		    SrcPort		    1
		    Points		    [20, 0; 0, -105]
		    DstBlock		    "current-limited\npower"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Abs"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "req'd input\npower (W)"
		    SrcPort		    1
		    Points		    [105, 0]
		    Branch {
		    DstBlock		    "Sign"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -35]
		    DstBlock		    "Abs"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [20, 0; 0, -40]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "bus voltage \nprevious"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "true if motor\nshould be\nshut do"
"wn"
		    SrcPort		    1
		    Points		    [30, 0]
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [0, -40]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "shifting"
		    SrcPort		    1
		    Points		    [290, 0; 0, -80]
		    DstBlock		    "true if motor\nshould be\nshut do"
"wn"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "P_mc_in_r"
		    Position		    [485, 90, 505, 110]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "From1"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "motor controller\nlogic"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "From4"
		    SrcPort		    1
		    DstBlock		    "motor controller\nlogic"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "motor controller\nlogic"
		    SrcPort		    1
		    Points		    [110, 0; 15, 0]
		    Branch {
		    Points		    [0, -40]
		    DstBlock		    "Goto <vc>2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "P_mc_in_r"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "P_mc_in_1lim"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, -30]
		    DstBlock		    "motor controller\nlogic"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Goto <vc>1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "w_mc_out_r"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, -70; 120, 0; 0, -30]
		    DstBlock		    "motor controller\nlogic"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "Goto <vc>"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "motor speed\nestimator"
		  Ports			  [1, 1]
		  Position		  [255, 64, 285, 96]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "motor speed\nestimator"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "mc_spd_out_a"
		    Position		    [45, 33, 75, 47]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "<= max spd"
		    Position		    [545, 120, 575, 150]
		    UpperLimit		    "max(mc_map_spd)*mc_spd_scale"
		    LowerLimit		    "-inf"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [730, 360, 786, 400]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [167, 41]
		    Text		    "The requested motor speed is repl"
"aced by an estimate of the\nmotor's previous speed, for loss and max. torque "
"calculations,\nwhenever the vehicle missed the trace by more than 1 mph\non t"
"he last time step."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [165, 240, 185, 260]
		    Orientation		    "left"
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [315, 165, 335, 185]
		    Orientation		    "left"
		    ShowName		    off
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [230, 360, 250, 380]
		    Orientation		    "left"
		    Value		    "2"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <cyc>"
		    Position		    [30, 304, 120, 336]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "cyc_mph_r_prev"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <cyc>1"
		    Position		    [230, 203, 345, 237]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "mc_init_spd_est"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <veh>"
		    Position		    [30, 99, 85, 131]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "mpha_prev"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <wh>/\ntire slip model (m/s)"
		    Position		    [30, 184, 120, 216]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "veh_spd_a_rec_prev"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [150, 97, 190, 133]
		    Gain		    "0.447"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>1"
		    Position		    [705, 42, 800, 68]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "mc_spd_limited"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    InitialCondition
		    Name		    "IC"
		    Position		    [310, 310, 340, 340]
		    Value		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [2, 1]
		    Position		    [660, 37, 690, 68]
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [178, 60, 212, 80]
		    Orientation		    "down"
		    NamePlacement	    "alternate"
		    ShowName		    off
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory2"
		    Position		    [605, 60, 635, 90]
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [3, 1]
		    Position		    [215, 99, 245, 131]
		    Inputs		    "**/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational"
		    Position		    [225, 307, 255, 338]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [545, 27, 575, 58]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [160, 192, 190, 223]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [160, 297, 190, 328]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [310, 110, 340, 140]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [465, 120, 495, 150]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    Ports		    [1]
		    Position		    [630, 187, 725, 203]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|spd_est|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_spd_est"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "init via port"
		    Ports		    [2, 1]
		    Position		    [380, 96, 430, 149]
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "init via port"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "signal in"
		    Position		    [170, 168, 200, 182]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "signal init"
		    Position		    [175, 308, 205, 322]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [225, 230, 255, 260]
		    ShowName		    off
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    InitialCondition
		    Name		    "IC"
		    Position		    [295, 230, 325, 260]
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [425, 230, 455, 260]
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "signal out"
		    Position		    [510, 238, 540, 252]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "signal in"
		    SrcPort		    1
		    Points		    [155, 0; 0, 60]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "IC"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "IC"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "signal out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "signal init"
		    SrcPort		    1
		    Points		    [170, 0; 0, -60]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [625, 128, 655, 142]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [0, 20]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <cyc>1"
		    SrcPort		    1
		    Points		    [5, 0; 0, -85]
		    DstBlock		    "init via port"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "<= max spd"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, -40; -65, 0; 0, -45]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 60]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, -100]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "<= max spd"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Memory2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Goto <sdo>1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory2"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "mc_spd_out_a"
		    SrcPort		    1
		    Points		    [0, 0; 115, 0]
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [255, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Product"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    Labels		    [1, 0]
		    SrcBlock		    "From <wh>/\ntire slip model (m/s)"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -25; 155, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "init via port"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <cyc>"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <veh>"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 190]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Relational"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational"
		    SrcPort		    1
		    DstBlock		    "IC"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "IC"
		    SrcPort		    1
		    Points		    [95, 0; 0, -190]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "init via port"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Lookup2D
		  Name			  "motor/controller\ninput power\nmap "
"(W)"
		  Position		  [530, 40, 590, 80]
		  RowIndex		  "mc_map_spd*mc_spd_scale"
		  ColumnIndex		  "mc_map_trq*mc_trq_scale"
		  OutputValues		  "mc_inpwr_map*mc_spd_scale*mc_trq_sc"
"ale"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "rotor drive torque\navailable (Nm)"
		  Ports			  [2, 1]
		  Position		  [115, 300, 145, 335]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "rotor drive torque\navailable (Nm"
")"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "torque per unit\ninput power (N-m"
"/W)"
		    Position		    [55, 15, 75, 35]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "available input power\n(W)"
		    Position		    [55, 90, 75, 110]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [395, 155, 451, 195]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [243, 78]
		    Text		    "This block computes the actual ro"
"tor torque given the actual motor input power and\nthe ratio (req'd rotor tor"
"que)/(req'd input power).\n\nIf the above ratio has the value inf, which impl"
"ies that the req'd input power is zero,\nthen the actual rotor torque is assu"
"med to be zero.  This is not reflective of reality, of course:\nwith zero inp"
"ut power, the rotor torque would be the motor spin-loss torque at the given s"
"peed.\nBecause this simplification occurs only when req'd input power is zero"
", it does not.\naffect fuel economy or max effort acceleration calculations."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [205, 110, 225, 130]
		    Value		    "inf"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [155, 140, 175, 160]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [220, 17, 250, 48]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [260, 62, 290, 93]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [345, 30, 375, 60]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "rotor drive\ntorque\navailable"
		    Position		    [425, 35, 445, 55]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [150, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "available input power\n(W)"
		    SrcPort		    1
		    Points		    [120, 0; 0, -60]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [25, 0; 0, -35]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "rotor drive\ntorque\navailable"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "torque per unit\ninput power (N-m"
"/W)"
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "req'd motor\ninput power (W)"
		  Position		  [770, 35, 790, 55]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "drive torque and\nspeed avail. at r"
"otor\n(Nm), (rad/s)"
		  Position		  [765, 290, 785, 310]
		  NamePlacement		  "alternate"
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "rotor drive torque\navailable (Nm)"
		  SrcPort		  1
		  Points		  [40, 0]
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "torque and speed\n req'd at rotor\n"
"(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "available motor\ninput power (W)"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 65; 70, 0]
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "rotor drive torque\navailable (Nm"
")"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [25, 0]
		  Branch {
		    Points		    [0, -75]
		    DstBlock		    "motor controller\nlogic interface"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 100]
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "From <vc>"
		  SrcPort		  1
		  DstBlock		  "mc tmp"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "<vc>"
		  SrcPort		  1
		  DstBlock		  "mc tmp"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "mc tmp"
		  SrcPort		  2
		  DstBlock		  "enhancedToWorkspace6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "mc tmp"
		  SrcPort		  1
		  DstBlock		  "enhancedToWorkspace5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "do ex calcs?"
		  SrcPort		  1
		  DstBlock		  "mc tmp"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "Fcn"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "mc tmp"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "Fcn"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 35]
		    DstBlock		    "Mux3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -30]
		    DstBlock		    "drive torque and\nspeed avail. at"
" rotor\n(Nm), (rad/s)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "motor/controller\ninput power\nmap "
"(W)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 100]
		    DstBlock		    "N-m drive torque\nper W input"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "motor controller\nlogic interface"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "motor controller\nlogic interface"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "req'd motor\ninput power (W)"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "enforce\ntorque\nlimit"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    Points		    [0, 105]
		    DstBlock		    "N-m drive torque\nper W input"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "motor/controller\ninput power\nma"
"p (W)"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "effect of inertia\n(Nm)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 205]
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -45]
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "enforce\ntorque\nlimit"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "N-m drive torque\nper W input"
		  SrcPort		  1
		  Points		  [25, 0; 0, 85; -625, 0]
		  DstBlock		  "rotor drive torque\navailable (Nm)"
		  DstPort		  1
		}
		Line {
		  Labels		  [1, 0]
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -40]
		    Branch {
		    Points		    [0, -45]
		    DstBlock		    "enhancedToWorkspace9"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "<sdo>"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 45; 60, 0; 0, 190; 45, 0]
		    Branch {
		    Points		    [0, 30]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "<sdo>1"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		  }
		  Branch {
		    DstBlock		    "motor speed\nestimator"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "motor speed\nestimator"
		  SrcPort		  1
		  Points		  [45, 0]
		  Branch {
		    DstBlock		    "enforce\ntorque\nlimit"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -45; 180, 0]
		    DstBlock		    "motor/controller\ninput power\nma"
"p (W)"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [425, 41, 470, 69]
	      NamePlacement	      "alternate"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 73, 966, 748]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "mc_trq_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "mc_spd_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [430, 103, 460, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "mc_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "mc_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out Request"
	      Position		      [535, 48, 565, 62]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "electric power\nin \nrequested"
	      Position		      [535, 83, 565, 97]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\nout\nachieved\n"
	      Position		      [535, 143, 565, 157]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [740, 363, 770, 377]
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      9
	      DstBlock		      "<sdo>9"
	      DstPort		      1
	    }
	    Line {
	      Name		      "mc_crrnt_limited"
	      Labels		      [0, 0]
	      SrcBlock		      "From8"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      9
	    }
	    Line {
	      Name		      "P_mc_in_r"
	      Labels		      [0, 0]
	      SrcBlock		      "From7"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      8
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      8
	      DstBlock		      "<sdo>7"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd\nout\nrequested"
	      SrcPort		      1
	      Points		      [25, 0]
	      Branch {
		Points			[0, 35]
		DstBlock		"mc model"
		DstPort			1
	      }
	      Branch {
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "electric power\nin\nachieved"
	      SrcPort		      1
	      Points		      [25, 0; 0, -35]
	      DstBlock		      "mc model"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "mc model"
	      SrcPort		      1
	      DstBlock		      "electric power\nin \nrequested"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "mc model"
	      SrcPort		      2
	      Points		      [50, 0; 0, 40]
	      DstBlock		      "trq and spd\nout\nachieved\n"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      DstBlock		      "<sdo>3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      DstBlock		      "<sdo>1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "mc_trq_out_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      Name		      "mc_spd_out_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From2"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "mc_trq_limited"
	      Labels		      [0, 0]
	      SrcBlock		      "From3"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "P_mc_in_1lim"
	      Labels		      [0, 0]
	      SrcBlock		      "From4"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      4
	    }
	    Line {
	      Name		      "w_mc_out_r"
	      Labels		      [0, 0]
	      SrcBlock		      "From5"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      3
	      DstBlock		      "<sdo>4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      4
	      DstBlock		      "<sdo>5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      5
	      DstBlock		      "<sdo>6"
	      DstPort		      1
	    }
	    Line {
	      Name		      "mc_spd_limited"
	      Labels		      [0, 0]
	      SrcBlock		      "From6"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      6
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      6
	      DstBlock		      "<sdo>8"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      7
	      DstBlock		      "<sdo>2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "Out Request"
	      DstPort		      1
	    }
	    Line {
	      Name		      "mc_max_crrnt"
	      Labels		      [0, 0]
	      SrcBlock		      "From1"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      7
	    }
	    Annotation {
	      Position		      [362, 190]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [430, 99, 530, 141]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "mcReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [440, 239, 540, 281]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "mcSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "electric power\nin \nrequested"
	  Position		  [595, 178, 625, 192]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "trq and spd\nout\nachieved\n"
	  Position		  [595, 198, 625, 212]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "motor model &\ninterface"
	  SrcPort		  4
	  Points		  [20, 0; 0, 15]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [20, 0; 0, -15]
	  DstBlock		  "motor model &\ninterface"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "motor model &\ninterface"
	  SrcPort		  1
	  Points		  [0, -50]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "motor model &\ninterface"
	  SrcPort		  2
	  Points		  [0, -10]
	  DstBlock		  "electric power\nin \nrequested"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "trq and spd\nout\nrequested"
	  SrcPort		  1
	  Points		  [160, 0]
	  DstBlock		  "motor model &\ninterface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "electric power\nin\nachieved"
	  SrcPort		  1
	  Points		  [160, 0]
	  DstBlock		  "motor model &\ninterface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "motor model &\ninterface"
	  SrcPort		  3
	  Points		  [0, -15]
	  DstBlock		  "trq and spd\nout\nachieved\n"
	  DstPort		  1
	}
	Annotation {
	  Position		  [357, 50]
	  BackgroundColor	  "yellow"
	  Text			  "MOTOR/ CONTROLLER\nInterface"
	  FontName		  "Arial"
	  FontSize		  22
	  FontWeight		  "bold"
	}
      }
    }
    Annotation {
      Position		      [91, 16]
      BackgroundColor	      "yellow"
      Text		      "Generator/Controller:"
      DropShadow	      on
      FontName		      "Arial"
      FontSize		      14
      FontWeight	      "bold"
    }
    Annotation {
      Position		      [81, 136]
      BackgroundColor	      "yellow"
      Text		      "Motor/Controller:"
      DropShadow	      on
      FontName		      "Arial"
      FontSize		      14
      FontWeight	      "bold"
    }
    Annotation {
      Position		      [213, 284]
      Text		      "-----------------------------------------------"
"-----------------------------------------------------------------"
    }
    Annotation {
      Position		      [65, 305]
      Text		      "sub-models"
    }
  }
}
