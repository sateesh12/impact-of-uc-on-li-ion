Library {
  Name			  "lib_transmission2"
  Version		  4.1.1
  LibraryLinkDisplay	  "all"
  CovSaveName		  "covdata"
  CovMetricSettings	  "dw"
  CovNameIncrementing	  off
  CovHtmlReporting	  on
  BlockNameDataTip	  on
  BlockParametersDataTip  on
  BlockDescriptionStringDataTip	on
  ToolBar		  on
  StatusBar		  on
  BrowserShowLibraryLinks off
  BrowserLookUnderMasks	  on
  Created		  "Tue May 30 16:37:54 2000"
  UpdateHistory		  "UpdateHistoryNever"
  ModifiedByFormat	  "%<Auto>"
  LastModifiedBy	  "mokeefe"
  ModifiedDateFormat	  "%<Auto>"
  LastModifiedDate	  "Thu Apr 24 11:45:07 2003"
  ModifiedComment	  "tmarkel -- Fri Sep 20 16:05:52 2002 -- Version 1.10"
"2\nmodified Pout/Pin calc block - moved !=0 check to before bombproof block; "
"value after bombproof is never zero\n\nthere are still some issues with this "
"calculation to be resolved at a later date\n"
  ModifiedHistory	  "tmarkel -- Fri Sep 20 16:05:52 2002 -- Version 1.10"
"2\nmodified Pout/Pin calc block - moved !=0 check to before bombproof block; "
"value after bombproof is never zero\n\nthere are still some issues with this "
"calculation to be resolved at a later date\n\n\ntmarkel -- Fri Sep 20 16:05:5"
"2 2002 -- Version 1.102\nmodified Pout/Pin calc block - moved !=0 check to be"
"fore bombproof block; value after bombproof is never zero\n\nthere are still "
"some issues with this calculation to be resolved at a later date\n\n\ntmarkel"
" -- Fri Sep 20 14:16:55 2002 -- Version 1.101\nchanged t loss when tx_eff=0 t"
"o be the total torque in request\n\nabrooker -- Fri May 24 14:07:33 2002 -- V"
"ersion 1.100\n\nmokeefe -- Thu Apr 18 08:38:43 2002 -- Version 1.99\nsaving t"
"he model:\no \"without the model browser open\"\no with only top-level screen"
" visible \no with \"fit to view\" enabled\no with \"status bar\" off and \"to"
"olbar\" off\no with \"prompt to update model history with each save\" on\n\n"
  ModelVersionFormat	  "1.%<AutoIncrement:285>"
  ConfigurationManager	  "none"
  SimParamPage		  "Solver"
  AlgebraicLoopMsg	  "warning"
  MinStepSizeMsg	  "warning"
  UnconnectedInputMsg	  "warning"
  UnconnectedOutputMsg	  "warning"
  UnconnectedLineMsg	  "warning"
  InheritedTsInSrcMsg	  "warning"
  SingleTaskRateTransMsg  "none"
  MultiTaskRateTransMsg	  "error"
  IntegerOverflowMsg	  "warning"
  CheckForMatrixSingularity "none"
  UnnecessaryDatatypeConvMsg "none"
  Int32ToFloatConvMsg	  "warning"
  InvalidFcnCallConnMsg	  "error"
  SignalLabelMismatchMsg  "none"
  LinearizationMsg	  "none"
  VectorMatrixConversionMsg "none"
  SfunCompatibilityCheckMsg "none"
  BlockPriorityViolationMsg "warning"
  ArrayBoundsChecking	  "none"
  ConsistencyChecking	  "none"
  Profile		  off
  SimulationMode	  "normal"
  RTWRetainRTWFile	  off
  RTWMakeCommand	  "make_rtw"
  RTWGenerateCodeOnly	  off
  TLCProfiler		  off
  TLCDebug		  off
  TLCCoverage		  off
  ExtModeMexFile	  "ext_comm"
  ExtModeBatchMode	  off
  ExtModeTrigType	  "manual"
  ExtModeTrigMode	  "normal"
  ExtModeTrigPort	  "1"
  ExtModeTrigElement	  "any"
  ExtModeTrigDuration	  1000
  ExtModeTrigHoldOff	  0
  ExtModeTrigDelay	  0
  ExtModeTrigDirection	  "rising"
  ExtModeTrigLevel	  0
  ExtModeArchiveMode	  "off"
  ExtModeAutoIncOneShot	  off
  ExtModeIncDirWhenArm	  off
  ExtModeAddSuffixToVar	  off
  ExtModeWriteAllDataToWs off
  ExtModeArmWhenConnect	  on
  ExtModeSkipDownloadWhenConnect off
  ExtModeLogAll		  on
  ExtModeAutoUpdateStatusClock on
  BlockDefaults {
    Orientation		    "right"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    NamePlacement	    "normal"
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    ShowName		    on
  }
  AnnotationDefaults {
    HorizontalAlignment	    "center"
    VerticalAlignment	    "middle"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  LineDefaults {
    FontName		    "Helvetica"
    FontSize		    9
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  System {
    Name		    "lib_transmission2"
    Location		    [2, 73, 967, 748]
    Open		    on
    ModelBrowserVisibility  off
    ModelBrowserWidth	    196
    ScreenColor		    "automatic"
    PaperOrientation	    "landscape"
    PaperPositionMode	    "auto"
    PaperType		    "usletter"
    PaperUnits		    "inches"
    ZoomFactor		    "106"
    ReportName		    "simulink-default.rpt"
    Block {
      BlockType		      SubSystem
      Name		      "Clutch Control"
      Ports		      []
      Position		      [430, 134, 485, 195]
      BackgroundColor	      "yellow"
      DropShadow	      on
      ShowPortLabels	      on
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      System {
	Name			"Clutch Control"
	Location		[202, 73, 966, 748]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"automatic"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  "Clutch Control"
	  Ports			  []
	  Position		  [125, 54, 180, 115]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "Clutch Control"
	    Location		    [214, 77, 1026, 744]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [3, 1]
	      Position		      [785, 92, 800, 518]
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector"
	      Ports		      [1, 1]
	      Position		      [270, 316, 275, 354]
	      ShowName		      off
	      OutputSignals	      "mpha"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<mpha>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector1"
	      Ports		      [1, 1]
	      Position		      [200, 56, 210, 94]
	      ShowName		      off
	      OutputSignals	      "shifting"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<shifting>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector2"
	      Ports		      [1, 1]
	      Position		      [200, 120, 210, 160]
	      ShowName		      off
	      OutputSignals	      "gb_spd_in_a"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<gb_spd_in_a>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector3"
	      Ports		      [1, 1]
	      Position		      [200, 187, 210, 223]
	      ShowName		      off
	      OutputSignals	      "clutch_trq_out_r"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<clutch_trq_out_r>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector4"
	      Ports		      [1, 1]
	      Position		      [200, 248, 210, 292]
	      ShowName		      off
	      OutputSignals	      "clutch_spd_out_r"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<clutch_spd_out_r>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector5"
	      Ports		      [1, 1]
	      Position		      [270, 381, 275, 419]
	      ShowName		      off
	      OutputSignals	      "veh_spd_a_rec"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<veh_spd_a_rec>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector6"
	      Ports		      [1, 1]
	      Position		      [270, 446, 275, 484]
	      ShowName		      off
	      OutputSignals	      "cycle_mph_r"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<cycle_mph_r>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector7"
	      Ports		      [1, 1]
	      Position		      [270, 511, 275, 549]
	      ShowName		      off
	      OutputSignals	      "v_ave_req"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<v_ave_req>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Clutch Control"
	      Ports		      [8, 3]
	      Position		      [475, 42, 685, 563]
	      BackgroundColor	      "yellow"
	      DropShadow	      on
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      on
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      Port {
		PortNumber		1
		Name			"clutch_state"
		PropagatedSignals	"clutch_state"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		2
		Name			"launch_speed"
		PropagatedSignals	"launch_speed"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		3
		Name			"launch_flag"
		PropagatedSignals	"launch_flag"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      System {
		Name			"Clutch Control"
		Location		[214, 77, 1026, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "shifting"
		  Position		  [200, 298, 230, 312]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "gb_spd_in_a"
		  Position		  [200, 333, 230, 347]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "T_cl_out"
		  Position		  [200, 373, 230, 387]
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "w_cl_out"
		  Position		  [200, 408, 230, 422]
		  Port			  "4"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "mpha"
		  Position		  [200, 448, 230, 462]
		  Port			  "5"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "veh_spd_a_rec"
		  Position		  [200, 483, 230, 497]
		  Port			  "6"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "cyc_mph_r"
		  Position		  [200, 518, 230, 532]
		  Port			  "7"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "v_ave_req"
		  Position		  [200, 558, 230, 572]
		  Port			  "8"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [425, 95, 505, 115]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "vc_launch_spd"
		  VectorParams1D	  on
		  Port {
		    PortNumber		    1
		    Name		    "launch_speed"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant4"
		  Position		  [285, 150, 305, 170]
		  ShowName		  off
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant5"
		  Position		  [290, 220, 310, 240]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  From
		  Name			  "From <gb>4"
		  Position		  [45, 60, 140, 80]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "T_cl_out"
		}
		Block {
		  BlockType		  From
		  Name			  "From <gb>5"
		  Position		  [45, 85, 140, 105]
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "w_cl_out"
		}
		Block {
		  BlockType		  From
		  Name			  "From <gb>6"
		  Position		  [215, 125, 310, 145]
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "v_ave_req"
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc> gb cntrol1"
		  Position		  [45, 37, 130, 53]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "shifting"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility1"
		  Position		  [395, 402, 512, 429]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "w_cl_out"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility2"
		  Position		  [395, 477, 512, 504]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "veh_spd_a_rec"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility3"
		  Position		  [395, 442, 512, 469]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "mpha"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility4"
		  Position		  [395, 512, 512, 539]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "cyc_mph_r"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility5"
		  Position		  [395, 552, 512, 579]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "v_ave_req"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility6"
		  Position		  [395, 327, 512, 354]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_spd_in_a"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility7"
		  Position		  [395, 367, 512, 394]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "T_cl_out"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility8"
		  Position		  [395, 292, 512, 319]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "shifting"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto11"
		  Position		  [255, 292, 385, 318]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "shifting"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto3"
		  Position		  [255, 402, 385, 428]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "w_cl_out"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto4"
		  Position		  [255, 477, 385, 503]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "veh_spd_a_rec"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto5"
		  Position		  [255, 442, 385, 468]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "mpha"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto6"
		  Position		  [255, 512, 385, 538]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "cyc_mph_r"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto7"
		  Position		  [255, 552, 385, 578]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "v_ave_req"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto8"
		  Position		  [255, 327, 385, 353]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_spd_in_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto9"
		  Position		  [255, 367, 385, 393]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "T_cl_out"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator8"
		  Ports			  [2, 1]
		  Position		  [435, 137, 465, 173]
		  ShowName		  off
		  Operator		  "AND"
		  Inputs		  "2"
		  Port {
		    PortNumber		    1
		    Name		    "launch_flag"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "clutch\ncontrol"
		  Ports			  [3, 1]
		  Position		  [175, 33, 210, 107]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  Port {
		    PortNumber		    1
		    Name		    "clutch_state"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  System {
		    Name		    "clutch\ncontrol"
		    Location		    [69, 202, 914, 652]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "shifting"
		    Position		    [30, 43, 60, 57]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_trq_in_r"
		    Position		    [30, 83, 60, 97]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_spd_in_r"
		    Position		    [25, 193, 55, 207]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [775, 395, 831, 435]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [307, 823, 765, 985]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [227, 12]
		    VerticalAlignment	    "top"
		    Text		    "This clutch control block determi"
"nes the clutch state given the req'd clutch output torque \nand speed (labell"
"ed as gearbox input torque and speed), and the gear number history.\n        "
"                  conditions                                                 "
"                      clutch state\ngear is being shifted OR (trq <~ 0 AND (e"
"ngine is                                     1 == disengaged\nclutched to avo"
"id compression braking OR spd < idle))                                       "
"                       \n\n(trq >~ 0) AND (spd < launch speed) AND clutch    "
"                                   2 == slipping     \nwas not engaged during"
" previous time step                                                          "
"       \n\nneither of above sets of conditions are met                       "
"                   3 == engaged"
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [155, 108, 190, 132]
		    Value		    "1e-3"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [155, 149, 235, 171]
		    Value		    "vc_clutch_bool"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [155, 214, 235, 236]
		    Value		    "vc_idle_spd"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [155, 280, 190, 300]
		    Value		    "1e-3"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant4"
		    Position		    [155, 344, 235, 366]
		    Value		    "vc_launch_spd"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant5"
		    Position		    [580, 380, 615, 400]
		    Orientation		    "left"
		    Value		    "2.5"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn:\n1 if clutch disengaged\n2 i"
"f clutch slipping\n3 if clutch engaged"
		    Position		    [670, 135, 730, 165]
		    Expr		    "u[1]+2*u[2]*(1-u[1])*(1-u[3])+3*u"
"[3]*(1-u[1])"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [390, 92, 420, 123]
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [2, 1]
		    Position		    [325, 152, 355, 183]
		    Operator		    "OR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [580, 325, 610, 355]
		    Orientation		    "left"
		    X0			    "1+(2*(cyc_mph(1,2)>0))"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [3, 1]
		    Position		    [600, 132, 635, 168]
		    Inputs		    "3"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [310, 82, 340, 113]
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [270, 202, 300, 233]
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    Position		    [270, 267, 300, 298]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator3"
		    Position		    [270, 332, 300, 363]
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "clutch\ndisengaged"
		    Ports		    [2, 1]
		    Position		    [460, 42, 490, 73]
		    Operator		    "OR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "clutch\nengaged"
		    Ports		    [2, 1]
		    Position		    [530, 142, 560, 173]
		    Operator		    "NOR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "clutch\nslipping"
		    Ports		    [3, 1]
		    Position		    [390, 279, 420, 311]
		    Operator		    "AND"
		    Inputs		    "3"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "clutch was NOT\nfully engaged\ndu"
"ring last time step"
		    Position		    [470, 330, 505, 365]
		    Orientation		    "left"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "gearbox speed\nestimator"
		    Ports		    [1, 1]
		    Position		    [85, 185, 115, 215]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "gearbox speed\nestimator"
		    Location		    [222, 219, 810, 728]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "gb_spd_in_r\nif no gear change"
		    Position		    [45, 18, 75, 32]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [515, 345, 571, 385]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [497, 485, 832, 570]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [167, 41]
		    Text		    "The requested engine speed is rep"
"laced by an estimate of the\nengine's previous speed whenever the vehicle mis"
"sed the trace\n by more than 1 mph on the last time step."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [165, 240, 185, 260]
		    Orientation		    "left"
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [315, 165, 335, 185]
		    Orientation		    "left"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [230, 360, 250, 380]
		    Orientation		    "left"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [230, 460, 250, 480]
		    Orientation		    "left"
		    Value		    "0.11"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [195, 40, 285, 70]
		    Orientation		    "left"
		    BackgroundColor	    "lightBlue"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gb_spd_in_a"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <cyc>"
		    Position		    [30, 304, 120, 336]
		    BackgroundColor	    "lightBlue"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "cyc_mph_r"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <veh>"
		    Position		    [30, 99, 85, 131]
		    BackgroundColor	    "lightBlue"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "mpha"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <wh>/\ntire slip model (m/s)"
		    Position		    [30, 184, 120, 216]
		    BackgroundColor	    "lightBlue"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "veh_spd_a_rec"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [150, 97, 190, 133]
		    Gain		    "0.447"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    InitialCondition
		    Name		    "IC"
		    Position		    [370, 110, 400, 140]
		    Value		    "cyc_mph(1,2)*0.447/wh_radius*fd_r"
"atio*gb_ratio(gb_num_init)"
		    }
		    Block {
		    BlockType		    InitialCondition
		    Name		    "IC1"
		    Position		    [300, 310, 330, 340]
		    Value		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical"
		    Ports		    [2, 1]
		    Position		    [375, 317, 405, 348]
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [3, 1]
		    Position		    [215, 99, 245, 131]
		    Inputs		    "**/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational"
		    Position		    [225, 307, 255, 338]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational1"
		    Position		    [225, 412, 255, 443]
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [160, 192, 190, 223]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [160, 297, 190, 328]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [310, 110, 340, 140]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [445, 120, 475, 150]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    Ports		    [0, 1]
		    Position		    [165, 408, 185, 432]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "dt"
		    Location		    [240, 561, 480, 665]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [25, 25, 45, 45]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [75, 53, 105, 77]
		    X0			    "-1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum4"
		    Ports		    [2, 1]
		    Position		    [130, 27, 160, 58]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [185, 38, 215, 52]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Sum4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum4"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [545, 128, 575, 142]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "dt"
		    SrcPort		    1
		    DstBlock		    "Relational1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical"
		    SrcPort		    1
		    Points		    [10, 0; 0, -200]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "IC1"
		    SrcPort		    1
		    DstBlock		    "Logical"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational1"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "Logical"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    Points		    [0, 50]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gb_spd_in_r\nif no gear change"
		    SrcPort		    1
		    Points		    [350, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "IC"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational"
		    SrcPort		    1
		    DstBlock		    "IC1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Relational"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <veh>"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    Points		    [0, 190]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "From <cyc>"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "IC"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    Labels		    [1, 0]
		    SrcBlock		    "From <wh>/\ntire slip model (m/s)"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, -25; 155, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Product"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "clutch\nstate"
		    Position		    [795, 143, 825, 157]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "gearbox speed\nestimator"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 140]
		    DstBlock		    "Relational\nOperator3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [105, 0; 0, 10]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "gb_spd_in_r"
		    SrcPort		    1
		    DstBlock		    "gearbox speed\nestimator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "shifting"
		    SrcPort		    1
		    DstBlock		    "clutch\ndisengaged"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    Points		    [15, 0; 0, -45]
		    DstBlock		    "clutch\ndisengaged"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gb_trq_in_r"
		    SrcPort		    1
		    Points		    [80, 0]
		    Branch {
		    Points		    [0, 185]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [90, 0; 0, -15]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "clutch was NOT\nfully engaged\ndu"
"ring last time step"
		    SrcPort		    1
		    Points		    [-105, 0; 0, -45]
		    DstBlock		    "clutch\nslipping"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant5"
		    SrcPort		    1
		    Points		    [-30, 0; 0, -35]
		    DstBlock		    "clutch was NOT\nfully engaged\ndu"
"ring last time step"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "clutch was NOT\nfully engaged\ndu"
"ring last time step"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator3"
		    SrcPort		    1
		    Points		    [30, 0; 0, -55]
		    DstBlock		    "clutch\nslipping"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant4"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "clutch\nslipping"
		    SrcPort		    1
		    Points		    [80, 0; 0, -95]
		    Branch {
		    Points		    [80, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -35]
		    DstBlock		    "clutch\nengaged"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    DstBlock		    "clutch\nslipping"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Fcn:\n1 if clutch disengaged\n2 i"
"f clutch slipping\n3 if clutch engaged"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    Points		    [0, 190]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "clutch\nstate"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "clutch\ndisengaged"
		    SrcPort		    1
		    Points		    [10, 0; 0, 40]
		    Branch {
		    Points		    [80, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50]
		    DstBlock		    "clutch\nengaged"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "clutch\nengaged"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "Fcn:\n1 if clutch disengaged\n2 i"
"f clutch slipping\n3 if clutch engaged"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "moving next\ntime"
		  Position		  [335, 207, 365, 238]
		  Operator		  ">"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "not\nmoving"
		  Position		  [340, 127, 370, 158]
		  Operator		  "=="
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "repeated cycle:\n speed required at"
"\nend of NEXT step"
		  Ports			  [0, 1]
		  Position		  [220, 197, 255, 233]
		  FontName		  "Arial"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "Forward looking repeating table"
		  MaskDescription	  "Forward looking repeating table.\nE"
"nter values of time and output for first cycle."
		  MaskHelp		  "Repeats cycle given in table with a"
" one time step forward offset. Time values should be monotonically increasing"
"."
		  MaskPromptString	  "Time values:|Output values:"
		  MaskStyleString	  "edit,edit"
		  MaskTunableValueString  "on,on"
		  MaskCallbackString	  "|"
		  MaskEnableString	  "on,on"
		  MaskVisibilityString	  "on,on"
		  MaskToolTipString	  "on,on"
		  MaskVariables		  "t=@1;y=@2;"
		  MaskInitialization	  "period = max(t);"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "cyc_mph(:,1)|cyc_mph(:,2)"
		  MaskVariableAliases	  ","
		  System {
		    Name		    "repeated cycle:\n speed required "
"at\nend of NEXT step"
		    Location		    [59, 74, 434, 236]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [45, 60, 65, 80]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    Position		    [110, 25, 150, 45]
		    Expr		    "rem(u[1],period)"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up Table"
		    Position		    [260, 33, 300, 57]
		    InputValues		    "t"
		    OutputValues	    "y"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [90, 85, 120, 115]
		    X0			    "-0.1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [150, 62, 180, 93]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 26, 235, 59]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [335, 35, 355, 55]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -35]
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [5, 0; 0, -15]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Look-Up Table"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Look-Up Table"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "clutch_state"
		  Position		  [625, 60, 645, 80]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "launch_speed"
		  Position		  [625, 95, 645, 115]
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "launch_flag"
		  Position		  [625, 145, 645, 165]
		  FontName		  "Arial"
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "veh_spd_a_rec"
		  SrcPort		  1
		  DstBlock		  "Goto4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "T_cl_out"
		  SrcPort		  1
		  DstBlock		  "Goto9"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "shifting"
		  SrcPort		  1
		  DstBlock		  "Goto11"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gb_spd_in_a"
		  SrcPort		  1
		  DstBlock		  "Goto8"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "v_ave_req"
		  SrcPort		  1
		  DstBlock		  "Goto7"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "cyc_mph_r"
		  SrcPort		  1
		  DstBlock		  "Goto6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "mpha"
		  SrcPort		  1
		  DstBlock		  "Goto5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "w_cl_out"
		  SrcPort		  1
		  DstBlock		  "Goto3"
		  DstPort		  1
		}
		Line {
		  Name			  "launch_speed"
		  Labels		  [0, 0]
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  DstBlock		  "launch_speed"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "not\nmoving"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator8"
		  DstPort		  1
		}
		Line {
		  Name			  "launch_flag"
		  Labels		  [0, 0]
		  SrcBlock		  "Logical\nOperator8"
		  SrcPort		  1
		  DstBlock		  "launch_flag"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant4"
		  SrcPort		  1
		  Points		  [10, 0; 0, -10]
		  DstBlock		  "not\nmoving"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From <gb>6"
		  SrcPort		  1
		  DstBlock		  "not\nmoving"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "repeated cycle:\n speed required at"
"\nend of NEXT step"
		  SrcPort		  1
		  DstBlock		  "moving next\ntime"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant5"
		  SrcPort		  1
		  DstBlock		  "moving next\ntime"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "moving next\ntime"
		  SrcPort		  1
		  Points		  [50, 0]
		  DstBlock		  "Logical\nOperator8"
		  DstPort		  2
		}
		Line {
		  Name			  "clutch_state"
		  Labels		  [0, 0]
		  SrcBlock		  "clutch\ncontrol"
		  SrcPort		  1
		  DstBlock		  "clutch_state"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From <gb>5"
		  SrcPort		  1
		  DstBlock		  "clutch\ncontrol"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "From <gb>4"
		  SrcPort		  1
		  DstBlock		  "clutch\ncontrol"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From <vc> gb cntrol1"
		  SrcPort		  1
		  DstBlock		  "clutch\ncontrol"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From10"
	      Position		      [45, 57, 170, 93]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbControl"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From11"
	      Position		      [45, 122, 170, 158]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From13"
	      Position		      [45, 217, 170, 253]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "clReqOut"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      Position		      [835, 284, 935, 326]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "clControl"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory1"
	      Position		      [345, 130, 360, 150]
	      ShowName		      off
	      X0		      "0"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory2"
	      Position		      [350, 325, 365, 345]
	      ShowName		      off
	      X0		      "cyc_mph(1,2)"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory3"
	      Position		      [350, 390, 365, 410]
	      ShowName		      off
	      X0		      "0"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory4"
	      Position		      [350, 455, 365, 475]
	      ShowName		      off
	      X0		      "cyc_mph(1,2)"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag1"
	      Position		      [45, 316, 255, 354]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag2"
	      Position		      [45, 381, 255, 419]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag3"
	      Position		      [45, 446, 255, 484]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "cycReqOut"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag4"
	      Position		      [45, 511, 255, 549]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehReqOut"
	    }
	    Line {
	      SrcBlock		      "Memory4"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      7
	    }
	    Line {
	      SrcBlock		      "Memory3"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      6
	    }
	    Line {
	      SrcBlock		      "Memory2"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "Memory1"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      2
	    }
	    Line {
	      Name		      "launch_flag"
	      Labels		      [0, 0]
	      SrcBlock		      "Clutch Control"
	      SrcPort		      3
	      Points		      [80, 0]
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "<clutch_spd_out_r>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector4"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      4
	    }
	    Line {
	      Name		      "<clutch_trq_out_r>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector3"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "From13"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		Points			[0, 35]
		DstBlock		"Bus\nSelector4"
		DstPort			1
	      }
	      Branch {
		Points			[0, -30]
		DstBlock		"Bus\nSelector3"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "<gb_spd_in_a>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector2"
	      SrcPort		      1
	      DstBlock		      "Memory1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From11"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<shifting>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector1"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From10"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "launch_speed"
	      Labels		      [0, 0]
	      SrcBlock		      "Clutch Control"
	      SrcPort		      2
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "clutch_state"
	      Labels		      [0, 0]
	      SrcBlock		      "Clutch Control"
	      SrcPort		      1
	      Points		      [80, 0]
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag1"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<mpha>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector"
	      SrcPort		      1
	      DstBlock		      "Memory2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag2"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector5"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<veh_spd_a_rec>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector5"
	      SrcPort		      1
	      DstBlock		      "Memory3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag3"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector6"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<cycle_mph_r>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector6"
	      SrcPort		      1
	      DstBlock		      "Memory4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag4"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector7"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<v_ave_req>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector7"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      8
	    }
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Gearbox Control"
      Ports		      []
      Position		      [445, 435, 503, 494]
      BackgroundColor	      "yellow"
      DropShadow	      on
      ShowPortLabels	      on
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      System {
	Name			"Gearbox Control"
	Location		[2, 73, 966, 748]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"automatic"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  "Gearbox Control\nmanual shift logic"
	  Ports			  []
	  Position		  [140, 45, 198, 104]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "Gearbox Control\nmanual shift logic"
	    Location		    [337, 73, 966, 748]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector"
	      Ports		      [1, 1]
	      Position		      [250, 221, 255, 259]
	      ShowName		      off
	      OutputSignals	      "acc_mech_trq_a"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<acc_mech_trq_a>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector1"
	      Ports		      [1, 1]
	      Position		      [250, 266, 255, 304]
	      ShowName		      off
	      OutputSignals	      "mpha"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<mpha>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector10"
	      Ports		      [1, 1]
	      Position		      [180, 41, 185, 79]
	      ShowName		      off
	      OutputSignals	      "eta_gb"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<eta_gb>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector2"
	      Ports		      [1, 1]
	      Position		      [250, 311, 255, 349]
	      ShowName		      off
	      OutputSignals	      "cycle_mph_r"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<cycle_mph_r>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector3"
	      Ports		      [1, 1]
	      Position		      [250, 356, 255, 394]
	      ShowName		      off
	      OutputSignals	      "veh_spd_a_rec"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<veh_spd_a_rec>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector4"
	      Ports		      [1, 1]
	      Position		      [250, 401, 255, 439]
	      ShowName		      off
	      OutputSignals	      "slip_limited"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<slip_limited>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector7"
	      Ports		      [1, 1]
	      Position		      [180, 176, 185, 214]
	      ShowName		      off
	      OutputSignals	      "gb_trq_out_r"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<gb_trq_out_r>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector8"
	      Ports		      [1, 1]
	      Position		      [180, 131, 185, 169]
	      ShowName		      off
	      OutputSignals	      "gb_spd_out_r"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<gb_spd_out_r>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector9"
	      Ports		      [1, 1]
	      Position		      [180, 86, 185, 124]
	      ShowName		      off
	      OutputSignals	      "gb_spd_in_a"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<gb_spd_in_a>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      Position		      [25, 152, 150, 188]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbReqOut"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From12"
	      Position		      [25, 62, 150, 98]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbSensors"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      Position		      [725, 219, 825, 261]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbControl"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory"
	      Position		      [275, 50, 290, 70]
	      ShowName		      off
	      X0		      "0"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory1"
	      Position		      [275, 95, 290, 115]
	      ShowName		      off
	      X0		      "0"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory2"
	      Position		      [350, 275, 365, 295]
	      ShowName		      off
	      X0		      "cyc_mph(1,2)"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory3"
	      Position		      [350, 365, 365, 385]
	      ShowName		      off
	      X0		      "0"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory4"
	      Position		      [350, 320, 365, 340]
	      ShowName		      off
	      X0		      "cyc_mph(1,2)"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory5"
	      Position		      [350, 230, 365, 250]
	      ShowName		      off
	      X0		      "0"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux1"
	      Ports		      [3, 1]
	      Position		      [670, 100, 680, 380]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag1"
	      Position		      [25, 221, 235, 259]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "accSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag2"
	      Position		      [25, 266, 235, 304]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag3"
	      Position		      [25, 311, 235, 349]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "cycReqOut"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag4"
	      Position		      [25, 356, 235, 394]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag5"
	      Position		      [25, 401, 235, 439]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehReqOut"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "manual shift logic"
	      Ports		      [9, 3]
	      Position		      [395, 41, 600, 439]
	      BackgroundColor	      "yellow"
	      DropShadow	      on
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      on
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      Port {
		PortNumber		1
		Name			"gear_ratio"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		2
		Name			"shifting"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		3
		Name			"gear_number"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      System {
		Name			"manual shift logic"
		Location		[276, 77, 966, 762]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "eta_gb, t=(i-1)"
		  Position		  [85, 238, 115, 252]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "gb_spd_in_a, t=(i-1)"
		  Position		  [85, 273, 115, 287]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "w_gb_out"
		  Position		  [85, 308, 115, 322]
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "T_gb_out"
		  Position		  [85, 343, 115, 357]
		  Port			  "4"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "acc_mech_trq_est"
		  Position		  [85, 378, 115, 392]
		  Port			  "5"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "mpha, t=(i-1)"
		  Position		  [85, 413, 115, 427]
		  Port			  "6"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "cyc_mph_r, t=(i-1)"
		  Position		  [85, 448, 115, 462]
		  Port			  "7"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "veh_spd_a_rec, t=(i-1)"
		  Position		  [85, 483, 115, 497]
		  Port			  "8"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "slip_limited"
		  Position		  [85, 518, 115, 532]
		  Port			  "9"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  From
		  Name			  "From <gb>1"
		  Position		  [285, 84, 365, 106]
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "w_gb_out"
		}
		Block {
		  BlockType		  From
		  Name			  "From <gb>2"
		  Position		  [285, 121, 380, 139]
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "eta_gb"
		}
		Block {
		  BlockType		  From
		  Name			  "From traction cntrl"
		  Position		  [285, 155, 380, 175]
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "slip_limited"
		}
		Block {
		  BlockType		  From
		  Name			  "From<gb>"
		  Position		  [285, 51, 370, 69]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "T_gb_out"
		}
		Block {
		  BlockType		  From
		  Name			  "From<gb>1"
		  Position		  [545, 321, 630, 339]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "gear_ratio"
		}
		Block {
		  BlockType		  From
		  Name			  "From<gb>2"
		  Position		  [545, 396, 630, 414]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "shifting"
		}
		Block {
		  BlockType		  From
		  Name			  "From<gb>3"
		  Position		  [545, 476, 630, 494]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "gear_number"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  Position		  [465, 147, 545, 173]
		  ShowName		  off
		  GotoTag		  "gear_number"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <gb>"
		  Position		  [455, 60, 540, 80]
		  ShowName		  off
		  GotoTag		  "gear_ratio"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <gb>1"
		  Position		  [460, 106, 540, 124]
		  ShowName		  off
		  GotoTag		  "shifting"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility1"
		  Position		  [280, 372, 397, 399]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "acc_mech_trq_est"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility10"
		  Position		  [415, 472, 532, 499]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gear_number"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility11"
		  Position		  [415, 392, 532, 419]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "shifting"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility12"
		  Position		  [415, 317, 532, 344]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gear_ratio"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility2"
		  Position		  [280, 407, 397, 434]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "mpha"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility3"
		  Position		  [280, 442, 397, 469]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "cyc_mph_r"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility4"
		  Position		  [280, 477, 397, 504]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "veh_spd_a_rec"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility5"
		  Position		  [280, 267, 397, 294]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_spd_in_a"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility6"
		  Position		  [280, 337, 397, 364]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "T_gb_out"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility7"
		  Position		  [280, 302, 397, 329]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "w_gb_out"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility8"
		  Position		  [280, 232, 397, 259]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "eta_gb"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility9"
		  Position		  [280, 512, 397, 539]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "slip_limited"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto10"
		  Position		  [140, 512, 270, 538]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "slip_limited"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto2"
		  Position		  [140, 372, 270, 398]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "acc_mech_trq_est"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto3"
		  Position		  [140, 407, 270, 433]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "mpha"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto4"
		  Position		  [140, 442, 270, 468]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "cyc_mph_r"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto5"
		  Position		  [140, 477, 270, 503]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "veh_spd_a_rec"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto6"
		  Position		  [140, 267, 270, 293]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_spd_in_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto7"
		  Position		  [140, 337, 270, 363]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "T_gb_out"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto8"
		  Position		  [140, 302, 270, 328]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "w_gb_out"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto9"
		  Position		  [140, 232, 270, 258]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "eta_gb"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearbox\n control"
		  Ports			  [4, 3]
		  Position		  [395, 41, 430, 184]
		  FontName		  "Arial"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "gearbox\n control"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "gb_trq_out_r"
		    Position		    [45, 130, 65, 150]
		    FontName		    "Arial"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_spd_out_r"
		    Position		    [45, 255, 65, 275]
		    FontName		    "Arial"
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "prev.\nPout/Pin"
		    Position		    [45, 20, 65, 40]
		    FontName		    "Arial"
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "tires are at\ntraction limit"
		    Position		    [45, 75, 65, 95]
		    FontName		    "Arial"
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [690, 275, 746, 315]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [229, 259, 687, 388]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [227, 12]
		    VerticalAlignment	    "top"
		    Text		    "This gearbox control block comput"
"es the current gear number given the gearbox's\nreq'd output torque and speed"
" and an estimate its efficiency.  Upshifts occur, given a\ncertain engine spe"
"ed,  when the estimated engine load falls below the upshift curve\nin engine "
"speed/load space, and downshifts likewise occur when estimated engine\nload r"
"ises above the downshift curve.  Separate upshift and downshift curves are\nd"
"efined for each gear.  An upshift may not be immediately followed by a downsh"
"ift.\nIf the tires are about to slip, don't upshift unless the engine would b"
"e at max. speed.\nEnforce this rule by setting the load to 1 when the tires a"
"re about to slip."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [370, 95, 390, 115]
		    Orientation		    "left"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn"
		    Position		    [155, 20, 185, 40]
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    Position		    [85, 180, 115, 200]
		    Orientation		    "up"
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From5"
		    Position		    [115, 213, 225, 237]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_trq_est"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain1"
		    Position		    [530, 242, 555, 268]
		    FontName		    "Arial"
		    Gain		    "-1"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [265, 142, 295, 173]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    Ports		    [2, 1]
		    Position		    [575, 238, 595, 262]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RateLimiter
		    Name		    "Rate Limiter"
		    Position		    [475, 312, 505, 338]
		    Orientation		    "left"
		    RisingSlewLimit	    "1/(gb_shift_delay+eps)"
		    FallingSlewLimit	    "-1/(gb_shift_delay+eps)"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [90, 20, 120, 40]
		    FontName		    "Arial"
		    UpperLimit		    "1"
		    LowerLimit		    "0.2"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [725, 96, 745, 114]
		    FontName		    "Arial"
		    UpperLimit		    "gb_gears_num"
		    LowerLimit		    "1"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [365, 135, 395, 165]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "allow downshift?"
		    Ports		    [1, 1]
		    Position		    [475, 42, 505, 78]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "allow downshift?"
		    Location		    [330, 267, 819, 482]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gearnum"
		    Position		    [35, 35, 55, 55]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [375, 43, 405, 67]
		    FontName		    "Arial"
		    Operator		    "NOR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [145, 60, 180, 80]
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [145, 105, 180, 125]
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [225, 38, 255, 62]
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    Position		    [225, 98, 255, 122]
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "allow shift"
		    Position		    [445, 45, 465, 65]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "allow shift"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev gearnum"
		    SrcPort		    1
		    Points		    [45, 0]
		    Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [15, 0; 0, -15]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 30; -60, 0]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "current\ngear\nnumber"
		    Ports		    [2, 1]
		    Position		    [670, 87, 690, 123]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "delta\ngear\nnumber"
		    Position		    [615, 144, 645, 176]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "downshift \ncommand"
		    Ports		    [3, 1]
		    Position		    [470, 229, 500, 281]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "downshift \ncommand"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear number"
		    Position		    [45, 98, 75, 112]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine load"
		    Position		    [45, 38, 75, 52]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine speed"
		    Position		    [45, 133, 75, 147]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [130, 107, 165, 143]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [350, 38, 380, 62]
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "load fraction"
		    Ports		    [1, 1]
		    Position		    [235, 100, 265, 150]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "Gear Selector"
		    MaskDescription	    "This block will perform a linear "
"interplation (extrapolation outside of bounds) to determine the shift point l"
"oad fraction associated with the current gear number and speed. \n\nThe Speed"
"s parameter should be defined as an array of vectors containing speeds for ea"
"ch gear number.  The Load Fractions parameter should be defined as a array of"
" vectors containing load fractions indexed by the speeds in the Speeds parame"
"ter for each gear number."
		    MaskHelp		    "Reference the base workspace vari"
"ables - gb_**shift_spd and gb_**shift_load  where ** is either up for upshift"
" conditions or dn for downshift conditions.\n\nOr define the arrays as follow"
"s:\n\n{[spd1 spd2 spd3 spd4]; [spd1 spd2 spd3 spd4]; ...}\n\n{[load1 load2 lo"
"ad3 load4]; [load1 load2 load3 load4]; ...}\n\nwhere each array contains one "
"row for each gear in the gearbox.  Speeds should be defined in rad/s and load"
"s as a decimal fraction.\n\n"
		    MaskPromptString	    "Speeds:|Load Fractions:"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVariables	    "spd=@1;load=@2;"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "gb_dnshift_spd|gb_dnshift_load"
		    MaskVariableAliases	    ","
		    System {
		    Name		    "load fraction"
		    Location		    [265, 77, 966, 746]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 33, 55, 47]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-Function"
		    Ports		    [1, 1]
		    Position		    [80, 25, 160, 55]
		    FunctionName	    "sfun_gearbox"
		    Parameters		    "load, spd"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [185, 33, 215, 47]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-Function"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "command"
		    Position		    [420, 43, 450, 57]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "load fraction"
		    SrcPort		    1
		    Points		    [60, 0; 0, -70]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "load fraction"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine load"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev gear number"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine speed"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "command"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "engine\ntorque\ncapability"
		    Position		    [310, 210, 340, 230]
		    Orientation		    "left"
		    FontName		    "Arial"
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_max_trq*fc_trq_scale+eps"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "est eng\ntrq"
		    Ports		    [2, 1]
		    Position		    [220, 132, 240, 168]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "gb_spd_in_r"
		    Ports		    [2, 1]
		    Position		    [150, 258, 170, 282]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio"
		    Position		    [400, 313, 430, 337]
		    Orientation		    "left"
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    OutputValues	    "gb_ratio"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio1"
		    Position		    [785, 93, 815, 117]
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    OutputValues	    "gb_ratio"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "gearbox speed\nestimator"
		    Ports		    [1, 1]
		    Position		    [220, 255, 250, 285]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "gearbox speed\nestimator"
		    Location		    [224, 221, 812, 730]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "gb_spd_in_r\nif no gear change"
		    Position		    [45, 18, 75, 32]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [420, 395, 476, 435]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [497, 485, 832, 570]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [167, 41]
		    Text		    "The requested engine speed is rep"
"laced by an estimate of the\nengine's previous speed whenever the vehicle mis"
"sed the trace\n by more than 1 mph on the last time step."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [165, 240, 185, 260]
		    Orientation		    "left"
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [315, 165, 335, 185]
		    Orientation		    "left"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [230, 360, 250, 380]
		    Orientation		    "left"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [230, 461, 265, 479]
		    Orientation		    "left"
		    Value		    "0.11"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [195, 40, 285, 70]
		    Orientation		    "left"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gb_spd_in_a"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <cyc>"
		    Position		    [30, 304, 120, 336]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "cyc_mph_r"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <veh>"
		    Position		    [30, 99, 85, 131]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "mpha"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <wh>/\ntire slip model (m/s)"
		    Position		    [30, 184, 120, 216]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "veh_spd_a_rec"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [150, 97, 190, 133]
		    Gain		    "0.447"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    InitialCondition
		    Name		    "IC"
		    Position		    [370, 110, 400, 140]
		    Value		    "cyc_mph(1,2)*0.447/wh_radius*fd_r"
"atio*gb_ratio(gb_num_init)"
		    }
		    Block {
		    BlockType		    InitialCondition
		    Name		    "IC1"
		    Position		    [310, 310, 340, 340]
		    Value		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical"
		    Ports		    [2, 1]
		    Position		    [375, 317, 405, 348]
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [3, 1]
		    Position		    [215, 99, 245, 131]
		    Inputs		    "**/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational"
		    Position		    [225, 307, 255, 338]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational1"
		    Position		    [225, 412, 255, 443]
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [160, 192, 190, 223]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [160, 297, 190, 328]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [310, 110, 340, 140]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [445, 120, 475, 150]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    Ports		    [0, 1]
		    Position		    [160, 408, 180, 432]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "dt"
		    Location		    [240, 561, 480, 665]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [25, 25, 45, 45]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [75, 53, 105, 77]
		    X0			    "-1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum4"
		    Ports		    [2, 1]
		    Position		    [130, 27, 160, 58]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [185, 38, 215, 52]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum4"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Sum4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [545, 128, 575, 142]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Product"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    Labels		    [1, 0]
		    SrcBlock		    "From <wh>/\ntire slip model (m/s)"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -25; 155, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "IC"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <cyc>"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <veh>"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 190]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Relational"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational"
		    SrcPort		    1
		    DstBlock		    "IC1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "IC"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gb_spd_in_r\nif no gear change"
		    SrcPort		    1
		    Points		    [350, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    Points		    [0, 50]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational1"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "Logical"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "IC1"
		    SrcPort		    1
		    DstBlock		    "Logical"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical"
		    SrcPort		    1
		    Points		    [10, 0; 0, -200]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "dt"
		    SrcPort		    1
		    DstBlock		    "Relational1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "load=T/\n(maxT\nat spd)"
		    Position		    [315, 151, 335, 169]
		    FontName		    "Arial"
		    UpperLimit		    "1"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "prev gear\nnumber"
		    Position		    [690, 20, 730, 40]
		    Orientation		    "left"
		    FontName		    "Arial"
		    X0			    "gb_num_init"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "prev gear\nratio"
		    Position		    [305, 315, 340, 335]
		    Orientation		    "left"
		    FontName		    "Arial"
		    X0			    "gb_ratio(gb_num_init)"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "shifting1"
		    Ports		    [1, 1]
		    Position		    [785, 164, 815, 196]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "shifting1"
		    Location		    [288, 228, 578, 419]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "gear\nnumber"
		    Position		    [15, 50, 35, 70]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [20, 131, 120, 159]
		    FontName		    "Arial"
		    Value		    "gb_shift_delay-1e-6"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [185, 53, 215, 77]
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "time since last shift"
		    Ports		    [1, 1]
		    Position		    [65, 43, 125, 77]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('time since\\nlast shift')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "time since last shift"
		    Location		    [16, 396, 306, 535]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [10, 60, 30, 80]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just shifted"
		    Ports		    [1, 1]
		    Position		    [60, 57, 110, 83]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('just\\nshifted')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "just shifted"
		    Location		    [140, 214, 463, 359]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [55, 55, 75, 75]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [120, 55, 155, 75]
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [190, 58, 220, 82]
		    FontName		    "Arial"
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [250, 60, 270, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 30; 75, 0; 0, -20]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "timer"
		    Ports		    [1, 1]
		    Position		    [140, 55, 175, 85]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('timer')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "timer"
		    Location		    [455, 179, 859, 394]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "trigger"
		    Position		    [15, 125, 35, 145]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [100, 100, 120, 120]
		    FontName		    "Arial"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [100, 150, 120, 170]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [150, 5, 170, 25]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [265, 59, 295, 91]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "no-lag\nReset Integrator"
		    Ports		    [3, 1]
		    Position		    [150, 96, 200, 174]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "No-lag Reset Integrator"
		    MaskDescription	    "No-lag Reset Integrator"
		    MaskHelp		    "Integrates first input using Eule"
"r technique.\\nAt the time step that input 2 <> zero,\\noutput is reset to in"
"put 3."
		    MaskPromptString	    "Initial Value"
		    MaskStyleString	    "edit"
		    MaskTunableValueString  "on"
		    MaskEnableString	    "on"
		    MaskVisibilityString    "on"
		    MaskToolTipString	    "on"
		    MaskInitialization	    "initval=@1;"
		    MaskDisplay		    "disp('1/s\\nw/ reset\\nno lag')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "15"
		    System {
		    Name		    "no-lag\nReset Integrator"
		    Location		    [258, 616, 780, 880]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [60, 100, 80, 120]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    Position		    [60, 140, 80, 160]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_3"
		    Position		    [45, 185, 65, 205]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [125, 205, 145, 225]
		    Orientation		    "up"
		    NamePlacement	    "alternate"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [340, 55, 375, 75]
		    Orientation		    "left"
		    FontName		    "Arial"
		    X0			    "initval"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [160, 96, 180, 114]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [230, 90, 250, 110]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [290, 139, 320, 171]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    Ports		    [0, 1]
		    Position		    [112, 50, 138, 80]
		    Orientation		    "down"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "dt"
		    Location		    [80, 285, 429, 424]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [65, 60, 85, 80]
		    FontName		    "Arial"
		    FontSize		    8
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [125, 85, 160, 105]
		    FontName		    "Arial"
		    FontSize		    8
		    X0			    "-1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 65, 225, 85]
		    FontName		    "Arial"
		    FontSize		    8
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [255, 65, 275, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "in_2==0"
		    Position		    [160, 143, 190, 167]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [455, 145, 475, 165]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -40]
		    DstBlock		    "in_2==0"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_2==0"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [10, 0; 0, 45]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-130, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "dt"
		    SrcPort		    1
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "in_2==0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_3"
		    SrcPort		    1
		    Points		    [200, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "time"
		    Position		    [350, 65, 370, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "time"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "trigger"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, -60]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [35, 0; 0, 50]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    Points		    [40, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [225, 60, 245, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "just shifted"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "just shifted"
		    SrcPort		    1
		    DstBlock		    "timer"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "timer"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [250, 55, 270, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "time since last shift"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [15, 0; 0, -75]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "time since last shift"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "upshift\n command"
		    Ports		    [3, 1]
		    Position		    [470, 124, 500, 176]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "upshift\n command"
		    Location		    [326, 353, 801, 648]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear number"
		    Position		    [45, 103, 75, 117]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine load"
		    Position		    [45, 38, 75, 52]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine speed"
		    Position		    [45, 133, 75, 147]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [130, 107, 165, 143]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [350, 38, 380, 62]
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "load fraction"
		    Ports		    [1, 1]
		    Position		    [245, 100, 275, 150]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "Gear Selector"
		    MaskDescription	    "This block will perform a linear "
"interplation (extrapolation outside of bounds) to determine the shift point l"
"oad fraction associated with the current gear number and speed. \n\nThe Speed"
"s parameter should be defined as an array of vectors containing speeds for ea"
"ch gear number.  The Load Fractions parameter should be defined as a array of"
" vectors containing load fractions indexed by the speeds in the Speeds parame"
"ter for each gear number."
		    MaskHelp		    "Reference the base workspace vari"
"ables - gb_**shift_spd and gb_**shift_load  where ** is either up for upshift"
" conditions or dn for downshift conditions.\n\nOr define the arrays as follow"
"s:\n\n{[spd1 spd2 spd3 spd4]; [spd1 spd2 spd3 spd4]; ...}\n\n{[load1 load2 lo"
"ad3 load4]; [load1 load2 load3 load4]; ...}\n\nwhere each array contains one "
"row for each gear in the gearbox.  Speeds should be defined in rad/s and load"
"s as a decimal fraction.\n\n"
		    MaskPromptString	    "Speeds:|Load Fractions:"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVariables	    "spd=@1;load=@2;"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "gb_upshift_spd|gb_upshift_load"
		    MaskVariableAliases	    ","
		    System {
		    Name		    "load fraction"
		    Location		    [464, 440, 704, 522]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 33, 55, 47]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-Function"
		    Ports		    [1, 1]
		    Position		    [80, 25, 160, 55]
		    FunctionName	    "sfun_gearbox"
		    Parameters		    "load, spd"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [185, 33, 215, 47]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-Function"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "command"
		    Position		    [420, 43, 450, 57]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "load fraction"
		    SrcPort		    1
		    Points		    [50, 0; 0, -70]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "engine load"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev gear number"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "load fraction"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine speed"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "command"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_trq_in_r"
		    Ports		    [3, 1]
		    Position		    [150, 132, 170, 168]
		    FontName		    "Arial"
		    Inputs		    "3"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear ratio2"
		    Position		    [855, 95, 875, 115]
		    NamePlacement	    "alternate"
		    FontName		    "Arial"
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "shifting"
		    Position		    [855, 170, 875, 190]
		    FontName		    "Arial"
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear number"
		    Position		    [855, 250, 875, 270]
		    FontName		    "Arial"
		    Port		    "3"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "From5"
		    SrcPort		    1
		    Points		    [0, -25; -25, 0]
		    DstBlock		    "est eng\ntrq"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "shifting1"
		    SrcPort		    1
		    DstBlock		    "shifting"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gear ratio1"
		    SrcPort		    1
		    DstBlock		    "gear ratio2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "current\ngear\nnumber"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "Fcn"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev.\nPout/Pin"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gb_trq_out_r"
		    SrcPort		    1
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "upshift\n command"
		    SrcPort		    1
		    Points		    [95, 0]
		    Branch {
		    DstBlock		    "delta\ngear\nnumber"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "delta\ngear\nnumber"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "downshift \ncommand"
		    SrcPort		    1
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    Points		    [0, -15]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "engine\ntorque\ncapability"
		    SrcPort		    1
		    Points		    [-55, 0]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Fcn"
		    SrcPort		    1
		    Points		    [10, 0; 0, 85; -75, 0; 0, 35]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, -75]
		    DstBlock		    "prev gear\nnumber"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "gear ratio1"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    DstBlock		    "gear number"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Rate Limiter"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "shifting1"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "prev gear\nnumber"
		    SrcPort		    1
		    Points		    [-35, 0]
		    Branch {
		    Points		    [-210, 0; 0, 30]
		    Branch {
		    DstBlock		    "allow downshift?"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    DstBlock		    "upshift\n command"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "downshift \ncommand"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "current\ngear\nnumber"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "load=T/\n(maxT\nat spd)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "tires are at\ntraction limit"
		    SrcPort		    1
		    Points		    [265, 0; 0, 65]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Rate Limiter"
		    SrcPort		    1
		    DstBlock		    "gear ratio"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gb_spd_out_r"
		    SrcPort		    1
		    DstBlock		    "gb_spd_in_r"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gb_spd_in_r"
		    SrcPort		    1
		    DstBlock		    "gearbox speed\nestimator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    DstBlock		    "prev gear\nratio"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev gear\nratio"
		    SrcPort		    1
		    Points		    [-200, 0; 0, -50]
		    Branch {
		    DstBlock		    "gb_spd_in_r"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Gain1"
		    SrcPort		    1
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "delta\ngear\nnumber"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "allow downshift?"
		    SrcPort		    1
		    Points		    [50, 0]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gearbox speed\nestimator"
		    SrcPort		    1
		    Points		    [115, 0]
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "engine\ntorque\ncapability"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [50, 0]
		    Branch {
		    DstBlock		    "downshift \ncommand"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, -105]
		    DstBlock		    "upshift\n command"
		    DstPort		    3
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "~gb_trq_in_r"
		    SrcPort		    1
		    Points		    [30, 0]
		    DstBlock		    "est eng\ntrq"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "est eng\ntrq"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "load=T/\n(maxT\nat spd)"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    Labels		    [1, 0]
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "upshift\n command"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "downshift \ncommand"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "delta\ngear\nnumber"
		    SrcPort		    1
		    Points		    [0, -45]
		    DstBlock		    "current\ngear\nnumber"
		    DstPort		    2
		    }
		    Annotation {
		    Position		    [832, 57]
		    Text		    "local GOTO blocks:"
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear ratio"
		  Position		  [660, 320, 680, 340]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "shifting"
		  Position		  [660, 395, 680, 415]
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear number"
		  Position		  [660, 475, 680, 495]
		  FontName		  "Arial"
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "T_gb_out"
		  SrcPort		  1
		  DstBlock		  "Goto7"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "w_gb_out"
		  SrcPort		  1
		  DstBlock		  "Goto8"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gb_spd_in_a, t=(i-1)"
		  SrcPort		  1
		  DstBlock		  "Goto6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From<gb>3"
		  SrcPort		  1
		  DstBlock		  "gear number"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From<gb>2"
		  SrcPort		  1
		  DstBlock		  "shifting"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From<gb>1"
		  SrcPort		  1
		  DstBlock		  "gear ratio"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gearbox\n control"
		  SrcPort		  3
		  DstBlock		  "Goto"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gearbox\n control"
		  SrcPort		  2
		  DstBlock		  "Goto <gb>1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gearbox\n control"
		  SrcPort		  1
		  DstBlock		  "Goto <gb>"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "slip_limited"
		  SrcPort		  1
		  DstBlock		  "Goto10"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "eta_gb, t=(i-1)"
		  SrcPort		  1
		  DstBlock		  "Goto9"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "veh_spd_a_rec, t=(i-1)"
		  SrcPort		  1
		  DstBlock		  "Goto5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "cyc_mph_r, t=(i-1)"
		  SrcPort		  1
		  DstBlock		  "Goto4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "mpha, t=(i-1)"
		  SrcPort		  1
		  DstBlock		  "Goto3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "acc_mech_trq_est"
		  SrcPort		  1
		  DstBlock		  "Goto2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From traction cntrl"
		  SrcPort		  1
		  DstBlock		  "gearbox\n control"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "From <gb>2"
		  SrcPort		  1
		  DstBlock		  "gearbox\n control"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "From <gb>1"
		  SrcPort		  1
		  DstBlock		  "gearbox\n control"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From<gb>"
		  SrcPort		  1
		  DstBlock		  "gearbox\n control"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "Memory4"
	      SrcPort		      1
	      DstBlock		      "manual shift logic"
	      DstPort		      7
	    }
	    Line {
	      SrcBlock		      "Memory3"
	      SrcPort		      1
	      DstBlock		      "manual shift logic"
	      DstPort		      8
	    }
	    Line {
	      SrcBlock		      "Memory2"
	      SrcPort		      1
	      DstBlock		      "manual shift logic"
	      DstPort		      6
	    }
	    Line {
	      SrcBlock		      "Memory1"
	      SrcPort		      1
	      DstBlock		      "manual shift logic"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Memory"
	      SrcPort		      1
	      DstBlock		      "manual shift logic"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From1"
	      SrcPort		      1
	      Points		      [0, 0; 5, 0]
	      Branch {
		Points			[0, 25]
		DstBlock		"Bus\nSelector7"
		DstPort			1
	      }
	      Branch {
		Points			[0, -20]
		DstBlock		"Bus\nSelector8"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "<gb_trq_out_r>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector7"
	      SrcPort		      1
	      DstBlock		      "manual shift logic"
	      DstPort		      4
	    }
	    Line {
	      Name		      "<gb_spd_out_r>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector8"
	      SrcPort		      1
	      DstBlock		      "manual shift logic"
	      DstPort		      3
	    }
	    Line {
	      Name		      "<gb_spd_in_a>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector9"
	      SrcPort		      1
	      DstBlock		      "Memory1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<eta_gb>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector10"
	      SrcPort		      1
	      DstBlock		      "Memory"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From12"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		Points			[0, 25]
		DstBlock		"Bus\nSelector9"
		DstPort			1
	      }
	      Branch {
		Points			[0, -20]
		DstBlock		"Bus\nSelector10"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Mux1"
	      SrcPort		      1
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "gear_number"
	      Labels		      [0, 0]
	      SrcBlock		      "manual shift logic"
	      SrcPort		      3
	      Points		      [50, 0]
	      DstBlock		      "Mux1"
	      DstPort		      3
	    }
	    Line {
	      Name		      "shifting"
	      Labels		      [0, 0]
	      SrcBlock		      "manual shift logic"
	      SrcPort		      2
	      DstBlock		      "Mux1"
	      DstPort		      2
	    }
	    Line {
	      Name		      "gear_ratio"
	      Labels		      [0, 0]
	      SrcBlock		      "manual shift logic"
	      SrcPort		      1
	      Points		      [50, 0]
	      DstBlock		      "Mux1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag1"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<acc_mech_trq_a>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector"
	      SrcPort		      1
	      DstBlock		      "Memory5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Memory5"
	      SrcPort		      1
	      DstBlock		      "manual shift logic"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "controlTag2"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<mpha>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector1"
	      SrcPort		      1
	      DstBlock		      "Memory2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag3"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<cycle_mph_r>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector2"
	      SrcPort		      1
	      DstBlock		      "Memory4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag4"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector3"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<veh_spd_a_rec>"
	      Labels		      [0, 0; 1, 0]
	      SrcBlock		      "Bus\nSelector3"
	      SrcPort		      1
	      DstBlock		      "Memory3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag5"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector4"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<slip_limited>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector4"
	      SrcPort		      1
	      DstBlock		      "manual shift logic"
	      DstPort		      9
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "automatic transmission\ngearbox and htc\nad"
"vanced lock-up logic for htc\nshift logic for gearbox"
	  Ports			  [2]
	  Position		  [335, 38, 375, 102]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "automatic transmission\ngearbox and htc\n"
"advanced lock-up logic for htc\nshift logic for gearbox"
	    Location		    [433, 403, 947, 719]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "56"
	    Block {
	      BlockType		      Inport
	      Name		      "gearbox\ncontrols"
	      Position		      [280, 368, 310, 382]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "htc\ncontrol"
	      Position		      [295, 513, 325, 527]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 2]
	      Position		      [340, 501, 345, 539]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "2"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux2"
	      Ports		      [1, 3]
	      Position		      [345, 293, 360, 457]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "3"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <gb>1"
	      Position		      [145, 160, 240, 180]
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_gb_out"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <gb>2"
	      Position		      [145, 101, 240, 119]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "eta_gb"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <gb>3"
	      Position		      [145, 190, 240, 210]
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "slip_limited"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From<gb>"
	      Position		      [145, 130, 240, 150]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_gb_out"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      Position		      [370, 483, 485, 507]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <gb>"
	      Position		      [340, 129, 415, 151]
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <gb>1"
	      Position		      [360, 160, 415, 180]
	      ShowName		      off
	      GotoTag		      "shifting"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <htc>"
	      Position		      [340, 192, 415, 208]
	      ShowName		      off
	      GotoTag		      "locked_up"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <htc>1"
	      Position		      [340, 99, 415, 121]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      GotoTag		      "gear_number"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      Position		      [530, 417, 619, 445]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_number"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      Position		      [490, 483, 579, 506]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [530, 307, 619, 335]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility3"
	      Position		      [530, 362, 619, 390]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      Position		      [490, 533, 579, 556]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "locked_up"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [420, 419, 520, 441]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_number"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      Position		      [420, 309, 520, 331]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto3"
	      Position		      [420, 364, 520, 386]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto4"
	      Position		      [370, 533, 485, 557]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "locked_up"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "gearbox control\nfor use w/ AT"
	      Ports		      [4, 4]
	      Position		      [260, 99, 295, 211]
	      ForegroundColor	      "orange"
	      FontName		      "Arial"
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"gearbox control\nfor use w/ AT"
		Location		[2, 76, 998, 725]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"72"
		Block {
		  BlockType		  Inport
		  Name			  "eta_gb"
		  Position		  [45, 85, 65, 105]
		  FontName		  "Arial"
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "gb_trq_out_r"
		  Position		  [45, 135, 65, 155]
		  FontName		  "Arial"
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "gb_spd_out_r"
		  Position		  [45, 180, 65, 200]
		  FontName		  "Arial"
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "tires are at\ntraction limit"
		  Position		  [45, 230, 65, 250]
		  FontName		  "Arial"
		  Port			  "4"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [920, 555, 976, 595]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [115, 373, 573, 580]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [217, 162]
		    Text		    "Lock-up of the HTC occurs when it"
" is supposed to for the current gear, AND\nthe transmission isn't shifting, A"
"ND\nthe lockup wouldn't precipitate an immediate downshift."
		    }
		    Annotation {
		    Position		    [227, 12]
		    VerticalAlignment	    "top"
		    Text		    "This gearbox control block comput"
"es the current gear number given the gearbox's\nreq'd output torque and speed"
" and an estimate its efficiency.  Upshifts occur, given a\ncertain engine spe"
"ed,  when the estimated engine load falls below the upshift curve\nin engine "
"speed/load space, and downshifts likewise occur when estimated engine\nload r"
"ises above the downshift curve.  Separate upshift and downshift curves are\nd"
"efined for each gear.  An upshift may not be immediately followed by a downsh"
"ift.\nIf the tires are about to slip, don't upshift unless the engine would b"
"e at max. speed.\nEnforce this rule by setting the load to 1 when the tires a"
"re about to slip."
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [405, 75, 425, 95]
		  Orientation		  "left"
		  ShowName		  off
		  Value			  "1"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant14"
		  Position		  [460, 818, 555, 832]
		  ForegroundColor	  "red"
		  Value			  "tx_speed_dep"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant15"
		  Position		  [390, 683, 485, 697]
		  ForegroundColor	  "red"
		  Value			  "tx_speed_dep"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [410, 480, 430, 500]
		  Orientation		  "left"
		  ShowName		  off
		  Value			  "1"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [730, 671, 735, 709]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  From
		  Name			  "From"
		  Position		  [560, 790, 685, 810]
		  NamePlacement		  "alternate"
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "spd_dep_gear_num"
		}
		Block {
		  BlockType		  From
		  Name			  "From <logic>2"
		  Position		  [40, 744, 145, 776]
		  ForegroundColor	  "red"
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "v_req_limited"
		}
		Block {
		  BlockType		  From
		  Name			  "From1"
		  Position		  [560, 850, 685, 870]
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "def_gear_num"
		}
		Block {
		  BlockType		  From
		  Name			  "From2"
		  Position		  [500, 710, 625, 730]
		  NamePlacement		  "alternate"
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "def_gear_ratio"
		}
		Block {
		  BlockType		  From
		  Name			  "From3"
		  Position		  [500, 735, 625, 755]
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "def_shifting"
		}
		Block {
		  BlockType		  From
		  Name			  "From4"
		  Position		  [500, 645, 625, 665]
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "spd_dep_muxed"
		}
		Block {
		  BlockType		  From
		  Name			  "From5"
		  Position		  [135, 430, 260, 450]
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "shifting_out"
		}
		Block {
		  BlockType		  From
		  Name			  "From6"
		  Position		  [100, 255, 195, 275]
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "gear_num_out"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  Position		  [555, 207, 580, 233]
		  FontName		  "Arial"
		  Gain			  "-1"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  Position		  [265, 735, 385, 755]
		  NamePlacement		  "alternate"
		  GotoTag		  "spd_dep_muxed"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto1"
		  Position		  [265, 759, 385, 781]
		  GotoTag		  "spd_dep_gear_num"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto2"
		  Position		  [760, 735, 880, 755]
		  GotoTag		  "shifting_out"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto3"
		  Position		  [890, 45, 1025, 65]
		  GotoTag		  "def_gear_num"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto4"
		  Position		  [900, 110, 1010, 130]
		  NamePlacement		  "alternate"
		  GotoTag		  "def_gear_ratio"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto5"
		  Position		  [910, 285, 1020, 305]
		  NamePlacement		  "alternate"
		  GotoTag		  "def_shifting"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto7"
		  Position		  [815, 875, 935, 895]
		  GotoTag		  "gear_num_out"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [4, 1]
		  Position		  [665, 422, 695, 468]
		  Operator		  "AND"
		  Inputs		  "4"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator1"
		  Ports			  [1, 1]
		  Position		  [295, 424, 325, 456]
		  ShowName		  off
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator2"
		  Ports			  [1, 1]
		  Position		  [530, 506, 560, 544]
		  ShowName		  off
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [600, 510, 630, 540]
		  ShowName		  off
		  X0			  "0"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [645, 707, 650, 758]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  Ports			  [2, 1]
		  Position		  [255, 112, 285, 143]
		  ShowName		  off
		  Inputs		  "*/"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product3"
		  Ports			  [2, 1]
		  Position		  [605, 203, 625, 227]
		  ShowName		  off
		  FontName		  "Arial"
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product4"
		  Ports			  [2, 1]
		  Position		  [255, 517, 285, 548]
		  ShowName		  off
		  Inputs		  "*/"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation1"
		  Position		  [780, 111, 800, 129]
		  FontName		  "Arial"
		  UpperLimit		  "gb_gears_num"
		  LowerLimit		  "1"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Speed Dependent Shifting"
		  Ports			  [1, 2]
		  Position		  [190, 732, 220, 783]
		  AncestorBlock		  "lib_controls/SubSystem/Speed Depend"
"ent Shifting"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "Speed Dependent Shifting"
		    Location		    [-16, 76, 971, 726]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "velocity\nrequired\n(limited)\n"
		    Position		    [25, 58, 55, 72]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up\nTable\n(gear for downshi"
"ft)"
		    Position		    [110, 375, 140, 405]
		    InputValues		    "tx_spd_dep_dnshift(:,1)   % vecto"
"r of speeds m/s"
		    OutputValues	    "tx_spd_dep_dnshift(:,2)  % gear n"
"umber--must be step function"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up\nTable\n(gear for upshift"
")"
		    Position		    [105, 50, 135, 80]
		    InputValues		    "tx_spd_dep_upshift(:,1)   % vecto"
"r of speeds in m/s"
		    OutputValues	    "tx_spd_dep_upshift(:,2)  % gear n"
"umber--must be step function"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [405, 102, 440, 138]
		    ForegroundColor	    "red"
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [450, 382, 485, 418]
		    ForegroundColor	    "red"
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "New gear ratio"
		    Position		    [725, 259, 810, 281]
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    VariableName	    "new_gear_ratio"
		    MaxDataPoints	    "50000"
		    Decimation		    "1"
		    SampleTime		    "0"
		    SaveFormat		    "Array"
		    }
		    Block {
		    BlockType		    Rounding
		    Name		    "Rounding\nFunction"
		    Position		    [190, 50, 220, 80]
		    Operator		    "round"
		    }
		    Block {
		    BlockType		    Rounding
		    Name		    "Rounding\nFunction1"
		    Position		    [195, 375, 225, 405]
		    Operator		    "round"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation4"
		    Position		    [280, 56, 300, 74]
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    UpperLimit		    "gb_gears_num"
		    LowerLimit		    "1"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation5"
		    Position		    [285, 381, 305, 399]
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    UpperLimit		    "gb_gears_num"
		    LowerLimit		    "1"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "delta\nspeed\n(\"+\" is accelerat"
"ion)"
		    Ports		    [2, 1]
		    Position		    [215, 240, 240, 300]
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio6"
		    Position		    [345, 53, 375, 77]
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    OutputValues	    "gb_ratio"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio8"
		    Position		    [380, 378, 410, 402]
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    OutputValues	    "gb_ratio"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "prev veh\nspeed"
		    Position		    [130, 245, 170, 265]
		    ForegroundColor	    "red"
		    NamePlacement	    "alternate"
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "shifting"
		    Ports		    [1, 1]
		    Position		    [380, 444, 410, 476]
		    AncestorBlock	    "lib_controls/SubSystem/shifting"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "shifting"
		    Location		    [178, 196, 468, 387]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "gear\nnumber"
		    Position		    [15, 50, 35, 70]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [20, 131, 120, 159]
		    FontName		    "Arial"
		    Value		    "gb_shift_delay-1e-6"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [185, 53, 215, 77]
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "time since last shift"
		    Ports		    [1, 1]
		    Position		    [65, 43, 125, 77]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('time since\\nlast shift')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "time since last shift"
		    Location		    [24, 388, 314, 527]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [10, 60, 30, 80]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just shifted"
		    Ports		    [1, 1]
		    Position		    [60, 57, 110, 83]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('just\\nshifted')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "just shifted"
		    Location		    [142, 212, 465, 357]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [55, 55, 75, 75]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [120, 55, 155, 75]
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [190, 58, 220, 82]
		    FontName		    "Arial"
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [250, 60, 270, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 30; 75, 0; 0, -20]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "timer"
		    Ports		    [1, 1]
		    Position		    [140, 55, 175, 85]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('timer')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "timer"
		    Location		    [455, 179, 859, 394]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "trigger"
		    Position		    [15, 125, 35, 145]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [100, 100, 120, 120]
		    FontName		    "Arial"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [100, 150, 120, 170]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [150, 5, 170, 25]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [265, 59, 295, 91]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "no-lag\nReset Integrator"
		    Ports		    [3, 1]
		    Position		    [155, 96, 205, 174]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "No-lag Reset Integrator"
		    MaskDescription	    "No-lag Reset Integrator"
		    MaskHelp		    "Integrates first input using Eule"
"r technique.\\nAt the time step that input 2 <> zero,\\noutput is reset to in"
"put 3."
		    MaskPromptString	    "Initial Value"
		    MaskStyleString	    "edit"
		    MaskTunableValueString  "on"
		    MaskEnableString	    "on"
		    MaskVisibilityString    "on"
		    MaskToolTipString	    "on"
		    MaskInitialization	    "initval=@1;"
		    MaskDisplay		    "disp('1/s\\nw/ reset\\nno lag')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "15"
		    System {
		    Name		    "no-lag\nReset Integrator"
		    Location		    [258, 616, 780, 880]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [60, 100, 80, 120]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    Position		    [60, 140, 80, 160]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_3"
		    Position		    [45, 185, 65, 205]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [125, 205, 145, 225]
		    Orientation		    "up"
		    NamePlacement	    "alternate"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [340, 55, 375, 75]
		    Orientation		    "left"
		    FontName		    "Arial"
		    X0			    "initval"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [160, 96, 180, 114]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [230, 90, 250, 110]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [290, 139, 320, 171]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    Ports		    [0, 1]
		    Position		    [112, 50, 138, 80]
		    Orientation		    "down"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "dt"
		    Location		    [80, 285, 429, 424]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [65, 60, 85, 80]
		    FontName		    "Arial"
		    FontSize		    8
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [125, 85, 160, 105]
		    FontName		    "Arial"
		    FontSize		    8
		    X0			    "-1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 65, 225, 85]
		    FontName		    "Arial"
		    FontSize		    8
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [255, 65, 275, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "in_2==0"
		    Position		    [160, 143, 190, 167]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [455, 145, 475, 165]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -40]
		    DstBlock		    "in_2==0"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_2==0"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [10, 0; 0, 45]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-130, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "dt"
		    SrcPort		    1
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "in_2==0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_3"
		    SrcPort		    1
		    Points		    [200, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "time"
		    Position		    [350, 65, 370, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    Points		    [35, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [35, 0; 0, 50]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "trigger"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -60]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "time"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [225, 60, 245, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "timer"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "just shifted"
		    SrcPort		    1
		    DstBlock		    "timer"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "just shifted"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [250, 55, 270, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "time since last shift"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [15, 0; 0, -75]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "time since last shift"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "shifting1"
		    Ports		    [1, 1]
		    Position		    [350, 114, 380, 146]
		    AncestorBlock	    "lib_controls/SubSystem/shifting"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "shifting1"
		    Location		    [178, 196, 468, 387]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "gear\nnumber"
		    Position		    [15, 50, 35, 70]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [20, 131, 120, 159]
		    FontName		    "Arial"
		    Value		    "gb_shift_delay-1e-6"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [185, 53, 215, 77]
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "time since last shift"
		    Ports		    [1, 1]
		    Position		    [65, 43, 125, 77]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('time since\\nlast shift')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "time since last shift"
		    Location		    [24, 388, 314, 527]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [10, 60, 30, 80]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just shifted"
		    Ports		    [1, 1]
		    Position		    [60, 57, 110, 83]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('just\\nshifted')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "just shifted"
		    Location		    [142, 212, 465, 357]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [55, 55, 75, 75]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [120, 55, 155, 75]
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [190, 58, 220, 82]
		    FontName		    "Arial"
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [250, 60, 270, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 30; 75, 0; 0, -20]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "timer"
		    Ports		    [1, 1]
		    Position		    [140, 55, 175, 85]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('timer')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "timer"
		    Location		    [455, 179, 859, 394]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "trigger"
		    Position		    [15, 125, 35, 145]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [100, 100, 120, 120]
		    FontName		    "Arial"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [100, 150, 120, 170]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [150, 5, 170, 25]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [265, 59, 295, 91]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "no-lag\nReset Integrator"
		    Ports		    [3, 1]
		    Position		    [155, 96, 205, 174]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "No-lag Reset Integrator"
		    MaskDescription	    "No-lag Reset Integrator"
		    MaskHelp		    "Integrates first input using Eule"
"r technique.\\nAt the time step that input 2 <> zero,\\noutput is reset to in"
"put 3."
		    MaskPromptString	    "Initial Value"
		    MaskStyleString	    "edit"
		    MaskTunableValueString  "on"
		    MaskEnableString	    "on"
		    MaskVisibilityString    "on"
		    MaskToolTipString	    "on"
		    MaskInitialization	    "initval=@1;"
		    MaskDisplay		    "disp('1/s\\nw/ reset\\nno lag')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "15"
		    System {
		    Name		    "no-lag\nReset Integrator"
		    Location		    [258, 616, 780, 880]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [60, 100, 80, 120]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    Position		    [60, 140, 80, 160]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_3"
		    Position		    [45, 185, 65, 205]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [125, 205, 145, 225]
		    Orientation		    "up"
		    NamePlacement	    "alternate"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [340, 55, 375, 75]
		    Orientation		    "left"
		    FontName		    "Arial"
		    X0			    "initval"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [160, 96, 180, 114]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [230, 90, 250, 110]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [290, 139, 320, 171]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    Ports		    [0, 1]
		    Position		    [112, 50, 138, 80]
		    Orientation		    "down"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "dt"
		    Location		    [80, 285, 429, 424]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [65, 60, 85, 80]
		    FontName		    "Arial"
		    FontSize		    8
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [125, 85, 160, 105]
		    FontName		    "Arial"
		    FontSize		    8
		    X0			    "-1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 65, 225, 85]
		    FontName		    "Arial"
		    FontSize		    8
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [255, 65, 275, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "in_2==0"
		    Position		    [160, 143, 190, 167]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [455, 145, 475, 165]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -40]
		    DstBlock		    "in_2==0"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_2==0"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [10, 0; 0, 45]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-130, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "dt"
		    SrcPort		    1
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "in_2==0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_3"
		    SrcPort		    1
		    Points		    [200, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "time"
		    Position		    [350, 65, 370, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    Points		    [35, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [35, 0; 0, 50]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "trigger"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -60]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "time"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [225, 60, 245, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "timer"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "just shifted"
		    SrcPort		    1
		    DstBlock		    "timer"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "just shifted"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [250, 55, 270, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "time since last shift"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [15, 0; 0, -75]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "time since last shift"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "switch for gear\nnumber"
		    Position		    [580, 160, 610, 190]
		    ForegroundColor	    "red"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "switch for gear ratio\nand shifti"
"ng (muxed)"
		    Position		    [580, 255, 610, 285]
		    ForegroundColor	    "red"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "total fuel used (gal)"
		    Position		    [370, 339, 450, 361]
		    ForegroundColor	    "red"
		    NamePlacement	    "alternate"
		    FontName		    "Arial"
		    VariableName	    "neg_gear_num"
		    MaxDataPoints	    "50000"
		    Decimation		    "1"
		    SampleTime		    "0"
		    SaveFormat		    "Array"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear ratio and shifting"
		    Position		    [650, 235, 680, 250]
		    Orientation		    "up"
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear number"
		    Position		    [665, 168, 695, 182]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Rounding\nFunction1"
		    SrcPort		    1
		    DstBlock		    "Saturation5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Look-Up\nTable\n(gear for downshi"
"ft)"
		    SrcPort		    1
		    DstBlock		    "Rounding\nFunction1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Rounding\nFunction"
		    SrcPort		    1
		    DstBlock		    "Saturation4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Look-Up\nTable\n(gear for upshift"
")"
		    SrcPort		    1
		    DstBlock		    "Rounding\nFunction"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "delta\nspeed\n(\"+\" is accelerat"
"ion)"
		    SrcPort		    1
		    Points		    [245, 0]
		    Branch {
		    DstBlock		    "switch for gear ratio\nand shifti"
"ng (muxed)"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -95]
		    DstBlock		    "switch for gear\nnumber"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "switch for gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "gear number"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "switch for gear ratio\nand shifti"
"ng (muxed)"
		    SrcPort		    1
		    Points		    [50, 0]
		    Branch {
		    DstBlock		    "gear ratio and shifting"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "New gear ratio"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Saturation4"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "gear ratio6"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    DstBlock		    "shifting1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "switch for gear\nnumber"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "shifting1"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gear ratio6"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation5"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "shifting"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "gear ratio8"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -40]
		    Branch {
		    DstBlock		    "total fuel used (gal)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -165]
		    DstBlock		    "switch for gear\nnumber"
		    DstPort		    3
		    }
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "gear ratio8"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "shifting"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    Points		    [0, 140]
		    DstBlock		    "switch for gear ratio\nand shifti"
"ng (muxed)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    Points		    [0, -120]
		    DstBlock		    "switch for gear ratio\nand shifti"
"ng (muxed)"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "prev veh\nspeed"
		    SrcPort		    1
		    DstBlock		    "delta\nspeed\n(\"+\" is accelerat"
"ion)"
		    DstPort		    1
		    }
		    Line {
		    Labels		    [0, 0]
		    SrcBlock		    "velocity\nrequired\n(limited)\n"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Look-Up\nTable\n(gear for upshift"
")"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 190]
		    Branch {
		    Points		    [0, 30]
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "Look-Up\nTable\n(gear for downshi"
"ft)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "delta\nspeed\n(\"+\" is accelerat"
"ion)"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "prev veh\nspeed"
		    DstPort		    1
		    }
		    }
		    }
		    Annotation {
		    Position		    [740, 326]
		    Text		    "storing shifting and gear ratio\n"
"information to workspace"
		    }
		    Annotation {
		    Position		    [361, 193]
		    Text		    "decel case"
		    }
		    Annotation {
		    Position		    [525, 155]
		    Text		    "accel case"
		    }
		    Annotation {
		    Position		    [468, 222]
		    Text		    "accel\ncase"
		    }
		    Annotation {
		    Position		    [510, 383]
		    Text		    "decel\ncase"
		    }
		    Annotation {
		    Position		    [285, 260]
		    Text		    "delta speed"
		    }
		    Annotation {
		    Position		    [709, 85]
		    Text		    "SPEED \nDEPENDENT \nSHIFT\nSIGNAL"
		    }
		  }
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [400, 105, 430, 135]
		  ShowName		  off
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [405, 510, 435, 540]
		  ShowName		  off
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  Position		  [705, 810, 735, 840]
		  Threshold		  "0.5"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch3"
		  Position		  [675, 675, 705, 705]
		  Threshold		  "0.5"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "allow downshift?"
		  Ports			  [1, 1]
		  Position		  [500, 12, 530, 48]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "allow downshift?"
		    Location		    [344, 273, 833, 488]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gearnum"
		    Position		    [35, 35, 55, 55]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [380, 43, 410, 67]
		    FontName		    "Arial"
		    Operator		    "NOR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [150, 60, 185, 80]
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [150, 105, 185, 125]
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [230, 38, 260, 62]
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    Position		    [230, 98, 260, 122]
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "allow shift"
		    Position		    [445, 45, 465, 65]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "allow shift"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev gearnum"
		    SrcPort		    1
		    Points		    [50, 0]
		    Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [15, 0; 0, -15]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 70; -60, 0]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "current\ngear\nnumber"
		  Ports			  [2, 1]
		  Position		  [725, 102, 745, 138]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Switch
		  Name			  "delta\ngear\nnumber"
		  Position		  [670, 114, 700, 146]
		  FontName		  "Arial"
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "downshift \ncommand"
		  Ports			  [3, 1]
		  Position		  [500, 198, 530, 242]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "downshift \ncommand"
		    Location		    [441, 362, 916, 657]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear number"
		    Position		    [45, 98, 75, 112]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine load"
		    Position		    [45, 38, 75, 52]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine speed"
		    Position		    [45, 133, 75, 147]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [130, 107, 165, 143]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [350, 38, 380, 62]
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "load fraction"
		    Ports		    [1, 1]
		    Position		    [240, 100, 270, 150]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "Gear Selector"
		    MaskDescription	    "This block will perform a linear "
"interplation (extrapolation outside of bounds) to determine the shift point l"
"oad fraction associated with the current gear number and speed. \n\nThe Speed"
"s parameter should be defined as an array of vectors containing speeds for ea"
"ch gear number.  The Load Fractions parameter should be defined as a array of"
" vectors containing load fractions indexed by the speeds in the Speeds parame"
"ter for each gear number."
		    MaskHelp		    "Reference the base workspace vari"
"ables - gb_**shift_spd and gb_**shift_load  where ** is either up for upshift"
" conditions or dn for downshift conditions.\n\nOr define the arrays as follow"
"s:\n\n{[spd1 spd2 spd3 spd4]; [spd1 spd2 spd3 spd4]; ...}\n\n{[load1 load2 lo"
"ad3 load4]; [load1 load2 load3 load4]; ...}\n\nwhere each array contains one "
"row for each gear in the gearbox.  Speeds should be defined in rad/s and load"
"s as a decimal fraction.\n\n"
		    MaskPromptString	    "Speeds:|Load Fractions:"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVariables	    "spd=@1;load=@2;"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "gb_dnshift_spd|gb_dnshift_load"
		    MaskVariableAliases	    ","
		    System {
		    Name		    "load fraction"
		    Location		    [464, 440, 704, 522]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 33, 55, 47]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-Function"
		    Ports		    [1, 1]
		    Position		    [80, 25, 160, 55]
		    FunctionName	    "sfun_gearbox"
		    Parameters		    "load, spd"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [185, 33, 215, 47]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "S-Function"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "command"
		    Position		    [420, 43, 450, 57]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "command"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine speed"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "prev gear number"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine load"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "load fraction"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "load fraction"
		    SrcPort		    1
		    Points		    [55, 0; 0, -70]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "downshift \ncommand1"
		  Ports			  [3, 1]
		  Position		  [480, 499, 510, 551]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "downshift \ncommand1"
		    Location		    [431, 372, 906, 667]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear number"
		    Position		    [45, 98, 75, 112]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine load"
		    Position		    [45, 38, 75, 52]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine speed"
		    Position		    [45, 133, 75, 147]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [130, 107, 165, 143]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [350, 38, 380, 62]
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "load fraction"
		    Ports		    [1, 1]
		    Position		    [240, 100, 270, 150]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "Gear Selector"
		    MaskDescription	    "This block will perform a linear "
"interplation (extrapolation outside of bounds) to determine the shift point l"
"oad fraction associated with the current gear number and speed. \n\nThe Speed"
"s parameter should be defined as an array of vectors containing speeds for ea"
"ch gear number.  The Load Fractions parameter should be defined as a array of"
" vectors containing load fractions indexed by the speeds in the Speeds parame"
"ter for each gear number."
		    MaskHelp		    "Reference the base workspace vari"
"ables - gb_**shift_spd and gb_**shift_load  where ** is either up for upshift"
" conditions or dn for downshift conditions.\n\nOr define the arrays as follow"
"s:\n\n{[spd1 spd2 spd3 spd4]; [spd1 spd2 spd3 spd4]; ...}\n\n{[load1 load2 lo"
"ad3 load4]; [load1 load2 load3 load4]; ...}\n\nwhere each array contains one "
"row for each gear in the gearbox.  Speeds should be defined in rad/s and load"
"s as a decimal fraction.\n\n"
		    MaskPromptString	    "Speeds:|Load Fractions:"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVariables	    "spd=@1;load=@2;"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "gb_dnshift_spd|gb_dnshift_load"
		    MaskVariableAliases	    ","
		    System {
		    Name		    "load fraction"
		    Location		    [464, 440, 704, 522]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 33, 55, 47]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-Function"
		    Ports		    [1, 1]
		    Position		    [80, 25, 160, 55]
		    FunctionName	    "sfun_gearbox"
		    Parameters		    "load, spd"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [185, 33, 215, 47]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-Function"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "command"
		    Position		    [420, 43, 450, 57]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "engine speed"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "load fraction"
		    SrcPort		    1
		    Points		    [55, 0; 0, -70]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "load fraction"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine load"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev gear number"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "command"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Lookup
		  Name			  "engine\ntorque\ncapability"
		  Position		  [200, 125, 230, 145]
		  FontName		  "Arial"
		  InputValues		  "fc_map_spd*fc_spd_scale"
		  OutputValues		  "fc_max_trq*fc_trq_scale+eps"
		}
		Block {
		  BlockType		  Lookup
		  Name			  "engine\ntorque\ncapability1"
		  Position		  [200, 530, 230, 550]
		  FontName		  "Arial"
		  InputValues		  "fc_map_spd*fc_spd_scale"
		  OutputValues		  "fc_max_trq*fc_trq_scale+eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "est. engine trq\nand\nspd"
		  Ports			  [4, 3]
		  Position		  [115, 84, 145, 116]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "est. engine trq\nand\nspd"
		    Location		    [2, 72, 1022, 721]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear\nnumber"
		    Position		    [20, 113, 50, 127]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    " prev eta_gb"
		    Position		    [20, 168, 50, 182]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_trq_out_r"
		    Position		    [20, 223, 50, 237]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_spd_out_r"
		    Position		    [20, 278, 50, 292]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [1095, 305, 1151, 345]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [231, 257, 689, 321]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [227, 12]
		    VerticalAlignment	    "top"
		    Text		    "Estimate engine torque and speed "
"associated with the previous gear, assuming that\nthe gearbox efficiency is c"
"onstant."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [760, 220, 780, 240]
		    Orientation		    "left"
		    Value		    "[1 1]"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant5"
		    Position		    [620, 70, 640, 90]
		    Orientation		    "left"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    Ports		    [1, 2]
		    Position		    [980, 172, 1015, 208]
		    Outputs		    "2"
		    BusSelectionMode	    off
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [310, 50, 405, 70]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "locked_up"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From5"
		    Position		    [165, 223, 275, 247]
		    BackgroundColor	    "gray"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_trq_est"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "K_adv"
		    Ports		    [1, 1]
		    Position		    [460, 145, 490, 175]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "K_adv"
		    Location		    [502, 588, 994, 833]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    Position		    [45, 58, 75, 72]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "K_adv=wout/(Tout)^0.5"
		    Position		    [160, 51, 280, 79]
		    FontName		    "Arial"
		    Expr		    "u[2]/u[1]^0.5"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [305, 50, 335, 80]
		    UpperLimit		    "max(htc_k_adv)"
		    LowerLimit		    "min(htc_k_adv)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    Position		    [105, 50, 135, 80]
		    ShowName		    off
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "K_adv"
		    Position		    [385, 58, 415, 72]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    SrcPort		    1
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "K_adv=wout/(Tout)^0.5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "K_adv=wout/(Tout)^0.5"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [685, 36, 715, 69]
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [510, 43, 540, 77]
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [445, 45, 475, 75]
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [805, 97, 840, 133]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [430, 142, 440, 178]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [615, 12, 645, 43]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "SR Look-Up\nTable\nSR=wout/win"
		    Position		    [535, 210, 565, 240]
		    InputValues		    "htc_k_adv"
		    OutputValues	    "htc_sr"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [85, 160, 115, 190]
		    UpperLimit		    "1"
		    LowerLimit		    "0.7"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    Position		    [1035, 185, 1065, 215]
		    UpperLimit		    "inf"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [755, 170, 785, 200]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    Position		    [535, 125, 565, 155]
		    InputValues		    "htc_k_adv"
		    OutputValues	    "htc_tr"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "TR,SR"
		    Ports		    [2, 1]
		    Position		    [695, 157, 730, 193]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "est eng\ntrq"
		    Ports		    [2, 1]
		    Position		    [295, 132, 315, 168]
		    ForegroundColor	    "magenta"
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio1"
		    Position		    [85, 108, 115, 132]
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    OutputValues	    "gb_ratio"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~eng trq\nand spd"
		    Ports		    [2, 1]
		    Position		    [870, 161, 900, 194]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_spd_in_r"
		    Ports		    [2, 1]
		    Position		    [170, 260, 200, 295]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_trq_in_r"
		    Ports		    [3, 1]
		    Position		    [170, 105, 200, 195]
		    Inputs		    "//*"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "est eng trq\n(Nm)"
		    Position		    [1105, 103, 1135, 117]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "est eng spd\n(rad/s)"
		    Position		    [1100, 193, 1130, 207]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gb_spd_in_est\n(rad/s)1"
		    Position		    [1100, 238, 1130, 252]
		    ForegroundColor	    "blue"
		    Port		    "3"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "est eng\ntrq"
		    SrcPort		    1
		    Points		    [65, 0]
		    Branch {
		    Points		    [0, -35; 190, 0]
		    Branch {
		    Points		    [200, 0; 0, -10]
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -95]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "~gb_trq_in_r"
		    SrcPort		    1
		    Points		    [70, 0; 0, -10]
		    DstBlock		    "est eng\ntrq"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "~gb_spd_in_r"
		    SrcPort		    1
		    Points		    [205, 0]
		    Branch {
		    Points		    [0, -110]
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [380, 0; 0, 5]
		    Branch {
		    Points		    [295, 0]
		    DstBlock		    "gb_spd_in_est\n(rad/s)1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "From5"
		    SrcPort		    1
		    DstBlock		    "est eng\ntrq"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    SrcPort		    1
		    Points		    [110, 0]
		    DstBlock		    "TR,SR"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SrcPort		    1
		    Points		    [110, 0]
		    DstBlock		    "TR,SR"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "K_adv"
		    SrcPort		    1
		    Points		    [15, 0; 0, -5]
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "~eng trq\nand spd"
		    SrcPort		    1
		    Points		    [60, 0]
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    Points		    [5, 0; 0, 55]
		    DstBlock		    "~eng trq\nand spd"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    Points		    [40, 0; 0, -70]
		    DstBlock		    "est eng trq\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "gear ratio1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant5"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "est eng spd\n(rad/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    " prev eta_gb"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "~eng trq\nand spd"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "TR,SR"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gear ratio1"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 150]
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "gb_spd_out_r"
		    SrcPort		    1
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gb_trq_out_r"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    3
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "est. engine trq\nand spd assuming\n"
"lockup"
		  Ports			  [4, 2]
		  Position		  [115, 489, 145, 521]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "est. engine trq\nand spd assuming"
"\nlockup"
		    Location		    [63, 123, 886, 793]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "new gear\nnumber"
		    Position		    [30, 28, 60, 42]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    " prev eta_gb"
		    Position		    [30, 83, 60, 97]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_trq_out_r"
		    Position		    [30, 138, 60, 152]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_spd_in_est"
		    Position		    [30, 218, 60, 232]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [625, 180, 681, 220]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [231, 257, 689, 321]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [227, 12]
		    VerticalAlignment	    "top"
		    Text		    "Estimate engine torque and speed "
"associated with the current gear, assuming that\nthe gearbox efficiency is co"
"nstant."
		    }
		    }
		    }
		    Block {
		    BlockType		    From
		    Name		    "From5"
		    Position		    [220, 73, 330, 97]
		    BackgroundColor	    "gray"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_trq_est"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [130, 180, 160, 210]
		    X0			    "gb_ratio(1)"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [95, 75, 125, 105]
		    UpperLimit		    "1"
		    LowerLimit		    "0.7"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    Position		    [580, 65, 610, 95]
		    UpperLimit		    "inf"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "est eng\ntrq"
		    Ports		    [2, 1]
		    Position		    [385, 57, 405, 93]
		    ForegroundColor	    "magenta"
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio1"
		    Position		    [95, 23, 125, 47]
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    OutputValues	    "gb_ratio"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_spd_in_r"
		    Ports		    [3, 1]
		    Position		    [180, 150, 210, 240]
		    Inputs		    "*/*"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_trq_in_r"
		    Ports		    [3, 1]
		    Position		    [180, 20, 210, 110]
		    Inputs		    "//*"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "est eng trq\n(Nm)"
		    Position		    [645, 18, 675, 32]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "est eng spd\n(rad/s)"
		    Position		    [645, 73, 675, 87]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "~gb_spd_in_r"
		    SrcPort		    1
		    Points		    [310, 0; 0, -110; 30, 0; 0, -5]
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "est eng\ntrq"
		    SrcPort		    1
		    Points		    [0, -50]
		    DstBlock		    "est eng trq\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "~gb_trq_in_r"
		    SrcPort		    1
		    DstBlock		    "est eng\ntrq"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From5"
		    SrcPort		    1
		    DstBlock		    "est eng\ntrq"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gb_spd_in_est"
		    SrcPort		    1
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "est eng spd\n(rad/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "new gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "gear ratio1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gb_trq_out_r"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "gear ratio1"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 130]
		    Branch {
		    Points		    [-35, 0]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    " prev eta_gb"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  Lookup
		  Name			  "gear ratio1"
		  Position		  [840, 108, 870, 132]
		  FontName		  "Arial"
		  InputValues		  "[1:length(gb_ratio)]"
		  OutputValues		  "gb_ratio"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "htc lockup logic"
		  Ports			  [2, 1]
		  Position		  [265, 297, 370, 353]
		  ForegroundColor	  "orange"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "htc lockup logic"
		    Location		    [2, 76, 1014, 741]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "engine load (%)"
		    Position		    [50, 388, 80, 402]
		    ForegroundColor	    "orange"
		    NamePlacement	    "alternate"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear num"
		    Position		    [90, 68, 120, 82]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [285, 110, 305, 130]
		    Orientation		    "left"
		    ShowName		    off
		    Value		    "0.5"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [350, 185, 370, 205]
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [560, 490, 580, 510]
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant4"
		    Position		    [500, 410, 520, 430]
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Value		    "-1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <gb>"
		    Position		    [25, 450, 120, 470]
		    ForegroundColor	    "orange"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gb_trq_out_a"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [555, 446, 590, 479]
		    ForegroundColor	    "orange"
		    ShowName		    off
		    FontName		    "Arial"
		    Operator		    "NOR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [745, 360, 780, 380]
		    Orientation		    "left"
		    ForegroundColor	    "orange"
		    ShowName		    off
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory2"
		    Position		    [145, 450, 180, 470]
		    ForegroundColor	    "orange"
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory3"
		    Position		    [110, 385, 145, 405]
		    ForegroundColor	    "orange"
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [280, 67, 310, 98]
		    ShowName		    off
		    Operator		    ">="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [290, 212, 320, 243]
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    Position		    [400, 387, 430, 418]
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator3"
		    Position		    [400, 497, 430, 528]
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [815, 440, 845, 470]
		    ForegroundColor	    "orange"
		    ShowName		    off
		    FontName		    "Arial"
		    UpperLimit		    "1"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [540, 60, 570, 110]
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [430, 205, 460, 255]
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch2"
		    Position		    [640, 440, 670, 490]
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch3"
		    Position		    [560, 380, 590, 430]
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "current lock/unlock \nstatus"
		    Ports		    [2, 1]
		    Position		    [765, 437, 785, 473]
		    ForegroundColor	    "orange"
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "lock-up in\nhigh gears"
		    Position		    [190, 63, 220, 87]
		    FontName		    "Arial"
		    InputValues		    "[1:length(htc_lockup)]"
		    OutputValues	    "htc_lockup"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "lock-up in\nthis gear"
		    Position		    [270, 383, 300, 407]
		    ForegroundColor	    "orange"
		    FontName		    "Arial"
		    InputValues		    "htc_lockup_load"
		    OutputValues	    "htc_lockup_spd"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "lock/unlock \ngear range"
		    Position		    [190, 223, 220, 247]
		    ForegroundColor	    "orange"
		    FontName		    "Arial"
		    InputValues		    "[1:length(htc_lockup)]"
		    OutputValues	    "htc_lu_gear_range"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "unlock in\nthis gear"
		    Position		    [270, 508, 300, 532]
		    ForegroundColor	    "orange"
		    FontName		    "Arial"
		    InputValues		    "htc_lockup_load"
		    OutputValues	    "htc_unlock_spd"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "htc L/UL"
		    Position		    [705, 78, 735, 92]
		    ForegroundColor	    "orange"
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [-15, 0]
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 100]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "gear num"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "lock-up in\nhigh gears"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 160]
		    DstBlock		    "lock/unlock \ngear range"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "lock-up in\nhigh gears"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [175, 0]
		    Branch {
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [55, 0]
		    Branch {
		    DstBlock		    "htc L/UL"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 90; 165, 0]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "lock/unlock \ngear range"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "lock-up in\nthis gear"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "unlock in\nthis gear"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    Points		    [25, 0; 0, -130]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [20, 0; 0, -185; -455, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 50]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Switch3"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "Switch3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator3"
		    SrcPort		    1
		    Points		    [15, 0; 0, -45]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "Switch2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [35, 0; 0, -20]
		    DstBlock		    "Switch2"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Switch3"
		    SrcPort		    1
		    Points		    [15, 0; 0, 45]
		    DstBlock		    "Switch2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant4"
		    SrcPort		    1
		    DstBlock		    "Switch3"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "current lock/unlock \nstatus"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [-20, 0; 0, 75]
		    DstBlock		    "current lock/unlock \nstatus"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch2"
		    SrcPort		    1
		    DstBlock		    "current lock/unlock \nstatus"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory2"
		    SrcPort		    1
		    Points		    [175, 0]
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "Relational\nOperator3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory3"
		    SrcPort		    1
		    Points		    [70, 0]
		    Branch {
		    DstBlock		    "lock-up in\nthis gear"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 125]
		    DstBlock		    "unlock in\nthis gear"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "engine load (%)"
		    SrcPort		    1
		    DstBlock		    "Memory3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <gb>"
		    SrcPort		    1
		    DstBlock		    "Memory2"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Saturate
		  Name			  "load=T/\n(maxT\nat spd)"
		  Position		  [310, 116, 345, 144]
		  FontName		  "Arial"
		  UpperLimit		  "1"
		  LowerLimit		  "-1"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "load=T/\n(maxT\nat spd)1"
		  Position		  [310, 521, 345, 549]
		  FontName		  "Arial"
		  UpperLimit		  "1"
		  LowerLimit		  "-1"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Memory
		  Name			  "prev gear\nnumber"
		  Position		  [745, 45, 785, 65]
		  Orientation		  "left"
		  FontName		  "Arial"
		  X0			  "gb_num_init"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "shifting1"
		  Ports			  [1, 1]
		  Position		  [845, 279, 875, 311]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "shifting1"
		    Location		    [76, 244, 366, 435]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "gear\nnumber"
		    Position		    [15, 50, 35, 70]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [20, 131, 120, 159]
		    FontName		    "Arial"
		    Value		    "gb_shift_delay-1e-6"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [185, 53, 215, 77]
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "time since last shift"
		    Ports		    [1, 1]
		    Position		    [65, 43, 125, 77]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('time since\\nlast shift')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "time since last shift"
		    Location		    [47, 595, 337, 734]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [10, 60, 30, 80]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just shifted"
		    Ports		    [1, 1]
		    Position		    [60, 57, 110, 83]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('just\\nshifted')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "just shifted"
		    Location		    [48, 850, 371, 995]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [55, 55, 75, 75]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [120, 55, 155, 75]
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [190, 58, 220, 82]
		    FontName		    "Arial"
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [250, 60, 270, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 30; 75, 0; 0, -20]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "timer"
		    Ports		    [1, 1]
		    Position		    [140, 55, 175, 85]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('timer')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "timer"
		    Location		    [389, 635, 793, 850]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "trigger"
		    Position		    [15, 125, 35, 145]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [100, 100, 120, 120]
		    FontName		    "Arial"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [100, 150, 120, 170]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [150, 5, 170, 25]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [265, 59, 295, 91]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "no-lag\nReset Integrator"
		    Ports		    [3, 1]
		    Position		    [155, 96, 205, 174]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "No-lag Reset Integrator"
		    MaskDescription	    "No-lag Reset Integrator"
		    MaskHelp		    "Integrates first input using Eule"
"r technique.\\nAt the time step that input 2 <> zero,\\noutput is reset to in"
"put 3."
		    MaskPromptString	    "Initial Value"
		    MaskStyleString	    "edit"
		    MaskTunableValueString  "on"
		    MaskEnableString	    "on"
		    MaskVisibilityString    "on"
		    MaskToolTipString	    "on"
		    MaskInitialization	    "initval=@1;"
		    MaskDisplay		    "disp('1/s\\nw/ reset\\nno lag')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "15"
		    System {
		    Name		    "no-lag\nReset Integrator"
		    Location		    [258, 616, 780, 880]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [60, 100, 80, 120]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    Position		    [60, 140, 80, 160]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_3"
		    Position		    [45, 185, 65, 205]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [125, 205, 145, 225]
		    Orientation		    "up"
		    NamePlacement	    "alternate"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [340, 55, 375, 75]
		    Orientation		    "left"
		    FontName		    "Arial"
		    X0			    "initval"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [160, 96, 180, 114]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [230, 90, 250, 110]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [290, 139, 320, 171]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    Ports		    [0, 1]
		    Position		    [112, 50, 138, 80]
		    Orientation		    "down"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "dt"
		    Location		    [80, 285, 429, 424]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [65, 60, 85, 80]
		    FontName		    "Arial"
		    FontSize		    8
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [125, 85, 160, 105]
		    FontName		    "Arial"
		    FontSize		    8
		    X0			    "-1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 65, 225, 85]
		    FontName		    "Arial"
		    FontSize		    8
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [255, 65, 275, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "in_2==0"
		    Position		    [160, 143, 190, 167]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [455, 145, 475, 165]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "in_3"
		    SrcPort		    1
		    Points		    [200, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "in_2==0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "dt"
		    SrcPort		    1
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-130, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [10, 0; 0, 45]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "in_2==0"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -40]
		    DstBlock		    "in_2==0"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "time"
		    Position		    [350, 65, 370, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "time"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "trigger"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, -60]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [35, 0; 0, 50]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    Points		    [35, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [225, 60, 245, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "just shifted"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "just shifted"
		    SrcPort		    1
		    DstBlock		    "timer"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "timer"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [250, 55, 270, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "time since last shift"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [15, 0; 0, -75]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "time since last shift"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "upshift\n command"
		  Ports			  [3, 1]
		  Position		  [500, 101, 530, 139]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "upshift\n command"
		    Location		    [431, 171, 906, 466]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear number"
		    Position		    [45, 103, 75, 117]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine load"
		    Position		    [45, 38, 75, 52]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine speed"
		    Position		    [45, 133, 75, 147]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [130, 107, 165, 143]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [350, 38, 380, 62]
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "load fraction"
		    Ports		    [1, 1]
		    Position		    [245, 100, 275, 150]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "Gear Selector"
		    MaskDescription	    "This block will perform a linear "
"interplation (extrapolation outside of bounds) to determine the shift point l"
"oad fraction associated with the current gear number and speed. \n\nThe Speed"
"s parameter should be defined as an array of vectors containing speeds for ea"
"ch gear number.  The Load Fractions parameter should be defined as a array of"
" vectors containing load fractions indexed by the speeds in the Speeds parame"
"ter for each gear number."
		    MaskHelp		    "Reference the base workspace vari"
"ables - gb_**shift_spd and gb_**shift_load  where ** is either up for upshift"
" conditions or dn for downshift conditions.\n\nOr define the arrays as follow"
"s:\n\n{[spd1 spd2 spd3 spd4]; [spd1 spd2 spd3 spd4]; ...}\n\n{[load1 load2 lo"
"ad3 load4]; [load1 load2 load3 load4]; ...}\n\nwhere each array contains one "
"row for each gear in the gearbox.  Speeds should be defined in rad/s and load"
"s as a decimal fraction.\n\n"
		    MaskPromptString	    "Speeds:|Load Fractions:"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVariables	    "spd=@1;load=@2;"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "gb_upshift_spd|gb_upshift_load"
		    MaskVariableAliases	    ","
		    System {
		    Name		    "load fraction"
		    Location		    [289, 440, 529, 522]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 33, 55, 47]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-Function"
		    Ports		    [1, 1]
		    Position		    [80, 25, 160, 55]
		    FunctionName	    "sfun_gearbox"
		    Parameters		    "load, spd"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [185, 33, 215, 47]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "S-Function"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "command"
		    Position		    [420, 43, 450, 57]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "command"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine speed"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "load fraction"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev gear number"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine load"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "load fraction"
		    SrcPort		    1
		    Points		    [50, 0; 0, -70]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear number, out"
		  Position		  [800, 815, 820, 835]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear ratio, out"
		  Position		  [800, 655, 820, 675]
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "shifting, out"
		  Position		  [800, 700, 820, 720]
		  FontName		  "Arial"
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "locked up"
		  Position		  [835, 435, 855, 455]
		  FontName		  "Arial"
		  Port			  "4"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [45, 0]
		  DstBlock		  "gear ratio, out"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From6"
		  SrcPort		  1
		  Points		  [5, 0; 0, 35; -55, 0]
		  Branch {
		    Points		    [-50, 0]
		    DstBlock		    "est. engine trq\nand spd assuming"
"\nlockup"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 40]
		    DstBlock		    "htc lockup logic"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "From5"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "shifting1"
		  SrcPort		  1
		  DstBlock		  "Goto5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 60]
		    DstBlock		    "Goto7"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "gear number, out"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Goto2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [40, 0]
		    DstBlock		    "shifting, out"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Speed Dependent Shifting"
		  SrcPort		  2
		  DstBlock		  "Goto1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Speed Dependent Shifting"
		  SrcPort		  1
		  DstBlock		  "Goto"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From <logic>2"
		  SrcPort		  1
		  DstBlock		  "Speed Dependent Shifting"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From1"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "From"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant14"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Switch3"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From3"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From2"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  "Switch3"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "From4"
		  SrcPort		  1
		  Points		  [30, 0]
		  DstBlock		  "Switch3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant15"
		  SrcPort		  1
		  DstBlock		  "Switch3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "prev gear\nnumber"
		  SrcPort		  1
		  Points		  [-100, 0]
		  Branch {
		    Points		    [-175, 0]
		    Branch {
		    Points		    [-370, 0; 0, 30]
		    DstBlock		    "est. engine trq\nand\nspd"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25; 0, 0]
		    Branch {
		    DstBlock		    "allow downshift?"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 0; 0, 50]
		    Branch {
		    Points		    [0, 105; 0, 0]
		    Branch {
		    DstBlock		    "downshift \ncommand1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "downshift \ncommand"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "upshift\n command"
		    DstPort		    1
		    }
		    }
		    }
		  }
		  Branch {
		    Points		    [0, 55]
		    DstBlock		    "current\ngear\nnumber"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "current\ngear\nnumber"
		  SrcPort		  1
		  DstBlock		  "Saturation1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "delta\ngear\nnumber"
		  SrcPort		  1
		  DstBlock		  "current\ngear\nnumber"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "gear ratio1"
		  SrcPort		  1
		  DstBlock		  "Goto4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "downshift \ncommand1"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "load=T/\n(maxT\nat spd)1"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  Points		  [10, 0; 0, -65]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "downshift \ncommand1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  DstBlock		  "locked up"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Product3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "upshift\n command"
		  SrcPort		  1
		  Points		  [105, 0]
		  Branch {
		    DstBlock		    "delta\ngear\nnumber"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 10]
		    DstBlock		    "delta\ngear\nnumber"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "upshift\n command"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 100]
		    Branch {
		    DstBlock		    "downshift \ncommand"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 55; -205, 0]
		    DstBlock		    "htc lockup logic"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Logical\nOperator2"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -75]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "est. engine trq\nand spd assuming\n"
"lockup"
		  SrcPort		  2
		  Points		  [35, 0; 0, 25]
		  Branch {
		    Points		    [0, 55; 260, 0; 0, -55]
		    DstBlock		    "downshift \ncommand1"
		    DstPort		    3
		  }
		  Branch {
		    DstBlock		    "engine\ntorque\ncapability1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "est. engine trq\nand\nspd"
		  SrcPort		  3
		  Points		  [0, 115; -55, 0; 0, 295]
		  DstBlock		  "est. engine trq\nand spd assuming\n"
"lockup"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "tires are at\ntraction limit"
		  SrcPort		  1
		  Points		  [315, 0]
		  Branch {
		    DstBlock		    "Switch"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 285]
		    DstBlock		    "Switch1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "gb_trq_out_r"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    Points		    [0, 365]
		    DstBlock		    "est. engine trq\nand spd assuming"
"\nlockup"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, -40]
		    DstBlock		    "est. engine trq\nand\nspd"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "eta_gb"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 405]
		    DstBlock		    "est. engine trq\nand spd assuming"
"\nlockup"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "est. engine trq\nand\nspd"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "est. engine trq\nand spd assuming\n"
"lockup"
		  SrcPort		  1
		  Points		  [90, 0]
		  DstBlock		  "Product4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "engine\ntorque\ncapability1"
		  SrcPort		  1
		  DstBlock		  "Product4"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product4"
		  SrcPort		  1
		  DstBlock		  "load=T/\n(maxT\nat spd)1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  Points		  [-15, 0]
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "htc lockup logic"
		  SrcPort		  1
		  Points		  [195, 0; 0, 105]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Logical\nOperator1"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "downshift \ncommand"
		  SrcPort		  1
		  DstBlock		  "Gain1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "load=T/\n(maxT\nat spd)"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "est. engine trq\nand\nspd"
		  SrcPort		  1
		  Points		  [90, 0]
		  DstBlock		  "Product2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "engine\ntorque\ncapability"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product3"
		  SrcPort		  1
		  Points		  [10, 0; 0, -75]
		  DstBlock		  "delta\ngear\nnumber"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "allow downshift?"
		  SrcPort		  1
		  Points		  [50, 0; 0, 180]
		  DstBlock		  "Product3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  DstBlock		  "load=T/\n(maxT\nat spd)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [-20, 0; 0, 25]
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Saturation1"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 175]
		    DstBlock		    "shifting1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, -65]
		    Branch {
		    DstBlock		    "Goto3"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "prev gear\nnumber"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "gear ratio1"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "gb_spd_out_r"
		  SrcPort		  1
		  Points		  [30, 0]
		  DstBlock		  "est. engine trq\nand\nspd"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "est. engine trq\nand\nspd"
		  SrcPort		  2
		  Points		  [35, 0; 0, 35]
		  Branch {
		    DstBlock		    "engine\ntorque\ncapability"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 65; 260, 0]
		    Branch {
		    Points		    [0, -70]
		    DstBlock		    "upshift\n command"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, 50; 40, 0]
		    DstBlock		    "downshift \ncommand"
		    DstPort		    3
		    }
		  }
		}
		Annotation {
		  Position		  [910, 795]
		  Text			  "output changes depending\nupon whet"
"her speed\ndependent shifting is used"
		}
		Annotation {
		  Position		  [549, 632]
		  Text			  "gear ratio and shifting pre-muxed"
		}
		Annotation {
		  Position		  [962, 202]
		  Text			  "local GOTO blocks:"
		}
		Annotation {
		  Position		  [962, 149]
		  Text			  "default gear ratio\ncalculation"
		}
		Annotation {
		  Position		  [968, 326]
		  Text			  "default shifting\ncalculation"
		}
		Annotation {
		  Position		  [964, 24]
		  Text			  "default gear number\ncalculation"
		}
	      }
	    }
	    Line {
	      SrcBlock		      "gearbox control\nfor use w/ AT"
	      SrcPort		      3
	      DstBlock		      "Goto <gb>1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <gb>1"
	      SrcPort		      1
	      DstBlock		      "gearbox control\nfor use w/ AT"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "From<gb>"
	      SrcPort		      1
	      DstBlock		      "gearbox control\nfor use w/ AT"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From <gb>3"
	      SrcPort		      1
	      DstBlock		      "gearbox control\nfor use w/ AT"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "From <gb>2"
	      SrcPort		      1
	      DstBlock		      "gearbox control\nfor use w/ AT"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "gearbox control\nfor use w/ AT"
	      SrcPort		      1
	      DstBlock		      "Goto <htc>1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "gearbox control\nfor use w/ AT"
	      SrcPort		      2
	      DstBlock		      "Goto <gb>"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "gearbox control\nfor use w/ AT"
	      SrcPort		      4
	      DstBlock		      "Goto <htc>"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "gearbox\ncontrols"
	      SrcPort		      1
	      DstBlock		      "Demux2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      1
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      2
	      DstBlock		      "Goto3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      3
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "htc\ncontrol"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      Points		      [0, -15]
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      Points		      [5, 0]
	      DstBlock		      "Goto4"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "automatic transmission\ngearbox and htc\nst"
"andard lockup logic for htc\nshift logic for gearbox"
	  Ports			  [3]
	  Position		  [335, 160, 375, 220]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "automatic transmission\ngearbox and htc\n"
"standard lockup logic for htc\nshift logic for gearbox"
	    Location		    [517, 241, 853, 443]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "33"
	    Block {
	      BlockType		      Inport
	      Name		      "eta_gb(t-1)"
	      Position		      [50, 274, 90, 316]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "T_gb_out (request)(t)"
	      Position		      [50, 344, 90, 386]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "w_gb_out (request)(t)"
	      Position		      [50, 409, 90, 451]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [3, 1]
	      Position		      [630, 283, 640, 427]
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator1"
	      Ports		      [2, 1]
	      Position		      [630, 465, 640, 565]
	      ShowName		      off
	      Inputs		      "2"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <gb>1"
	      Position		      [175, 175, 270, 195]
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_gb_out"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <gb>2"
	      Position		      [175, 116, 270, 134]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "eta_gb_last"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <gb>3"
	      Position		      [175, 205, 270, 225]
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "slip_limited"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <gb>4"
	      Position		      [450, 345, 545, 365]
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "shifting"
	      Port {
		PortNumber		1
		Name			"shifting"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <gb>5"
	      Position		      [450, 391, 545, 409]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gear_number"
	      Port {
		PortNumber		1
		Name			"gear_number"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <gb>6"
	      Position		      [450, 480, 545, 500]
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "shifting"
	      Port {
		PortNumber		1
		Name			"shifting"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <gb>7"
	      Position		      [450, 530, 545, 550]
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "locked_up"
	      Port {
		PortNumber		1
		Name			"locked_up"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From<gb>"
	      Position		      [175, 145, 270, 165]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_gb_out"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From<gb>1"
	      Position		      [450, 300, 545, 320]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gear_ratio"
	      Port {
		PortNumber		1
		Name			"gear_ratio"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <gb>"
	      Position		      [370, 144, 445, 166]
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <gb>1"
	      Position		      [390, 175, 445, 195]
	      ShowName		      off
	      GotoTag		      "shifting"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <gb>2"
	      Position		      [180, 354, 285, 376]
	      ShowName		      off
	      GotoTag		      "T_gb_out"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <gb>3"
	      Position		      [180, 418, 285, 442]
	      ShowName		      off
	      GotoTag		      "w_gb_out"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <htc>"
	      Position		      [370, 207, 445, 223]
	      ShowName		      off
	      GotoTag		      "locked_up"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <htc>1"
	      Position		      [370, 114, 445, 136]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      GotoTag		      "gear_number"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <htc>2"
	      Position		      [180, 489, 285, 511]
	      ShowName		      off
	      GotoTag		      "slip_limited"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <htc>3"
	      Position		      [180, 284, 285, 306]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      GotoTag		      "eta_gb_last"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <htc>4"
	      Position		      [180, 549, 285, 571]
	      ShowName		      off
	      GotoTag		      "acc_mech_trq_est"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <htc>5"
	      Position		      [180, 579, 285, 601]
	      ShowName		      off
	      GotoTag		      "locked_up_last"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      Position		      [295, 547, 399, 571]
	      ShowName		      off
	      GotoTag		      "acc_mech_trq_est"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      Position		      [295, 577, 399, 601]
	      ShowName		      off
	      GotoTag		      "locked_up_last"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "gearbox control\nfor use w/ AT"
	      Ports		      [4, 4]
	      Position		      [290, 114, 325, 226]
	      FontName		      "Arial"
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"gearbox control\nfor use w/ AT"
		Location		[344, 74, 1167, 963]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"72"
		Block {
		  BlockType		  Inport
		  Name			  "eta_gb"
		  Position		  [45, 85, 65, 105]
		  ForegroundColor	  "magenta"
		  FontName		  "Arial"
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "gb_trq_out_r"
		  Position		  [45, 135, 65, 155]
		  FontName		  "Arial"
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "gb_spd_out_r"
		  Position		  [45, 180, 65, 200]
		  FontName		  "Arial"
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "tires are at\ntraction limit"
		  Position		  [45, 230, 65, 250]
		  FontName		  "Arial"
		  Port			  "4"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [920, 555, 976, 595]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [430, 234, 888, 441]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [227, 12]
		    VerticalAlignment	    "top"
		    Text		    "This gearbox control block comput"
"es the current gear number given the gearbox's\nreq'd output torque and speed"
" and an estimate its efficiency.  Upshifts occur, given a\ncertain engine spe"
"ed,  when the estimated engine load falls below the upshift curve\nin engine "
"speed/load space, and downshifts likewise occur when estimated engine\nload r"
"ises above the downshift curve.  Separate upshift and downshift curves are\nd"
"efined for each gear.  An upshift may not be immediately followed by a downsh"
"ift.\nIf the tires are about to slip, don't upshift unless the engine would b"
"e at max. speed.\nEnforce this rule by setting the load to 1 when the tires a"
"re about to slip."
		    }
		    Annotation {
		    Position		    [217, 162]
		    Text		    "Lock-up of the HTC occurs when it"
" is supposed to for the current gear, AND\nthe transmission isn't shifting, A"
"ND\nthe lockup wouldn't precipitate an immediate downshift."
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [385, 65, 405, 85]
		  Orientation		  "left"
		  Value			  "1"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [225, 375, 245, 395]
		  Orientation		  "left"
		  Value			  "0.5"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant14"
		  Position		  [460, 818, 555, 832]
		  ForegroundColor	  "red"
		  Value			  "tx_speed_dep"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant15"
		  Position		  [390, 683, 485, 697]
		  ForegroundColor	  "red"
		  Value			  "tx_speed_dep"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [385, 470, 405, 490]
		  Orientation		  "left"
		  Value			  "1"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [730, 671, 735, 709]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  From
		  Name			  "From"
		  Position		  [560, 790, 685, 810]
		  NamePlacement		  "alternate"
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "spd_dep_gear_num"
		}
		Block {
		  BlockType		  From
		  Name			  "From <logic>2"
		  Position		  [40, 744, 145, 776]
		  ForegroundColor	  "red"
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "v_req_limited"
		}
		Block {
		  BlockType		  From
		  Name			  "From1"
		  Position		  [560, 850, 685, 870]
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "def_gear_num"
		}
		Block {
		  BlockType		  From
		  Name			  "From2"
		  Position		  [500, 710, 625, 730]
		  NamePlacement		  "alternate"
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "def_gear_ratio"
		}
		Block {
		  BlockType		  From
		  Name			  "From3"
		  Position		  [500, 735, 625, 755]
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "def_shifting"
		}
		Block {
		  BlockType		  From
		  Name			  "From4"
		  Position		  [500, 645, 625, 665]
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "spd_dep_muxed"
		}
		Block {
		  BlockType		  From
		  Name			  "From5"
		  Position		  [135, 425, 260, 445]
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "shifting_out"
		}
		Block {
		  BlockType		  From
		  Name			  "From6"
		  Position		  [100, 255, 195, 275]
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "gear_num_out"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  Position		  [535, 207, 560, 233]
		  FontName		  "Arial"
		  Gain			  "-1"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  Position		  [265, 735, 385, 755]
		  NamePlacement		  "alternate"
		  GotoTag		  "spd_dep_muxed"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto1"
		  Position		  [265, 759, 385, 781]
		  GotoTag		  "spd_dep_gear_num"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto2"
		  Position		  [760, 735, 880, 755]
		  GotoTag		  "shifting_out"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto3"
		  Position		  [890, 45, 1025, 65]
		  GotoTag		  "def_gear_num"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto4"
		  Position		  [900, 110, 1010, 130]
		  NamePlacement		  "alternate"
		  GotoTag		  "def_gear_ratio"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto5"
		  Position		  [910, 285, 1020, 305]
		  NamePlacement		  "alternate"
		  GotoTag		  "def_shifting"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto7"
		  Position		  [815, 875, 935, 895]
		  GotoTag		  "gear_num_out"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [4, 1]
		  Position		  [665, 402, 695, 448]
		  Operator		  "AND"
		  Inputs		  "4"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator1"
		  Ports			  [1, 1]
		  Position		  [310, 419, 340, 451]
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator2"
		  Ports			  [1, 1]
		  Position		  [530, 506, 560, 544]
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [600, 510, 630, 540]
		  X0			  "0"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [645, 707, 650, 758]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  Ports			  [2, 1]
		  Position		  [255, 112, 285, 143]
		  Inputs		  "*/"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product3"
		  Ports			  [2, 1]
		  Position		  [595, 203, 615, 227]
		  FontName		  "Arial"
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product4"
		  Ports			  [2, 1]
		  Position		  [255, 517, 285, 548]
		  Inputs		  "*/"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator"
		  Position		  [220, 317, 250, 348]
		  Operator		  ">"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation1"
		  Position		  [780, 111, 800, 129]
		  FontName		  "Arial"
		  UpperLimit		  "gb_gears_num"
		  LowerLimit		  "1"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Reference
		  Name			  "Speed Dependent Shifting"
		  Ports			  [1, 2]
		  Position		  [190, 732, 220, 783]
		  SourceBlock		  "lib_controls/SubSystem/Speed Depend"
"ent Shifting"
		  SourceType		  "SubSystem"
		  ShowPortLabels	  "off"
		  TreatAsAtomicUnit	  "off"
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [380, 105, 410, 135]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [380, 510, 410, 540]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  Position		  [705, 810, 735, 840]
		  Threshold		  "0.5"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch3"
		  Position		  [675, 675, 705, 705]
		  Threshold		  "0.5"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "allow downshift?"
		  Ports			  [1, 1]
		  Position		  [475, 32, 505, 68]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "allow downshift?"
		    Location		    [344, 273, 833, 488]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gearnum"
		    Position		    [35, 35, 55, 55]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [380, 43, 410, 67]
		    FontName		    "Arial"
		    Operator		    "NOR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [150, 60, 185, 80]
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [150, 105, 185, 125]
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [230, 38, 260, 62]
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    Position		    [230, 98, 260, 122]
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "allow shift"
		    Position		    [445, 45, 465, 65]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, 70; -60, 0]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [15, 0; 0, -15]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev gearnum"
		    SrcPort		    1
		    Points		    [50, 0]
		    Branch {
		    Points		    [0, 25]
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "allow shift"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "current\ngear\nnumber"
		  Ports			  [2, 1]
		  Position		  [725, 102, 745, 138]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Switch
		  Name			  "delta\ngear\nnumber"
		  Position		  [655, 114, 685, 146]
		  FontName		  "Arial"
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "downshift \ncommand"
		  Ports			  [3, 1]
		  Position		  [475, 194, 505, 246]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "downshift \ncommand"
		    Location		    [441, 362, 916, 657]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear number"
		    Position		    [45, 98, 75, 112]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine load"
		    Position		    [45, 38, 75, 52]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine speed"
		    Position		    [45, 133, 75, 147]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [130, 107, 165, 143]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [350, 38, 380, 62]
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "load fraction"
		    Ports		    [1, 1]
		    Position		    [240, 100, 270, 150]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "Gear Selector"
		    MaskDescription	    "This block will perform a linear "
"interplation (extrapolation outside of bounds) to determine the shift point l"
"oad fraction associated with the current gear number and speed. \n\nThe Speed"
"s parameter should be defined as an array of vectors containing speeds for ea"
"ch gear number.  The Load Fractions parameter should be defined as a array of"
" vectors containing load fractions indexed by the speeds in the Speeds parame"
"ter for each gear number."
		    MaskHelp		    "Reference the base workspace vari"
"ables - gb_**shift_spd and gb_**shift_load  where ** is either up for upshift"
" conditions or dn for downshift conditions.\n\nOr define the arrays as follow"
"s:\n\n{[spd1 spd2 spd3 spd4]; [spd1 spd2 spd3 spd4]; ...}\n\n{[load1 load2 lo"
"ad3 load4]; [load1 load2 load3 load4]; ...}\n\nwhere each array contains one "
"row for each gear in the gearbox.  Speeds should be defined in rad/s and load"
"s as a decimal fraction.\n\n"
		    MaskPromptString	    "Speeds:|Load Fractions:"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVariables	    "spd=@1;load=@2;"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "gb_dnshift_spd|gb_dnshift_load"
		    MaskVariableAliases	    ","
		    System {
		    Name		    "load fraction"
		    Location		    [464, 440, 704, 522]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 33, 55, 47]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-Function"
		    Ports		    [1, 1]
		    Position		    [80, 25, 160, 55]
		    FunctionName	    "sfun_gearbox"
		    Parameters		    "load, spd"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [185, 33, 215, 47]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-Function"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "command"
		    Position		    [420, 43, 450, 57]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "load fraction"
		    SrcPort		    1
		    Points		    [55, 0; 0, -70]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "load fraction"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine load"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev gear number"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine speed"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "command"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "downshift \ncommand1"
		  Ports			  [3, 1]
		  Position		  [475, 499, 505, 551]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "downshift \ncommand1"
		    Location		    [431, 372, 906, 667]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear number"
		    Position		    [45, 98, 75, 112]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine load"
		    Position		    [45, 38, 75, 52]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine speed"
		    Position		    [45, 133, 75, 147]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [130, 107, 165, 143]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [350, 38, 380, 62]
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "load fraction"
		    Ports		    [1, 1]
		    Position		    [240, 100, 270, 150]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "Gear Selector"
		    MaskDescription	    "This block will perform a linear "
"interplation (extrapolation outside of bounds) to determine the shift point l"
"oad fraction associated with the current gear number and speed. \n\nThe Speed"
"s parameter should be defined as an array of vectors containing speeds for ea"
"ch gear number.  The Load Fractions parameter should be defined as a array of"
" vectors containing load fractions indexed by the speeds in the Speeds parame"
"ter for each gear number."
		    MaskHelp		    "Reference the base workspace vari"
"ables - gb_**shift_spd and gb_**shift_load  where ** is either up for upshift"
" conditions or dn for downshift conditions.\n\nOr define the arrays as follow"
"s:\n\n{[spd1 spd2 spd3 spd4]; [spd1 spd2 spd3 spd4]; ...}\n\n{[load1 load2 lo"
"ad3 load4]; [load1 load2 load3 load4]; ...}\n\nwhere each array contains one "
"row for each gear in the gearbox.  Speeds should be defined in rad/s and load"
"s as a decimal fraction.\n\n"
		    MaskPromptString	    "Speeds:|Load Fractions:"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVariables	    "spd=@1;load=@2;"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "gb_dnshift_spd|gb_dnshift_load"
		    MaskVariableAliases	    ","
		    System {
		    Name		    "load fraction"
		    Location		    [464, 440, 704, 522]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 33, 55, 47]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-Function"
		    Ports		    [1, 1]
		    Position		    [80, 25, 160, 55]
		    FunctionName	    "sfun_gearbox"
		    Parameters		    "load, spd"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [185, 33, 215, 47]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "S-Function"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "command"
		    Position		    [420, 43, 450, 57]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "command"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev gear number"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine load"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "load fraction"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "load fraction"
		    SrcPort		    1
		    Points		    [55, 0; 0, -70]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "engine speed"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  Lookup
		  Name			  "engine\ntorque\ncapability"
		  Position		  [200, 125, 230, 145]
		  FontName		  "Arial"
		  InputValues		  "fc_map_spd*fc_spd_scale"
		  OutputValues		  "fc_max_trq*fc_trq_scale+eps"
		}
		Block {
		  BlockType		  Lookup
		  Name			  "engine\ntorque\ncapability1"
		  Position		  [200, 530, 230, 550]
		  FontName		  "Arial"
		  InputValues		  "fc_map_spd*fc_spd_scale"
		  OutputValues		  "fc_max_trq*fc_trq_scale+eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "est. engine trq\nand\nspd"
		  Ports			  [4, 3]
		  Position		  [115, 84, 145, 116]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "est. engine trq\nand\nspd"
		    Location		    [29, 163, 760, 833]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "86"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear\nnumber"
		    Position		    [40, 108, 70, 122]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    " prev eta_gb"
		    Position		    [40, 163, 70, 177]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_trq_out_r"
		    Position		    [40, 218, 70, 232]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_spd_out_r"
		    Position		    [45, 283, 75, 297]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [755, 40, 811, 80]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [231, 257, 689, 321]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [227, 12]
		    VerticalAlignment	    "top"
		    Text		    "Estimate engine torque and speed "
"associated with the previous gear, assuming that\nthe gearbox efficiency is c"
"onstant."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [630, 225, 655, 245]
		    Orientation		    "left"
		    ShowName		    off
		    Value		    "[1 1]"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant5"
		    Position		    [495, 75, 515, 95]
		    Orientation		    "left"
		    ShowName		    off
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    Ports		    [1, 2]
		    Position		    [765, 148, 775, 217]
		    BackgroundColor	    "black"
		    Outputs		    "2"
		    BusSelectionMode	    off
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [235, 54, 355, 76]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "locked_up_last"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From5"
		    Position		    [170, 238, 280, 262]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_trq_est"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "K_adv"
		    Ports		    [1, 1]
		    Position		    [335, 150, 365, 180]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "K_adv"
		    Location		    [502, 588, 994, 833]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    Position		    [45, 58, 75, 72]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "K_adv=wout/(Tout)^0.5"
		    Position		    [160, 51, 280, 79]
		    FontName		    "Arial"
		    Expr		    "u[2]/u[1]^0.5"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [305, 50, 335, 80]
		    UpperLimit		    "max(htc_k_adv)"
		    LowerLimit		    "min(htc_k_adv)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    Position		    [105, 50, 135, 80]
		    ShowName		    off
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "K_adv"
		    Position		    [385, 58, 415, 72]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "K_adv=wout/(Tout)^0.5"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "K_adv=wout/(Tout)^0.5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    SrcPort		    1
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [560, 41, 590, 74]
		    ShowName		    off
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [385, 48, 415, 82]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [680, 112, 690, 148]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [305, 147, 315, 183]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [490, 17, 520, 48]
		    ShowName		    off
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "SR Look-Up\nTable\nSR=wout/win"
		    Position		    [410, 215, 440, 245]
		    InputValues		    "htc_k_adv"
		    OutputValues	    "htc_sr"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [105, 155, 135, 185]
		    ShowName		    off
		    UpperLimit		    "1"
		    LowerLimit		    "0.7"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    Position		    [790, 185, 820, 215]
		    ShowName		    off
		    UpperLimit		    "inf"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [630, 175, 660, 205]
		    ShowName		    off
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    Position		    [410, 130, 440, 160]
		    InputValues		    "htc_k_adv"
		    OutputValues	    "htc_tr"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "TR,SR"
		    Ports		    [2, 1]
		    Position		    [570, 162, 605, 198]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "est eng\ntrq"
		    Ports		    [2, 1]
		    Position		    [255, 137, 275, 173]
		    ForegroundColor	    "magenta"
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio"
		    Position		    [105, 103, 135, 127]
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    OutputValues	    "gb_ratio"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~eng trq\nand spd"
		    Ports		    [2, 1]
		    Position		    [710, 166, 740, 199]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_spd_in_r"
		    Ports		    [2, 1]
		    Position		    [130, 265, 160, 300]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_trq_in_r"
		    Ports		    [3, 1]
		    Position		    [190, 100, 220, 190]
		    Inputs		    "//*"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "est eng trq\n(Nm)"
		    Position		    [840, 158, 870, 172]
		    NamePlacement	    "alternate"
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "est eng spd\n(rad/s)"
		    Position		    [840, 193, 870, 207]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gb_spd_in_est\n(rad/s)"
		    Position		    [820, 278, 850, 292]
		    ForegroundColor	    "blue"
		    NamePlacement	    "alternate"
		    Port		    "3"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "gb_trq_out_r"
		    SrcPort		    1
		    Points		    [95, 0; 0, -50]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "gb_spd_out_r"
		    SrcPort		    1
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [0, 0; 20, 0]
		    Branch {
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 135; -45, 0]
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "TR,SR"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-10, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "~eng trq\nand spd"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    " prev eta_gb"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "est eng spd\n(rad/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant5"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "gear ratio"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    DstBlock		    "est eng trq\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "~eng trq\nand spd"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "~eng trq\nand spd"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "K_adv"
		    SrcPort		    1
		    Points		    [15, 0; 0, -5]
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SrcPort		    1
		    Points		    [110, 0]
		    DstBlock		    "TR,SR"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    SrcPort		    1
		    Points		    [110, 0]
		    DstBlock		    "TR,SR"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From5"
		    SrcPort		    1
		    Points		    [0, -25; -45, 0]
		    DstBlock		    "est eng\ntrq"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "~gb_spd_in_r"
		    SrcPort		    1
		    Points		    [0, 0; 120, 0]
		    Branch {
		    Points		    [380, 0]
		    Branch {
		    Points		    [0, 0]
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "gb_spd_in_est\n(rad/s)"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, -110]
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "~gb_trq_in_r"
		    SrcPort		    1
		    DstBlock		    "est eng\ntrq"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "est eng\ntrq"
		    SrcPort		    1
		    Points		    [0, 0; -20, 0]
		    Branch {
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [30, 0; 0, -35; 160, 0]
		    Branch {
		    Points		    [0, -95]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    }
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "est. engine trq\nand spd assuming\n"
"lockup"
		  Ports			  [4, 2]
		  Position		  [115, 489, 145, 521]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "est. engine trq\nand spd assuming"
"\nlockup"
		    Location		    [63, 123, 886, 793]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "new gear\nnumber"
		    Position		    [30, 28, 60, 42]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    " prev eta_gb"
		    Position		    [30, 83, 60, 97]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_trq_out_r"
		    Position		    [30, 138, 60, 152]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_spd_in_est"
		    Position		    [30, 218, 60, 232]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [625, 180, 681, 220]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [231, 257, 689, 321]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [227, 12]
		    VerticalAlignment	    "top"
		    Text		    "Estimate engine torque and speed "
"associated with the current gear, assuming that\nthe gearbox efficiency is co"
"nstant."
		    }
		    }
		    }
		    Block {
		    BlockType		    From
		    Name		    "From5"
		    Position		    [220, 73, 330, 97]
		    BackgroundColor	    "gray"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_trq_est"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [130, 180, 160, 210]
		    X0			    "gb_ratio(1)"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [95, 75, 125, 105]
		    UpperLimit		    "1"
		    LowerLimit		    "0.7"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    Position		    [580, 65, 610, 95]
		    UpperLimit		    "inf"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "est eng\ntrq"
		    Ports		    [2, 1]
		    Position		    [385, 57, 405, 93]
		    ForegroundColor	    "magenta"
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio1"
		    Position		    [95, 23, 125, 47]
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    OutputValues	    "gb_ratio"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_spd_in_r"
		    Ports		    [3, 1]
		    Position		    [180, 150, 210, 240]
		    Inputs		    "*/*"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_trq_in_r"
		    Ports		    [3, 1]
		    Position		    [180, 20, 210, 110]
		    Inputs		    "//*"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "est eng trq\n(Nm)"
		    Position		    [645, 18, 675, 32]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "est eng spd\n(rad/s)"
		    Position		    [645, 73, 675, 87]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    " prev eta_gb"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gear ratio1"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 130]
		    Branch {
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [-35, 0]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "gb_trq_out_r"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "new gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "gear ratio1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "est eng spd\n(rad/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gb_spd_in_est"
		    SrcPort		    1
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "From5"
		    SrcPort		    1
		    DstBlock		    "est eng\ntrq"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "~gb_trq_in_r"
		    SrcPort		    1
		    DstBlock		    "est eng\ntrq"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "est eng\ntrq"
		    SrcPort		    1
		    Points		    [0, -50]
		    DstBlock		    "est eng trq\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "~gb_spd_in_r"
		    SrcPort		    1
		    Points		    [310, 0; 0, -110; 30, 0; 0, -5]
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Lookup
		  Name			  "gear ratio1"
		  Position		  [840, 108, 870, 132]
		  FontName		  "Arial"
		  InputValues		  "[1:length(gb_ratio)]"
		  OutputValues		  "gb_ratio"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "load=T/\n(maxT\nat spd)"
		  Position		  [310, 116, 345, 144]
		  FontName		  "Arial"
		  UpperLimit		  "1"
		  LowerLimit		  "-1"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "load=T/\n(maxT\nat spd)1"
		  Position		  [310, 521, 345, 549]
		  FontName		  "Arial"
		  UpperLimit		  "1"
		  LowerLimit		  "-1"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Lookup
		  Name			  "lock-up in\nthis gear"
		  Position		  [165, 313, 195, 337]
		  FontName		  "Arial"
		  InputValues		  "[1:length(htc_lockup)]"
		  OutputValues		  "htc_lockup"
		}
		Block {
		  BlockType		  Memory
		  Name			  "prev gear\nnumber"
		  Position		  [745, 45, 785, 65]
		  Orientation		  "left"
		  FontName		  "Arial"
		  X0			  "gb_num_init"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "shifting1"
		  Ports			  [1, 1]
		  Position		  [845, 279, 875, 311]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "shifting1"
		    Location		    [76, 244, 366, 435]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "gear\nnumber"
		    Position		    [15, 50, 35, 70]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [20, 131, 120, 159]
		    FontName		    "Arial"
		    Value		    "gb_shift_delay-1e-6"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [185, 53, 215, 77]
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "time since last shift"
		    Ports		    [1, 1]
		    Position		    [65, 43, 125, 77]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('time since\\nlast shift')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "time since last shift"
		    Location		    [47, 595, 337, 734]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [10, 60, 30, 80]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just shifted"
		    Ports		    [1, 1]
		    Position		    [60, 57, 110, 83]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('just\\nshifted')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "just shifted"
		    Location		    [48, 850, 371, 995]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [55, 55, 75, 75]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [120, 55, 155, 75]
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [190, 58, 220, 82]
		    FontName		    "Arial"
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [250, 60, 270, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 30; 75, 0; 0, -20]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "timer"
		    Ports		    [1, 1]
		    Position		    [140, 55, 175, 85]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('timer')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "timer"
		    Location		    [389, 635, 793, 850]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "trigger"
		    Position		    [15, 125, 35, 145]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [100, 100, 120, 120]
		    FontName		    "Arial"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [100, 150, 120, 170]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [150, 5, 170, 25]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [265, 59, 295, 91]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "no-lag\nReset Integrator"
		    Ports		    [3, 1]
		    Position		    [155, 96, 205, 174]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "No-lag Reset Integrator"
		    MaskDescription	    "No-lag Reset Integrator"
		    MaskHelp		    "Integrates first input using Eule"
"r technique.\\nAt the time step that input 2 <> zero,\\noutput is reset to in"
"put 3."
		    MaskPromptString	    "Initial Value"
		    MaskStyleString	    "edit"
		    MaskTunableValueString  "on"
		    MaskEnableString	    "on"
		    MaskVisibilityString    "on"
		    MaskToolTipString	    "on"
		    MaskInitialization	    "initval=@1;"
		    MaskDisplay		    "disp('1/s\\nw/ reset\\nno lag')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "15"
		    System {
		    Name		    "no-lag\nReset Integrator"
		    Location		    [258, 616, 780, 880]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [60, 100, 80, 120]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    Position		    [60, 140, 80, 160]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_3"
		    Position		    [45, 185, 65, 205]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [125, 205, 145, 225]
		    Orientation		    "up"
		    NamePlacement	    "alternate"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [340, 55, 375, 75]
		    Orientation		    "left"
		    FontName		    "Arial"
		    X0			    "initval"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [160, 96, 180, 114]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [230, 90, 250, 110]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [290, 139, 320, 171]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    Ports		    [0, 1]
		    Position		    [112, 50, 138, 80]
		    Orientation		    "down"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "dt"
		    Location		    [80, 285, 429, 424]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [65, 60, 85, 80]
		    FontName		    "Arial"
		    FontSize		    8
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [125, 85, 160, 105]
		    FontName		    "Arial"
		    FontSize		    8
		    X0			    "-1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 65, 225, 85]
		    FontName		    "Arial"
		    FontSize		    8
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [255, 65, 275, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "in_2==0"
		    Position		    [160, 143, 190, 167]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [455, 145, 475, 165]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -40]
		    DstBlock		    "in_2==0"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_2==0"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [10, 0; 0, 45]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-130, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "dt"
		    SrcPort		    1
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "in_2==0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_3"
		    SrcPort		    1
		    Points		    [200, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "time"
		    Position		    [350, 65, 370, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    Points		    [35, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [35, 0; 0, 50]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "trigger"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -60]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "time"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [225, 60, 245, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "timer"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "just shifted"
		    SrcPort		    1
		    DstBlock		    "timer"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "just shifted"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [250, 55, 270, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "time since last shift"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [15, 0; 0, -75]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "time since last shift"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "upshift\n command"
		  Ports			  [3, 1]
		  Position		  [475, 94, 505, 146]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "upshift\n command"
		    Location		    [431, 171, 906, 466]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear number"
		    Position		    [45, 103, 75, 117]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine load"
		    Position		    [45, 38, 75, 52]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine speed"
		    Position		    [45, 133, 75, 147]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [130, 107, 165, 143]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [350, 38, 380, 62]
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "load fraction"
		    Ports		    [1, 1]
		    Position		    [245, 100, 275, 150]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "Gear Selector"
		    MaskDescription	    "This block will perform a linear "
"interplation (extrapolation outside of bounds) to determine the shift point l"
"oad fraction associated with the current gear number and speed. \n\nThe Speed"
"s parameter should be defined as an array of vectors containing speeds for ea"
"ch gear number.  The Load Fractions parameter should be defined as a array of"
" vectors containing load fractions indexed by the speeds in the Speeds parame"
"ter for each gear number."
		    MaskHelp		    "Reference the base workspace vari"
"ables - gb_**shift_spd and gb_**shift_load  where ** is either up for upshift"
" conditions or dn for downshift conditions.\n\nOr define the arrays as follow"
"s:\n\n{[spd1 spd2 spd3 spd4]; [spd1 spd2 spd3 spd4]; ...}\n\n{[load1 load2 lo"
"ad3 load4]; [load1 load2 load3 load4]; ...}\n\nwhere each array contains one "
"row for each gear in the gearbox.  Speeds should be defined in rad/s and load"
"s as a decimal fraction.\n\n"
		    MaskPromptString	    "Speeds:|Load Fractions:"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVariables	    "spd=@1;load=@2;"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "gb_upshift_spd|gb_upshift_load"
		    MaskVariableAliases	    ","
		    System {
		    Name		    "load fraction"
		    Location		    [1031, 545, 1271, 627]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 33, 55, 47]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-Function"
		    Ports		    [1, 1]
		    Position		    [80, 25, 160, 55]
		    FunctionName	    "sfun_gearbox"
		    Parameters		    "load, spd"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [185, 33, 215, 47]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-Function"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "command"
		    Position		    [420, 43, 450, 57]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "load fraction"
		    SrcPort		    1
		    Points		    [50, 0; 0, -70]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "engine load"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev gear number"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "load fraction"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine speed"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "command"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear number, out"
		  Position		  [800, 815, 820, 835]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear ratio, out"
		  Position		  [800, 655, 820, 675]
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "shifting, out"
		  Position		  [800, 700, 820, 720]
		  FontName		  "Arial"
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "locked up"
		  Position		  [940, 415, 960, 435]
		  FontName		  "Arial"
		  Port			  "4"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "est. engine trq\nand\nspd"
		  SrcPort		  2
		  Points		  [35, 0; 0, 35]
		  Branch {
		    Points		    [0, 65; 240, 0]
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "downshift \ncommand"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, -65]
		    DstBlock		    "upshift\n command"
		    DstPort		    3
		    }
		  }
		  Branch {
		    DstBlock		    "engine\ntorque\ncapability"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "gb_spd_out_r"
		  SrcPort		  1
		  Points		  [30, 0]
		  DstBlock		  "est. engine trq\nand\nspd"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Saturation1"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "gear ratio1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -65]
		    Branch {
		    DstBlock		    "prev gear\nnumber"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto3"
		    DstPort		    1
		    }
		    }
		  }
		  Branch {
		    Points		    [0, 175]
		    DstBlock		    "shifting1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [-15, 0]
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  DstBlock		  "load=T/\n(maxT\nat spd)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "allow downshift?"
		  SrcPort		  1
		  Points		  [55, 0; 0, 160]
		  DstBlock		  "Product3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product3"
		  SrcPort		  1
		  Points		  [10, 0; 0, -75]
		  DstBlock		  "delta\ngear\nnumber"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "engine\ntorque\ncapability"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "est. engine trq\nand\nspd"
		  SrcPort		  1
		  Points		  [90, 0]
		  DstBlock		  "Product2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "load=T/\n(maxT\nat spd)"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "downshift \ncommand"
		  SrcPort		  1
		  DstBlock		  "Gain1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Logical\nOperator1"
		  SrcPort		  1
		  Points		  [0, -15]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  Points		  [-15, 0]
		  DstBlock		  "Relational\nOperator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "lock-up in\nthis gear"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Relational\nOperator"
		  SrcPort		  1
		  Points		  [15, 0; 0, 75]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  Points		  [-15, 0]
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product4"
		  SrcPort		  1
		  DstBlock		  "load=T/\n(maxT\nat spd)1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "engine\ntorque\ncapability1"
		  SrcPort		  1
		  DstBlock		  "Product4"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "est. engine trq\nand spd assuming\n"
"lockup"
		  SrcPort		  1
		  Points		  [90, 0]
		  DstBlock		  "Product4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "eta_gb"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "est. engine trq\nand\nspd"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 405]
		    DstBlock		    "est. engine trq\nand spd assuming"
"\nlockup"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "gb_trq_out_r"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    Points		    [0, -40]
		    DstBlock		    "est. engine trq\nand\nspd"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, 365]
		    DstBlock		    "est. engine trq\nand spd assuming"
"\nlockup"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "tires are at\ntraction limit"
		  SrcPort		  1
		  Points		  [290, 0]
		  Branch {
		    Points		    [0, 285]
		    DstBlock		    "Switch1"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -120]
		    DstBlock		    "Switch"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "est. engine trq\nand\nspd"
		  SrcPort		  3
		  Points		  [0, 115; -55, 0; 0, 295]
		  DstBlock		  "est. engine trq\nand spd assuming\n"
"lockup"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "est. engine trq\nand spd assuming\n"
"lockup"
		  SrcPort		  2
		  Points		  [35, 0; 0, 25]
		  Branch {
		    DstBlock		    "engine\ntorque\ncapability1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 55; 265, 0; 0, -55]
		    DstBlock		    "downshift \ncommand1"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Logical\nOperator2"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -95]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    3
		  }
		  Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    Points		    [0, 100]
		    DstBlock		    "downshift \ncommand"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "upshift\n command"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "upshift\n command"
		  SrcPort		  1
		  Points		  [120, 0]
		  Branch {
		    Points		    [0, 10]
		    DstBlock		    "delta\ngear\nnumber"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "delta\ngear\nnumber"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Product3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  DstBlock		  "locked up"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "downshift \ncommand1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  Points		  [10, 0; 0, -85]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "load=T/\n(maxT\nat spd)1"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "downshift \ncommand1"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gear ratio1"
		  SrcPort		  1
		  DstBlock		  "Goto4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "delta\ngear\nnumber"
		  SrcPort		  1
		  DstBlock		  "current\ngear\nnumber"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "current\ngear\nnumber"
		  SrcPort		  1
		  DstBlock		  "Saturation1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "prev gear\nnumber"
		  SrcPort		  1
		  Points		  [-165, 0]
		  Branch {
		    Points		    [0, 55]
		    DstBlock		    "current\ngear\nnumber"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [-125, 0]
		    Branch {
		    Points		    [0, 25]
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "upshift\n command"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 100]
		    Branch {
		    DstBlock		    "downshift \ncommand"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 275]
		    DstBlock		    "downshift \ncommand1"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "allow downshift?"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [-355, 0; 0, 30]
		    DstBlock		    "est. engine trq\nand\nspd"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Constant15"
		  SrcPort		  1
		  DstBlock		  "Switch3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From4"
		  SrcPort		  1
		  Points		  [30, 0]
		  DstBlock		  "Switch3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  "Switch3"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "From2"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From3"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Switch3"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant14"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From1"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "From <logic>2"
		  SrcPort		  1
		  DstBlock		  "Speed Dependent Shifting"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Speed Dependent Shifting"
		  SrcPort		  1
		  DstBlock		  "Goto"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Speed Dependent Shifting"
		  SrcPort		  2
		  DstBlock		  "Goto1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [5, 0]
		  Branch {
		    Points		    [40, 0]
		    DstBlock		    "shifting, out"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Goto2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "gear number, out"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 60]
		    DstBlock		    "Goto7"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "shifting1"
		  SrcPort		  1
		  DstBlock		  "Goto5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From5"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From6"
		  SrcPort		  1
		  Points		  [0, 35; -50, 0]
		  Branch {
		    DstBlock		    "lock-up in\nthis gear"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [-50, 0]
		    DstBlock		    "est. engine trq\nand spd assuming"
"\nlockup"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [45, 0]
		  DstBlock		  "gear ratio, out"
		  DstPort		  1
		}
		Annotation {
		  Position		  [964, 24]
		  Text			  "default gear number\ncalculation"
		}
		Annotation {
		  Position		  [968, 326]
		  Text			  "default shifting\ncalculation"
		}
		Annotation {
		  Position		  [962, 149]
		  Text			  "default gear ratio\ncalculation"
		}
		Annotation {
		  Position		  [962, 202]
		  Text			  "local GOTO blocks:"
		}
		Annotation {
		  Position		  [549, 632]
		  Text			  "gear ratio and shifting pre-muxed"
		}
		Annotation {
		  Position		  [910, 795]
		  Text			  "output changes depending\nupon whet"
"her speed\ndependent shifting is used"
		}
	      }
	    }
	    Line {
	      SrcBlock		      "gearbox control\nfor use w/ AT"
	      SrcPort		      4
	      DstBlock		      "Goto <htc>"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "gearbox control\nfor use w/ AT"
	      SrcPort		      2
	      DstBlock		      "Goto <gb>"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "gearbox control\nfor use w/ AT"
	      SrcPort		      1
	      DstBlock		      "Goto <htc>1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <gb>2"
	      SrcPort		      1
	      DstBlock		      "gearbox control\nfor use w/ AT"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <gb>3"
	      SrcPort		      1
	      DstBlock		      "gearbox control\nfor use w/ AT"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "From<gb>"
	      SrcPort		      1
	      DstBlock		      "gearbox control\nfor use w/ AT"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From <gb>1"
	      SrcPort		      1
	      DstBlock		      "gearbox control\nfor use w/ AT"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "gearbox control\nfor use w/ AT"
	      SrcPort		      3
	      DstBlock		      "Goto <gb>1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "gear_ratio"
	      Labels		      [0, 0]
	      SrcBlock		      "From<gb>1"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      Name		      "shifting"
	      Labels		      [0, 0]
	      SrcBlock		      "From <gb>4"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "gear_number"
	      Labels		      [0, 0]
	      SrcBlock		      "From <gb>5"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "shifting"
	      Labels		      [0, 0]
	      SrcBlock		      "From <gb>6"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "locked_up"
	      Labels		      [0, 0]
	      SrcBlock		      "From <gb>7"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "eta_gb(t-1)"
	      SrcPort		      1
	      DstBlock		      "Goto <htc>3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "T_gb_out (request)(t)"
	      SrcPort		      1
	      DstBlock		      "Goto <gb>2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "w_gb_out (request)(t)"
	      SrcPort		      1
	      DstBlock		      "Goto <gb>3"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "time lookup\nshift logic for gearbox"
	  Ports			  []
	  Position		  [140, 265, 180, 325]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "time lookup\nshift logic for gearbox"
	    Location		    [276, 77, 966, 762]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector11"
	      Ports		      [1, 1]
	      Position		      [180, 151, 185, 189]
	      ShowName		      off
	      OutputSignals	      "signal2"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<signal2>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From2"
	      Position		      [25, 152, 150, 188]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "whSensors"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto3"
	      Position		      [580, 149, 680, 191]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbControl"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux2"
	      Ports		      [3, 1]
	      Position		      [525, 30, 535, 310]
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "lookup"
	      Ports		      [1, 3]
	      Position		      [260, 27, 465, 313]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"lookup"
		Location		[202, 73, 966, 766]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "time"
		  Position		  [105, 48, 135, 62]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  From
		  Name			  "From <logic>2"
		  Position		  [80, 254, 185, 286]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "time"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility"
		  Position		  [300, 42, 417, 69]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "time"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto1"
		  Position		  [160, 42, 290, 68]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "time"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Reference
		  Name			  "gear number lookup"
		  Ports			  [1, 1]
		  Position		  [240, 252, 275, 288]
		  FontName		  "Arial"
		  SourceBlock		  "lib_etc/repeated signal output"
		  SourceType		  "Repeating table"
		  t			  "gb_gear_number_lookup(:,1)"
		  y			  "gb_gear_number_lookup(:,2)"
		}
		Block {
		  BlockType		  Lookup
		  Name			  "gear ratio lookup"
		  Position		  [335, 158, 365, 182]
		  FontName		  "Arial"
		  InputValues		  "[1:length(gb_ratio)]"
		  OutputValues		  "gb_ratio"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "shifting\ndetermination"
		  Ports			  [1, 1]
		  Position		  [375, 199, 405, 231]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "shifting\ndetermination"
		    Location		    [288, 228, 578, 419]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "gear\nnumber"
		    Position		    [15, 50, 35, 70]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [20, 131, 120, 159]
		    FontName		    "Arial"
		    Value		    "gb_shift_delay-1e-6"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [185, 53, 215, 77]
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "time since last shift"
		    Ports		    [1, 1]
		    Position		    [65, 43, 125, 77]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('time since\\nlast shift')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "time since last shift"
		    Location		    [288, 228, 578, 419]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [10, 60, 30, 80]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just shifted"
		    Ports		    [1, 1]
		    Position		    [60, 57, 110, 83]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('just\\nshifted')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "just shifted"
		    Location		    [140, 214, 463, 359]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [55, 55, 75, 75]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [120, 55, 155, 75]
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [190, 58, 220, 82]
		    FontName		    "Arial"
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [250, 60, 270, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 30; 75, 0; 0, -20]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "timer"
		    Ports		    [1, 1]
		    Position		    [140, 55, 175, 85]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('timer')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "timer"
		    Location		    [455, 179, 859, 394]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "trigger"
		    Position		    [15, 125, 35, 145]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [100, 100, 120, 120]
		    FontName		    "Arial"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [100, 150, 120, 170]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [150, 5, 170, 25]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [265, 59, 295, 91]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "no-lag\nReset Integrator"
		    Ports		    [3, 1]
		    Position		    [155, 96, 205, 174]
		    SourceBlock		    "lib_controls2/<vc> conv/gearbox\n"
" control/shifting1/time since last shift/timer/no-lag\nReset Integrator"
		    SourceType		    "No-lag Reset Integrator"
		    MaskParam1		    "15"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "time"
		    Position		    [350, 65, 370, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    Points		    [35, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [35, 0; 0, 50]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "trigger"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -60]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "time"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [225, 60, 245, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "timer"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "just shifted"
		    SrcPort		    1
		    DstBlock		    "timer"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "just shifted"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [250, 55, 270, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "time since last shift"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [15, 0; 0, -75]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "time since last shift"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear ratio"
		  Position		  [440, 160, 460, 180]
		  NamePlacement		  "alternate"
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "shifting"
		  Position		  [440, 205, 460, 225]
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear number"
		  Position		  [440, 260, 460, 280]
		  FontName		  "Arial"
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "time"
		  SrcPort		  1
		  DstBlock		  "Goto1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gear number lookup"
		  SrcPort		  1
		  Points		  [0, 0; 5, 0]
		  Branch {
		    Points		    [50, 0]
		    Branch {
		    DstBlock		    "gear number"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -55]
		    DstBlock		    "shifting\ndetermination"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, -100]
		    DstBlock		    "gear ratio lookup"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "From <logic>2"
		  SrcPort		  1
		  DstBlock		  "gear number lookup"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "shifting\ndetermination"
		  SrcPort		  1
		  DstBlock		  "shifting"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gear ratio lookup"
		  SrcPort		  1
		  DstBlock		  "gear ratio"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "lookup"
	      SrcPort		      1
	      DstBlock		      "Mux2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "lookup"
	      SrcPort		      2
	      DstBlock		      "Mux2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "lookup"
	      SrcPort		      3
	      DstBlock		      "Mux2"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Mux2"
	      SrcPort		      1
	      DstBlock		      "Goto3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From2"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector11"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<signal2>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector11"
	      SrcPort		      1
	      DstBlock		      "lookup"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "vehicle speed dependent\nshift logic for ge"
"arbox"
	  Ports			  []
	  Position		  [140, 160, 180, 220]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "vehicle speed dependent\nshift logic for "
"gearbox"
	    Location		    [276, 77, 966, 762]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector"
	      Ports		      [1, 1]
	      Position		      [180, 151, 185, 189]
	      ShowName		      off
	      OutputSignals	      "signal2"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<signal2>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      Position		      [25, 152, 150, 188]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "whSensors"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [575, 149, 675, 191]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbControl"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [3, 1]
	      Position		      [520, 30, 530, 310]
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "speed dependent"
	      Ports		      [1, 3]
	      Position		      [255, 27, 460, 313]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"speed dependent"
		Location		[232, 510, 1097, 800]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "v_req_limited"
		  Position		  [225, 143, 255, 157]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [490, 271, 495, 309]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  From
		  Name			  "From <logic>2"
		  Position		  [145, 289, 250, 321]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "v_req_limited"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility"
		  Position		  [420, 137, 537, 164]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "v_req_limited"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto1"
		  Position		  [280, 137, 410, 163]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "v_req_limited"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Speed Dependent Shifting"
		  Ports			  [1, 2]
		  Position		  [290, 277, 320, 328]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "Speed Dependent Shifting"
		    Location		    [-16, 76, 971, 726]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "velocity\nrequired\n(limited)\n"
		    Position		    [25, 58, 55, 72]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up\nTable\n(gear for downshi"
"ft)"
		    Position		    [110, 375, 140, 405]
		    InputValues		    "tx_spd_dep_dnshift(:,1)   % vecto"
"r of speeds m/s"
		    OutputValues	    "tx_spd_dep_dnshift(:,2)  % gear n"
"umber--must be step function"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up\nTable\n(gear for upshift"
")"
		    Position		    [105, 50, 135, 80]
		    InputValues		    "tx_spd_dep_upshift(:,1)   % vecto"
"r of speeds in m/s"
		    OutputValues	    "tx_spd_dep_upshift(:,2)  % gear n"
"umber--must be step function"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [405, 102, 440, 138]
		    ForegroundColor	    "red"
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [450, 382, 485, 418]
		    ForegroundColor	    "red"
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "New gear ratio"
		    Position		    [725, 259, 810, 281]
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    VariableName	    "new_gear_ratio"
		    MaxDataPoints	    "50000"
		    Decimation		    "1"
		    SampleTime		    "0"
		    SaveFormat		    "Array"
		    }
		    Block {
		    BlockType		    Rounding
		    Name		    "Rounding\nFunction"
		    Position		    [190, 50, 220, 80]
		    Operator		    "round"
		    }
		    Block {
		    BlockType		    Rounding
		    Name		    "Rounding\nFunction1"
		    Position		    [195, 375, 225, 405]
		    Operator		    "round"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation4"
		    Position		    [280, 56, 300, 74]
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    UpperLimit		    "gb_gears_num"
		    LowerLimit		    "1"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation5"
		    Position		    [285, 381, 305, 399]
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    UpperLimit		    "gb_gears_num"
		    LowerLimit		    "1"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "delta\nspeed\n(\"+\" is accelerat"
"ion)"
		    Ports		    [2, 1]
		    Position		    [215, 240, 240, 300]
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio6"
		    Position		    [345, 53, 375, 77]
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    OutputValues	    "gb_ratio"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio8"
		    Position		    [380, 378, 410, 402]
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    OutputValues	    "gb_ratio"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "prev veh\nspeed"
		    Position		    [130, 245, 170, 265]
		    ForegroundColor	    "red"
		    NamePlacement	    "alternate"
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "shifting"
		    Ports		    [1, 1]
		    Position		    [380, 444, 410, 476]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "shifting"
		    Location		    [178, 196, 468, 387]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "gear\nnumber"
		    Position		    [15, 50, 35, 70]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [20, 131, 120, 159]
		    FontName		    "Arial"
		    Value		    "gb_shift_delay-1e-6"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [185, 53, 215, 77]
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "time since last shift"
		    Ports		    [1, 1]
		    Position		    [65, 43, 125, 77]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('time since\\nlast shift')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "time since last shift"
		    Location		    [24, 388, 314, 527]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [10, 60, 30, 80]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just shifted"
		    Ports		    [1, 1]
		    Position		    [60, 57, 110, 83]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('just\\nshifted')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "just shifted"
		    Location		    [142, 212, 465, 357]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [55, 55, 75, 75]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [120, 55, 155, 75]
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [190, 58, 220, 82]
		    FontName		    "Arial"
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [250, 60, 270, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 30; 75, 0; 0, -20]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "timer"
		    Ports		    [1, 1]
		    Position		    [140, 55, 175, 85]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('timer')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "timer"
		    Location		    [455, 179, 859, 394]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "trigger"
		    Position		    [15, 125, 35, 145]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [100, 100, 120, 120]
		    FontName		    "Arial"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [100, 150, 120, 170]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [150, 5, 170, 25]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [265, 59, 295, 91]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "no-lag\nReset Integrator"
		    Ports		    [3, 1]
		    Position		    [155, 96, 205, 174]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "No-lag Reset Integrator"
		    MaskDescription	    "No-lag Reset Integrator"
		    MaskHelp		    "Integrates first input using Eule"
"r technique.\\nAt the time step that input 2 <> zero,\\noutput is reset to in"
"put 3."
		    MaskPromptString	    "Initial Value"
		    MaskStyleString	    "edit"
		    MaskTunableValueString  "on"
		    MaskEnableString	    "on"
		    MaskVisibilityString    "on"
		    MaskToolTipString	    "on"
		    MaskInitialization	    "initval=@1;"
		    MaskDisplay		    "disp('1/s\\nw/ reset\\nno lag')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "15"
		    System {
		    Name		    "no-lag\nReset Integrator"
		    Location		    [258, 616, 780, 880]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [60, 100, 80, 120]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    Position		    [60, 140, 80, 160]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_3"
		    Position		    [45, 185, 65, 205]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [125, 205, 145, 225]
		    Orientation		    "up"
		    NamePlacement	    "alternate"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [340, 55, 375, 75]
		    Orientation		    "left"
		    FontName		    "Arial"
		    X0			    "initval"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [160, 96, 180, 114]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [230, 90, 250, 110]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [290, 139, 320, 171]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    Ports		    [0, 1]
		    Position		    [112, 50, 138, 80]
		    Orientation		    "down"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "dt"
		    Location		    [80, 285, 429, 424]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [65, 60, 85, 80]
		    FontName		    "Arial"
		    FontSize		    8
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [125, 85, 160, 105]
		    FontName		    "Arial"
		    FontSize		    8
		    X0			    "-1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 65, 225, 85]
		    FontName		    "Arial"
		    FontSize		    8
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [255, 65, 275, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "in_2==0"
		    Position		    [160, 143, 190, 167]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [455, 145, 475, 165]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -40]
		    DstBlock		    "in_2==0"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_2==0"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [10, 0; 0, 45]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-130, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "dt"
		    SrcPort		    1
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "in_2==0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_3"
		    SrcPort		    1
		    Points		    [200, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "time"
		    Position		    [350, 65, 370, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    Points		    [35, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [35, 0; 0, 50]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "trigger"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -60]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "time"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [225, 60, 245, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "timer"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "just shifted"
		    SrcPort		    1
		    DstBlock		    "timer"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "just shifted"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [250, 55, 270, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "time since last shift"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [15, 0; 0, -75]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "time since last shift"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "shifting1"
		    Ports		    [1, 1]
		    Position		    [350, 114, 380, 146]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "shifting1"
		    Location		    [178, 196, 468, 387]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "gear\nnumber"
		    Position		    [15, 50, 35, 70]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [20, 131, 120, 159]
		    FontName		    "Arial"
		    Value		    "gb_shift_delay-1e-6"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [185, 53, 215, 77]
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "time since last shift"
		    Ports		    [1, 1]
		    Position		    [65, 43, 125, 77]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('time since\\nlast shift')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "time since last shift"
		    Location		    [24, 388, 314, 527]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [10, 60, 30, 80]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just shifted"
		    Ports		    [1, 1]
		    Position		    [60, 57, 110, 83]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('just\\nshifted')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "just shifted"
		    Location		    [142, 212, 465, 357]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [55, 55, 75, 75]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [120, 55, 155, 75]
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [190, 58, 220, 82]
		    FontName		    "Arial"
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [250, 60, 270, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 30; 75, 0; 0, -20]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "timer"
		    Ports		    [1, 1]
		    Position		    [140, 55, 175, 85]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('timer')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "timer"
		    Location		    [455, 179, 859, 394]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "trigger"
		    Position		    [15, 125, 35, 145]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [100, 100, 120, 120]
		    FontName		    "Arial"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [100, 150, 120, 170]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [150, 5, 170, 25]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [265, 59, 295, 91]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "no-lag\nReset Integrator"
		    Ports		    [3, 1]
		    Position		    [155, 96, 205, 174]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "No-lag Reset Integrator"
		    MaskDescription	    "No-lag Reset Integrator"
		    MaskHelp		    "Integrates first input using Eule"
"r technique.\\nAt the time step that input 2 <> zero,\\noutput is reset to in"
"put 3."
		    MaskPromptString	    "Initial Value"
		    MaskStyleString	    "edit"
		    MaskTunableValueString  "on"
		    MaskEnableString	    "on"
		    MaskVisibilityString    "on"
		    MaskToolTipString	    "on"
		    MaskInitialization	    "initval=@1;"
		    MaskDisplay		    "disp('1/s\\nw/ reset\\nno lag')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "15"
		    System {
		    Name		    "no-lag\nReset Integrator"
		    Location		    [258, 616, 780, 880]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [60, 100, 80, 120]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    Position		    [60, 140, 80, 160]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_3"
		    Position		    [45, 185, 65, 205]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [125, 205, 145, 225]
		    Orientation		    "up"
		    NamePlacement	    "alternate"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [340, 55, 375, 75]
		    Orientation		    "left"
		    FontName		    "Arial"
		    X0			    "initval"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [160, 96, 180, 114]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [230, 90, 250, 110]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [290, 139, 320, 171]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    Ports		    [0, 1]
		    Position		    [112, 50, 138, 80]
		    Orientation		    "down"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "dt"
		    Location		    [80, 285, 429, 424]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [65, 60, 85, 80]
		    FontName		    "Arial"
		    FontSize		    8
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [125, 85, 160, 105]
		    FontName		    "Arial"
		    FontSize		    8
		    X0			    "-1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 65, 225, 85]
		    FontName		    "Arial"
		    FontSize		    8
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [255, 65, 275, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "in_2==0"
		    Position		    [160, 143, 190, 167]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [455, 145, 475, 165]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -40]
		    DstBlock		    "in_2==0"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_2==0"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [10, 0; 0, 45]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-130, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "dt"
		    SrcPort		    1
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "in_2==0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_3"
		    SrcPort		    1
		    Points		    [200, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "time"
		    Position		    [350, 65, 370, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    Points		    [35, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [35, 0; 0, 50]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "trigger"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -60]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "time"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [225, 60, 245, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "timer"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "just shifted"
		    SrcPort		    1
		    DstBlock		    "timer"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "just shifted"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [250, 55, 270, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "time since last shift"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [15, 0; 0, -75]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "time since last shift"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "switch for gear\nnumber"
		    Position		    [580, 160, 610, 190]
		    ForegroundColor	    "red"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "switch for gear ratio\nand shifti"
"ng (muxed)"
		    Position		    [580, 255, 610, 285]
		    ForegroundColor	    "red"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "total fuel used (gal)"
		    Position		    [370, 339, 450, 361]
		    ForegroundColor	    "red"
		    NamePlacement	    "alternate"
		    FontName		    "Arial"
		    VariableName	    "neg_gear_num"
		    MaxDataPoints	    "50000"
		    Decimation		    "1"
		    SampleTime		    "0"
		    SaveFormat		    "Array"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear ratio and shifting"
		    Position		    [650, 235, 680, 250]
		    Orientation		    "up"
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear number"
		    Position		    [665, 168, 695, 182]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Rounding\nFunction1"
		    SrcPort		    1
		    DstBlock		    "Saturation5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Look-Up\nTable\n(gear for downshi"
"ft)"
		    SrcPort		    1
		    DstBlock		    "Rounding\nFunction1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Rounding\nFunction"
		    SrcPort		    1
		    DstBlock		    "Saturation4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Look-Up\nTable\n(gear for upshift"
")"
		    SrcPort		    1
		    DstBlock		    "Rounding\nFunction"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "delta\nspeed\n(\"+\" is accelerat"
"ion)"
		    SrcPort		    1
		    Points		    [245, 0]
		    Branch {
		    DstBlock		    "switch for gear ratio\nand shifti"
"ng (muxed)"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -95]
		    DstBlock		    "switch for gear\nnumber"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "switch for gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "gear number"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "switch for gear ratio\nand shifti"
"ng (muxed)"
		    SrcPort		    1
		    Points		    [50, 0]
		    Branch {
		    DstBlock		    "gear ratio and shifting"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "New gear ratio"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Saturation4"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "gear ratio6"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    DstBlock		    "shifting1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "switch for gear\nnumber"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "shifting1"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gear ratio6"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation5"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "shifting"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "gear ratio8"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -40]
		    Branch {
		    DstBlock		    "total fuel used (gal)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -165]
		    DstBlock		    "switch for gear\nnumber"
		    DstPort		    3
		    }
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "gear ratio8"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "shifting"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    Points		    [0, 140]
		    DstBlock		    "switch for gear ratio\nand shifti"
"ng (muxed)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    Points		    [0, -120]
		    DstBlock		    "switch for gear ratio\nand shifti"
"ng (muxed)"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "prev veh\nspeed"
		    SrcPort		    1
		    DstBlock		    "delta\nspeed\n(\"+\" is accelerat"
"ion)"
		    DstPort		    1
		    }
		    Line {
		    Labels		    [0, 0]
		    SrcBlock		    "velocity\nrequired\n(limited)\n"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Look-Up\nTable\n(gear for upshift"
")"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 190]
		    Branch {
		    Points		    [0, 30]
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "Look-Up\nTable\n(gear for downshi"
"ft)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "delta\nspeed\n(\"+\" is accelerat"
"ion)"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "prev veh\nspeed"
		    DstPort		    1
		    }
		    }
		    }
		    Annotation {
		    Position		    [740, 326]
		    Text		    "storing shifting and gear ratio\n"
"information to workspace"
		    }
		    Annotation {
		    Position		    [361, 193]
		    Text		    "decel case"
		    }
		    Annotation {
		    Position		    [525, 155]
		    Text		    "accel case"
		    }
		    Annotation {
		    Position		    [468, 222]
		    Text		    "accel\ncase"
		    }
		    Annotation {
		    Position		    [510, 383]
		    Text		    "decel\ncase"
		    }
		    Annotation {
		    Position		    [285, 260]
		    Text		    "delta speed"
		    }
		    Annotation {
		    Position		    [709, 85]
		    Text		    "SPEED \nDEPENDENT \nSHIFT\nSIGNAL"
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear ratio"
		  Position		  [560, 255, 580, 275]
		  NamePlacement		  "alternate"
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "shifting"
		  Position		  [560, 300, 580, 320]
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear number"
		  Position		  [560, 355, 580, 375]
		  FontName		  "Arial"
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Speed Dependent Shifting"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Speed Dependent Shifting"
		  SrcPort		  2
		  Points		  [220, 0]
		  DstBlock		  "gear number"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [45, 0]
		  DstBlock		  "gear ratio"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [45, 0]
		  DstBlock		  "shifting"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From <logic>2"
		  SrcPort		  1
		  DstBlock		  "Speed Dependent Shifting"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "v_req_limited"
		  SrcPort		  1
		  DstBlock		  "Goto1"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "speed dependent"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "speed dependent"
	      SrcPort		      2
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "speed dependent"
	      SrcPort		      3
	      DstBlock		      "Mux"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From1"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<signal2>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector"
	      SrcPort		      1
	      DstBlock		      "speed dependent"
	      DstPort		      1
	    }
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "SubLibraries"
      Ports		      []
      Position		      [706, 582, 745, 613]
      BackgroundColor	      "darkGreen"
      ShowPortLabels	      on
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      System {
	Name			"SubLibraries"
	Location		[82, 115, 869, 511]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  "3D discrete lookup\ntable"
	  Ports			  [3, 1]
	  Position		  [115, 254, 145, 306]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskPromptString	  "Row Lookup|Column Lookup|Lookup Matrix"
	  MaskStyleString	  "edit,edit,edit"
	  MaskTunableValueString  "on,on,on"
	  MaskCallbackString	  "||"
	  MaskEnableString	  "on,on,on"
	  MaskVisibilityString	  "on,on,on"
	  MaskToolTipString	  "on,on,on"
	  MaskVariables		  "tx_map_spd=@1;tx_map_trq=@2;tx_eff_map=@3;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "tx_map_spd|tx_map_trq|tx_eff_map"
	  MaskVariableAliases	  ",,"
	  System {
	    Name		    "3D discrete lookup\ntable"
	    Location		    [131, 118, 739, 592]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "lookup speed (rad/s)"
	      Position		      [45, 68, 75, 82]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "lookup trq (Nm)"
	      Position		      [40, 208, 70, 222]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "gear_number \n(e.g., 1, 2, 3)"
	      Position		      [40, 348, 70, 362]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [3, 1]
	      Position		      [225, 3, 235, 427]
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation"
	      Position		      [125, 60, 155, 90]
	      UpperLimit	      "max(tx_map_spd)"
	      LowerLimit	      "min(tx_map_spd)"
	      LinearizeAsGain	      on
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation1"
	      Position		      [120, 200, 150, 230]
	      UpperLimit	      "max(tx_map_trq)"
	      LowerLimit	      "min(tx_map_trq)"
	      LinearizeAsGain	      on
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation2"
	      Position		      [120, 340, 150, 370]
	      UpperLimit	      "size(tx_eff_map,3)"
	      LowerLimit	      "1"
	      LinearizeAsGain	      on
	    }
	    Block {
	      BlockType		      MATLABFcn
	      Name		      "interp2d"
	      Position		      [255, 200, 315, 230]
	      MATLABFcn		      "interp2(tx_map_trq, tx_map_spd, tx_eff_"
"map(:,:,u(3)),u(2),u(1))"
	      OutputDimensions	      "1"
	      OutputSignalType	      "real"
	      Output1D		      on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "tx_eff"
	      Position		      [345, 208, 375, 222]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "interp2d"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "interp2d"
	      SrcPort		      1
	      DstBlock		      "tx_eff"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "lookup speed (rad/s)"
	      SrcPort		      1
	      DstBlock		      "Saturation"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Saturation"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "lookup trq (Nm)"
	      SrcPort		      1
	      DstBlock		      "Saturation1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Saturation1"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "gear_number \n(e.g., 1, 2, 3)"
	      SrcPort		      1
	      DstBlock		      "Saturation2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Saturation2"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      3
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "3D discrete lookup\ntable (sfun)"
	  Ports			  [3, 1]
	  Position		  [465, 254, 495, 306]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskPromptString	  "Row Lookup|Column Lookup|Lookup Matrix"
	  MaskStyleString	  "edit,edit,edit"
	  MaskTunableValueString  "on,on,on"
	  MaskCallbackString	  "||"
	  MaskEnableString	  "on,on,on"
	  MaskVisibilityString	  "on,on,on"
	  MaskToolTipString	  "on,on,on"
	  MaskVariables		  "tx_map_spd=@1;tx_map_trq=@2;tx_eff_map=@3;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "tx_map_spd|tx_map_trq|tx_eff_map"
	  MaskVariableAliases	  ",,"
	  System {
	    Name		    "3D discrete lookup\ntable (sfun)"
	    Location		    [135, 114, 743, 588]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "lookup speed (rad/s)"
	      Position		      [45, 68, 75, 82]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "lookup trq (Nm)"
	      Position		      [40, 208, 70, 222]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "gear_number \n(e.g., 1, 2, 3)"
	      Position		      [40, 348, 70, 362]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [3, 1]
	      Position		      [225, 3, 235, 427]
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation"
	      Position		      [125, 60, 155, 90]
	      UpperLimit	      "max(tx_map_spd)"
	      LowerLimit	      "min(tx_map_spd)"
	      LinearizeAsGain	      on
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation1"
	      Position		      [120, 200, 150, 230]
	      UpperLimit	      "max(tx_map_trq)"
	      LowerLimit	      "min(tx_map_trq)"
	      LinearizeAsGain	      on
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation2"
	      Position		      [120, 340, 150, 370]
	      UpperLimit	      "size(tx_eff_map,3)"
	      LowerLimit	      "1"
	      LinearizeAsGain	      on
	    }
	    Block {
	      BlockType		      "S-Function"
	      Name		      "discrete interp2d"
	      Ports		      [1, 1]
	      Position		      [255, 199, 380, 231]
	      FunctionName	      "sfun_discreteLookup3d"
	      Parameters	      "tx_map_trq, tx_map_spd, tx_eff_map"
	      PortCounts	      "[]"
	      SFunctionModules	      "''"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "tx_eff"
	      Position		      [405, 208, 435, 222]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "Saturation2"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "gear_number \n(e.g., 1, 2, 3)"
	      SrcPort		      1
	      DstBlock		      "Saturation2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Saturation1"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "lookup trq (Nm)"
	      SrcPort		      1
	      DstBlock		      "Saturation1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Saturation"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "lookup speed (rad/s)"
	      SrcPort		      1
	      DstBlock		      "Saturation"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "discrete interp2d"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "discrete interp2d"
	      SrcPort		      1
	      DstBlock		      "tx_eff"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "gear determination\n(e.g., 1st gear, 2nd, e"
"tc.)"
	  Ports			  [1, 1]
	  Position		  [110, 144, 250, 186]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "gear determination\n(e.g., 1st gear, 2nd,"
" etc.)"
	    Location		    [27, 183, 603, 498]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "in_1"
	      Position		      [15, 75, 35, 95]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "Look-Up\nTable"
	      Position		      [70, 73, 100, 97]
	      InputValues	      "fliplr([gb_ratio(1)+0.00001,gb_ratio(2:"
"end)])"
	      OutputValues	      "fliplr( [1:length(gb_ratio)] )"
	    }
	    Block {
	      BlockType		      Rounding
	      Name		      "Rounding\nFunction"
	      Position		      [150, 70, 180, 100]
	      Operator		      "round"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "index of\nlower bounding\nmap"
	      Position		      [245, 75, 265, 95]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "in_1"
	      SrcPort		      1
	      DstBlock		      "Look-Up\nTable"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Look-Up\nTable"
	      SrcPort		      1
	      DstBlock		      "Rounding\nFunction"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Rounding\nFunction"
	      SrcPort		      1
	      DstBlock		      "index of\nlower bounding\nmap"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "loss\n(Nm)"
	  Ports			  [3, 1]
	  Position		  [150, 44, 185, 86]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskPromptString	  "table of efficiency values (spd rad/s, trq "
"Nm)|vector of output torque values for lookup table (Nm)|vector of output spe"
"eds for lookup table (rad/s)|Speed scale for the transmission gear box|Torque"
" scale for the transmission gear box"
	  MaskStyleString	  "edit,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on"
	  MaskCallbackString	  "||||"
	  MaskEnableString	  "on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on"
	  MaskVariables		  "tx_eff_map=@1;tx_map_trq=@2;tx_map_spd=@3;g"
"b_spd_scale=@4;gb_trq_scale=@5;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "tx_eff_map|tx_map_trq|tx_map_spd|gb_spd_sca"
"le|gb_trq_scale"
	  MaskVariableAliases	  ",,,,"
	  System {
	    Name		    "loss\n(Nm)"
	    Location		    [2, 40, 1022, 722]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "output torque\nand speed\n(Nm), (rad/s)"
	      Position		      [50, 60, 70, 80]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "gear ratio"
	      Position		      [45, 520, 65, 540]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "gear_number"
	      Position		      [45, 445, 65, 465]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "3D discrete lookup\ntable (sfun)"
	      Ports		      [3, 1]
	      Position		      [285, 279, 315, 331]
	      SourceBlock	      "lib_transmission/SubLibraries/3D discre"
"te lookup\ntable (sfun)"
	      SourceType	      "Unknown"
	      tx_map_spd	      "tx_map_spd"
	      tx_map_trq	      "tx_map_trq"
	      tx_eff_map	      "tx_eff_map"
	    }
	    Block {
	      BlockType		      Abs
	      Name		      "Abs"
	      Position		      [300, 16, 330, 34]
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Block NOTES"
	      Ports		      []
	      Position		      [885, 595, 941, 635]
	      BackgroundColor	      "green"
	      ShowName		      off
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "disp('Block\\nNOTES')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Block NOTES"
		Location		[370, 401, 872, 583]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Annotation {
		  Position		  [247, 17]
		  VerticalAlignment	  "top"
		  Text			  "Revision Notes:"
		}
		Annotation {
		  Position		  [252, 37]
		  VerticalAlignment	  "top"
		  Text			  "09/20/02:tm modifed lower input to "
"switch after T_loss_at_input to pass the \ntotal torque input as the loss whe"
"n tx_eff=0\n5 July 2001:mpo changing loss block to a lookup table methodology"
"\n12/20/00:tm revised loss saturation block. lower limit changed \nfrom 1 to "
"0 and upper limit changed from 100 to inf to prevent over or under penalties"
		}
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [600, 305, 625, 325]
	      Value		      "0"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      Position		      [350, 386, 375, 404]
	      Value		      "1"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant2"
	      Position		      [620, 223, 645, 237]
	      ShowName		      off
	      Value		      "eps"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant3"
	      Position		      [915, 370, 940, 390]
	      Value		      "0"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant4"
	      Position		      [1000, 420, 1025, 440]
	      Value		      "0"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 2]
	      Position		      [110, 41, 115, 99]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "2"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From"
	      Position		      [525, 291, 590, 309]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_out"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From10"
	      Position		      [500, 200, 605, 220]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "tx_eff"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From11"
	      Position		      [870, 353, 955, 367]
	      NamePlacement	      "alternate"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_out"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From4"
	      Position		      [500, 395, 640, 415]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "one_minus_tx_eff"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From5"
	      Position		      [500, 444, 630, 466]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_out_abs"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From6"
	      Position		      [500, 495, 605, 515]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gear_ratio"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From7"
	      Position		      [500, 75, 640, 95]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "one_minus_tx_eff"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From8"
	      Position		      [500, 119, 630, 141]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_out_abs"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From9"
	      Position		      [500, 165, 605, 185]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gear_ratio"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      Position		      [135, 439, 240, 471]
	      GotoTag		      "gear_number"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [135, 516, 240, 544]
	      GotoTag		      "gear_ratio"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      Position		      [180, 45, 285, 65]
	      NamePlacement	      "alternate"
	      GotoTag		      "T_out"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto3"
	      Position		      [180, 75, 285, 95]
	      GotoTag		      "w_out"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto4"
	      Position		      [415, 290, 455, 320]
	      GotoTag		      "tx_eff"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto5"
	      Position		      [430, 337, 550, 363]
	      GotoTag		      "one_minus_tx_eff"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto6"
	      Position		      [355, 15, 460, 35]
	      GotoTag		      "T_out_abs"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [4, 1]
	      Position		      [765, 63, 785, 242]
	      ShowName		      off
	      Inputs		      "**//"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product1"
	      Ports		      [3, 1]
	      Position		      [720, 382, 740, 528]
	      Inputs		      "**/"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator"
	      Position		      [715, 292, 745, 323]
	      Operator		      ">="
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator1"
	      Position		      [975, 351, 990, 384]
	      Operator		      ">"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [395, 340, 415, 360]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "|-+"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [865, 294, 895, 326]
	      FontName		      "Arial"
	      Threshold		      "0.5"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch1"
	      Position		      [1050, 304, 1080, 336]
	      FontName		      "Arial"
	      Threshold		      "0.5"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch2"
	      Position		      [660, 204, 690, 236]
	      ShowName		      off
	      FontName		      "Arial"
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch3"
	      Position		      [810, 229, 840, 261]
	      ShowName		      off
	      FontName		      "Arial"
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace"
	      Position		      [110, 564, 240, 586]
	      VariableName	      "current_gear_ratio"
	      MaxDataPoints	      "1"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "ensure efficiency\nis between \n0% and "
"100%,\ninclusive"
	      Position		      [340, 290, 370, 320]
	      NamePlacement	      "alternate"
	      UpperLimit	      "1"
	      LowerLimit	      "0"
	      LinearizeAsGain	      on
	    }
	    Block {
	      BlockType		      From
	      Name		      "gear number (1st, 2nd, 3rd, etc.)"
	      Position		      [135, 356, 230, 374]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gear_number"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "product1"
	      Ports		      [2, 1]
	      Position		      [760, 251, 790, 284]
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "scaled trq_out"
	      Ports		      [2, 1]
	      Position		      [185, 284, 200, 326]
	      Inputs		      "*/"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "scaled w_out"
	      Ports		      [2, 1]
	      Position		      [205, 236, 220, 269]
	      NamePlacement	      "alternate"
	      Inputs		      "/*"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "spd scale"
	      Position		      [15, 237, 95, 253]
	      NamePlacement	      "alternate"
	      Value		      "gb_spd_scale"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      From
	      Name		      "spd_out"
	      Position		      [105, 253, 190, 267]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_out"
	    }
	    Block {
	      BlockType		      From
	      Name		      "trq out"
	      Position		      [15, 286, 95, 304]
	      NamePlacement	      "alternate"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_out"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "trq scale"
	      Position		      [85, 307, 165, 323]
	      Value		      "gb_trq_scale"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "loss torque at\ninput shaft (Nm)"
	      Position		      [1120, 310, 1140, 330]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "output torque\nand speed\n(Nm), (rad/s)"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      DstBlock		      "Goto3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "gear number (1st, 2nd, 3rd, etc.)"
	      SrcPort		      1
	      Points		      [0, -35; 35, 0]
	      DstBlock		      "3D discrete lookup\ntable (sfun)"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Product1"
	      SrcPort		      1
	      Points		      [45, 0; 0, -135]
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "From4"
	      SrcPort		      1
	      DstBlock		      "Product1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From6"
	      SrcPort		      1
	      DstBlock		      "Product1"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "From5"
	      SrcPort		      1
	      DstBlock		      "Product1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From7"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From8"
	      SrcPort		      1
	      Points		      [100, 0]
	      Branch {
		DstBlock		"Product"
		DstPort			2
	      }
	      Branch {
		Points			[0, 130]
		DstBlock		"product1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "From9"
	      SrcPort		      1
	      Points		      [105, 0]
	      Branch {
		DstBlock		"Product"
		DstPort			3
	      }
	      Branch {
		Points			[0, 100]
		DstBlock		"product1"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Switch1"
	      SrcPort		      1
	      DstBlock		      "loss torque at\ninput shaft (Nm)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant4"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "Switch1"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "From11"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant3"
	      SrcPort		      1
	      Points		      [15, 0]
	      DstBlock		      "Relational\nOperator1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator1"
	      SrcPort		      1
	      Points		      [5, 0; 0, -50]
	      DstBlock		      "Switch1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      Points		      [35, 0]
	      Branch {
		DstBlock		"Goto2"
		DstPort			1
	      }
	      Branch {
		Points			[0, -30]
		DstBlock		"Abs"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Abs"
	      SrcPort		      1
	      DstBlock		      "Goto6"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "Switch1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "3D discrete lookup\ntable (sfun)"
	      SrcPort		      1
	      DstBlock		      "ensure efficiency\nis between \n0% and "
"100%,\ninclusive"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "ensure efficiency\nis between \n0% and "
"100%,\ninclusive"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		DstBlock		"Goto4"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Sum"
		DstPort			1
	      }
	    }
	    Line {
	      Labels		      [1, 0]
	      SrcBlock		      "scaled w_out"
	      SrcPort		      1
	      Points		      [0, 35]
	      DstBlock		      "3D discrete lookup\ntable (sfun)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq out"
	      SrcPort		      1
	      DstBlock		      "scaled trq_out"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "scaled trq_out"
	      SrcPort		      1
	      DstBlock		      "3D discrete lookup\ntable (sfun)"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "trq scale"
	      SrcPort		      1
	      DstBlock		      "scaled trq_out"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      Points		      [25, 0]
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "Goto5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "spd_out"
	      SrcPort		      1
	      DstBlock		      "scaled w_out"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "spd scale"
	      SrcPort		      1
	      DstBlock		      "scaled w_out"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "gear ratio"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		DstBlock		"Goto1"
		DstPort			1
	      }
	      Branch {
		Points			[0, 45]
		DstBlock		"To Workspace"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "gear_number"
	      SrcPort		      1
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch2"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "From10"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		DstBlock		"Switch2"
		DstPort			1
	      }
	      Branch {
		Points			[0, 10; 0, 0]
		Branch {
		  DstBlock		  "Switch2"
		  DstPort		  2
		}
		Branch {
		  Points		  [0, 25]
		  DstBlock		  "Switch3"
		  DstPort		  2
		}
	      }
	    }
	    Line {
	      SrcBlock		      "Constant2"
	      SrcPort		      1
	      DstBlock		      "Switch2"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Switch3"
	      SrcPort		      1
	      Points		      [0, 55]
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "Switch3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "product1"
	      SrcPort		      1
	      DstBlock		      "Switch3"
	      DstPort		      3
	    }
	    Annotation {
	      Position		      [278, 191]
	      ForegroundColor	      "white"
	      BackgroundColor	      "black"
	      Text		      "\nLOOKUP TABLE FOR TRANSMISSION EFFICIE"
"NCY\n"
	    }
	    Annotation {
	      Position		      [838, 414]
	      Text		      "T_loss_at_input"
	    }
	    Annotation {
	      Position		      [833, 488]
	      Text		      "\"Regen\" case\n(energy flowing from\nw"
"heel side of transmission\nto engine side of transmission)"
	    }
	    Annotation {
	      Position		      [840, 198]
	      Text		      "T_loss_at_input"
	    }
	    Annotation {
	      Position		      [874, 121]
	      Text		      "Normal \"Powered\" case\n(energy flow f"
"rom engine\nthrough transmission to wheels)"
	    }
	    Annotation {
	      Position		      [1067, 275]
	      Text		      "Switch to Determine \nif Gears are Turn"
"ing\n--No loss if gears \nare not turning"
	    }
	    Annotation {
	      Position		      [903, 278]
	      Text		      "Switch for Powered\n or Regen Case"
	    }
	    Annotation {
	      Position		      [1034, 501]
	      Text		      "Note: saturation block keeps\nloss posi"
"tive-- for both powered\nand regen cases, a\npositive value represents a \"lo"
"ss\""
	    }
	    Annotation {
	      Position		      [1069, 400]
	      Text		      "no_loss case"
	    }
	    Annotation {
	      Position		      [376, 87]
	      Text		      "speed at transmission output, rad/s"
	    }
	    Annotation {
	      Position		      [371, 55]
	      Text		      "torque at transmission output, Nm"
	    }
	    Annotation {
	      Position		      [269, 276]
	      Text		      "spd"
	    }
	    Annotation {
	      Position		      [263, 297]
	      Text		      "trq"
	    }
	    Annotation {
	      Position		      [254, 318]
	      Text		      "gear"
	    }
	    Annotation {
	      Position		      [990, 198]
	      ForegroundColor	      "white"
	      BackgroundColor	      "black"
	      Text		      "\nTORQUE LOSS CALCULATION\n"
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "loss\n(Nm) old methodology"
	  Ports			  [2, 1]
	  Position		  [600, 54, 635, 96]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "loss\n(Nm) old methodology"
	    Location		    [2, 201, 992, 520]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "output torque\nand speed\n(Nm), (rad/s)"
	      Position		      [50, 25, 70, 45]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "gear ratio"
	      Position		      [65, 145, 85, 165]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Abs
	      Name		      "Abs"
	      Position		      [430, 10, 460, 40]
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Block NOTES"
	      Ports		      []
	      Position		      [865, 20, 921, 60]
	      BackgroundColor	      "green"
	      ShowName		      off
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "disp('Block\\nNOTES')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Block NOTES"
		Location		[364, 407, 866, 589]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Annotation {
		  Position		  [247, 17]
		  VerticalAlignment	  "top"
		  Text			  "Revision Notes:"
		}
		Annotation {
		  Position		  [252, 37]
		  VerticalAlignment	  "top"
		  Text			  "12/20/00:tm revised loss saturation"
" block. lower limit changed \nfrom 1 to 0 and upper limit changed from 100 to"
" inf to prevent over or under penalties"
		}
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [750, 205, 770, 225]
	      Orientation	      "up"
	      FontName		      "Arial"
	      Value		      "eps"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      Position		      [145, 248, 335, 272]
	      Value		      "gb_loss_input_spd_coeff/gb_spd_scale"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant2"
	      Position		      [140, 159, 330, 181]
	      Value		      "gb_loss_input_trq_coeff/gb_trq_scale"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant3"
	      Position		      [140, 203, 335, 227]
	      Value		      "gb_loss_output_spd_coeff/gb_spd_scale"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant4"
	      Position		      [140, 113, 330, 137]
	      Value		      "gb_loss_output_trq_coeff/gb_trq_scale"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant5"
	      Position		      [537, 200, 663, 220]
	      Orientation	      "up"
	      NamePlacement	      "alternate"
	      Value		      "gb_loss_const"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant6"
	      Position		      [100, 74, 370, 96]
	      Value		      "gb_loss_output_pwr_coeff/gb_spd_scale/g"
"b_trq_scale"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant7"
	      Position		      [815, 180, 835, 200]
	      Orientation	      "up"
	      FontName		      "Arial"
	      Value		      "0"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 2]
	      Position		      [390, 16, 410, 49]
	      FontName		      "Arial"
	      Outputs		      "2"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [380, 237, 410, 268]
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product1"
	      Ports		      [2, 1]
	      Position		      [350, 147, 380, 178]
	      Inputs		      "/*"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product2"
	      Ports		      [2, 1]
	      Position		      [505, 17, 535, 48]
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product3"
	      Ports		      [2, 1]
	      Position		      [505, 122, 535, 153]
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product4"
	      Ports		      [3, 1]
	      Position		      [505, 69, 535, 101]
	      Inputs		      "3"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator"
	      Position		      [775, 132, 805, 163]
	      Operator		      ">"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation"
	      Position		      [775, 70, 805, 100]
	      UpperLimit	      "inf"
	      LowerLimit	      "0"
	      LinearizeAsGain	      on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [415, 142, 445, 173]
	      IconShape		      "rectangular"
	      Inputs		      "++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [440, 232, 470, 263]
	      IconShape		      "rectangular"
	      Inputs		      "++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [4, 1]
	      Position		      [620, 24, 650, 121]
	      IconShape		      "rectangular"
	      Inputs		      "++++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum3"
	      Ports		      [2, 1]
	      Position		      [652, 140, 683, 155]
	      Orientation	      "up"
	      NamePlacement	      "alternate"
	      IconShape		      "rectangular"
	      Inputs		      "++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [840, 79, 870, 111]
	      FontName		      "Arial"
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "loss torque"
	      Ports		      [3, 1]
	      Position		      [715, 69, 745, 101]
	      Inputs		      "*//"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "loss torque at\ninput shaft (Nm)"
	      Position		      [905, 85, 925, 105]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Abs"
	      SrcPort		      1
	      Points		      [15, 0]
	      Branch {
		DstBlock		"Product2"
		DstPort			1
	      }
	      Branch {
		Points			[0, 50]
		DstBlock		"Product4"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      DstBlock		      "Abs"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator"
	      SrcPort		      1
	      Points		      [5, 0; 0, -55]
	      DstBlock		      "Switch"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [0, -15]
	      Branch {
		DstBlock		"Relational\nOperator"
		DstPort			2
	      }
	      Branch {
		Points			[-85, 0]
		DstBlock		"Sum3"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Constant7"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Product3"
	      SrcPort		      1
	      Points		      [40, 0; 0, -55]
	      DstBlock		      "Sum2"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Product2"
	      SrcPort		      1
	      DstBlock		      "Sum2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "output torque\nand speed\n(Nm), (rad/s)"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      Points		      [15, 0; 0, -120]
	      DstBlock		      "Product2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      Points		      [5, 0; 0, -105]
	      DstBlock		      "Product3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant5"
	      SrcPort		      1
	      Points		      [0, -85]
	      DstBlock		      "Sum2"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "gear ratio"
	      SrcPort		      1
	      Points		      [25, 0]
	      Branch {
		DstBlock		"Product1"
		DstPort			1
	      }
	      Branch {
		Points			[0, 90]
		Branch {
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 45; 575, 0; 0, -195]
		  DstBlock		  "loss torque"
		  DstPort		  3
		}
	      }
	    }
	    Line {
	      SrcBlock		      "Constant2"
	      SrcPort		      1
	      DstBlock		      "Product1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Product1"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant4"
	      SrcPort		      1
	      Points		      [65, 0]
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant3"
	      SrcPort		      1
	      Points		      [85, 0]
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant6"
	      SrcPort		      1
	      DstBlock		      "Product4"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Product4"
	      SrcPort		      1
	      Points		      [30, 0; 0, -25]
	      DstBlock		      "Sum2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "loss torque at\ninput shaft (Nm)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      DstBlock		      "loss torque"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      Points		      [10, 0; 0, 90; 50, 0]
	      Branch {
		Points			[5, 0]
		Branch {
		  DstBlock		  "Product3"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, -35]
		  DstBlock		  "Product4"
		  DstPort		  3
		}
	      }
	      Branch {
		Points			[0, 45; 185, 0]
		Branch {
		  Points		  [90, 0; 0, -35]
		  DstBlock		  "Relational\nOperator"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 0]
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "loss torque"
	      SrcPort		      1
	      DstBlock		      "Saturation"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Saturation"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum3"
	      SrcPort		      1
	      Points		      [0, -50]
	      DstBlock		      "loss torque"
	      DstPort		      2
	    }
	    Annotation {
	      Position		      [832, 247]
	      VerticalAlignment	      "top"
	      Text		      "Loss torque applied at input side is a "
"function of\n output speed, output torque, and gear number.\nThere is no loss"
" if the gears are not turning."
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "notes on \n3D discrete lookup\ntable"
	  Ports			  []
	  Position		  [271, 262, 310, 293]
	  BackgroundColor	  "green"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "notes on \n3D discrete lookup\ntable"
	    Location		    [480, 158, 978, 458]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Annotation {
	      Position		      [250, 58]
	      Text		      "performs a \"2D\" lookup\nfor the speci"
"fied\nz height of the 3D lookup matrix\n(i.e., no interpolation on z, only di"
"screte) "
	    }
	    Annotation {
	      Position		      [252, 235]
	      Text		      "created 5 July 2001 mpo\nRevision histo"
"ry:\n..."
	    }
	    Annotation {
	      Position		      [99, 134]
	      Text		      "3 inputs:\n(1) X lookup\n(2) Y lookup\n"
"(3) discrete Z value (integer)\n\n1 output:\n(1) looked up value"
	    }
	    Annotation {
	      Position		      [334, 136]
	      Text		      "3 masked inputs:\n(1) array of X values"
" in table\n(2) array of Y values in table\n(3) 3D lookup table (i.e., 2D tabl"
"es for several Z values)"
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "notes on \nloss (Nm)"
	  Ports			  []
	  Position		  [276, 47, 315, 78]
	  BackgroundColor	  "green"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "notes on \nloss (Nm)"
	    Location		    [382, 172, 912, 472]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Annotation {
	      Position		      [354, 141]
	      Text		      "4 masked inputs:\n(1) map of efficienci"
"es by spd and trq and gear number (discrete)\n(2) array of trq values in effi"
"ciency map lookup table\n(3) array of spd values in efficiency map lookup tab"
"le\n(4) the ratios in the gear box "
	    }
	    Annotation {
	      Position		      [99, 144]
	      Text		      "2 inputs:\n(1) trq and spd at output (w"
"heel side) \nof Transmission (muxxed)\n(2) current gear ratio\n\n1 output:\n("
"1) trq loss at input (engine side) of\ntransmission"
	    }
	    Annotation {
	      Position		      [252, 235]
	      Text		      "created 5 July 2001 mpo\nRevision histo"
"ry:\n..."
	    }
	    Annotation {
	      Position		      [240, 43]
	      Text		      "Calculates the torque loss due to \ntra"
"nsmission inefficiencies\n(torque lost at input to transmission)"
	    }
	    Annotation {
	      Position		      [98, 251]
	      Text		      "note: tx_map_spd and tx_map_trq\n are o"
"utput (wheelside) values"
	    }
	    Annotation {
	      Position		      [408, 58]
	      BackgroundColor	      "lightBlue"
	      Text		      "data needs:\ntx_map_spd\ntx_map_trq\ntx"
"_eff_map\ngb_ratio"
	    }
	  }
	}
	Annotation {
	  Position		  [84, 34]
	  Text			  "Trq and Spd at Output\n(Nm) and (rad/s)"
	}
	Annotation {
	  Position		  [69, 87]
	  Text			  "Gear Ratio\n(input spd/output spd)"
	}
	Annotation {
	  Position		  [225, 64]
	  Text			  "Trq loss\nat input (Nm)"
	}
	Annotation {
	  Position		  [58, 165]
	  Text			  "gear ratio\n(input/output spd)"
	}
	Annotation {
	  Position		  [321, 159]
	  Text			  "gear (1st, 2nd, etc.)"
	}
	Annotation {
	  Position		  [289, 205]
	  BackgroundColor	  "lightBlue"
	  Text			  "data needs:\ngb_ratio"
	}
	Annotation {
	  Position		  [616, 28]
	  Text			  "Below is the loss block for a gear box base"
"d\non loss equation--used with ADVISOR v. 3.1 and below"
	}
	Annotation {
	  Position		  [60, 259]
	  Text			  "X_lookup"
	}
	Annotation {
	  Position		  [58, 282]
	  Text			  "Y_lookup"
	}
	Annotation {
	  Position		  [55, 304]
	  Text			  "Z_discrete value"
	}
	Annotation {
	  Position		  [203, 281]
	  Text			  "looked up value"
	}
	Annotation {
	  Position		  [400, 254]
	  Text			  "X_lookup"
	}
	Annotation {
	  Position		  [398, 277]
	  Text			  "Y_lookup"
	}
	Annotation {
	  Position		  [395, 299]
	  Text			  "Z_discrete value"
	}
	Annotation {
	  Position		  [553, 281]
	  Text			  "looked up value"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Subsystem"
      Ports		      []
      Position		      [250, 525, 302, 546]
      ShowName		      off
      ShowPortLabels	      on
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskDisplay	      "disp('GB Notes')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      System {
	Name			"Subsystem"
	Location		[433, 403, 931, 703]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Annotation {
	  Position		  [66, 63]
	  HorizontalAlignment	  "left"
	  Text			  "The gearbox old\nmodel uses transmission\ne"
"fficiency referenced from\nthe transmission output.\n\nThe new file reference"
"s from\nthe input."
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "clutch <cl>"
      Ports		      [2, 2]
      Position		      [350, 130, 395, 205]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone Clutch Mask"
      MaskDescription	      "Clutch for use with ADVISOR 2"
      MaskHelp		      "First input is req'd clutch output torque and s"
"peed, muxed together.\nSecond input is clutch state, with 1 => disengaged, 2 "
"=> slipping, and 3=> engaged.\nThird input is available clutch input torque a"
"nd limited clutch input speed.\nFirst output is req'd clutch input torque and"
" speed, muxed together.\nSecond output is available clutch output torque and "
"limited clutch output speed.\nThe logic implemented by this block is as follo"
"ws:\n          IF (clutch is disengaged) THEN (req'd input torque=0), (req'd "
"input speed=req'd output speed (the engine control is responsible for computi"
"ng correct engine spin-down speed)), (avail. output torque=0), (limited outpu"
"t speed=req'd output speed)\n          IF (clutch is slipping) THEN (req'd in"
"put torque=req'd output torque), (req'd input speed=user-defined slip speed),"
" (avail. output torque=avail. input torque), (limited output speed=req'd outp"
"ut speed)\n          IF (clutch is engaged) THEN (req'd input torque=req'd ou"
"tput torque), (req'd input speed=req'd output speed), (avail. output torque=a"
"vail. input torque), (limited output speed=limited input speed) \n\nThe clutc"
"h will transmit no more than its maximum torque as driving or braking torque."
      MaskPromptString	      "General Name of this Component [char--evaluated"
"]|Log Variables to Workspace?|Initialization File(s) [cell array of char]|Mod"
"ification Cell [2 column cell array of param and val]|Icon image file name [c"
"har--evaluated]|Input shaft speed when clutch slips (rad/s):|Maximum torque c"
"lutch can transmit:|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,edit,e"
"dit,popup(ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on,on,on"
      MaskCallbackString      "|||||||"
      MaskEnableString	      "on,on,on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;slip_spd=@6;maxtrq=@7;DEBUG=&8;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'cl'|Don't Log|{}|{}|'bdi_cl.jpg'|vc_launch_spd"
"|max(fc_max_trq)*fc_trq_scale|OFF"
      MaskVariableAliases     ",,,,,,,"
      System {
	Name			"clutch <cl>"
	Location		[206, 73, 966, 748]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "T & w\noutput\nrequested"
	  Position		  [105, 188, 135, 202]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "T & w\ninput\nachieved"
	  Position		  [105, 208, 135, 222]
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "clutch model and interface"
	  Ports			  [3, 4]
	  Position		  [230, 182, 270, 243]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "clutch model and interface"
	    Location		    [206, 73, 966, 748]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "T & w\noutput\nrequested"
	      Position		      [250, 68, 280, 82]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "T & w\ninput\nachieved"
	      Position		      [255, 143, 285, 157]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      Position		      [70, 298, 100, 312]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [2, 1]
	      Position		      [645, 274, 650, 341]
	      ShowName		      off
	      Inputs		      "2"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux2"
	      Ports		      [1, 3]
	      Position		      [140, 258, 145, 352]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "3"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      Position		      [485, 277, 560, 303]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_cl_out"
	      Port {
		PortNumber		1
		Name			"T_cl_out"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From2"
	      Position		      [485, 312, 560, 338]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_cl_out"
	      Port {
		PortNumber		1
		Name			"w_cl_out"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      Position		      [175, 249, 270, 271]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "clutch_state"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      Position		      [280, 247, 358, 275]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "clutch_state"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      Position		      [395, 277, 473, 305]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "T_cl_out"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [395, 312, 473, 340]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "w_cl_out"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility3"
	      Position		      [280, 292, 358, 320]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "launch_speed"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      Position		      [280, 337, 358, 365]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "launch_flag"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [175, 294, 270, 316]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "launch_speed"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      Position		      [175, 339, 270, 361]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "launch_flag"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "clutch model"
	      Ports		      [2, 2]
	      Position		      [350, 105, 390, 165]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"clutch model"
		Location		[309, 75, 1073, 742]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "T & w\noutput\nrequested"
		  Position		  [30, 58, 60, 72]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "T & w\ninput\nachieved"
		  Position		  [25, 483, 55, 497]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Adjust for\nPossible Launch\nSpeed "
"Request"
		  Ports			  [1, 1]
		  Position		  [470, 160, 510, 220]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "Adjust for\nPossible Launch\nSpee"
"d Request"
		    Location		    [214, 77, 982, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Input\nSpeed Request"
		    Position		    [55, 228, 85, 242]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant6"
		    Position		    [105, 185, 125, 205]
		    ShowName		    off
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From1"
		    Position		    [30, 53, 120, 77]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "launch_speed"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From2"
		    Position		    [30, 97, 105, 123]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "launch_flag"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From4"
		    Position		    [30, 167, 105, 193]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "clutch_state"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [245, 132, 275, 163]
		    ShowName		    off
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch4"
		    Position		    [315, 21, 345, 279]
		    ShowName		    off
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "clutch\ndisengaged"
		    Position		    [160, 172, 190, 203]
		    NamePlacement	    "alternate"
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Input Speed\nRequest\nAdjusted fo"
"r\nLaunch Speed"
		    Position		    [405, 143, 435, 157]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "From1"
		    SrcPort		    1
		    DstBlock		    "Switch4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch4"
		    SrcPort		    1
		    DstBlock		    "Input Speed\nRequest\nAdjusted fo"
"r\nLaunch Speed"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Input\nSpeed Request"
		    SrcPort		    1
		    DstBlock		    "Switch4"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "From4"
		    SrcPort		    1
		    DstBlock		    "clutch\ndisengaged"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant6"
		    SrcPort		    1
		    DstBlock		    "clutch\ndisengaged"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From2"
		    SrcPort		    1
		    Points		    [100, 0; 0, 30]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "clutch\ndisengaged"
		    SrcPort		    1
		    Points		    [15, 0; 0, -35]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "Switch4"
		    DstPort		    2
		    }
		    Annotation {
		    Position		    [372, 68]
		    HorizontalAlignment	    "left"
		    BackgroundColor	    "yellow"
		    Text		    "If the clutch is disengaged, unde"
"r certain \ncircumstances, we will want to request that \nthe input speed to "
"the clutch be ramped up to a \ngiven launch speed (decided by the controller)"
"\nso that the clutch can subsequently slip and \nengage with a more realistic"
" speed matching"
		    FontName		    "Arial"
		    FontSize		    12
		    FontWeight		    "bold"
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [140, 255, 160, 275]
		  Value			  "1"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [140, 320, 160, 340]
		  Value			  "2"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [140, 390, 160, 410]
		  Value			  "3"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant3"
		  Position		  [365, 135, 385, 155]
		  Orientation		  "up"
		  NamePlacement		  "alternate"
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant4"
		  Position		  [333, 270, 407, 290]
		  Orientation		  "up"
		  Value			  "slip_spd"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant5"
		  Position		  [315, 490, 335, 510]
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [95, 47, 130, 83]
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "output torque"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "output\nspeed\nreq'd"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [120, 472, 155, 508]
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  From
		  Name			  "From"
		  Position		  [30, 212, 105, 238]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "clutch_state"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <sdo>"
		  Position		  [170, 99, 255, 121]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "T_cl_out"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <sdo>1"
		  Position		  [170, 139, 255, 161]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "w_cl_out"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [1, 1]
		  Position		  [320, 69, 350, 101]
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator1"
		  Ports			  [1, 1]
		  Position		  [315, 199, 345, 231]
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator2"
		  Ports			  [1, 1]
		  Position		  [315, 414, 345, 446]
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [545, 57, 580, 93]
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [495, 482, 530, 518]
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [1, 1]
		  Position		  [85, 534, 115, 566]
		  Inputs		  "1"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [1, 1]
		  Position		  [500, 554, 530, 586]
		  Inputs		  "1"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  Position		  [430, 475, 460, 505]
		  UpperLimit		  "maxtrq"
		  LowerLimit		  "-maxtrq"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation1"
		  Position		  [455, 50, 485, 80]
		  UpperLimit		  "maxtrq"
		  LowerLimit		  "-maxtrq"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [390, 50, 420, 80]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [385, 175, 415, 205]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  Position		  [375, 475, 405, 505]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch3"
		  Position		  [375, 540, 405, 570]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "clutch\ndisengaged"
		  Position		  [190, 217, 220, 248]
		  Operator		  "=="
		  Port {
		    PortNumber		    1
		    Name		    "clutch\ndisengaged"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "clutch\nengaged"
		  Position		  [190, 352, 220, 383]
		  Operator		  "=="
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "clutch\nslipping"
		  Position		  [190, 282, 220, 313]
		  Operator		  "=="
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [550, 562, 645, 578]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|pwr_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [90, 597, 185, 613]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|pwr_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  Ports			  [1]
		  Position		  [245, 22, 340, 38]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [115, 177, 210, 193]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [580, 182, 675, 198]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  Ports			  [1]
		  Position		  [555, 27, 650, 43]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  Ports			  [1]
		  Position		  [515, 447, 610, 463]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  Ports			  [1]
		  Position		  [465, 607, 560, 623]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace8"
		  Ports			  [1]
		  Position		  [230, 597, 325, 613]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace9"
		  Ports			  [1]
		  Position		  [125, 437, 220, 453]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace9"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  Ports			  []
		  Position		  [590, 311, 629, 357]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('clutch.ht"
"m')]);"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "image(imread('doc_man.jpg'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "help"
		    Location		    [203, 331, 569, 538]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "T & w\ninput\nrequest"
		  Position		  [605, 68, 635, 82]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "T & w\noutput\nachieved"
		  Position		  [610, 493, 640, 507]
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "Saturation1"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -30]
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "Saturation1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -35]
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  DstBlock		  "Saturation"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "clutch\ndisengaged"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "clutch\nslipping"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    DstBlock		    "clutch\ndisengaged"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 65]
		    Branch {
		    DstBlock		    "clutch\nslipping"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "clutch\nengaged"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "T & w\noutput\nrequested"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "T & w\ninput\nrequest"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "clutch\nengaged"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "clutch\nslipping"
		  SrcPort		  1
		  Points		  [75, 0]
		  DstBlock		  "Logical\nOperator1"
		  DstPort		  1
		}
		Line {
		  Name			  "clutch\ndisengaged"
		  SrcBlock		  "clutch\ndisengaged"
		  SrcPort		  1
		  Points		  [0, 0; 50, 0]
		  Branch {
		    Points		    [0, -150]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		  }
		  Branch {
		    Labels		    [1, 0]
		    Points		    [0, 195]
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  Points		  [10, 0; 0, -20]
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant3"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Logical\nOperator1"
		  SrcPort		  1
		  Points		  [0, -25]
		  DstBlock		  "Switch1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant4"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Switch2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -20; -50, 0]
		    DstBlock		    "enhancedToWorkspace9"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Logical\nOperator2"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "Switch2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant5"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [45, 0; 0, 45]
		  Branch {
		    DstBlock		    "Switch3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 60]
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Switch3"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [50, 0; 0, -45]
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 60]
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "clutch\nengaged"
		  SrcPort		  1
		  Points		  [5, 0; 0, 185]
		  DstBlock		  "Switch3"
		  DstPort		  2
		}
		Line {
		  Name			  "output torque"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    Points		    [0, 55]
		    DstBlock		    "Goto <sdo>"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [70, 0]
		    Branch {
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -25]
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  Name			  "output\nspeed\nreq'd"
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [0, 0; 5, 0]
		  Branch {
		    Points		    [100, 0; 0, 105]
		    Branch {
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Branch {
		    Labels		    [1, 0]
		    Points		    [0, 385]
		    DstBlock		    "Switch3"
		    DstPort		    3
		    }
		  }
		  Branch {
		    Points		    [0, 75]
		    Branch {
		    DstBlock		    "Goto <sdo>1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [-40, 0]
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "T & w\ninput\nachieved"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Demux1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [0, 35; -45, 0]
		  DstBlock		  "enhancedToWorkspace1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "enhancedToWorkspace"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    DstBlock		    "T & w\noutput\nachieved"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 35; -75, 0]
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "Adjust for\nPossible Launch\nSpeed "
"Request"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Adjust for\nPossible Launch\nSpeed "
"Request"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [325, 61, 370, 89]
	      NamePlacement	      "alternate"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 73, 966, 748]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "clutch_trq_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "clutch_spd_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [430, 103, 460, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "clutch_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "clutch_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "required out"
	      Position		      [390, 68, 420, 82]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [445, 68, 475, 82]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out2"
	      Position		      [445, 143, 475, 157]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [680, 303, 710, 317]
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Demux2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      1
	      Points		      [5, 0; 0, -15]
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      2
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      3
	      Points		      [5, 0; 0, 15]
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "T_cl_out"
	      Labels		      [0, 0]
	      SrcBlock		      "From1"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      Name		      "w_cl_out"
	      Labels		      [0, 0]
	      SrcBlock		      "From2"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "T & w\noutput\nrequested"
	      SrcPort		      1
	      Points		      [0, 0; 25, 0]
	      Branch {
		Points			[0, 45]
		DstBlock		"clutch model"
		DstPort			1
	      }
	      Branch {
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "clutch model"
	      SrcPort		      1
	      Points		      [35, 0]
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "T & w\ninput\nachieved"
	      SrcPort		      1
	      DstBlock		      "clutch model"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "clutch model"
	      SrcPort		      2
	      DstBlock		      "Out2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "required out"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [367, 215]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      Position		      [372, 20]
	      BackgroundColor	      "yellow"
	      Text		      "Model"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [15, 270, 180, 310]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "clControl"
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [325, 94, 515, 136]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "clReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [340, 270, 540, 310]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "clSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T & w\ninput\nrequest"
	  Position		  [450, 198, 480, 212]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T & w\noutput\nachieved"
	  Position		  [450, 213, 480, 227]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "T & w\noutput\nrequested"
	  SrcPort		  1
	  DstBlock		  "clutch model and interface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "clutch model and interface"
	  SrcPort		  2
	  DstBlock		  "T & w\ninput\nrequest"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "T & w\ninput\nachieved"
	  SrcPort		  1
	  DstBlock		  "clutch model and interface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "clutch model and interface"
	  SrcPort		  3
	  DstBlock		  "T & w\noutput\nachieved"
	  DstPort		  1
	}
	Line {
	  Labels		  [2, 0]
	  SrcBlock		  "clutch model and interface"
	  SrcPort		  4
	  Points		  [50, 0]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "clutch model and interface"
	  SrcPort		  1
	  Points		  [0, -75]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [0, -55]
	  DstBlock		  "clutch model and interface"
	  DstPort		  3
	}
	Annotation {
	  Position		  [242, 60]
	  BackgroundColor	  "yellow"
	  Text			  "Clutch\nInterface"
	  FontName		  "Arial"
	  FontSize		  22
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "final drive <fd>"
      Ports		      [2, 2]
      Position		      [615, 437, 660, 488]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone Final Drive Mask"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'fd'|Log|{}|{}|'bdi_fd.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"final drive <fd>"
	Location		[78, 204, 890, 657]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed req'd\nat output side of f"
"inal drive\n(Nm), (rad/s)"
	  Position		  [215, 190, 235, 210]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nat input side of f"
"inal drive\n(Nm), (rad/s)"
	  Position		  [215, 275, 235, 295]
	  FontName		  "Arial"
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Block NOTES"
	  Ports			  []
	  Position		  [135, 60, 191, 100]
	  BackgroundColor	  "green"
	  ShowName		  off
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "disp('Block\\nNOTES')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Block NOTES"
	    Location		    [147, 331, 616, 448]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Annotation {
	      Position		      [222, 17]
	      VerticalAlignment	      "top"
	      Text		      "This final drive model includes loss da"
"ta, rotational inertia, and a gear reduction."
	    }
	    Annotation {
	      Position		      [227, 37]
	      VerticalAlignment	      "top"
	      Text		      "The loss torque is zero when the gears "
"are not turning,\nand is applied at the input side of the gear reduction."
	    }
	    Annotation {
	      Position		      [227, 67]
	      VerticalAlignment	      "top"
	      Text		      "The inertia torque is the input torque "
"required to accelerate the\nfinal drive's inertia as measured on the input si"
"de."
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [175, 381, 285, 419]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fdControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "help"
	  Ports			  []
	  Position		  [95, 60, 127, 102]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowName		  off
	  OpenFcn		  "web(['file:\\\\\\' which('wheel_axle.htm')]"
");"
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "image(imread('doc_man.jpg'))"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "help"
	    Location		    [203, 331, 569, 538]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "model&interface"
	  Ports			  [3, 4]
	  Position		  [340, 217, 380, 278]
	  ForegroundColor	  "red"
	  BackgroundColor	  "lightBlue"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "model&interface"
	    Location		    [214, 77, 966, 744]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "T & w\noutput\nrequest"
	      Position		      [155, 130, 175, 150]
	      NamePlacement	      "alternate"
	      FontName		      "Arial"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "T & w\ninput\nachieved"
	      Position		      [155, 160, 175, 180]
	      FontName		      "Arial"
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      Position		      [160, 315, 180, 335]
	      FontName		      "Arial"
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "Ground"
	      Position		      [330, 315, 350, 335]
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [220, 315, 240, 335]
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "model"
	      Ports		      [2, 2]
	      Position		      [265, 125, 305, 185]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"model"
		Location		[221, 76, 938, 516]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"98"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed req'd\nat output s"
"ide of final drive\n(Nm), (rad/s)"
		  Position		  [30, 35, 50, 55]
		  FontName		  "Arial"
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed avail.\nat input s"
"ide of final drive\n(Nm), (rad/s)"
		  Position		  [25, 315, 45, 335]
		  FontName		  "Arial"
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [70, 195, 126, 235]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [147, 331, 616, 448]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [222, 17]
		    VerticalAlignment	    "top"
		    Text		    "This final drive model includes l"
"oss data, rotational inertia, and a gear reduction."
		    }
		    Annotation {
		    Position		    [227, 37]
		    VerticalAlignment	    "top"
		    Text		    "The loss torque is zero when the "
"gears are not turning,\nand is applied at the input side of the gear reductio"
"n."
		    }
		    Annotation {
		    Position		    [227, 67]
		    VerticalAlignment	    "top"
		    Text		    "The inertia torque is the input t"
"orque required to accelerate the\nfinal drive's inertia as measured on the in"
"put side."
		    }
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [115, 26, 135, 59]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [110, 306, 130, 339]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [200, 35, 270, 65]
		  FontName		  "Arial"
		  Gain			  "fd_ratio"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  Position		  [265, 70, 335, 100]
		  FontName		  "Arial"
		  Gain			  "1/fd_ratio"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain2"
		  Position		  [510, 285, 580, 315]
		  FontName		  "Arial"
		  Gain			  "fd_ratio"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain3"
		  Position		  [510, 345, 580, 375]
		  FontName		  "Arial"
		  Gain			  "1/fd_ratio"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [565, 26, 585, 59]
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [620, 311, 640, 344]
		  ShowName		  off
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [3, 1]
		  Position		  [470, 276, 490, 324]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "--+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [3, 1]
		  Position		  [480, 70, 500, 150]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "effect of inertia\n(Nm)"
		  Ports			  [1, 1]
		  Position		  [380, 167, 410, 203]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [4, 399, 457, 562]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "fd input speed (rad/s)"
		    Position		    [50, 25, 70, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [210, 16, 280, 54]
		    FontName		    "Arial"
		    Gain		    "fd_inertia"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Derivative
		    Name		    "d/dt"
		    Position		    [135, 25, 165, 45]
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "drag torque\n(Nm)"
		    Position		    [350, 25, 370, 45]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "drag torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "d/dt"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fd input speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "d/dt"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [212, 102]
		    VerticalAlignment	    "top"
		    Text		    "The inertia torque is the input t"
"orque required to accelerate the\nfinal drive's inertia as measured on the in"
"put side."
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [180, 282, 275, 298]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fd_trq_in_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [180, 347, 275, 363]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fd_spd_in_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  Ports			  [1]
		  Position		  [615, 412, 710, 428]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fd_spd_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [615, 232, 710, 248]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fd_trq_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [555, 142, 650, 158]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fd_spd_in_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  Ports			  [1]
		  Position		  [555, 102, 650, 118]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fd_trq_in_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  Ports			  [1]
		  Position		  [180, 107, 275, 123]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fd_trq_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  Ports			  [1]
		  Position		  [180, 137, 275, 153]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fd_spd_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  Ports			  []
		  Position		  [30, 195, 62, 237]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('wheel_axl"
"e.htm')]);"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "image(imread('doc_man.jpg'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "help"
		    Location		    [203, 331, 569, 538]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "loss\n(Nm)"
		  Ports			  [1, 1]
		  Position		  [380, 92, 410, 128]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "loss\n(Nm)"
		    Location		    [709, 717, 1135, 911]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "fd output speed (rad/s)"
		    Position		    [60, 55, 80, 75]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [210, 95, 230, 115]
		    Orientation		    "up"
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [285, 49, 315, 81]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "final drive loss torque\n(Nm)"
		    Position		    [115, 14, 195, 36]
		    FontName		    "Arial"
		    Value		    "fd_loss"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "drag torque\n(Nm)"
		    Position		    [380, 55, 400, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "final drive loss torque\n(Nm)"
		    SrcPort		    1
		    Points		    [20, 0; 0, 30]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "drag torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fd output speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -15]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Annotation {
		    Position		    [232, 142]
		    VerticalAlignment	    "top"
		    Text		    "The loss torque is zero when the "
"gears are not turning,\nand is applied at the input side of the gear reductio"
"n."
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed req'd\nat input si"
"de of final drive\n(Nm), (rad/s)"
		  Position		  [695, 35, 715, 55]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed avail.\nat output "
"side of final drive\n(Nm), (rad/s)"
		  Position		  [695, 320, 715, 340]
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Gain2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "torque and speed avail.\nat input s"
"ide of final drive\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "torque and speed avail.\nat output "
"side of final drive\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "loss\n(Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 40, 0]
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum2"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "effect of inertia\n(Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 35, 0]
		  Branch {
		    Points		    [0, 115]
		    DstBlock		    "Sum1"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -50]
		    DstBlock		    "Sum2"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  Points		  [0, 0; 80, 0]
		  Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 75]
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [160, 0]
		    Branch {
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 100]
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "torque and speed req'd\nat output s"
"ide of final drive\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "torque and speed req'd\nat input si"
"de of final drive\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [25, 0; 0, 50]
		  Branch {
		    DstBlock		    "Gain1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [0, 0; 15, 0]
		  Branch {
		    DstBlock		    "Gain"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 95]
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    Points		    [0, -75]
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, -25]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [15, 0]
		  Branch {
		    Points		    [130, 0; 0, 30]
		    DstBlock		    "Gain3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 25]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Gain3"
		  SrcPort		  1
		  Points		  [15, 0; 0, 0]
		  Branch {
		    Points		    [0, -25]
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Gain2"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 20]
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [265, 66, 310, 94]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 73, 966, 748]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "fd_trq_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "fd_spd_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [430, 103, 460, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "fd_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "fd_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "out request"
	      Position		      [390, 70, 410, 90]
	      NamePlacement	      "alternate"
	      FontName		      "Arial"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "T & w input\nrequest"
	      Position		      [385, 130, 405, 150]
	      NamePlacement	      "alternate"
	      FontName		      "Arial"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "T & w\noutput achieved"
	      Position		      [385, 160, 405, 180]
	      FontName		      "Arial"
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [385, 315, 405, 335]
	      FontName		      "Arial"
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "model"
	      SrcPort		      1
	      DstBlock		      "T & w input\nrequest"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "T & w\noutput\nrequest"
	      SrcPort		      1
	      Points		      [55, 0]
	      Branch {
		DstBlock		"model"
		DstPort			1
	      }
	      Branch {
		Points			[0, -60]
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "T & w\ninput\nachieved"
	      SrcPort		      1
	      DstBlock		      "model"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "model"
	      SrcPort		      2
	      DstBlock		      "T & w\noutput achieved"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Ground"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "out request"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [287, 275]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      Position		      [287, 35]
	      BackgroundColor	      "yellow"
	      Text		      "Model"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [445, 94, 545, 136]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fdReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [450, 379, 550, 421]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fdSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nat input side of fi"
"nal drive\n(Nm), (rad/s)"
	  Position		  [495, 205, 515, 225]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed avail.\nat output side of "
"final drive\n(Nm), (rad/s)"
	  Position		  [495, 270, 515, 290]
	  FontName		  "Arial"
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "model&interface"
	  SrcPort		  1
	  Points		  [0, -110]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [0, -130]
	  DstBlock		  "model&interface"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "model&interface"
	  SrcPort		  4
	  Points		  [50, 0]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "torque and speed req'd\nat output side of f"
"inal drive\n(Nm), (rad/s)"
	  SrcPort		  1
	  Points		  [0, 30]
	  DstBlock		  "model&interface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "torque and speed avail.\nat input side of f"
"inal drive\n(Nm), (rad/s)"
	  SrcPort		  1
	  Points		  [0, -35]
	  DstBlock		  "model&interface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "model&interface"
	  SrcPort		  2
	  Points		  [95, 0]
	  DstBlock		  "torque and speed req'd\nat input side of fi"
"nal drive\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "model&interface"
	  SrcPort		  3
	  Points		  [95, 0]
	  DstBlock		  "torque and speed avail.\nat output side of "
"final drive\n(Nm), (rad/s)"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "gearbox <gb>"
      Ports		      [2, 2]
      Position		      [345, 443, 410, 487]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone Gearbox Mask"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'gb'|Log|{}|{}|'bdi_gb.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"gearbox <gb>"
	Location		[198, 77, 966, 744]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed req'd\nat output side of g"
"earbox\n(Nm), (rad/s)"
	  Position		  [125, 185, 145, 205]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nat input side of g"
"earbox\n(Nm), (rad/s)"
	  Position		  [125, 210, 145, 230]
	  FontName		  "Arial"
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Block NOTES"
	  Ports			  []
	  Position		  [60, 95, 116, 135]
	  BackgroundColor	  "green"
	  ShowName		  off
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "disp('Block\\nNOTES')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Block NOTES"
	    Location		    [364, 407, 866, 589]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Annotation {
	      Position		      [247, 17]
	      VerticalAlignment	      "top"
	      Text		      "This gearbox model includes loss data, "
"rotational inertia, and a gear reduction."
	    }
	    Annotation {
	      Position		      [252, 37]
	      VerticalAlignment	      "top"
	      Text		      "The loss torque is zero when the gears "
"are not turning,\nand is applied at the input side of the gear reduction."
	    }
	    Annotation {
	      Position		      [252, 72]
	      VerticalAlignment	      "top"
	      Text		      "The inertia torque is the input torque "
"required to accelerate the\nfinal drive's inertia as measured on the input si"
"de."
	    }
	    Annotation {
	      Position		      [252, 107]
	      VerticalAlignment	      "top"
	      Text		      "Available output torque is estimated as"
"suming that the gearbox efficiency for theavailable input\ntorque andspeed is"
" the same as the gearbox efficiency for the REQUESTED input torque."
	    }
	    Annotation {
	      Position		      [252, 142]
	      VerticalAlignment	      "top"
	      Text		      "This is a good assumption, at least for"
" the VW 4-speed manual transaxle of SAE 820741. \nIn the VW transaxle, effici"
"ency is fairly independent of torque and speed at high torques."
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [85, 291, 195, 329]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "gearbox model & interface"
	  Ports			  [3, 4]
	  Position		  [250, 183, 300, 257]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "gearbox model & interface"
	    Location		    [198, 77, 966, 744]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\noutput\nrequest"
	      Position		      [285, 148, 315, 162]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\ninput\nachieved"
	      Position		      [285, 178, 315, 192]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "controls"
	      Position		      [40, 378, 70, 392]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [6, 1]
	      Position		      [740, 284, 750, 501]
	      ShowName		      off
	      Inputs		      "6"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux2"
	      Ports		      [1, 3]
	      Position		      [105, 303, 120, 467]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "3"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>1"
	      Position		      [520, 295, 620, 315]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gb_spd_in_a"
	      Port {
		PortNumber		1
		Name			"gb_spd_in_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>2"
	      Position		      [520, 330, 620, 350]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_gb_out"
	      Port {
		PortNumber		1
		Name			"T_gb_out"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>3"
	      Position		      [520, 365, 620, 385]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_gb_out"
	      Port {
		PortNumber		1
		Name			"w_gb_out"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>4"
	      Position		      [520, 400, 620, 420]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "eta_gb"
	      Port {
		PortNumber		1
		Name			"eta_gb"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>5"
	      Position		      [520, 435, 620, 455]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gb_trq_out_a"
	      Port {
		PortNumber		1
		Name			"gb_trq_out_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>6"
	      Position		      [520, 470, 620, 490]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gb_spd_out_a"
	      Port {
		PortNumber		1
		Name			"gb_spd_out_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      Position		      [290, 427, 379, 455]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_number"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      Position		      [425, 292, 514, 320]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gb_spd_in_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [290, 317, 379, 345]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility3"
	      Position		      [290, 372, 379, 400]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      Position		      [425, 327, 514, 355]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "T_gb_out"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility5"
	      Position		      [425, 362, 514, 390]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "w_gb_out"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility6"
	      Position		      [425, 397, 514, 425]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "eta_gb"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility7"
	      Position		      [425, 432, 514, 460]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gb_trq_out_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility8"
	      Position		      [425, 467, 514, 495]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gb_spd_out_a"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [180, 429, 280, 451]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_number"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      Position		      [180, 319, 280, 341]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto3"
	      Position		      [180, 374, 280, 396]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "gearbox\nmodel"
	      Ports		      [2, 2]
	      Position		      [400, 140, 440, 200]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"gearbox\nmodel"
		Location		[198, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed req'd\nat output s"
"ide of gearbox\n(Nm), (rad/s)"
		  Position		  [25, 25, 45, 45]
		  FontName		  "Arial"
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed avail.\nat input s"
"ide of gearbox\n(Nm), (rad/s)"
		  Position		  [30, 460, 50, 480]
		  FontName		  "Arial"
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [730, 565, 786, 605]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [247, 17]
		    VerticalAlignment	    "top"
		    Text		    "This gearbox model includes loss "
"data, rotational inertia, and a gear reduction."
		    }
		    Annotation {
		    Position		    [252, 37]
		    VerticalAlignment	    "top"
		    Text		    "The loss torque is zero when the "
"gears are not turning,\nand is applied at the input side of the gear reductio"
"n."
		    }
		    Annotation {
		    Position		    [252, 72]
		    VerticalAlignment	    "top"
		    Text		    "The inertia torque is the input t"
"orque required to accelerate the\nfinal drive's inertia as measured on the in"
"put side."
		    }
		    Annotation {
		    Position		    [252, 107]
		    VerticalAlignment	    "top"
		    Text		    "Available output torque is estima"
"ted assuming that the gearbox efficiency for theavailable input\ntorque andsp"
"eed is the same as the gearbox efficiency for the REQUESTED input torque."
		    }
		    Annotation {
		    Position		    [252, 142]
		    VerticalAlignment	    "top"
		    Text		    "This is a good assumption, at lea"
"st for the VW 4-speed manual transaxle of SAE 820741. \nIn the VW transaxle, "
"efficiency is fairly independent of torque and speed at high torques."
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [510, 150, 530, 170]
		  Orientation		  "left"
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [110, 219, 130, 261]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [115, 451, 135, 484]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc>"
		  Position		  [105, 111, 190, 129]
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "gear_number"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  Position		  [290, 489, 385, 521]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_spd_in_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto1"
		  Position		  [590, 563, 675, 587]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_spd_out_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto4"
		  Position		  [645, 403, 730, 427]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_trq_out_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [1, 1]
		  Position		  [425, 174, 455, 206]
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [660, 36, 680, 69]
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [640, 443, 660, 512]
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Pout/Pin neglecting inertia"
		  Ports			  [4, 1]
		  Position		  [515, 266, 545, 319]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "Pout/Pin neglecting inertia"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Tin"
		    Position		    [25, 85, 45, 105]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Tinertia"
		    Position		    [25, 140, 45, 160]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Tout"
		    Position		    [25, 5, 45, 25]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    Position		    [25, 40, 45, 60]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [320, 225, 340, 245]
		    Orientation		    "up"
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Pout/Pin\n(neglecting\ninertia)"
		    Ports		    [2, 1]
		    Position		    [295, 89, 320, 116]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('/')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Pout/Pin\n(neglecting\ninertia)"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [30, 50, 50, 70]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    Position		    [10, 80, 30, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn"
		    Position		    [60, 79, 90, 101]
		    FontName		    "Arial"
		    FontSize		    8
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [130, 56, 150, 74]
		    FontName		    "Arial"
		    FontSize		    8
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [180, 55, 200, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "Fcn"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Fcn"
		    SrcPort		    1
		    Points		    [15, 0; 0, -20]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [215, 101, 235, 119]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [285, 158, 315, 182]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [425, 135, 455, 165]
		    UpperLimit		    "inf"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [365, 134, 395, 166]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Tin-Tinertia"
		    Ports		    [2, 1]
		    Position		    [75, 85, 95, 120]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "make division\nbombproof"
		    Ports		    [1, 1]
		    Position		    [145, 83, 175, 137]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "make division\nbombproof"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Tin-Tinertia"
		    Position		    [55, 168, 85, 182]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [325, 275, 381, 315]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [250, 64]
		    Text		    "this block added 10 July 2001 by "
"mpo:\noriginally a -eps was added to the denominator by default. \nHowever, c"
"ases were ecountered where Tin-Tineratia was equal to -eps causing\nthe denom"
"inator to be zero. This added checking is more rhobust"
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [190, 265, 210, 285]
		    Orientation		    "up"
		    FontName		    "Arial"
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [105, 265, 125, 285]
		    Orientation		    "up"
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [235, 217, 245, 248]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [145, 213, 175, 237]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "make division\nbombproof"
		    Ports		    [2, 1]
		    Position		    [315, 165, 335, 200]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [385, 178, 415, 192]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "make division\nbombproof"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -20]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [15, 0; 0, -45]
		    DstBlock		    "make division\nbombproof"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [0, -30]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Tin-Tinertia"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "make division\nbombproof"
		    DstPort		    1
		    }
		    }
		    Annotation {
		    Position		    [332, 112]
		    Text		    "only add eps if Tin-Tinertia is ="
"= 0 (this avoids problems when Tin-Tineratia == -eps \nwhich happens from tim"
"e to time"
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Pout/Pin"
		    Position		    [490, 140, 510, 160]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [0, -5]
		    Branch {
		    Points		    [20, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [-75, 0; 0, -40]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "make division\nbombproof"
		    SrcPort		    1
		    Points		    [0, 5]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Tinertia"
		    SrcPort		    1
		    Points		    [5, 0; 0, -40]
		    DstBlock		    "Tin-Tinertia"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Tin"
		    SrcPort		    1
		    DstBlock		    "Tin-Tinertia"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Pout/Pin\n(neglecting\ninertia)"
		    SrcPort		    1
		    Points		    [10, 0; 0, 35]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [15, 0; 0, -20]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "Pout/Pin"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Tin-Tinertia"
		    SrcPort		    1
		    Points		    [20, 0; 0, 5]
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "make division\nbombproof"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Tout"
		    SrcPort		    1
		    Points		    [225, 0; 0, 80]
		    DstBlock		    "Pout/Pin\n(neglecting\ninertia)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Pout/Pin\n(neglecting\ninertia)"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [140, 0; 0, 55]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [242, 292]
		    VerticalAlignment	    "top"
		    Text		    "Pout/Pin, neglecting inertia, is "
"used to estimate the output torque given the\ninput torque in a very simple f"
"orward-facing calculation."
		    }
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [350, 446, 370, 464]
		  ShowName		  off
		  FontName		  "Arial"
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [2, 1]
		  Position		  [515, 356, 535, 374]
		  ShowName		  off
		  FontName		  "Arial"
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [3, 1]
		  Position		  [430, 65, 450, 145]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [460, 430, 480, 465]
		  ShowName		  off
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [505, 100, 535, 130]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "effect of inertia\n(Nm)"
		  Ports			  [1, 1]
		  Position		  [345, 162, 375, 198]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "gb input speed (rad/s)"
		    Position		    [50, 25, 70, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [195, 15, 300, 55]
		    FontName		    "Arial"
		    Gain		    "gb_inertia"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Derivative
		    Name		    "d/dt"
		    Position		    [125, 25, 155, 45]
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "drag torque\n(Nm)"
		    Position		    [350, 25, 370, 45]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "drag torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "d/dt"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gb input speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "d/dt"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [212, 102]
		    VerticalAlignment	    "top"
		    Text		    "The inertia torque is the input t"
"orque required to accelerate the\ngearbox's inertia as measured on the input "
"side."
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [180, 517, 275, 533]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_spd_in_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [180, 427, 275, 443]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_trq_in_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  Ports			  [1]
		  Position		  [635, 542, 730, 558]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_spd_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [635, 367, 730, 383]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_trq_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [635, 327, 730, 343]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|ni_trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_ni_trq_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  Ports			  [1]
		  Position		  [610, 157, 705, 173]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_spd_in_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  Ports			  [1]
		  Position		  [610, 107, 705, 123]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_trq_in_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  Ports			  [1]
		  Position		  [145, 187, 240, 203]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_spd_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace8"
		  Ports			  [1]
		  Position		  [145, 162, 240, 178]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_trq_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace9"
		  Ports			  [1]
		  Position		  [145, 142, 240, 158]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|gear_number|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace9"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_gear_number"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearbox controller interface"
		  Ports			  [3, 2]
		  Position		  [190, 219, 295, 281]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "gearbox controller interface"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "T_gb_out"
		    Position		    [40, 45, 60, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w_gb_out"
		    Position		    [40, 105, 60, 125]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "eta_gb"
		    Position		    [40, 170, 60, 190]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [205, 79, 310, 111]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>1"
		    Position		    [205, 134, 310, 166]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>"
		    Position		    [95, 39, 165, 71]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "T_gb_out"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>1"
		    Position		    [95, 99, 170, 131]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "w_gb_out"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>2"
		    Position		    [95, 164, 170, 196]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "eta_gb"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace1"
		    Ports		    [1]
		    Position		    [360, 32, 455, 48]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|gear_ratio|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_gear_ratio"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace8"
		    Ports		    [1]
		    Position		    [360, 207, 455, 223]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|shifting|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_shifting"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear_ratio"
		    Position		    [345, 85, 365, 105]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "shifting"
		    Position		    [345, 140, 365, 160]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "gear_ratio"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -55]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "eta_gb"
		    SrcPort		    1
		    DstBlock		    "Goto <vc>2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w_gb_out"
		    SrcPort		    1
		    DstBlock		    "Goto <vc>1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "T_gb_out"
		    SrcPort		    1
		    DstBlock		    "Goto <vc>"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <vc>1"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "shifting"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearing\n(Nm) (rad/s)"
		  Ports			  [2, 2]
		  Position		  [265, 22, 300, 73]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "gearing\n(Nm) (rad/s)"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "output shaft\ntorque and speed\n "
"(Nm), (rad/s)"
		    Position		    [55, 25, 75, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    Position		    [55, 120, 75, 140]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    Ports		    [1, 2]
		    Position		    [140, 16, 160, 49]
		    FontName		    "Arial"
		    Outputs		    "2"
		    BusSelectionMode	    off
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    Position		    [300, 69, 330, 91]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [355, 21, 375, 39]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    Ports		    [2, 1]
		    Position		    [355, 116, 375, 134]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "input shaft torque (Nm)"
		    Position		    [455, 20, 475, 40]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "input shaft speed (rad/s)"
		    Position		    [455, 115, 475, 135]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "input shaft speed (rad/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "input shaft torque (Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    Points		    [0, -45]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "output shaft\ntorque and speed\n "
"(Nm), (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [190, 0]
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    Points		    [60, 0; 0, 80]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearing (Nm) (rad/s)1"
		  Ports			  [3, 2]
		  Position		  [520, 438, 555, 512]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "gearing (Nm) (rad/s)1"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "input shaft torque (Nm)"
		    Position		    [75, 15, 95, 35]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "input shaft speed (rad/s)"
		    Position		    [75, 120, 95, 140]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    Position		    [75, 70, 95, 90]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    Position		    [175, 69, 205, 91]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [275, 21, 295, 39]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    Ports		    [2, 1]
		    Position		    [275, 116, 295, 134]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "output shaft torque (Nm)"
		    Position		    [375, 20, 395, 40]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "output shaft speed (rad/s)"
		    Position		    [375, 115, 395, 135]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    Points		    [25, 0; 0, 40]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [45, 0]
		    Branch {
		    Points		    [0, -45]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "output shaft speed (rad/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "output shaft torque (Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "input shaft torque (Nm)"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "input shaft speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  Ports			  []
		  Position		  [684, 564, 717, 607]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('gearbox.h"
"tm')]);"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "image(imread('doc_man.jpg'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "help"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "loss\n(Nm)"
		  Ports			  [3, 1]
		  Position		  [340, 84, 375, 126]
		  ForegroundColor	  "orange"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskPromptString	  "table of efficiency values (spd rad"
"/s, trq Nm)|vector of output torque values for lookup table (Nm)|vector of ou"
"tput speeds for lookup table (rad/s)|Speed scale for the transmission gear bo"
"x|Torque scale for the transmission gear box"
		  MaskStyleString	  "edit,edit,edit,edit,edit"
		  MaskTunableValueString  "on,on,on,on,on"
		  MaskCallbackString	  "||||"
		  MaskEnableString	  "on,on,on,on,on"
		  MaskVisibilityString	  "on,on,on,on,on"
		  MaskToolTipString	  "on,on,on,on,on"
		  MaskVariables		  "tx_eff_map=@1;tx_map_trq=@2;tx_map_"
"spd=@3;gb_spd_scale=@4;gb_trq_scale=@5;"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "tx_eff_map|tx_map_trq|tx_map_spd|gb"
"_spd_scale|gb_trq_scale"
		  MaskVariableAliases	  ",,,,"
		  System {
		    Name		    "loss\n(Nm)"
		    Location		    [198, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "output torque\nand speed\n(Nm), ("
"rad/s)"
		    Position		    [50, 60, 70, 80]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    Position		    [45, 520, 65, 540]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear_number"
		    Position		    [45, 445, 65, 465]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "3D discrete lookup\ntable (sfun)"
		    Ports		    [3, 1]
		    Position		    [285, 279, 315, 331]
		    ForegroundColor	    "orange"
		    AncestorBlock	    "lib_transmission/SubLibraries/3D "
"discrete lookup\ntable (sfun)"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskPromptString	    "Row Lookup|Column Lookup|Lookup M"
"atrix"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "tx_map_spd=@1;tx_map_trq=@2;tx_ef"
"f_map=@3;"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "tx_map_spd|tx_map_trq|tx_eff_map"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "3D discrete lookup\ntable (sfun)"
		    Location		    [135, 114, 743, 588]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "lookup speed (rad/s)"
		    Position		    [45, 68, 75, 82]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "lookup trq (Nm)"
		    Position		    [40, 208, 70, 222]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear_number \n(e.g., 1, 2, 3)"
		    Position		    [40, 348, 70, 362]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [3, 1]
		    Position		    [225, 3, 235, 427]
		    ShowName		    off
		    Inputs		    "3"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [125, 60, 155, 90]
		    UpperLimit		    "max(tx_map_spd)"
		    LowerLimit		    "min(tx_map_spd)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [120, 200, 150, 230]
		    UpperLimit		    "max(tx_map_trq)"
		    LowerLimit		    "min(tx_map_trq)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    Position		    [120, 340, 150, 370]
		    UpperLimit		    "size(tx_eff_map,3)"
		    LowerLimit		    "1"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "discrete interp2d"
		    Ports		    [1, 1]
		    Position		    [255, 199, 380, 231]
		    FunctionName	    "sfun_discreteLookup3d"
		    Parameters		    "tx_map_trq, tx_map_spd, tx_eff_ma"
"p"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "tx_eff"
		    Position		    [405, 208, 435, 222]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "discrete interp2d"
		    SrcPort		    1
		    DstBlock		    "tx_eff"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "discrete interp2d"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "lookup speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "lookup trq (Nm)"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gear_number \n(e.g., 1, 2, 3)"
		    SrcPort		    1
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Abs
		    Name		    "Abs"
		    Position		    [300, 16, 330, 34]
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [885, 595, 941, 635]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [370, 401, 872, 583]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [252, 37]
		    VerticalAlignment	    "top"
		    Text		    "5 July 2001:mpo changing loss blo"
"ck to a lookup table methodology\n12/20/00:tm revised loss saturation block. "
"lower limit changed \nfrom 1 to 0 and upper limit changed from 100 to inf to "
"prevent over or under penalties"
		    }
		    Annotation {
		    Position		    [247, 17]
		    VerticalAlignment	    "top"
		    Text		    "Revision Notes:"
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [600, 305, 625, 325]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [350, 391, 375, 409]
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [575, 241, 605, 259]
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [830, 370, 855, 390]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant4"
		    Position		    [905, 425, 930, 445]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    Ports		    [1, 2]
		    Position		    [110, 41, 115, 99]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "2"
		    BusSelectionMode	    off
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [525, 291, 590, 309]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "T_out"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From10"
		    Position		    [500, 210, 605, 230]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "tx_eff"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From11"
		    Position		    [785, 353, 870, 367]
		    NamePlacement	    "alternate"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "w_out"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From4"
		    Position		    [500, 395, 640, 415]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "one_minus_tx_eff"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From5"
		    Position		    [500, 444, 630, 466]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "T_out_abs"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From6"
		    Position		    [500, 495, 605, 515]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From7"
		    Position		    [500, 75, 640, 95]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "one_minus_tx_eff"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From8"
		    Position		    [500, 119, 630, 141]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "T_out_abs"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From9"
		    Position		    [500, 165, 605, 185]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto"
		    Position		    [135, 439, 240, 471]
		    GotoTag		    "gear_number"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto1"
		    Position		    [135, 516, 240, 544]
		    GotoTag		    "gear_ratio"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto2"
		    Position		    [180, 45, 285, 65]
		    NamePlacement	    "alternate"
		    GotoTag		    "T_out"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto3"
		    Position		    [180, 75, 285, 95]
		    GotoTag		    "w_out"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto4"
		    Position		    [415, 290, 455, 320]
		    GotoTag		    "tx_eff"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto5"
		    Position		    [430, 337, 550, 363]
		    GotoTag		    "one_minus_tx_eff"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto6"
		    Position		    [355, 15, 460, 35]
		    GotoTag		    "T_out_abs"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [4, 1]
		    Position		    [655, 63, 675, 242]
		    Inputs		    "**//"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [3, 1]
		    Position		    [660, 382, 680, 528]
		    Inputs		    "**/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [655, 292, 685, 323]
		    Operator		    ">="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [890, 351, 905, 384]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [395, 340, 415, 360]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [620, 210, 640, 230]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [765, 294, 795, 326]
		    FontName		    "Arial"
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [955, 304, 985, 336]
		    FontName		    "Arial"
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    Ports		    [1]
		    Position		    [145, 567, 240, 583]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|current_gear_ratio|lo"
"gFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_current_gear_ratio"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace1"
		    Ports		    [1]
		    Position		    [945, 187, 1040, 203]
		    ForegroundColor	    "orange"
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|spin_loss_trq|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_spin_loss_trq"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "ensure efficiency\nis between \n0"
"% and 100%,\ninclusive"
		    Position		    [340, 290, 370, 320]
		    NamePlacement	    "alternate"
		    UpperLimit		    "1"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "gear number (1st, 2nd, 3rd, etc.)"
		    Position		    [135, 376, 230, 394]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_number"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "scaled trq_out"
		    Ports		    [3, 1]
		    Position		    [185, 277, 200, 333]
		    ForegroundColor	    "orange"
		    Inputs		    "*//"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "scaled w_in"
		    Ports		    [3, 1]
		    Position		    [230, 215, 245, 265]
		    ForegroundColor	    "orange"
		    NamePlacement	    "alternate"
		    Inputs		    "/**"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "spd scale"
		    Position		    [40, 217, 120, 233]
		    NamePlacement	    "alternate"
		    Value		    "gb_spd_scale"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "spd_out"
		    Position		    [130, 233, 215, 247]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "w_out"
		    }
		    Block {
		    BlockType		    From
		    Name		    "trq out"
		    Position		    [15, 276, 95, 294]
		    NamePlacement	    "alternate"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "T_out"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "trq scale"
		    Position		    [95, 297, 165, 313]
		    Value		    "gb_trq_scale"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "loss torque at\ninput shaft (Nm)"
		    Position		    [1060, 310, 1080, 330]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "gear_number"
		    SrcPort		    1
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "Goto1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -165; 70, 0]
		    Branch {
		    Points		    [55, 0]
		    DstBlock		    "scaled w_in"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, -40]
		    DstBlock		    "scaled trq_out"
		    DstPort		    3
		    }
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "spd scale"
		    SrcPort		    1
		    DstBlock		    "scaled w_in"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "spd_out"
		    SrcPort		    1
		    DstBlock		    "scaled w_in"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Goto5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "trq scale"
		    SrcPort		    1
		    DstBlock		    "scaled trq_out"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "scaled trq_out"
		    SrcPort		    1
		    DstBlock		    "3D discrete lookup\ntable (sfun)"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "trq out"
		    SrcPort		    1
		    DstBlock		    "scaled trq_out"
		    DstPort		    1
		    }
		    Line {
		    Labels		    [2, 0]
		    SrcBlock		    "scaled w_in"
		    SrcPort		    1
		    Points		    [5, 0; 0, 50]
		    DstBlock		    "3D discrete lookup\ntable (sfun)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "ensure efficiency\nis between \n0"
"% and 100%,\ninclusive"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto4"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "3D discrete lookup\ntable (sfun)"
		    SrcPort		    1
		    DstBlock		    "ensure efficiency\nis between \n0"
"% and 100%,\ninclusive"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Abs"
		    SrcPort		    1
		    DstBlock		    "Goto6"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    Points		    [0, -30]
		    DstBlock		    "Abs"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [15, 0; 0, -50]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From11"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant4"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    DstBlock		    "loss torque at\ninput shaft (Nm)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -105; -95, 0]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From10"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "From9"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "From8"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From7"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [50, 0; 0, 145]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From5"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From6"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "From4"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [45, 0; 0, -135]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gear number (1st, 2nd, 3rd, etc.)"
		    SrcPort		    1
		    Points		    [0, -65]
		    DstBlock		    "3D discrete lookup\ntable (sfun)"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    DstBlock		    "Goto3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "output torque\nand speed\n(Nm), ("
"rad/s)"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [945, 153]
		    ForegroundColor	    "white"
		    BackgroundColor	    "black"
		    Text		    "\nTORQUE LOSS CALCULATION\n"
		    }
		    Annotation {
		    Position		    [254, 313]
		    Text		    "gear"
		    }
		    Annotation {
		    Position		    [263, 297]
		    Text		    "trq"
		    }
		    Annotation {
		    Position		    [269, 276]
		    Text		    "spd"
		    }
		    Annotation {
		    Position		    [371, 55]
		    Text		    "torque at transmission output, Nm"
		    }
		    Annotation {
		    Position		    [376, 87]
		    Text		    "speed at transmission output, rad"
"/s"
		    }
		    Annotation {
		    Position		    [994, 415]
		    Text		    "no_loss case"
		    }
		    Annotation {
		    Position		    [954, 496]
		    Text		    "Note: saturation block keeps\nlos"
"s positive-- for both powered\nand regen cases, a\npositive value represents "
"a \"loss\""
		    }
		    Annotation {
		    Position		    [783, 278]
		    Text		    "Switch for Powered\n or Regen Cas"
"e"
		    }
		    Annotation {
		    Position		    [952, 270]
		    Text		    "Switch to Determine \nif Gears ar"
"e Turning\n--No loss if gears \nare not turning"
		    }
		    Annotation {
		    Position		    [774, 126]
		    Text		    "Normal \"Powered\" case\n(energy "
"flow from engine\nthrough transmission to wheels)"
		    }
		    Annotation {
		    Position		    [785, 208]
		    Text		    "T_loss_at_input"
		    }
		    Annotation {
		    Position		    [773, 488]
		    Text		    "\"Regen\" case\n(energy flowing f"
"rom\nwheel side of transmission\nto engine side of transmission)"
		    }
		    Annotation {
		    Position		    [778, 414]
		    Text		    "T_loss_at_input"
		    }
		    Annotation {
		    Position		    [278, 156]
		    ForegroundColor	    "white"
		    BackgroundColor	    "black"
		    Text		    "\nLOOKUP TABLE FOR TRANSMISSION E"
"FFICIENCY\n"
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed req'd\nat input si"
"de of gearbox\n(Nm), (rad/s)"
		  Position		  [745, 45, 765, 65]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed avail.\nat output "
"side of gearbox\n(Nm), (rad/s)"
		  Position		  [735, 470, 755, 490]
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "gearbox controller interface"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 80; 170, 0]
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 140]
		    DstBlock		    "gearing (Nm) (rad/s)1"
		    DstPort		    3
		    }
		    }
		    Branch {
		    DstBlock		    "Pout/Pin neglecting inertia"
		    DstPort		    4
		    }
		  }
		  Branch {
		    Points		    [0, -25; -65, 0; 0, -105; -45, 0]
		    Branch {
		    Points		    [0, -45]
		    DstBlock		    "gearing\n(Nm) (rad/s)"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "loss\n(Nm)"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [-15, 0]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  Points		  [0, 0; 45, 0]
		  Branch {
		    Points		    [0, -70]
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  Points		  [25, 0; 0, -75]
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "gearbox controller interface"
		  SrcPort		  2
		  Points		  [110, 0]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    DstBlock		    "Switch"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 165]
		    DstBlock		    "Pout/Pin neglecting inertia"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [0, 0; 15, 0]
		  Branch {
		    Points		    [0, 30]
		    Branch {
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "gearing (Nm) (rad/s)1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "gearing (Nm) (rad/s)1"
		  SrcPort		  1
		  Points		  [0, 0; 50, 0]
		  Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -45]
		    Branch {
		    Points		    [0, -40]
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto4"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "gearing (Nm) (rad/s)1"
		  SrcPort		  2
		  Points		  [35, 0]
		  Branch {
		    Points		    [0, 65; -20, 0]
		    DstBlock		    "Goto1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [35, 0]
		    Branch {
		    DstBlock		    "gearbox controller interface"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "Pout/Pin neglecting inertia"
		    DstPort		    3
		    }
		  }
		  Branch {
		    Points		    [0, -15; -30, 0; 0, -45]
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [0, 0; 10, 0]
		  Branch {
		    DstBlock		    "gearbox controller interface"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -40; -20, 0; 0, -15]
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "torque and speed req'd\nat output s"
"ide of gearbox\n(Nm), (rad/s)"
		  SrcPort		  1
		  Points		  [0, 0; 45, 0]
		  Branch {
		    DstBlock		    "gearing\n(Nm) (rad/s)"
		    DstPort		    1
		  }
		  Branch {
		    Labels		    [1, 0]
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "effect of inertia\n(Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    Points		    [0, 105]
		    Branch {
		    Points		    [0, 155]
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Pout/Pin neglecting inertia"
		    DstPort		    2
		    }
		  }
		  Branch {
		    Points		    [0, -50]
		    DstBlock		    "Sum2"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "gearing\n(Nm) (rad/s)"
		  SrcPort		  2
		  Points		  [0, 0; 15, 0]
		  Branch {
		    Points		    [235, 0]
		    Branch {
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 120]
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "gearing\n(Nm) (rad/s)"
		  SrcPort		  1
		  Points		  [100, 0; 0, 45]
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "torque and speed req'd\nat input si"
"de of gearbox\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Pout/Pin neglecting inertia"
		  SrcPort		  1
		  Points		  [35, 0; 0, 55; -255, 0]
		  Branch {
		    Points		    [0, 100]
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [-155, 0]
		    DstBlock		    "gearbox controller interface"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "torque and speed avail.\nat input s"
"ide of gearbox\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "gearing (Nm) (rad/s)1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "torque and speed avail.\nat output "
"side of gearbox\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [0, 0; 60, 0]
		  Branch {
		    DstBlock		    "Sum3"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -85]
		    DstBlock		    "Product1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  Points		  [80, 0]
		  DstBlock		  "enhancedToWorkspace4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From <vc>"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 15; -90, 0; 0, 15]
		    DstBlock		    "enhancedToWorkspace9"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    3
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [390, 76, 445, 104]
	      NamePlacement	      "alternate"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "gb_trq_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "gb_spd_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [430, 103, 460, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "gb_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "gb_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "requested\noutput"
	      Position		      [475, 83, 505, 97]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\ninput\nrequest"
	      Position		      [530, 148, 560, 162]
	      NamePlacement	      "alternate"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\noutput\nachieved"
	      Position		      [530, 178, 560, 192]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [780, 388, 810, 402]
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      Name		      "gb_spd_out_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>6"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      6
	    }
	    Line {
	      Name		      "gb_spd_in_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>1"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      Name		      "T_gb_out"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>2"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "w_gb_out"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>3"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "eta_gb"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>4"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controls"
	      SrcPort		      1
	      DstBlock		      "Demux2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      1
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      2
	      DstBlock		      "Goto3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      3
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd\noutput\nrequest"
	      SrcPort		      1
	      Points		      [55, 0]
	      Branch {
		DstBlock		"gearbox\nmodel"
		DstPort			1
	      }
	      Branch {
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "gearbox\nmodel"
	      SrcPort		      1
	      DstBlock		      "trq and spd\ninput\nrequest"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd\ninput\nachieved"
	      SrcPort		      1
	      DstBlock		      "gearbox\nmodel"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "gearbox\nmodel"
	      SrcPort		      2
	      DstBlock		      "trq and spd\noutput\nachieved"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "requested\noutput"
	      DstPort		      1
	    }
	    Line {
	      Name		      "gb_trq_out_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>5"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      5
	    }
	    Annotation {
	      Position		      [422, 25]
	      BackgroundColor	      "yellow"
	      Text		      "Model"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      Position		      [422, 260]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "help"
	  Ports			  []
	  Position		  [64, 39, 97, 82]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowName		  off
	  OpenFcn		  "web(['file:\\\\\\' which('gearbox.htm')]);"
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "image(imread('doc_man.jpg'))"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "help"
	    Location		    [203, 331, 569, 538]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [355, 84, 455, 126]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [360, 289, 460, 331]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nat input side of ge"
"arbox\n(Nm), (rad/s)"
	  Position		  [400, 200, 420, 220]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed avail.\nat output side of "
"gearbox\n(Nm), (rad/s)"
	  Position		  [400, 220, 420, 240]
	  FontName		  "Arial"
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "gearbox model & interface"
	  SrcPort		  1
	  Points		  [0, -85]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "gearbox model & interface"
	  SrcPort		  2
	  DstBlock		  "torque and speed req'd\nat input side of ge"
"arbox\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "torque and speed req'd\nat output side of g"
"earbox\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "gearbox model & interface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "torque and speed avail.\nat input side of g"
"earbox\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "gearbox model & interface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "gearbox model & interface"
	  SrcPort		  3
	  DstBlock		  "torque and speed avail.\nat output side of "
"gearbox\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [0, -65]
	  DstBlock		  "gearbox model & interface"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "gearbox model & interface"
	  SrcPort		  4
	  Points		  [40, 0]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Annotation {
	  Position		  [282, 55]
	  BackgroundColor	  "yellow"
	  Text			  "Gearbox"
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "gearbox <gb>\nCVT"
      Ports		      [2, 2]
      Position		      [345, 513, 410, 557]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone Gearbox Mask"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'gb'|Log|{}|{}|'bdi_gb.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"gearbox <gb>\nCVT"
	Location		[202, 77, 966, 744]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed req'd\nat output side of g"
"earbox\n(Nm), (rad/s)"
	  Position		  [125, 185, 145, 205]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nat input side of g"
"earbox\n(Nm), (rad/s)"
	  Position		  [125, 210, 145, 230]
	  FontName		  "Arial"
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Block NOTES"
	  Ports			  []
	  Position		  [60, 95, 116, 135]
	  BackgroundColor	  "green"
	  ShowName		  off
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "disp('Block\\nNOTES')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Block NOTES"
	    Location		    [364, 407, 866, 589]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Annotation {
	      Position		      [247, 17]
	      VerticalAlignment	      "top"
	      Text		      "This gearbox model includes loss data, "
"rotational inertia, and a gear reduction."
	    }
	    Annotation {
	      Position		      [252, 37]
	      VerticalAlignment	      "top"
	      Text		      "The loss torque is zero when the gears "
"are not turning,\nand is applied at the input side of the gear reduction."
	    }
	    Annotation {
	      Position		      [252, 72]
	      VerticalAlignment	      "top"
	      Text		      "The inertia torque is the input torque "
"required to accelerate the\nfinal drive's inertia as measured on the input si"
"de."
	    }
	    Annotation {
	      Position		      [252, 107]
	      VerticalAlignment	      "top"
	      Text		      "Available output torque is estimated as"
"suming that the gearbox efficiency for theavailable input\ntorque andspeed is"
" the same as the gearbox efficiency for the REQUESTED input torque."
	    }
	    Annotation {
	      Position		      [252, 142]
	      VerticalAlignment	      "top"
	      Text		      "This is a good assumption, at least for"
" the VW 4-speed manual transaxle of SAE 820741. \nIn the VW transaxle, effici"
"ency is fairly independent of torque and speed at high torques."
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "CVT model & interface"
	  Ports			  [3, 4]
	  Position		  [245, 183, 295, 257]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "CVT model & interface"
	    Location		    [297, 453, 507, 585]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\noutput\nrequest"
	      Position		      [330, 258, 360, 272]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\ninput\nachieved"
	      Position		      [330, 288, 360, 302]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "controls"
	      Position		      [85, 458, 115, 472]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [3, 1]
	      Position		      [785, 394, 795, 546]
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "CVT gearbox \n<gb>"
	      Ports		      [2, 2]
	      Position		      [440, 249, 485, 311]
	      BackgroundColor	      "yellow"
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"CVT gearbox \n<gb>"
		Location		[118, 74, 970, 669]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed req'd\nat output s"
"ide of cvt\n(Nm), (rad/s)"
		  Position		  [50, 15, 70, 35]
		  FontName		  "Arial"
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed avail.\nat input s"
"ide of cvt\n(Nm), (rad/s)"
		  Position		  [55, 450, 75, 470]
		  FontName		  "Arial"
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES1"
		  Ports			  []
		  Position		  [415, 515, 471, 555]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES1"
		    Location		    [618, 312, 1120, 494]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [247, 17]
		    VerticalAlignment	    "top"
		    Text		    "This gearbox model includes loss "
"data, rotational inertia, and a gear reduction."
		    }
		    Annotation {
		    Position		    [252, 37]
		    VerticalAlignment	    "top"
		    Text		    "The loss torque is zero when the "
"gears are not turning,\nand is applied at the input side of the gear reductio"
"n."
		    }
		    Annotation {
		    Position		    [252, 72]
		    VerticalAlignment	    "top"
		    Text		    "The inertia torque is the input t"
"orque required to accelerate the\nfinal drive's inertia as measured on the in"
"put side."
		    }
		    Annotation {
		    Position		    [252, 107]
		    VerticalAlignment	    "top"
		    Text		    "Available output torque is estima"
"ted assuming that the gearbox efficiency for theavailable input\ntorque andsp"
"eed is the same as the gearbox efficiency for the REQUESTED input torque."
		    }
		    Annotation {
		    Position		    [252, 142]
		    VerticalAlignment	    "top"
		    Text		    "This is a good assumption, at lea"
"st for the VW 4-speed manual transaxle of SAE 820741. \nIn the VW transaxle, "
"efficiency is fairly independent of torque and speed at high torques."
		    }
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [135, 209, 155, 251]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [140, 441, 160, 474]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  InitialCondition
		  Name			  "IC"
		  Position		  [320, 325, 350, 355]
		  Orientation		  "left"
		  Value			  "0.9"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [685, 26, 705, 59]
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [665, 433, 685, 502]
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Pout/Pin,\nneglecting inertia"
		  Ports			  [4, 1]
		  Position		  [545, 256, 575, 309]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "Pout/Pin,\nneglecting inertia"
		    Location		    [179, 341, 687, 630]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Tin"
		    Position		    [25, 85, 45, 105]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Tinertia"
		    Position		    [25, 140, 45, 160]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Tout"
		    Position		    [25, 5, 45, 25]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    Position		    [25, 40, 45, 60]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [115, 155, 135, 175]
		    Orientation		    "up"
		    FontName		    "Arial"
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [370, 140, 390, 160]
		    Orientation		    "left"
		    FontName		    "Arial"
		    Value		    "0.5"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Pout/Pin\n(neglecting\ninertia)"
		    Ports		    [2, 1]
		    Position		    [295, 88, 315, 117]
		    FontName		    "Arial"
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [215, 101, 235, 119]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [365, 89, 395, 121]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Tin-Tinertia"
		    Ports		    [2, 1]
		    Position		    [75, 85, 95, 120]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "make division\nbombproof"
		    Ports		    [2, 1]
		    Position		    [160, 95, 180, 130]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Pout/Pin"
		    Position		    [435, 95, 455, 115]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Pout/Pin"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Pout/Pin\n(neglecting\ninertia)"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -10]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Pout/Pin\n(neglecting\ninertia)"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [140, 0; 0, 55]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "make division\nbombproof"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Tinertia"
		    SrcPort		    1
		    Points		    [5, 0; 0, -40]
		    DstBlock		    "Tin-Tinertia"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Tout"
		    SrcPort		    1
		    Points		    [225, 0; 0, 80]
		    DstBlock		    "Pout/Pin\n(neglecting\ninertia)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Tin"
		    SrcPort		    1
		    DstBlock		    "Tin-Tinertia"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Tin-Tinertia"
		    SrcPort		    1
		    DstBlock		    "make division\nbombproof"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -30]
		    DstBlock		    "make division\nbombproof"
		    DstPort		    2
		    }
		    Annotation {
		    Position		    [252, 207]
		    VerticalAlignment	    "top"
		    Text		    "Pout/Pin, neglecting inertia, is "
"used to estimate the output torque given the\ninput torque in a very simple f"
"orward-facing calculation."
		    }
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [410, 436, 430, 454]
		  FontName		  "Arial"
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [2, 1]
		  Position		  [535, 351, 555, 369]
		  FontName		  "Arial"
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [3, 1]
		  Position		  [455, 60, 475, 140]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [485, 420, 505, 455]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  Position		  [510, 94, 540, 126]
		  FontName		  "Arial"
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "cvt controller interface"
		  Ports			  [3, 1]
		  Position		  [215, 209, 320, 271]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "cvt controller interface"
		    Location		    [649, 680, 1065, 911]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "T_gb_out"
		    Position		    [40, 45, 60, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w_gb_out"
		    Position		    [40, 105, 60, 125]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "eta_gb"
		    Position		    [40, 170, 60, 190]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [185, 34, 290, 66]
		    BackgroundColor	    "lightBlue"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>"
		    Position		    [95, 39, 165, 71]
		    BackgroundColor	    "lightBlue"
		    GotoTag		    "T_gb_out"
		    TagVisibility	    "global"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>1"
		    Position		    [95, 99, 170, 131]
		    BackgroundColor	    "lightBlue"
		    GotoTag		    "w_gb_out"
		    TagVisibility	    "global"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>2"
		    Position		    [95, 164, 170, 196]
		    BackgroundColor	    "lightBlue"
		    GotoTag		    "eta_gb"
		    TagVisibility	    "global"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear_ratio"
		    Position		    [325, 40, 345, 60]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "T_gb_out"
		    SrcPort		    1
		    DstBlock		    "Goto <vc>"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w_gb_out"
		    SrcPort		    1
		    DstBlock		    "Goto <vc>1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "eta_gb"
		    SrcPort		    1
		    DstBlock		    "Goto <vc>2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    DstBlock		    "gear_ratio"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "effect of inertia\n(Nm)"
		  Ports			  [1, 1]
		  Position		  [370, 152, 400, 188]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [4, 399, 457, 594]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "gb input speed (rad/s)"
		    Position		    [50, 25, 70, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [195, 15, 300, 55]
		    FontName		    "Arial"
		    Gain		    "gb_inertia"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Derivative
		    Name		    "d/dt"
		    Position		    [125, 25, 155, 45]
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "drag torque\n(Nm)"
		    Position		    [350, 25, 370, 45]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "drag torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gb input speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "d/dt"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "d/dt"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [212, 102]
		    VerticalAlignment	    "top"
		    Text		    "The inertia torque is the input t"
"orque required to accelerate the\ngearbox's inertia as measured on the input "
"side."
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [205, 517, 300, 533]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [205, 477, 300, 493]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  Ports			  [1]
		  Position		  [180, 132, 260, 148]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [185, 161, 265, 179]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [635, 147, 730, 163]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  Ports			  [1]
		  Position		  [635, 102, 730, 118]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  Ports			  [1]
		  Position		  [522, 390, 618, 410]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|ni_trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  Ports			  [1]
		  Position		  [660, 352, 755, 368]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace8"
		  Ports			  [1]
		  Position		  [660, 387, 755, 403]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearbox \nefficiency"
		  Ports			  [1]
		  Position		  [640, 260, 670, 310]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "gearbox \nefficiency"
		    Location		    [549, 260, 949, 480]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 128, 55, 142]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [90, 85, 110, 105]
		    FontName		    "Arial"
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [90, 35, 110, 55]
		    FontName		    "Arial"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [205, 68, 225, 97]
		    FontName		    "Arial"
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [270, 119, 300, 151]
		    FontName		    "Arial"
		    Threshold		    "1"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    Ports		    [1]
		    Position		    [325, 127, 420, 143]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|eta_gb|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "make division\nbombproof"
		    Ports		    [2, 1]
		    Position		    [155, 70, 175, 105]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [20, 0; 0, 40]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [75, 0]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "make division\nbombproof"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [175, 0]
		    Branch {
		    Points		    [0, 10]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Branch {
		    Points		    [0, -55]
		    DstBlock		    "make division\nbombproof"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "make division\nbombproof"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearing\n(Nm), (rad/s)"
		  Ports			  [2, 2]
		  Position		  [285, 12, 320, 63]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "gearing\n(Nm), (rad/s)"
		    Location		    [275, 428, 831, 623]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "output shaft\ntorque and speed\n "
"(Nm), (rad/s)"
		    Position		    [55, 25, 75, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    Position		    [55, 120, 75, 140]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    Ports		    [1, 2]
		    Position		    [140, 16, 160, 49]
		    FontName		    "Arial"
		    Outputs		    "2"
		    BusSelectionMode	    off
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    Position		    [300, 69, 330, 91]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [355, 21, 375, 39]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    Ports		    [2, 1]
		    Position		    [355, 116, 375, 134]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "input shaft torque (Nm)"
		    Position		    [455, 20, 475, 40]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "input shaft speed (rad/s)"
		    Position		    [455, 115, 475, 135]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "input shaft speed (rad/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "input shaft torque (Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    Points		    [0, -45]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "output shaft\ntorque and speed\n "
"(Nm), (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [190, 0]
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    Points		    [60, 0; 0, 80]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearing\n(Nm), (rad/s)1"
		  Ports			  [3, 2]
		  Position		  [545, 428, 580, 502]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "gearing\n(Nm), (rad/s)1"
		    Location		    [277, 426, 746, 612]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "input shaft torque (Nm)"
		    Position		    [75, 15, 95, 35]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "input shaft speed (rad/s)"
		    Position		    [75, 120, 95, 140]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    Position		    [75, 70, 95, 90]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    Position		    [175, 69, 205, 91]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [275, 21, 295, 39]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    Ports		    [2, 1]
		    Position		    [275, 116, 295, 134]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "output shaft torque (Nm)"
		    Position		    [375, 20, 395, 40]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "output shaft speed (rad/s)"
		    Position		    [375, 115, 395, 135]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "input shaft speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "input shaft torque (Nm)"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "output shaft torque (Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "output shaft speed (rad/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [45, 0]
		    Branch {
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -45]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    Points		    [25, 0; 0, 40]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help1"
		  Ports			  []
		  Position		  [371, 514, 402, 557]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('cvt.htm')"
"]);"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "image(imread('doc_man.jpg'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "help1"
		    Location		    [203, 331, 569, 538]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "loss\n(Nm)"
		  Ports			  [2, 1]
		  Position		  [370, 79, 405, 121]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "loss\n(Nm)"
		    Location		    [105, 256, 728, 554]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "output torque\nand speed\n(Nm), ("
"rad/s)"
		    Position		    [50, 65, 70, 85]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "pulley ratio"
		    Position		    [50, 185, 70, 205]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Abs
		    Name		    "Abs2"
		    Position		    [440, 110, 470, 140]
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux1"
		    Ports		    [1, 2]
		    Position		    [115, 54, 135, 96]
		    FontName		    "Arial"
		    Outputs		    "2"
		    BusSelectionMode	    off
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Input Torque:\n3-D interpolation"
		    Ports		    [3, 1]
		    Position		    [195, 35, 240, 225]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "Input Torque:\n3-D interpolation"
		    Location		    [51, 193, 965, 538]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "output\ntorque (N*m)"
		    Position		    [145, 30, 165, 50]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "output\nspeed (rad/s)"
		    Position		    [195, 65, 215, 85]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "pulley\nratio"
		    Position		    [35, 210, 55, 230]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [485, 95, 505, 115]
		    FontName		    "Arial"
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant4"
		    Position		    [725, 265, 745, 285]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux2"
		    Ports		    [1, 2]
		    Position		    [415, 159, 435, 201]
		    FontName		    "Arial"
		    Outputs		    "2"
		    BusSelectionMode	    off
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up\nTable1"
		    Position		    [265, 198, 295, 222]
		    InputValues		    "[1:max(size(gb_ratio))]"
		    OutputValues	    "gb_ratio"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up\nTable2"
		    Position		    [320, 218, 350, 242]
		    InputValues		    "[1:max(size(gb_ratio))]"
		    OutputValues	    "gb_ratio"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [4, 1]
		    Position		    [455, 162, 475, 238]
		    Inputs		    "4"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [3, 1]
		    Position		    [590, 167, 610, 233]
		    Inputs		    "3"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [2, 1]
		    Position		    [325, 150, 345, 185]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux4"
		    Ports		    [2, 1]
		    Position		    [320, 15, 340, 50]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux7"
		    Ports		    [4, 1]
		    Position		    [265, 19, 285, 166]
		    Inputs		    "4"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [3, 1]
		    Position		    [370, 77, 390, 113]
		    FontName		    "Arial"
		    Inputs		    "3"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [3, 1]
		    Position		    [710, 192, 730, 228]
		    FontName		    "Arial"
		    Inputs		    "*//"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    Ports		    [2, 1]
		    Position		    [535, 72, 565, 103]
		    IconShape		    "rectangular"
		    Inputs		    "2"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [765, 204, 795, 236]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "indices of nearest\npulley ratios"
" for which\nthere exist maps"
		    Ports		    [1, 2]
		    Position		    [90, 199, 230, 241]
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "indices of nearest\npulley ratios"
" for which\nthere exist maps"
		    Location		    [80, 295, 541, 504]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [15, 60, 35, 80]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [190, 5, 210, 25]
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up\nTable"
		    Position		    [70, 58, 100, 82]
		    InputValues		    "fliplr(gb_ratio)"
		    OutputValues	    "fliplr([1:max(size(gb_ratio))])"
		    }
		    Block {
		    BlockType		    Rounding
		    Name		    "Rounding\nFunction"
		    Position		    [150, 55, 180, 85]
		    Operator		    "fix"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [290, 56, 320, 74]
		    UpperLimit		    "max(size(gb_ratio))"
		    LowerLimit		    "1"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [245, 55, 265, 75]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "index of\nupper bounding\nmap"
		    Position		    [355, 55, 375, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "index of\nlower bounding\nmap"
		    Position		    [355, 130, 375, 150]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Look-Up\nTable"
		    SrcPort		    1
		    DstBlock		    "Rounding\nFunction"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Look-Up\nTable"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [5, 0; 0, 45]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Rounding\nFunction"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "index of\nlower bounding\nmap"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "index of\nupper bounding\nmap"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "linear eqn\nfor power"
		    Position		    [640, 189, 670, 211]
		    Expr		    "u[5]*(u[6]-u[3])+u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "slope for\nlinear interp."
		    Position		    [525, 189, 555, 211]
		    Expr		    "(u[1]-u[2])/(u[3]-u[4]+eps)"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "trq in \nlook-up"
		    Ports		    [1, 1]
		    Position		    [315, 70, 345, 120]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskPromptString	    "Vector of output speeds|Vector of"
" input torques|Table of output torques|Vector of gear ratios"
		    MaskStyleString	    "edit,edit,edit,edit"
		    MaskTunableValueString  "on,on,on,on"
		    MaskCallbackString	    "|||"
		    MaskEnableString	    "on,on,on,on"
		    MaskVisibilityString    "on,on,on,on"
		    MaskToolTipString	    "on,on,on,on"
		    MaskVariables	    "P1=@1;P2=@2;P3=@3;P4=@4;"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "gb_map_spd_out*gb_spd_scale|gb_ma"
"p_trq_in*gb_trq_scale|gb_map_trq_out*gb_trq_scale|gb_ratio"
		    MaskVariableAliases	    ",,,"
		    System {
		    Name		    "trq in \nlook-up"
		    Location		    [131, 568, 361, 644]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 33, 55, 47]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-Function5"
		    Ports		    [1, 1]
		    Position		    [80, 28, 150, 52]
		    FunctionName	    "sfun_gb_loss"
		    Parameters		    "P1,P2,P3,P4"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [175, 33, 205, 47]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "S-Function5"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function5"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "input\ntorque (Nm)"
		    Position		    [835, 210, 855, 230]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "pulley\nratio"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "indices of nearest\npulley ratios"
" for which\nthere exist maps"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 70; 505, 0]
		    Branch {
		    DstBlock		    "Mux2"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [120, 0]
		    DstBlock		    "Product2"
		    DstPort		    3
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "indices of nearest\npulley ratios"
" for which\nthere exist maps"
		    SrcPort		    1
		    Points		    [5, 0; 0, 0]
		    Branch {
		    DstBlock		    "Look-Up\nTable1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -100]
		    DstBlock		    "Mux7"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "indices of nearest\npulley ratios"
" for which\nthere exist maps"
		    SrcPort		    2
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Look-Up\nTable2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux7"
		    DstPort		    4
		    }
		    }
		    Line {
		    SrcBlock		    "Mux7"
		    SrcPort		    1
		    DstBlock		    "trq in \nlook-up"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "slope for\nlinear interp."
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "linear eqn\nfor power"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    Points		    [0, -20]
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "slope for\nlinear interp."
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Demux2"
		    SrcPort		    2
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "output\ntorque (N*m)"
		    SrcPort		    1
		    DstBlock		    "Mux7"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux2"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Look-Up\nTable1"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Look-Up\nTable2"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    4
		    }
		    Branch {
		    Points		    [0, -30; -50, 0]
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "output\nspeed (rad/s)"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Mux7"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -65; 65, 0]
		    Branch {
		    Points		    [0, 15]
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 15]
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    }
		    Branch {
		    Points		    [220, 0]
		    Branch {
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [230, 0]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "trq in \nlook-up"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux4"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Product1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Demux2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "linear eqn\nfor power"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    Points		    [125, 0]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "input\ntorque (Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant4"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    Ports		    [2, 1]
		    Position		    [290, 21, 320, 54]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    Ports		    [2, 1]
		    Position		    [375, 107, 405, 138]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "loss torque at\ninput shaft (Nm)"
		    Position		    [525, 115, 545, 135]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Demux1"
		    SrcPort		    2
		    Points		    [40, 0]
		    DstBlock		    "Input Torque:\n3-D interpolation"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "output torque\nand speed\n(Nm), ("
"rad/s)"
		    SrcPort		    1
		    DstBlock		    "Demux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "pulley ratio"
		    SrcPort		    1
		    Points		    [75, 0]
		    Branch {
		    DstBlock		    "Input Torque:\n3-D interpolation"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, 65; 125, 0]
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Demux1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Input Torque:\n3-D interpolation"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -35]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    Points		    [15, 0; 0, 75]
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "Abs2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Abs2"
		    SrcPort		    1
		    DstBlock		    "loss torque at\ninput shaft (Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Input Torque:\n3-D interpolation"
		    SrcPort		    1
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed req'd\nat input si"
"de of cvt\n(Nm), (rad/s)"
		  Position		  [755, 35, 775, 55]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed avail.\nat output "
"side of cvt\n(Nm), (rad/s)"
		  Position		  [760, 460, 780, 480]
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Pout/Pin,\nneglecting inertia"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    DstBlock		    "gearbox \nefficiency"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 55; -185, 0]
		    Branch {
		    Points		    [0, 85; -25, 0]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "IC"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 135; -25, 0]
		    DstBlock		    "Pout/Pin,\nneglecting inertia"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -75]
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "torque and speed avail.\nat output "
"side of cvt\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "gearing\n(Nm), (rad/s)1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "torque and speed avail.\nat input s"
"ide of cvt\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "torque and speed req'd\nat input si"
"de of cvt\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gearing\n(Nm), (rad/s)"
		  SrcPort		  1
		  Points		  [105, 0; 0, 50]
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gearing\n(Nm), (rad/s)"
		  SrcPort		  2
		  Points		  [20, 0]
		  Branch {
		    Points		    [140, 0]
		    Branch {
		    Points		    [0, 60]
		    DstBlock		    "Switch2"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [95, 0]
		    Branch {
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		    }
		    }
		  }
		  Branch {
		    Points		    [0, 120]
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "effect of inertia\n(Nm)"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    Points		    [0, 0]
		    Branch {
		    Points		    [60, 0; 0, -50]
		    DstBlock		    "Switch2"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, -45]
		    DstBlock		    "Sum2"
		    DstPort		    3
		    }
		  }
		  Branch {
		    Points		    [0, 105]
		    Branch {
		    Points		    [0, 155]
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Pout/Pin,\nneglecting inertia"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "torque and speed req'd\nat output s"
"ide of cvt\n(Nm), (rad/s)"
		  SrcPort		  1
		  Points		  [45, 0]
		  Branch {
		    DstBlock		    "gearing\n(Nm), (rad/s)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 65]
		    Branch {
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "cvt controller interface"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "cvt controller interface"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "Pout/Pin,\nneglecting inertia"
		    DstPort		    3
		    }
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "gearing\n(Nm), (rad/s)1"
		  SrcPort		  2
		  Points		  [50, 0]
		  Branch {
		    Points		    [0, 0]
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -90]
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "gearing\n(Nm), (rad/s)1"
		  SrcPort		  1
		  Points		  [40, 0]
		  Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -90]
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "gearing\n(Nm), (rad/s)1"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 60]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "loss\n(Nm)"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "cvt controller interface"
		  SrcPort		  1
		  Points		  [55, 0]
		  Branch {
		    Points		    [0, -40; -110, 0; 0, -90]
		    Branch {
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "gearing\n(Nm), (rad/s)"
		    DstPort		    2
		    }
		  }
		  Branch {
		    Points		    [0, 65; 135, 0]
		    Branch {
		    DstBlock		    "Pout/Pin,\nneglecting inertia"
		    DstPort		    4
		    }
		    Branch {
		    Points		    [0, 50]
		    Branch {
		    Points		    [0, 135]
		    DstBlock		    "gearing\n(Nm), (rad/s)1"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    }
		  }
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "enhancedToWorkspace6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    DstBlock		    "Sum3"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -80]
		    DstBlock		    "Product1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "IC"
		  SrcPort		  1
		  Points		  [-115, 0]
		  DstBlock		  "cvt controller interface"
		  DstPort		  3
		}
		Annotation {
		  Position		  [248, 364]
		  Text			  "delay/memory for\nthis signal will "
"be\nhandled elsewhere"
		}
	      }
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux2"
	      Ports		      [1, 1]
	      Position		      [150, 383, 165, 547]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "1"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>2"
	      Position		      [565, 410, 665, 430]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_gb_out"
	      Port {
		PortNumber		1
		Name			"T_gb_out"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>3"
	      Position		      [565, 460, 665, 480]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_gb_out"
	      Port {
		PortNumber		1
		Name			"w_gb_out"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>4"
	      Position		      [565, 510, 665, 530]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "eta_gb"
	      Port {
		PortNumber		1
		Name			"eta_gb"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [335, 452, 424, 480]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      Position		      [470, 407, 559, 435]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "T_gb_out"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility5"
	      Position		      [470, 457, 559, 485]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "w_gb_out"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility6"
	      Position		      [470, 507, 559, 535]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "eta_gb"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      Position		      [225, 454, 325, 476]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [435, 186, 490, 214]
	      NamePlacement	      "alternate"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "gb_trq_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "gb_spd_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [430, 103, 460, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "gb_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "gb_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "requested\noutput"
	      Position		      [520, 193, 550, 207]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\ninput\nrequest"
	      Position		      [575, 258, 605, 272]
	      NamePlacement	      "alternate"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\noutput\nachieved"
	      Position		      [575, 288, 605, 302]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [825, 463, 855, 477]
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controls"
	      SrcPort		      1
	      DstBlock		      "Demux2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      1
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd\noutput\nrequest"
	      SrcPort		      1
	      Points		      [0, 0; 55, 0]
	      Branch {
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	      Branch {
		DstBlock		"CVT gearbox \n<gb>"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "CVT gearbox \n<gb>"
	      SrcPort		      1
	      DstBlock		      "trq and spd\ninput\nrequest"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd\ninput\nachieved"
	      SrcPort		      1
	      DstBlock		      "CVT gearbox \n<gb>"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "CVT gearbox \n<gb>"
	      SrcPort		      2
	      DstBlock		      "trq and spd\noutput\nachieved"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "requested\noutput"
	      DstPort		      1
	    }
	    Line {
	      Name		      "T_gb_out"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>2"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      Name		      "w_gb_out"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>3"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "eta_gb"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>4"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Annotation {
	      Position		      [467, 135]
	      BackgroundColor	      "yellow"
	      Text		      "Model"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      Position		      [467, 370]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [85, 291, 195, 329]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "help"
	  Ports			  []
	  Position		  [64, 39, 97, 82]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowName		  off
	  OpenFcn		  "web(['file:\\\\\\' which('gearbox.htm')]);"
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "image(imread('doc_man.jpg'))"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "help"
	    Location		    [203, 331, 569, 538]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [330, 94, 430, 136]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [360, 289, 460, 331]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nat input side of ge"
"arbox\n(Nm), (rad/s)"
	  Position		  [400, 200, 420, 220]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed avail.\nat output side of "
"gearbox\n(Nm), (rad/s)"
	  Position		  [400, 220, 420, 240]
	  FontName		  "Arial"
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "CVT model & interface"
	  SrcPort		  1
	  Points		  [0, -75]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "CVT model & interface"
	  SrcPort		  2
	  DstBlock		  "torque and speed req'd\nat input side of ge"
"arbox\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "torque and speed req'd\nat output side of g"
"earbox\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "CVT model & interface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "torque and speed avail.\nat input side of g"
"earbox\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "CVT model & interface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "CVT model & interface"
	  SrcPort		  3
	  DstBlock		  "torque and speed avail.\nat output side of "
"gearbox\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [5, 0; 0, -65]
	  DstBlock		  "CVT model & interface"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "CVT model & interface"
	  SrcPort		  4
	  Points		  [45, 0]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Annotation {
	  Position		  [282, 55]
	  BackgroundColor	  "yellow"
	  Text			  "Gearbox"
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "gearbox <gb>\nold"
      Ports		      [2, 2]
      Position		      [245, 443, 310, 487]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone Gearbox Mask"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'gb'|Log|{}|{}|'bdi_gb.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"gearbox <gb>\nold"
	Location		[198, 77, 966, 744]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed req'd\nat output side of g"
"earbox\n(Nm), (rad/s)"
	  Position		  [125, 185, 145, 205]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nat input side of g"
"earbox\n(Nm), (rad/s)"
	  Position		  [125, 210, 145, 230]
	  FontName		  "Arial"
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Block NOTES"
	  Ports			  []
	  Position		  [60, 95, 116, 135]
	  BackgroundColor	  "green"
	  ShowName		  off
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "disp('Block\\nNOTES')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Block NOTES"
	    Location		    [364, 407, 866, 589]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Annotation {
	      Position		      [247, 17]
	      VerticalAlignment	      "top"
	      Text		      "This gearbox model includes loss data, "
"rotational inertia, and a gear reduction."
	    }
	    Annotation {
	      Position		      [252, 37]
	      VerticalAlignment	      "top"
	      Text		      "The loss torque is zero when the gears "
"are not turning,\nand is applied at the input side of the gear reduction."
	    }
	    Annotation {
	      Position		      [252, 72]
	      VerticalAlignment	      "top"
	      Text		      "The inertia torque is the input torque "
"required to accelerate the\nfinal drive's inertia as measured on the input si"
"de."
	    }
	    Annotation {
	      Position		      [252, 107]
	      VerticalAlignment	      "top"
	      Text		      "Available output torque is estimated as"
"suming that the gearbox efficiency for theavailable input\ntorque andspeed is"
" the same as the gearbox efficiency for the REQUESTED input torque."
	    }
	    Annotation {
	      Position		      [252, 142]
	      VerticalAlignment	      "top"
	      Text		      "This is a good assumption, at least for"
" the VW 4-speed manual transaxle of SAE 820741. \nIn the VW transaxle, effici"
"ency is fairly independent of torque and speed at high torques."
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [85, 291, 195, 329]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "gearbox model & interface"
	  Ports			  [3, 4]
	  Position		  [250, 183, 300, 257]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "gearbox model & interface"
	    Location		    [198, 77, 966, 744]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "94"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\noutput\nrequest"
	      Position		      [285, 148, 315, 162]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\ninput\nachieved"
	      Position		      [285, 178, 315, 192]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "controls"
	      Position		      [40, 348, 70, 362]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [5, 1]
	      Position		      [740, 284, 750, 466]
	      ShowName		      off
	      Inputs		      "5"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux2"
	      Ports		      [1, 3]
	      Position		      [105, 273, 120, 437]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "3"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>1"
	      Position		      [520, 295, 620, 315]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gb_spd_in_a"
	      Port {
		PortNumber		1
		Name			"gb_spd_in_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>2"
	      Position		      [520, 330, 620, 350]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_gb_out"
	      Port {
		PortNumber		1
		Name			"T_gb_out"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>3"
	      Position		      [520, 365, 620, 385]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_gb_out"
	      Port {
		PortNumber		1
		Name			"w_gb_out"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>4"
	      Position		      [520, 400, 620, 420]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "eta_gb"
	      Port {
		PortNumber		1
		Name			"eta_gb"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>5"
	      Position		      [520, 435, 620, 455]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gb_trq_out_a"
	      Port {
		PortNumber		1
		Name			"gb_trq_out_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      Position		      [290, 397, 379, 425]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_number"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      Position		      [425, 292, 514, 320]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gb_spd_in_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [290, 287, 379, 315]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility3"
	      Position		      [290, 342, 379, 370]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      Position		      [425, 327, 514, 355]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "T_gb_out"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility5"
	      Position		      [425, 362, 514, 390]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "w_gb_out"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility6"
	      Position		      [425, 397, 514, 425]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "eta_gb"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility7"
	      Position		      [425, 432, 514, 460]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gb_trq_out_a"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [180, 399, 280, 421]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_number"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      Position		      [180, 289, 280, 311]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto3"
	      Position		      [180, 344, 280, 366]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "gearbox\nmodel"
	      Ports		      [2, 2]
	      Position		      [400, 140, 440, 200]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"gearbox\nmodel"
		Location		[198, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"94"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed req'd\nat output s"
"ide of gearbox\n(Nm), (rad/s)"
		  Position		  [25, 25, 45, 45]
		  FontName		  "Arial"
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed avail.\nat input s"
"ide of gearbox\n(Nm), (rad/s)"
		  Position		  [30, 460, 50, 480]
		  FontName		  "Arial"
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [730, 565, 786, 605]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [247, 17]
		    VerticalAlignment	    "top"
		    Text		    "This gearbox model includes loss "
"data, rotational inertia, and a gear reduction."
		    }
		    Annotation {
		    Position		    [252, 37]
		    VerticalAlignment	    "top"
		    Text		    "The loss torque is zero when the "
"gears are not turning,\nand is applied at the input side of the gear reductio"
"n."
		    }
		    Annotation {
		    Position		    [252, 72]
		    VerticalAlignment	    "top"
		    Text		    "The inertia torque is the input t"
"orque required to accelerate the\nfinal drive's inertia as measured on the in"
"put side."
		    }
		    Annotation {
		    Position		    [252, 107]
		    VerticalAlignment	    "top"
		    Text		    "Available output torque is estima"
"ted assuming that the gearbox efficiency for theavailable input\ntorque andsp"
"eed is the same as the gearbox efficiency for the REQUESTED input torque."
		    }
		    Annotation {
		    Position		    [252, 142]
		    VerticalAlignment	    "top"
		    Text		    "This is a good assumption, at lea"
"st for the VW 4-speed manual transaxle of SAE 820741. \nIn the VW transaxle, "
"efficiency is fairly independent of torque and speed at high torques."
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [510, 150, 530, 170]
		  Orientation		  "left"
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [110, 219, 130, 261]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [115, 451, 135, 484]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc>"
		  Position		  [105, 111, 190, 129]
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "gear_number"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  Position		  [290, 489, 385, 521]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_spd_in_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto4"
		  Position		  [645, 403, 730, 427]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_trq_out_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [1, 1]
		  Position		  [425, 174, 455, 206]
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [660, 36, 680, 69]
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [640, 443, 660, 512]
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Pout/Pin neglecting inertia"
		  Ports			  [4, 1]
		  Position		  [515, 266, 545, 319]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "Pout/Pin neglecting inertia"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Tin"
		    Position		    [25, 85, 45, 105]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Tinertia"
		    Position		    [25, 140, 45, 160]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Tout"
		    Position		    [25, 5, 45, 25]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    Position		    [25, 40, 45, 60]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [320, 225, 340, 245]
		    Orientation		    "up"
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Pout/Pin\n(neglecting\ninertia)"
		    Ports		    [2, 1]
		    Position		    [295, 89, 320, 116]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('/')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Pout/Pin\n(neglecting\ninertia)"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [30, 50, 50, 70]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    Position		    [10, 80, 30, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn"
		    Position		    [60, 79, 90, 101]
		    FontName		    "Arial"
		    FontSize		    8
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [130, 56, 150, 74]
		    FontName		    "Arial"
		    FontSize		    8
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [180, 55, 200, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "Fcn"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Fcn"
		    SrcPort		    1
		    Points		    [15, 0; 0, -20]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [215, 101, 235, 119]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [285, 158, 315, 182]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [425, 135, 455, 165]
		    UpperLimit		    "inf"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [365, 134, 395, 166]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Tin-Tinertia"
		    Ports		    [2, 1]
		    Position		    [75, 85, 95, 120]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "make division\nbombproof"
		    Ports		    [1, 1]
		    Position		    [145, 83, 175, 137]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "make division\nbombproof"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Tin-Tinertia"
		    Position		    [55, 168, 85, 182]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [325, 275, 381, 315]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [250, 64]
		    Text		    "this block added 10 July 2001 by "
"mpo:\noriginally a -eps was added to the denominator by default. \nHowever, c"
"ases were ecountered where Tin-Tineratia was equal to -eps causing\nthe denom"
"inator to be zero. This added checking is more rhobust"
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [190, 265, 210, 285]
		    Orientation		    "up"
		    FontName		    "Arial"
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [105, 265, 125, 285]
		    Orientation		    "up"
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [235, 217, 245, 248]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [145, 213, 175, 237]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "make division\nbombproof"
		    Ports		    [2, 1]
		    Position		    [315, 165, 335, 200]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [385, 178, 415, 192]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "make division\nbombproof"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -20]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [15, 0; 0, -45]
		    DstBlock		    "make division\nbombproof"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [0, -30]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Tin-Tinertia"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "make division\nbombproof"
		    DstPort		    1
		    }
		    }
		    Annotation {
		    Position		    [332, 112]
		    Text		    "only add eps if Tin-Tinertia is ="
"= 0 (this avoids problems when Tin-Tineratia == -eps \nwhich happens from tim"
"e to time"
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Pout/Pin"
		    Position		    [490, 140, 510, 160]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [0, -5]
		    Branch {
		    Points		    [20, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [-75, 0; 0, -40]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "make division\nbombproof"
		    SrcPort		    1
		    Points		    [0, 5]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Tinertia"
		    SrcPort		    1
		    Points		    [5, 0; 0, -40]
		    DstBlock		    "Tin-Tinertia"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Tin"
		    SrcPort		    1
		    DstBlock		    "Tin-Tinertia"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Pout/Pin\n(neglecting\ninertia)"
		    SrcPort		    1
		    Points		    [10, 0; 0, 35]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [15, 0; 0, -20]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "Pout/Pin"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Tin-Tinertia"
		    SrcPort		    1
		    Points		    [20, 0; 0, 5]
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "make division\nbombproof"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Tout"
		    SrcPort		    1
		    Points		    [225, 0; 0, 80]
		    DstBlock		    "Pout/Pin\n(neglecting\ninertia)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Pout/Pin\n(neglecting\ninertia)"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [140, 0; 0, 55]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [242, 292]
		    VerticalAlignment	    "top"
		    Text		    "Pout/Pin, neglecting inertia, is "
"used to estimate the output torque given the\ninput torque in a very simple f"
"orward-facing calculation."
		    }
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [350, 446, 370, 464]
		  ShowName		  off
		  FontName		  "Arial"
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [2, 1]
		  Position		  [515, 356, 535, 374]
		  ShowName		  off
		  FontName		  "Arial"
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [3, 1]
		  Position		  [430, 65, 450, 145]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [460, 430, 480, 465]
		  ShowName		  off
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [505, 100, 535, 130]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "effect of inertia\n(Nm)"
		  Ports			  [1, 1]
		  Position		  [345, 162, 375, 198]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "gb input speed (rad/s)"
		    Position		    [50, 25, 70, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [195, 15, 300, 55]
		    FontName		    "Arial"
		    Gain		    "gb_inertia"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Derivative
		    Name		    "d/dt"
		    Position		    [125, 25, 155, 45]
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "drag torque\n(Nm)"
		    Position		    [350, 25, 370, 45]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "drag torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "d/dt"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gb input speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "d/dt"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [212, 102]
		    VerticalAlignment	    "top"
		    Text		    "The inertia torque is the input t"
"orque required to accelerate the\ngearbox's inertia as measured on the input "
"side."
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [180, 517, 275, 533]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_spd_in_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [180, 427, 275, 443]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_trq_in_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  Ports			  [1]
		  Position		  [635, 542, 730, 558]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_spd_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [635, 367, 730, 383]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_trq_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [635, 327, 730, 343]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|ni_trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_ni_trq_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  Ports			  [1]
		  Position		  [610, 157, 705, 173]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_spd_in_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  Ports			  [1]
		  Position		  [610, 107, 705, 123]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_trq_in_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  Ports			  [1]
		  Position		  [145, 187, 240, 203]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_spd_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace8"
		  Ports			  [1]
		  Position		  [145, 162, 240, 178]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_trq_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace9"
		  Ports			  [1]
		  Position		  [145, 142, 240, 158]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|gear_number|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace9"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_gear_number"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearbox controller interface"
		  Ports			  [3, 2]
		  Position		  [190, 219, 295, 281]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "gearbox controller interface"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "T_gb_out"
		    Position		    [40, 45, 60, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w_gb_out"
		    Position		    [40, 105, 60, 125]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "eta_gb"
		    Position		    [40, 170, 60, 190]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [205, 79, 310, 111]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>1"
		    Position		    [205, 134, 310, 166]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>"
		    Position		    [95, 39, 165, 71]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "T_gb_out"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>1"
		    Position		    [95, 99, 170, 131]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "w_gb_out"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>2"
		    Position		    [95, 164, 170, 196]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "eta_gb"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace1"
		    Ports		    [1]
		    Position		    [360, 32, 455, 48]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|gear_ratio|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace8"
		    Ports		    [1]
		    Position		    [360, 207, 455, 223]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|shifting|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear_ratio"
		    Position		    [345, 85, 365, 105]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "shifting"
		    Position		    [345, 140, 365, 160]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "gear_ratio"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -55]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "eta_gb"
		    SrcPort		    1
		    DstBlock		    "Goto <vc>2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w_gb_out"
		    SrcPort		    1
		    DstBlock		    "Goto <vc>1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "T_gb_out"
		    SrcPort		    1
		    DstBlock		    "Goto <vc>"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <vc>1"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "shifting"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearing\n(Nm) (rad/s)"
		  Ports			  [2, 2]
		  Position		  [265, 22, 300, 73]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "gearing\n(Nm) (rad/s)"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "output shaft\ntorque and speed\n "
"(Nm), (rad/s)"
		    Position		    [55, 25, 75, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    Position		    [55, 120, 75, 140]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    Ports		    [1, 2]
		    Position		    [140, 16, 160, 49]
		    FontName		    "Arial"
		    Outputs		    "2"
		    BusSelectionMode	    off
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    Position		    [300, 69, 330, 91]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [355, 21, 375, 39]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    Ports		    [2, 1]
		    Position		    [355, 116, 375, 134]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "input shaft torque (Nm)"
		    Position		    [455, 20, 475, 40]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "input shaft speed (rad/s)"
		    Position		    [455, 115, 475, 135]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "input shaft speed (rad/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "input shaft torque (Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    Points		    [0, -45]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "output shaft\ntorque and speed\n "
"(Nm), (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [190, 0]
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    Points		    [60, 0; 0, 80]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearing (Nm) (rad/s)1"
		  Ports			  [3, 2]
		  Position		  [520, 438, 555, 512]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "gearing (Nm) (rad/s)1"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "input shaft torque (Nm)"
		    Position		    [75, 15, 95, 35]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "input shaft speed (rad/s)"
		    Position		    [75, 120, 95, 140]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    Position		    [75, 70, 95, 90]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    Position		    [175, 69, 205, 91]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [275, 21, 295, 39]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    Ports		    [2, 1]
		    Position		    [275, 116, 295, 134]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "output shaft torque (Nm)"
		    Position		    [375, 20, 395, 40]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "output shaft speed (rad/s)"
		    Position		    [375, 115, 395, 135]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    Points		    [25, 0; 0, 40]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [45, 0]
		    Branch {
		    Points		    [0, -45]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "output shaft speed (rad/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "output shaft torque (Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "input shaft torque (Nm)"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "input shaft speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  Ports			  []
		  Position		  [684, 564, 717, 607]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('gearbox.h"
"tm')]);"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "image(imread('doc_man.jpg'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "help"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "loss\n(Nm)"
		  Ports			  [3, 1]
		  Position		  [340, 84, 375, 126]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskPromptString	  "table of efficiency values (spd rad"
"/s, trq Nm)|vector of output torque values for lookup table (Nm)|vector of ou"
"tput speeds for lookup table (rad/s)|Speed scale for the transmission gear bo"
"x|Torque scale for the transmission gear box"
		  MaskStyleString	  "edit,edit,edit,edit,edit"
		  MaskTunableValueString  "on,on,on,on,on"
		  MaskCallbackString	  "||||"
		  MaskEnableString	  "on,on,on,on,on"
		  MaskVisibilityString	  "on,on,on,on,on"
		  MaskToolTipString	  "on,on,on,on,on"
		  MaskVariables		  "tx_eff_map=@1;tx_map_trq=@2;tx_map_"
"spd=@3;gb_spd_scale=@4;gb_trq_scale=@5;"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "tx_eff_map|tx_map_trq|tx_map_spd|gb"
"_spd_scale|gb_trq_scale"
		  MaskVariableAliases	  ",,,,"
		  System {
		    Name		    "loss\n(Nm)"
		    Location		    [198, 77, 966, 728]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "output torque\nand speed\n(Nm), ("
"rad/s)"
		    Position		    [50, 60, 70, 80]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    Position		    [45, 520, 65, 540]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear_number"
		    Position		    [45, 445, 65, 465]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "3D discrete lookup\ntable (sfun)"
		    Ports		    [3, 1]
		    Position		    [285, 279, 315, 331]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskPromptString	    "Row Lookup|Column Lookup|Lookup M"
"atrix"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "tx_map_spd=@1;tx_map_trq=@2;tx_ef"
"f_map=@3;"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "tx_map_spd|tx_map_trq|tx_eff_map"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "3D discrete lookup\ntable (sfun)"
		    Location		    [135, 114, 743, 588]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "lookup speed (rad/s)"
		    Position		    [45, 68, 75, 82]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "lookup trq (Nm)"
		    Position		    [40, 208, 70, 222]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear_number \n(e.g., 1, 2, 3)"
		    Position		    [40, 348, 70, 362]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [3, 1]
		    Position		    [225, 3, 235, 427]
		    ShowName		    off
		    Inputs		    "3"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [125, 60, 155, 90]
		    UpperLimit		    "max(tx_map_spd)"
		    LowerLimit		    "min(tx_map_spd)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [120, 200, 150, 230]
		    UpperLimit		    "max(tx_map_trq)"
		    LowerLimit		    "min(tx_map_trq)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    Position		    [120, 340, 150, 370]
		    UpperLimit		    "size(tx_eff_map,3)"
		    LowerLimit		    "1"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "discrete interp2d"
		    Ports		    [1, 1]
		    Position		    [255, 199, 380, 231]
		    FunctionName	    "sfun_discreteLookup3d"
		    Parameters		    "tx_map_trq, tx_map_spd, tx_eff_ma"
"p"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "tx_eff"
		    Position		    [405, 208, 435, 222]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "discrete interp2d"
		    SrcPort		    1
		    DstBlock		    "tx_eff"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "discrete interp2d"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "lookup speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "lookup trq (Nm)"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gear_number \n(e.g., 1, 2, 3)"
		    SrcPort		    1
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Abs
		    Name		    "Abs"
		    Position		    [300, 16, 330, 34]
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [885, 595, 941, 635]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [370, 401, 872, 583]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [252, 37]
		    VerticalAlignment	    "top"
		    Text		    "09/20/02:tm modifed lower input t"
"o switch after T_loss_at_input to pass the \ntotal torque input as the loss w"
"hen tx_eff=0\n5 July 2001:mpo changing loss block to a lookup table methodolo"
"gy\n12/20/00:tm revised loss saturation block. lower limit changed \nfrom 1 t"
"o 0 and upper limit changed from 100 to inf to prevent over or under penaltie"
"s"
		    }
		    Annotation {
		    Position		    [247, 17]
		    VerticalAlignment	    "top"
		    Text		    "Revision Notes:"
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [600, 305, 625, 325]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [350, 386, 375, 404]
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [620, 223, 645, 237]
		    ShowName		    off
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [915, 370, 940, 390]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant4"
		    Position		    [1000, 420, 1025, 440]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    Ports		    [1, 2]
		    Position		    [110, 41, 115, 99]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "2"
		    BusSelectionMode	    off
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [525, 291, 590, 309]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "T_out"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From10"
		    Position		    [500, 200, 605, 220]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "tx_eff"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From11"
		    Position		    [870, 353, 955, 367]
		    NamePlacement	    "alternate"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "w_out"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From4"
		    Position		    [500, 395, 640, 415]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "one_minus_tx_eff"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From5"
		    Position		    [500, 444, 630, 466]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "T_out_abs"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From6"
		    Position		    [500, 495, 605, 515]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From7"
		    Position		    [500, 75, 640, 95]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "one_minus_tx_eff"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From8"
		    Position		    [500, 119, 630, 141]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "T_out_abs"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From9"
		    Position		    [500, 165, 605, 185]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto"
		    Position		    [135, 439, 240, 471]
		    GotoTag		    "gear_number"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto1"
		    Position		    [135, 516, 240, 544]
		    GotoTag		    "gear_ratio"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto2"
		    Position		    [180, 45, 285, 65]
		    NamePlacement	    "alternate"
		    GotoTag		    "T_out"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto3"
		    Position		    [180, 75, 285, 95]
		    GotoTag		    "w_out"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto4"
		    Position		    [415, 290, 455, 320]
		    GotoTag		    "tx_eff"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto5"
		    Position		    [430, 337, 550, 363]
		    GotoTag		    "one_minus_tx_eff"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto6"
		    Position		    [355, 15, 460, 35]
		    GotoTag		    "T_out_abs"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [4, 1]
		    Position		    [765, 63, 785, 242]
		    ShowName		    off
		    Inputs		    "**//"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [3, 1]
		    Position		    [720, 382, 740, 528]
		    Inputs		    "**/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [715, 292, 745, 323]
		    Operator		    ">="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [975, 351, 990, 384]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [395, 340, 415, 360]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [865, 294, 895, 326]
		    FontName		    "Arial"
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [1050, 304, 1080, 336]
		    FontName		    "Arial"
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch2"
		    Position		    [660, 204, 690, 236]
		    ShowName		    off
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch3"
		    Position		    [810, 229, 840, 261]
		    ShowName		    off
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    Ports		    [1]
		    Position		    [140, 567, 235, 583]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|current_gear_ratio|lo"
"gFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "ensure efficiency\nis between \n0"
"% and 100%,\ninclusive"
		    Position		    [340, 290, 370, 320]
		    NamePlacement	    "alternate"
		    UpperLimit		    "1"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "gear number (1st, 2nd, 3rd, etc.)"
		    Position		    [135, 356, 230, 374]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_number"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "product1"
		    Ports		    [2, 1]
		    Position		    [760, 251, 790, 284]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "scaled trq_out"
		    Ports		    [2, 1]
		    Position		    [185, 284, 200, 326]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "scaled w_out"
		    Ports		    [2, 1]
		    Position		    [205, 236, 220, 269]
		    NamePlacement	    "alternate"
		    Inputs		    "/*"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "spd scale"
		    Position		    [15, 237, 95, 253]
		    NamePlacement	    "alternate"
		    Value		    "gb_spd_scale"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "spd_out"
		    Position		    [105, 253, 190, 267]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "w_out"
		    }
		    Block {
		    BlockType		    From
		    Name		    "trq out"
		    Position		    [15, 286, 95, 304]
		    NamePlacement	    "alternate"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "T_out"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "trq scale"
		    Position		    [85, 307, 165, 323]
		    Value		    "gb_trq_scale"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "loss torque at\ninput shaft (Nm)"
		    Position		    [1120, 310, 1140, 330]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "product1"
		    SrcPort		    1
		    DstBlock		    "Switch3"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Switch3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch3"
		    SrcPort		    1
		    Points		    [0, 55]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    DstBlock		    "Switch2"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "From10"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, 10; 0, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Switch3"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Switch2"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Switch2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Switch2"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "gear_number"
		    SrcPort		    1
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "Goto1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "spd scale"
		    SrcPort		    1
		    DstBlock		    "scaled w_out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "spd_out"
		    SrcPort		    1
		    DstBlock		    "scaled w_out"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Goto5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "trq scale"
		    SrcPort		    1
		    DstBlock		    "scaled trq_out"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "scaled trq_out"
		    SrcPort		    1
		    DstBlock		    "3D discrete lookup\ntable (sfun)"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "trq out"
		    SrcPort		    1
		    DstBlock		    "scaled trq_out"
		    DstPort		    1
		    }
		    Line {
		    Labels		    [1, 0]
		    SrcBlock		    "scaled w_out"
		    SrcPort		    1
		    Points		    [0, 35]
		    DstBlock		    "3D discrete lookup\ntable (sfun)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "ensure efficiency\nis between \n0"
"% and 100%,\ninclusive"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto4"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "3D discrete lookup\ntable (sfun)"
		    SrcPort		    1
		    DstBlock		    "ensure efficiency\nis between \n0"
"% and 100%,\ninclusive"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Abs"
		    SrcPort		    1
		    DstBlock		    "Goto6"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    Points		    [0, -30]
		    DstBlock		    "Abs"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [5, 0; 0, -50]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From11"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant4"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "loss torque at\ninput shaft (Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From9"
		    SrcPort		    1
		    Points		    [105, 0]
		    Branch {
		    Points		    [0, 100]
		    DstBlock		    "product1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "From8"
		    SrcPort		    1
		    Points		    [100, 0]
		    Branch {
		    Points		    [0, 130]
		    DstBlock		    "product1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "From7"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From5"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From6"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "From4"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [45, 0; 0, -135]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gear number (1st, 2nd, 3rd, etc.)"
		    SrcPort		    1
		    Points		    [0, -35; 35, 0]
		    DstBlock		    "3D discrete lookup\ntable (sfun)"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    DstBlock		    "Goto3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "output torque\nand speed\n(Nm), ("
"rad/s)"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [990, 198]
		    ForegroundColor	    "white"
		    BackgroundColor	    "black"
		    Text		    "\nTORQUE LOSS CALCULATION\n"
		    }
		    Annotation {
		    Position		    [254, 318]
		    Text		    "gear"
		    }
		    Annotation {
		    Position		    [263, 297]
		    Text		    "trq"
		    }
		    Annotation {
		    Position		    [269, 276]
		    Text		    "spd"
		    }
		    Annotation {
		    Position		    [371, 55]
		    Text		    "torque at transmission output, Nm"
		    }
		    Annotation {
		    Position		    [376, 87]
		    Text		    "speed at transmission output, rad"
"/s"
		    }
		    Annotation {
		    Position		    [1069, 400]
		    Text		    "no_loss case"
		    }
		    Annotation {
		    Position		    [1034, 501]
		    Text		    "Note: saturation block keeps\nlos"
"s positive-- for both powered\nand regen cases, a\npositive value represents "
"a \"loss\""
		    }
		    Annotation {
		    Position		    [903, 278]
		    Text		    "Switch for Powered\n or Regen Cas"
"e"
		    }
		    Annotation {
		    Position		    [1067, 275]
		    Text		    "Switch to Determine \nif Gears ar"
"e Turning\n--No loss if gears \nare not turning"
		    }
		    Annotation {
		    Position		    [874, 121]
		    Text		    "Normal \"Powered\" case\n(energy "
"flow from engine\nthrough transmission to wheels)"
		    }
		    Annotation {
		    Position		    [840, 198]
		    Text		    "T_loss_at_input"
		    }
		    Annotation {
		    Position		    [833, 488]
		    Text		    "\"Regen\" case\n(energy flowing f"
"rom\nwheel side of transmission\nto engine side of transmission)"
		    }
		    Annotation {
		    Position		    [838, 414]
		    Text		    "T_loss_at_input"
		    }
		    Annotation {
		    Position		    [278, 191]
		    ForegroundColor	    "white"
		    BackgroundColor	    "black"
		    Text		    "\nLOOKUP TABLE FOR TRANSMISSION E"
"FFICIENCY\n"
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed req'd\nat input si"
"de of gearbox\n(Nm), (rad/s)"
		  Position		  [745, 45, 765, 65]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed avail.\nat output "
"side of gearbox\n(Nm), (rad/s)"
		  Position		  [735, 470, 755, 490]
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "gearbox controller interface"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 80; 170, 0]
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 140]
		    DstBlock		    "gearing (Nm) (rad/s)1"
		    DstPort		    3
		    }
		    }
		    Branch {
		    DstBlock		    "Pout/Pin neglecting inertia"
		    DstPort		    4
		    }
		  }
		  Branch {
		    Points		    [0, -25; -65, 0; 0, -105; -45, 0]
		    Branch {
		    Points		    [0, -45]
		    DstBlock		    "gearing\n(Nm) (rad/s)"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "loss\n(Nm)"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [-15, 0]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  Points		  [0, 0; 45, 0]
		  Branch {
		    Points		    [0, -70]
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  Points		  [25, 0; 0, -75]
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "gearbox controller interface"
		  SrcPort		  2
		  Points		  [110, 0]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    DstBlock		    "Switch"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 165]
		    DstBlock		    "Pout/Pin neglecting inertia"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [0, 0; 15, 0]
		  Branch {
		    Points		    [0, 30]
		    Branch {
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "gearing (Nm) (rad/s)1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "gearing (Nm) (rad/s)1"
		  SrcPort		  1
		  Points		  [0, 0; 50, 0]
		  Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -45]
		    Branch {
		    Points		    [0, -40]
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto4"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "gearing (Nm) (rad/s)1"
		  SrcPort		  2
		  Points		  [0, 0; 60, 0]
		  Branch {
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [35, 0]
		    Branch {
		    DstBlock		    "gearbox controller interface"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "Pout/Pin neglecting inertia"
		    DstPort		    3
		    }
		  }
		  Branch {
		    Points		    [0, -15; -30, 0; 0, -45]
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [0, 0; 10, 0]
		  Branch {
		    DstBlock		    "gearbox controller interface"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -40; -20, 0; 0, -15]
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "torque and speed req'd\nat output s"
"ide of gearbox\n(Nm), (rad/s)"
		  SrcPort		  1
		  Points		  [0, 0; 45, 0]
		  Branch {
		    DstBlock		    "gearing\n(Nm) (rad/s)"
		    DstPort		    1
		  }
		  Branch {
		    Labels		    [1, 0]
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "effect of inertia\n(Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    Points		    [0, 105]
		    Branch {
		    Points		    [0, 155]
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Pout/Pin neglecting inertia"
		    DstPort		    2
		    }
		  }
		  Branch {
		    Points		    [0, -50]
		    DstBlock		    "Sum2"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "gearing\n(Nm) (rad/s)"
		  SrcPort		  2
		  Points		  [0, 0; 15, 0]
		  Branch {
		    Points		    [235, 0]
		    Branch {
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 120]
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "gearing\n(Nm) (rad/s)"
		  SrcPort		  1
		  Points		  [100, 0; 0, 45]
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "torque and speed req'd\nat input si"
"de of gearbox\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Pout/Pin neglecting inertia"
		  SrcPort		  1
		  Points		  [35, 0; 0, 55; -255, 0]
		  Branch {
		    Points		    [0, 100]
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [-155, 0]
		    DstBlock		    "gearbox controller interface"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "torque and speed avail.\nat input s"
"ide of gearbox\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "gearing (Nm) (rad/s)1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "torque and speed avail.\nat output "
"side of gearbox\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [0, 0; 60, 0]
		  Branch {
		    DstBlock		    "Sum3"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -85]
		    DstBlock		    "Product1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  Points		  [80, 0]
		  DstBlock		  "enhancedToWorkspace4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From <vc>"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 15; -90, 0; 0, 15]
		    DstBlock		    "enhancedToWorkspace9"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    3
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [390, 76, 445, 104]
	      NamePlacement	      "alternate"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "gb_trq_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "gb_spd_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [430, 103, 460, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "gb_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "gb_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "requested\noutput"
	      Position		      [475, 83, 505, 97]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\ninput\nrequest"
	      Position		      [530, 148, 560, 162]
	      NamePlacement	      "alternate"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\noutput\nachieved"
	      Position		      [530, 178, 560, 192]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [780, 368, 810, 382]
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      Name		      "gb_spd_in_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>1"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      Name		      "T_gb_out"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>2"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "w_gb_out"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>3"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "eta_gb"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>4"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controls"
	      SrcPort		      1
	      DstBlock		      "Demux2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      1
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      2
	      DstBlock		      "Goto3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      3
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd\noutput\nrequest"
	      SrcPort		      1
	      Points		      [55, 0]
	      Branch {
		DstBlock		"gearbox\nmodel"
		DstPort			1
	      }
	      Branch {
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "gearbox\nmodel"
	      SrcPort		      1
	      DstBlock		      "trq and spd\ninput\nrequest"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd\ninput\nachieved"
	      SrcPort		      1
	      DstBlock		      "gearbox\nmodel"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "gearbox\nmodel"
	      SrcPort		      2
	      DstBlock		      "trq and spd\noutput\nachieved"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "requested\noutput"
	      DstPort		      1
	    }
	    Line {
	      Name		      "gb_trq_out_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>5"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      5
	    }
	    Annotation {
	      Position		      [422, 25]
	      BackgroundColor	      "yellow"
	      Text		      "Model"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      Position		      [422, 260]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "help"
	  Ports			  []
	  Position		  [64, 39, 97, 82]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowName		  off
	  OpenFcn		  "web(['file:\\\\\\' which('gearbox.htm')]);"
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "image(imread('doc_man.jpg'))"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "help"
	    Location		    [203, 331, 569, 538]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [355, 84, 455, 126]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [360, 289, 460, 331]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nat input side of ge"
"arbox\n(Nm), (rad/s)"
	  Position		  [400, 200, 420, 220]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed avail.\nat output side of "
"gearbox\n(Nm), (rad/s)"
	  Position		  [400, 220, 420, 240]
	  FontName		  "Arial"
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "gearbox model & interface"
	  SrcPort		  1
	  Points		  [0, -85]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "gearbox model & interface"
	  SrcPort		  2
	  DstBlock		  "torque and speed req'd\nat input side of ge"
"arbox\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "torque and speed req'd\nat output side of g"
"earbox\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "gearbox model & interface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "torque and speed avail.\nat input side of g"
"earbox\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "gearbox model & interface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "gearbox model & interface"
	  SrcPort		  3
	  DstBlock		  "torque and speed avail.\nat output side of "
"gearbox\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [0, -65]
	  DstBlock		  "gearbox model & interface"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "gearbox model & interface"
	  SrcPort		  4
	  Points		  [40, 0]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Annotation {
	  Position		  [282, 55]
	  BackgroundColor	  "yellow"
	  Text			  "Gearbox"
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "hydraulic\ntorque\nconverter <htc>"
      Ports		      [2, 2]
      Position		      [610, 138, 660, 202]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone HTC Mask"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'htc'|Log|{}|{}|'bdi_htc.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"hydraulic\ntorque\nconverter <htc>"
	Location		[202, 77, 966, 744]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "T & w output\nrequested"
	  Position		  [40, 128, 70, 142]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "T & w input\navailable"
	  Position		  [40, 148, 70, 162]
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [15, 211, 125, 249]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "htcControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "conventional HTC \nand Interface"
	  Ports			  [3, 4]
	  Position		  [190, 122, 230, 183]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "conventional HTC \nand Interface"
	    Location		    [202, 77, 966, 744]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\noutput\nrequest"
	      Position		      [195, 138, 225, 152]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\ninput\nachieved"
	      Position		      [195, 168, 225, 182]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      Position		      [40, 333, 70, 347]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [1, 1]
	      Position		      [630, 321, 635, 359]
	      ShowName		      off
	      Inputs		      "1"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 2]
	      Position		      [85, 321, 90, 359]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "2"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>"
	      Position		      [430, 329, 525, 351]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "htc_efficiency"
	      Port {
		PortNumber		1
		Name			"htc_efficiency"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      Position		      [115, 303, 230, 327]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      Position		      [235, 303, 324, 326]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      Position		      [335, 328, 424, 351]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "htc_efficiency"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [235, 353, 324, 376]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "locked_up"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [115, 353, 230, 377]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "locked_up"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "htc model"
	      Ports		      [2, 2]
	      Position		      [330, 130, 370, 190]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"htc model"
		Location		[202, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "req'd output\ntrq and spd\n(Nm), (r"
"ad/s)"
		  Position		  [25, 228, 55, 242]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "trq and spd\navailable at\ninput (N"
"m), (rad/s)"
		  Position		  [50, 538, 80, 552]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Saturate
		  Name			  ">0\n"
		  Position		  [625, 305, 655, 335]
		  UpperLimit		  "inf"
		  LowerLimit		  "0"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Saturate
		  Name			  ">0."
		  Position		  [640, 575, 670, 605]
		  UpperLimit		  "inf"
		  LowerLimit		  "0"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [610, 120, 630, 140]
		  ShowName		  off
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux2"
		  Ports			  [1, 2]
		  Position		  [80, 196, 90, 274]
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux3"
		  Ports			  [1, 2]
		  Position		  [170, 516, 205, 569]
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc>"
		  Position		  [530, 185, 605, 205]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "shifting"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [870, 222, 905, 258]
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [750, 507, 785, 543]
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  Ports			  [2, 1]
		  Position		  [195, 311, 205, 349]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "SR"
		  Ports			  [2, 2]
		  Position		  [285, 322, 315, 358]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "SR"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "T,w\nreq out"
		    Position		    [50, 30, 70, 50]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w in"
		    Position		    [415, 45, 435, 65]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">0"
		    Position		    [665, 235, 695, 265]
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [245, 270, 265, 290]
		    Orientation		    "left"
		    ShowName		    off
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [250, 542, 350, 568]
		    ShowName		    off
		    Value		    "vc_idle_spd+eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [355, 195, 385, 215]
		    ShowName		    off
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [170, 153, 235, 177]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "locked_up"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "K_adv"
		    Ports		    [1, 1]
		    Position		    [170, 75, 200, 105]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "K_adv"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    Position		    [20, 58, 50, 72]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">0"
		    Position		    [95, 50, 125, 80]
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "K_adv=wout/(Tout)^0.5"
		    Position		    [155, 51, 275, 79]
		    FontName		    "Arial"
		    Expr		    "u[2]/u[1]^0.5"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [315, 50, 345, 80]
		    UpperLimit		    "max(htc_k_adv)"
		    LowerLimit		    "min(htc_k_adv)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "K_adv"
		    Position		    [400, 58, 430, 72]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    ">0"
		    SrcPort		    1
		    DstBlock		    "K_adv=wout/(Tout)^0.5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    SrcPort		    1
		    DstBlock		    ">0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "K_adv=wout/(Tout)^0.5"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "K_adv_coast"
		    Ports		    [1, 1]
		    Position		    [215, 355, 245, 385]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "K_adv_coast"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    Position		    [20, 58, 50, 72]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "K_adv=wout/(abs(Tout))^0.5"
		    Position		    [125, 51, 245, 79]
		    FontName		    "Arial"
		    Expr		    "u[2]/abs(u[1]+eps)^0.5"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [310, 50, 340, 80]
		    UpperLimit		    "max(htc_k_adv_coast)"
		    LowerLimit		    "min(htc_k_adv_coast)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "K_adv_coast"
		    Position		    [400, 58, 430, 72]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "K_adv=wout/(abs(Tout))^0.5"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "K_adv_coast"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    SrcPort		    1
		    DstBlock		    "K_adv=wout/(abs(Tout))^0.5"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [1, 1]
		    Position		    [355, 149, 385, 181]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [345, 261, 375, 289]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [500, 427, 530, 458]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [250, 232, 280, 263]
		    ShowName		    off
		    Operator		    ">="
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "SR Look-Up\nTable\nSR=wout/win"
		    Position		    [335, 75, 365, 105]
		    InputValues		    "htc_k_adv"
		    OutputValues	    "htc_sr"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "SR Look-Up\nTable\nSR=wout/win\nc"
"oast"
		    Position		    [335, 355, 365, 385]
		    InputValues		    "fliplr(htc_k_adv_coast)"
		    OutputValues	    "fliplr(htc_sr_coast)"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "SRmax=\nwout/win,min"
		    Ports		    [2, 1]
		    Position		    [435, 525, 455, 565]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "T"
		    Ports		    [1, 1]
		    Position		    [175, 225, 205, 255]
		    InputType		    "Vector"
		    ElementSrc		    "Internal"
		    Elements		    "1"
		    RowSrc		    "Internal"
		    Rows		    "1"
		    ColumnSrc		    "Internal"
		    Columns		    "1"
		    InputPortWidth	    "2"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace1"
		    Ports		    [1]
		    Position		    [395, 267, 490, 283]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|coasting|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_coasting"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace2"
		    Ports		    [1]
		    Position		    [260, 182, 335, 198]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|locked|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_locked"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if coasting"
		    Position		    [595, 235, 625, 265]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "locked up,\nthen SR=1"
		    Position		    [420, 150, 450, 180]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "min,max"
		    Position		    [425, 355, 455, 385]
		    UpperLimit		    "inf"
		    LowerLimit		    "1"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "shifting SR"
		    Ports		    [3, 1]
		    Position		    [510, 35, 540, 75]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "shifting SR"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "T,w\nreq out"
		    Position		    [35, 35, 55, 55]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w in"
		    Position		    [35, 85, 55, 105]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "SR"
		    Position		    [50, 330, 70, 350]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "-3200 rpm/second\nallowable in en"
"gine\nspeed"
		    Position		    [220, 153, 310, 187]
		    Gain		    "-3200*pi/30"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">0"
		    Position		    [90, 80, 120, 110]
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [40, 150, 60, 170]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>1"
		    Position		    [555, 280, 630, 300]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory3"
		    Position		    [160, 80, 190, 110]
		    ShowName		    off
		    X0			    "eps"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory4"
		    Position		    [95, 165, 125, 195]
		    ShowName		    off
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [580, 157, 610, 188]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "SRmax=\nwout/win,min"
		    Ports		    [2, 1]
		    Position		    [510, 40, 530, 80]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "dt=t-(t-1)"
		    Ports		    [2, 1]
		    Position		    [155, 153, 185, 182]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "shifting,\nthen limit \nengine sp"
"eed\nchange"
		    Position		    [665, 275, 695, 305]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "win,min=\nwin,prev+rate*dt"
		    Ports		    [2, 1]
		    Position		    [345, 92, 375, 123]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "wout,req"
		    Ports		    [1, 1]
		    Position		    [345, 30, 375, 60]
		    InputType		    "Vector"
		    ElementSrc		    "Internal"
		    Elements		    "2"
		    RowSrc		    "Internal"
		    Rows		    "1"
		    ColumnSrc		    "Internal"
		    Columns		    "1"
		    InputPortWidth	    "2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "SR\nlimited"
		    Position		    [790, 280, 810, 300]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "-3200 rpm/second\nallowable in en"
"gine\nspeed"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "win,min=\nwin,prev+rate*dt"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    ">0"
		    SrcPort		    1
		    DstBlock		    "Memory3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w in"
		    SrcPort		    1
		    DstBlock		    ">0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "shifting,\nthen limit \nengine sp"
"eed\nchange"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "shifting,\nthen limit \nengine sp"
"eed\nchange"
		    SrcPort		    1
		    DstBlock		    "SR\nlimited"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "SR"
		    SrcPort		    1
		    Points		    [375, 0]
		    Branch {
		    Points		    [0, -160]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [195, 0; 0, -40]
		    DstBlock		    "shifting,\nthen limit \nengine sp"
"eed\nchange"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "SRmax=\nwout/win,min"
		    SrcPort		    1
		    Points		    [30, 0; 0, 95]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <vc>1"
		    SrcPort		    1
		    DstBlock		    "shifting,\nthen limit \nengine sp"
"eed\nchange"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "T,w\nreq out"
		    SrcPort		    1
		    DstBlock		    "wout,req"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "wout,req"
		    SrcPort		    1
		    Points		    [115, 0]
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "win,min=\nwin,prev+rate*dt"
		    SrcPort		    1
		    Points		    [115, 0]
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory3"
		    SrcPort		    1
		    Points		    [135, 0]
		    DstBlock		    "win,min=\nwin,prev+rate*dt"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "dt=t-(t-1)"
		    SrcPort		    1
		    DstBlock		    "-3200 rpm/second\nallowable in en"
"gine\nspeed"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "dt=t-(t-1)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "Memory4"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory4"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "dt=t-(t-1)"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "wout,req"
		    Ports		    [1, 1]
		    Position		    [285, 490, 315, 520]
		    InputType		    "Vector"
		    ElementSrc		    "Internal"
		    Elements		    "2"
		    RowSrc		    "Internal"
		    Rows		    "1"
		    ColumnSrc		    "Internal"
		    Columns		    "1"
		    InputPortWidth	    "2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "SR"
		    Position		    [730, 240, 750, 260]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "coasting"
		    Position		    [730, 325, 750, 345]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "K_adv"
		    SrcPort		    1
		    DstBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, 60]
		    DstBlock		    "coasting"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    ">0"
		    SrcPort		    1
		    DstBlock		    "SR"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "if coasting"
		    SrcPort		    1
		    DstBlock		    ">0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "K_adv_coast"
		    SrcPort		    1
		    DstBlock		    "SR Look-Up\nTable\nSR=wout/win\nc"
"oast"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    Points		    [45, 0]
		    DstBlock		    "if coasting"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "min,max"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "wout,req"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "SRmax=\nwout/win,min"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "shifting SR"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "if coasting"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "locked up,\nthen SR=1"
		    SrcPort		    1
		    Points		    [15, 0; 0, -95]
		    DstBlock		    "shifting SR"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "w in"
		    SrcPort		    1
		    DstBlock		    "shifting SR"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "locked up,\nthen SR=1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "locked up,\nthen SR=1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "locked up,\nthen SR=1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "if coasting"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "T"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-5, 0]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "SR Look-Up\nTable\nSR=wout/win\nc"
"oast"
		    SrcPort		    1
		    DstBlock		    "min,max"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "T,w\nreq out"
		    SrcPort		    1
		    Points		    [55, 0]
		    Branch {
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "shifting SR"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 200]
		    Branch {
		    Points		    [0, 130]
		    Branch {
		    Points		    [0, 135]
		    DstBlock		    "wout,req"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "K_adv_coast"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "T"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "T, shifting"
		  Ports			  [5, 1]
		  Position		  [135, 128, 165, 192]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "T, shifting"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "TR"
		    Position		    [40, 83, 70, 97]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd \ninput trq"
		    Position		    [35, 28, 65, 42]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq"
		    Position		    [35, 213, 65, 227]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "htc_spd_in_a"
		    Position		    [45, 288, 75, 302]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "SR"
		    Position		    [60, 388, 90, 402]
		    Port		    "5"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>2"
		    Position		    [155, 180, 230, 200]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [200, 50, 230, 80]
		    ShowName		    off
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [170, 380, 200, 410]
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [440, 202, 470, 233]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    Position		    [235, 380, 265, 410]
		    InputValues		    "htc_sr"
		    OutputValues	    "htc_tr"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "T_max"
		    Ports		    [2, 1]
		    Position		    [425, 252, 455, 283]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "T_max"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    Position		    [20, 45, 40, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "TR"
		    Position		    [20, 95, 40, 115]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [85, 46, 115, 64]
		    FontName		    "Arial"
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "min(fc_map_spd)*fc_spd_scale"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Tin*TR=\nTout"
		    Ports		    [2, 1]
		    Position		    [275, 45, 295, 85]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max_torque lookup"
		    Position		    [180, 43, 210, 67]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_max_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_max\nmax gain from htc"
		    Position		    [360, 55, 380, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "max_torque lookup"
		    SrcPort		    1
		    DstBlock		    "Tin*TR=\nTout"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "TR"
		    SrcPort		    1
		    Points		    [215, 0]
		    DstBlock		    "Tin*TR=\nTout"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Tin*TR=\nTout"
		    SrcPort		    1
		    DstBlock		    "T_max\nmax gain from htc"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    DstBlock		    "max_torque lookup"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Tin*TR=\nTout,req"
		    Ports		    [2, 1]
		    Position		    [145, 45, 165, 85]
		    ShowName		    off
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "engine speed\nestimator"
		    Ports		    [1, 1]
		    Position		    [360, 280, 390, 310]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "engine speed\nestimator"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "htc_spd_in_a"
		    Position		    [40, 38, 70, 52]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory2"
		    Position		    [120, 30, 150, 60]
		    ShowName		    off
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [190, 38, 220, 52]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Memory2"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "htc_spd_in_a"
		    SrcPort		    1
		    DstBlock		    "Memory2"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "shifting,\noverride zero\nTreques"
"t"
		    Position		    [305, 195, 335, 225]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T req"
		    Position		    [500, 213, 530, 227]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Tin*TR=\nTout,req"
		    SrcPort		    1
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "TR"
		    SrcPort		    1
		    Points		    [55, 0]
		    DstBlock		    "Tin*TR=\nTout,req"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Req'd \ninput trq"
		    SrcPort		    1
		    Points		    [60, 0]
		    DstBlock		    "Tin*TR=\nTout,req"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [40, 0; 0, 135]
		    DstBlock		    "shifting,\noverride zero\nTreques"
"t"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "T_max"
		    SrcPort		    1
		    Points		    [10, 0; 0, -25; -45, 0]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "shifting,\noverride zero\nTreques"
"t"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SrcPort		    1
		    Points		    [140, 0]
		    DstBlock		    "T_max"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    DstBlock		    "T req"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine speed\nestimator"
		    SrcPort		    1
		    Points		    [5, 0; 0, -35]
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "SR"
		    SrcPort		    1
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "htc_spd_in_a"
		    SrcPort		    1
		    DstBlock		    "engine speed\nestimator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Req'd output\ntrq"
		    SrcPort		    1
		    DstBlock		    "shifting,\noverride zero\nTreques"
"t"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "From <vc>2"
		    SrcPort		    1
		    Points		    [0, 20]
		    DstBlock		    "shifting,\noverride zero\nTreques"
"t"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "TR"
		  Ports			  [2, 1]
		  Position		  [360, 77, 390, 113]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "TR"
		    Location		    [202, 77, 966, 728]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "SR"
		    Position		    [60, 80, 80, 100]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "coasting"
		    Position		    [230, 265, 250, 285]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "1/SR*TR \nfor coast"
		    Position		    [555, 94, 580, 116]
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [250, 195, 280, 215]
		    ShowName		    off
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [155, 153, 220, 177]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "locked_up"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto"
		    Position		    [705, 83, 820, 107]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "htc_efficiency"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [1, 1]
		    Position		    [250, 149, 280, 181]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [290, 259, 320, 291]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    Position		    [230, 75, 260, 105]
		    InputValues		    "htc_sr"
		    OutputValues	    "htc_tr"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin\nc"
"oast"
		    Position		    [245, 380, 275, 410]
		    InputValues		    "htc_sr_coast"
		    OutputValues	    "htc_tr_coast"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "effic=SR*TR"
		    Ports		    [2, 1]
		    Position		    [480, 45, 500, 85]
		    Inputs		    "**"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace2"
		    Ports		    [1]
		    Position		    [725, 122, 820, 138]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|efficiency|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_efficiency"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if coasting"
		    Position		    [400, 260, 430, 290]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if coasting1"
		    Position		    [640, 80, 670, 110]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "locked up,\nthen TR=1"
		    Position		    [315, 150, 345, 180]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "min,max"
		    Position		    [320, 380, 350, 410]
		    UpperLimit		    "htc_max_coast_tr"
		    LowerLimit		    "htc_min_coast_tr"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "TR"
		    Position		    [620, 265, 640, 285]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "if coasting1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "1/SR*TR \nfor coast"
		    SrcPort		    1
		    DstBlock		    "if coasting1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "effic=SR*TR"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "1/SR*TR \nfor coast"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [90, 0]
		    DstBlock		    "if coasting1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, -45; 280, 0; 0, -135]
		    DstBlock		    "if coasting1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "if coasting"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "if coasting"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "effic=SR*TR"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "TR"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "coasting"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "SR"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, -35]
		    DstBlock		    "effic=SR*TR"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 305]
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin\nc"
"oast"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "min,max"
		    SrcPort		    1
		    Points		    [30, 0]
		    DstBlock		    "if coasting"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin\nc"
"oast"
		    SrcPort		    1
		    DstBlock		    "min,max"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "locked up,\nthen TR=1"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "if coasting"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "locked up,\nthen TR=1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "locked up,\nthen TR=1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "locked up,\nthen TR=1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Tin=\nTout,req/TR"
		  Ports			  [2, 1]
		  Position		  [495, 85, 515, 125]
		  Inputs		  "/*"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Tout=\nTin*TR"
		  Ports			  [2, 1]
		  Position		  [435, 500, 455, 540]
		  Inputs		  "**"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Tout_a = \nTout-\nTinertia"
		  Ports			  [2, 1]
		  Position		  [625, 497, 680, 528]
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Treq, in = \nTin+\nTinertia"
		  Ports			  [2, 1]
		  Position		  [760, 127, 815, 158]
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "effect of inertia\n(Nm)"
		  Ports			  [1, 1]
		  Position		  [495, 232, 525, 268]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "turbine/output\nspeed (rad/s)"
		    Position		    [50, 15, 70, 35]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [30, 74, 135, 96]
		    FontName		    "Arial"
		    Value		    "htc_inertia"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [290, 13, 310, 57]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Derivative
		    Name		    "d/dt"
		    Position		    [155, 15, 185, 35]
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "inertia torque\n(Nm)"
		    Position		    [380, 25, 400, 45]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "inertia torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [70, 0; 0, -40]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "turbine/output\nspeed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "d/dt"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "d/dt"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [247, 117]
		    VerticalAlignment	    "top"
		    Text		    "This block computes the torque re"
"quired to overcome the inertia of the\nturbine (plus 1/2 fluid in htc)."
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [260, 502, 355, 518]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_trq_in_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [260, 547, 355, 563]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_spd_in_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace10"
		  Ports			  [1]
		  Position		  [750, 582, 845, 598]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace10"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_spd_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  Ports			  [1]
		  Position		  [210, 192, 305, 208]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_trq_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [210, 92, 305, 108]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_spd_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [450, 467, 545, 483]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|sr_hist|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_sr_hist"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  Ports			  [1]
		  Position		  [450, 397, 545, 413]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|tr_hist|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_tr_hist"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  Ports			  [1]
		  Position		  [880, 312, 975, 328]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_spd_in_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  Ports			  [1]
		  Position		  [875, 182, 970, 198]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_trq_in_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace8"
		  Ports			  [1]
		  Position		  [645, 442, 740, 458]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_inertia|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_trq_inertia"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace9"
		  Ports			  [1]
		  Position		  [750, 472, 845, 488]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace9"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_trq_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Switch
		  Name			  "shifting,\nignore inertia\ntorque i"
"n request"
		  Position		  [675, 180, 705, 210]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Product
		  Name			  "win=\nwout/SR"
		  Ports			  [2, 1]
		  Position		  [435, 300, 455, 340]
		  Inputs		  "*/"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "wout=\nwin*SR"
		  Ports			  [2, 1]
		  Position		  [425, 570, 445, 610]
		  Inputs		  "**"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "req'd input\ntrq and spd\n(Nm), (ra"
"d/s)"
		  Position		  [965, 233, 995, 247]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "trq and spd\navailable at\noutput ("
"Nm), (rad/s)"
		  Position		  [885, 518, 915, 532]
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  ">0."
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    Points		    [0, -55]
		    DstBlock		    "Mux3"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace10"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "wout=\nwin*SR"
		  SrcPort		  1
		  DstBlock		  ">0."
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux3"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    DstBlock		    "Tout=\nTin*TR"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -20]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "trq and spd\navailable at\ninput (N"
"m), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Tout=\nTin*TR"
		  SrcPort		  1
		  DstBlock		  "Tout_a = \nTout-\nTinertia"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "trq and spd\navailable at\noutput ("
"Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "win=\nwout/SR"
		  SrcPort		  1
		  DstBlock		  ">0\n"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "T, shifting"
		  SrcPort		  1
		  Points		  [0, 60]
		  Branch {
		    Points		    [0, 100]
		    DstBlock		    "Mux4"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [25, 0]
		    Branch {
		    Points		    [210, 0; 0, -105]
		    DstBlock		    "Tin=\nTout,req/TR"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  1
		  Points		  [5, 0; 0, -55]
		  DstBlock		  "T, shifting"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Demux3"
		  SrcPort		  2
		  Points		  [0, 0; 10, 0]
		  Branch {
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "wout=\nwin*SR"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, -55]
		    Branch {
		    Points		    [-110, 0; 0, -330]
		    DstBlock		    "T, shifting"
		    DstPort		    4
		    }
		    Branch {
		    Points		    [0, -150]
		    DstBlock		    "SR"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "SR"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "SR"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [55, 0]
		    Branch {
		    DstBlock		    "win=\nwout/SR"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "wout=\nwin*SR"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [-270, 0]
		    DstBlock		    "T, shifting"
		    DstPort		    5
		    }
		    }
		  }
		  Branch {
		    Points		    [0, -245]
		    DstBlock		    "TR"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Tout_a = \nTout-\nTinertia"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    DstBlock		    "Mux3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -35]
		    DstBlock		    "enhancedToWorkspace9"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  2
		  Points		  [0, 0; 85, 0]
		  Branch {
		    Points		    [0, -10]
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [240, 0; 0, 5]
		    Branch {
		    DstBlock		    "win=\nwout/SR"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		    }
		    }
		  }
		  Branch {
		    Points		    [0, -155]
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  ">0\n"
		  SrcPort		  1
		  Points		  [175, 0; 0, 0]
		  Branch {
		    Points		    [0, -70]
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 0]
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [25, 0]
		  DstBlock		  "shifting,\nignore inertia\ntorque i"
"n request"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "effect of inertia\n(Nm)"
		  SrcPort		  1
		  Points		  [70, 0]
		  Branch {
		    Points		    [0, 200]
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Tout_a = \nTout-\nTinertia"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [20, 0; 0, -45]
		    DstBlock		    "shifting,\nignore inertia\ntorque"
" in request"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "TR"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    Points		    [0, 310]
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "Tout=\nTin*TR"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [55, 0]
		    Branch {
		    DstBlock		    "Tin=\nTout,req/TR"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -35; -350, 0]
		    DstBlock		    "T, shifting"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "SR"
		  SrcPort		  2
		  Points		  [25, 0]
		  DstBlock		  "TR"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "req'd input\ntrq and spd\n(Nm), (ra"
"d/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Treq, in = \nTin+\nTinertia"
		  SrcPort		  1
		  Points		  [0, 45; 15, 0]
		  Branch {
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, -160; -725, 0; 0, 120]
		    DstBlock		    "T, shifting"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "shifting,\nignore inertia\ntorque i"
"n request"
		  SrcPort		  1
		  Points		  [35, 0]
		  DstBlock		  "Treq, in = \nTin+\nTinertia"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Tin=\nTout,req/TR"
		  SrcPort		  1
		  Points		  [225, 0]
		  DstBlock		  "Treq, in = \nTin+\nTinertia"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "req'd output\ntrq and spd\n(Nm), (r"
"ad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From <vc>"
		  SrcPort		  1
		  DstBlock		  "shifting,\nignore inertia\ntorque i"
"n request"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [325, 66, 380, 94]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "htc_trq_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "htc_spd_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [430, 103, 460, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "htc_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "htc_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "requested\noutput"
	      Position		      [475, 73, 505, 87]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\ninput\nrequest"
	      Position		      [475, 138, 505, 152]
	      NamePlacement	      "alternate"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\noutput\nachieved"
	      Position		      [475, 168, 505, 182]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [675, 333, 705, 347]
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "trq and spd\noutput\nrequest"
	      SrcPort		      1
	      Points		      [0, 0; 50, 0]
	      Branch {
		DstBlock		"htc model"
		DstPort			1
	      }
	      Branch {
		Points			[0, -65]
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "htc model"
	      SrcPort		      1
	      DstBlock		      "trq and spd\ninput\nrequest"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "htc model"
	      SrcPort		      2
	      DstBlock		      "trq and spd\noutput\nachieved"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd\ninput\nachieved"
	      SrcPort		      1
	      DstBlock		      "htc model"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "requested\noutput"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      Points		      [0, -15]
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      Points		      [5, 0]
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "htc_efficiency"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [352, 35]
	      BackgroundColor	      "yellow"
	      Text		      "Model"
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      Position		      [357, 260]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [390, 44, 490, 86]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "htcReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [390, 209, 490, 251]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "htcSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T & w input\nrequested"
	  Position		  [410, 138, 440, 152]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T & w output\navailable"
	  Position		  [350, 153, 380, 167]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "conventional HTC \nand Interface"
	  SrcPort		  1
	  Points		  [85, 0; 0, -65]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "conventional HTC \nand Interface"
	  SrcPort		  4
	  Points		  [85, 0; 0, 55]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "conventional HTC \nand Interface"
	  SrcPort		  2
	  DstBlock		  "T & w input\nrequested"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "conventional HTC \nand Interface"
	  SrcPort		  3
	  DstBlock		  "T & w output\navailable"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "T & w output\nrequested"
	  SrcPort		  1
	  DstBlock		  "conventional HTC \nand Interface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "T & w input\navailable"
	  SrcPort		  1
	  DstBlock		  "conventional HTC \nand Interface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [5, 0; 0, -55]
	  DstBlock		  "conventional HTC \nand Interface"
	  DstPort		  3
	}
	Annotation {
	  Position		  [222, 35]
	  BackgroundColor	  "yellow"
	  Text			  "Hydraulic Torque Converter"
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "hydraulic\ntorque\nconverter <htc>\nHEV"
      Ports		      [2, 2]
      Position		      [695, 138, 745, 202]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone HTC Mask"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'htc'|Log|{}|{}|'bdi_htc.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"hydraulic\ntorque\nconverter <htc>\nHEV"
	Location		[214, 77, 966, 744]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "T & w output\nrequested"
	  Position		  [40, 128, 70, 142]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "T & w input\navailable"
	  Position		  [40, 148, 70, 162]
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "HTC for parallel\nHEV and Interface"
	  Ports			  [3, 4]
	  Position		  [190, 120, 230, 185]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "HTC for parallel\nHEV and Interface"
	    Location		    [318, 74, 1082, 741]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\noutput\nrequest"
	      Position		      [220, 213, 250, 227]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\ninput\nachieved"
	      Position		      [220, 243, 250, 257]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      Position		      [70, 408, 100, 422]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 2]
	      Position		      [115, 396, 120, 434]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "2"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      Position		      [145, 378, 260, 402]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      Position		      [265, 378, 354, 401]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [265, 428, 354, 451]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "locked_up"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [145, 428, 260, 452]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "locked_up"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "Ground"
	      Position		      [485, 410, 505, 430]
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "model for parallel HEV"
	      Ports		      [2, 2]
	      Position		      [360, 203, 400, 267]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"model for parallel HEV"
		Location		[439, 489, 921, 773]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "req'd output\ntrq and spd\n(Nm), (r"
"ad/s)"
		  Position		  [40, 188, 70, 202]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "trq and spd\navailable at\ninput (N"
"m), (rad/s)"
		  Position		  [65, 498, 95, 512]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Saturate
		  Name			  ">0\n"
		  Position		  [640, 265, 670, 295]
		  UpperLimit		  "inf"
		  LowerLimit		  "0"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Saturate
		  Name			  ">0."
		  Position		  [655, 535, 685, 565]
		  UpperLimit		  "inf"
		  LowerLimit		  "0"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [895, 540, 951, 580]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [433, 528, 892, 678]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [227, 12]
		    VerticalAlignment	    "top"
		    Text		    "This block predicts the relative "
"speed of the HTC input (pump) and output\n(turbine).  Torque converter lockup"
" is modeled.\n"
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [625, 80, 645, 100]
		  ShowName		  off
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux2"
		  Ports			  [1, 2]
		  Position		  [95, 156, 105, 234]
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux3"
		  Ports			  [1, 2]
		  Position		  [185, 476, 220, 529]
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc>"
		  Position		  [560, 130, 635, 150]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "shifting"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [885, 182, 920, 218]
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [765, 467, 800, 503]
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  Ports			  [2, 1]
		  Position		  [210, 271, 220, 309]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "SR"
		  Ports			  [2, 2]
		  Position		  [300, 282, 330, 318]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "SR"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "T,w\nreq out"
		    Position		    [50, 30, 70, 50]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w in"
		    Position		    [415, 45, 435, 65]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">0"
		    Position		    [665, 235, 695, 265]
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [245, 270, 265, 290]
		    Orientation		    "left"
		    ShowName		    off
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [250, 542, 350, 568]
		    ShowName		    off
		    Value		    "vc_idle_spd+eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [355, 195, 385, 215]
		    ShowName		    off
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [170, 153, 235, 177]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "locked_up"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "K_adv"
		    Ports		    [1, 1]
		    Position		    [170, 80, 200, 110]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "K_adv"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    Position		    [20, 58, 50, 72]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">0"
		    Position		    [95, 50, 125, 80]
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "K_adv=wout/(Tout)^0.5"
		    Position		    [155, 51, 275, 79]
		    FontName		    "Arial"
		    Expr		    "u[2]/u[1]^0.5"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [315, 50, 345, 80]
		    UpperLimit		    "max(htc_k_adv)"
		    LowerLimit		    "min(htc_k_adv)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "K_adv"
		    Position		    [400, 58, 430, 72]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    ">0"
		    SrcPort		    1
		    DstBlock		    "K_adv=wout/(Tout)^0.5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    SrcPort		    1
		    DstBlock		    ">0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "K_adv=wout/(Tout)^0.5"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "K_adv_coast"
		    Ports		    [1, 1]
		    Position		    [215, 355, 245, 385]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "K_adv_coast"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    Position		    [20, 58, 50, 72]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "K_adv=wout/(abs(Tout))^0.5"
		    Position		    [125, 51, 245, 79]
		    FontName		    "Arial"
		    Expr		    "u[2]/abs(u[1]+eps)^0.5"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [310, 50, 340, 80]
		    ForegroundColor	    "red"
		    UpperLimit		    "max(htc_k_adv_coast)"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "K_adv_coast"
		    Position		    [400, 58, 430, 72]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "K_adv=wout/(abs(Tout))^0.5"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "K_adv_coast"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    SrcPort		    1
		    DstBlock		    "K_adv=wout/(abs(Tout))^0.5"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [1, 1]
		    Position		    [355, 149, 385, 181]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [345, 261, 375, 289]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [500, 427, 530, 458]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [250, 232, 280, 263]
		    ShowName		    off
		    Operator		    ">="
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "SR Look-Up\nTable\nSR=wout/win"
		    Position		    [335, 75, 365, 105]
		    InputValues		    "htc_k_adv"
		    OutputValues	    "htc_sr"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "SR Look-Up\nTable\nSR=wout/win\nc"
"oast"
		    Position		    [335, 355, 365, 385]
		    InputValues		    "fliplr(htc_k_adv_coast)"
		    OutputValues	    "fliplr(htc_sr_coast)"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "SRmax=\nwout/win,min"
		    Ports		    [2, 1]
		    Position		    [435, 525, 455, 565]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "T"
		    Ports		    [1, 1]
		    Position		    [175, 225, 205, 255]
		    InputType		    "Vector"
		    ElementSrc		    "Internal"
		    Elements		    "1"
		    RowSrc		    "Internal"
		    Rows		    "1"
		    ColumnSrc		    "Internal"
		    Columns		    "1"
		    InputPortWidth	    "2"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    Ports		    [1]
		    Position		    [255, 192, 350, 208]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|locked|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace1"
		    Ports		    [1]
		    Position		    [395, 267, 490, 283]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|coasting|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if coasting"
		    Position		    [595, 235, 625, 265]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "locked up,\nthen SR=1"
		    Position		    [420, 150, 450, 180]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "min,max"
		    Position		    [425, 355, 455, 385]
		    UpperLimit		    "inf"
		    LowerLimit		    "1"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "shifting SR"
		    Ports		    [3, 1]
		    Position		    [510, 35, 540, 75]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "shifting SR"
		    Location		    [83, 256, 974, 642]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "T,w\nreq out"
		    Position		    [35, 35, 55, 55]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w in"
		    Position		    [35, 85, 55, 105]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "SR"
		    Position		    [50, 330, 70, 350]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "-3200 rpm/second\nallowable in en"
"gine\nspeed"
		    Position		    [220, 153, 310, 187]
		    Gain		    "-3200*pi/30"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">0"
		    Position		    [90, 80, 120, 110]
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [40, 150, 60, 170]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>1"
		    Position		    [555, 280, 630, 300]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory3"
		    Position		    [160, 80, 190, 110]
		    ShowName		    off
		    X0			    "eps"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory4"
		    Position		    [95, 165, 125, 195]
		    ShowName		    off
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [580, 157, 610, 188]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "SRmax=\nwout/win,min"
		    Ports		    [2, 1]
		    Position		    [510, 40, 530, 80]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "dt=t-(t-1)"
		    Ports		    [2, 1]
		    Position		    [155, 153, 185, 182]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "shifting,\nthen limit \nengine sp"
"eed\nchange"
		    Position		    [665, 275, 695, 305]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "win,min=\nwin,prev+rate*dt"
		    Ports		    [2, 1]
		    Position		    [345, 92, 375, 123]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "wout,req"
		    Ports		    [1, 1]
		    Position		    [345, 30, 375, 60]
		    InputType		    "Vector"
		    ElementSrc		    "Internal"
		    Elements		    "2"
		    RowSrc		    "Internal"
		    Rows		    "1"
		    ColumnSrc		    "Internal"
		    Columns		    "1"
		    InputPortWidth	    "2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "SR\nlimited"
		    Position		    [790, 280, 810, 300]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "-3200 rpm/second\nallowable in en"
"gine\nspeed"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "win,min=\nwin,prev+rate*dt"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    ">0"
		    SrcPort		    1
		    DstBlock		    "Memory3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w in"
		    SrcPort		    1
		    DstBlock		    ">0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "shifting,\nthen limit \nengine sp"
"eed\nchange"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "shifting,\nthen limit \nengine sp"
"eed\nchange"
		    SrcPort		    1
		    DstBlock		    "SR\nlimited"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "SR"
		    SrcPort		    1
		    Points		    [375, 0]
		    Branch {
		    Points		    [0, -160]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [195, 0; 0, -40]
		    DstBlock		    "shifting,\nthen limit \nengine sp"
"eed\nchange"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "SRmax=\nwout/win,min"
		    SrcPort		    1
		    Points		    [30, 0; 0, 95]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <vc>1"
		    SrcPort		    1
		    DstBlock		    "shifting,\nthen limit \nengine sp"
"eed\nchange"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "T,w\nreq out"
		    SrcPort		    1
		    DstBlock		    "wout,req"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "wout,req"
		    SrcPort		    1
		    Points		    [115, 0]
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "win,min=\nwin,prev+rate*dt"
		    SrcPort		    1
		    Points		    [115, 0]
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory3"
		    SrcPort		    1
		    Points		    [135, 0]
		    DstBlock		    "win,min=\nwin,prev+rate*dt"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "dt=t-(t-1)"
		    SrcPort		    1
		    DstBlock		    "-3200 rpm/second\nallowable in en"
"gine\nspeed"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "dt=t-(t-1)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "Memory4"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory4"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "dt=t-(t-1)"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "wout,req"
		    Ports		    [1, 1]
		    Position		    [285, 490, 315, 520]
		    InputType		    "Vector"
		    ElementSrc		    "Internal"
		    Elements		    "2"
		    RowSrc		    "Internal"
		    Rows		    "1"
		    ColumnSrc		    "Internal"
		    Columns		    "1"
		    InputPortWidth	    "2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "SR"
		    Position		    [730, 240, 750, 260]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "coasting"
		    Position		    [730, 325, 750, 345]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "K_adv"
		    SrcPort		    1
		    Points		    [115, 0]
		    DstBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, 60]
		    DstBlock		    "coasting"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    ">0"
		    SrcPort		    1
		    DstBlock		    "SR"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "if coasting"
		    SrcPort		    1
		    DstBlock		    ">0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "K_adv_coast"
		    SrcPort		    1
		    DstBlock		    "SR Look-Up\nTable\nSR=wout/win\nc"
"oast"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    Points		    [45, 0]
		    DstBlock		    "if coasting"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "min,max"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "wout,req"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "SRmax=\nwout/win,min"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "shifting SR"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "if coasting"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "locked up,\nthen SR=1"
		    SrcPort		    1
		    Points		    [15, 0; 0, -95]
		    DstBlock		    "shifting SR"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "w in"
		    SrcPort		    1
		    DstBlock		    "shifting SR"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "locked up,\nthen SR=1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "locked up,\nthen SR=1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "locked up,\nthen SR=1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "T"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-5, 0]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "SR Look-Up\nTable\nSR=wout/win\nc"
"oast"
		    SrcPort		    1
		    DstBlock		    "min,max"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "T,w\nreq out"
		    SrcPort		    1
		    Points		    [55, 0]
		    Branch {
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "shifting SR"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 200]
		    Branch {
		    Points		    [0, 130]
		    Branch {
		    Points		    [0, 135]
		    DstBlock		    "wout,req"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "K_adv_coast"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "T"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 20; -20, 0; 0, 15]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [0, 5; 45, 0]
		    Branch {
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [250, 0]
		    DstBlock		    "if coasting"
		    DstPort		    2
		    }
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "T, shifting"
		  Ports			  [5, 1]
		  Position		  [150, 88, 180, 152]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "T, shifting"
		    Location		    [235, 172, 799, 660]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "TR"
		    Position		    [40, 83, 70, 97]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd \ninput trq"
		    Position		    [35, 28, 65, 42]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq"
		    Position		    [35, 213, 65, 227]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "htc_spd_in_a"
		    Position		    [45, 288, 75, 302]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "SR"
		    Position		    [60, 388, 90, 402]
		    Port		    "5"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>2"
		    Position		    [140, 170, 215, 190]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [200, 50, 230, 80]
		    ShowName		    off
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [170, 380, 200, 410]
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [440, 202, 470, 233]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    Position		    [235, 380, 265, 410]
		    InputValues		    "htc_sr"
		    OutputValues	    "htc_tr"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "T_max"
		    Ports		    [2, 1]
		    Position		    [425, 252, 455, 283]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "T_max"
		    Location		    [289, 327, 860, 583]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    Position		    [20, 45, 40, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "TR"
		    Position		    [25, 180, 45, 200]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [505, 195, 561, 235]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [435, 526, 819, 628]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [192, 36]
		    Text		    "Notes: engine_on flag causes alge"
"bric loop. Is it necessary? \nDoesn't seem to be. Disabled 10/31/00:tm"
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [225, 140, 255, 170]
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [135, 85, 165, 115]
		    Gain		    "tc_mc_to_fc_ratio"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain1"
		    Position		    [255, 85, 285, 115]
		    Gain		    "tc_mc_to_fc_ratio"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [75, 46, 105, 64]
		    FontName		    "Arial"
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "min(fc_map_spd)*fc_spd_scale"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [310, 46, 330, 79]
		    ShowName		    off
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [365, 60, 395, 90]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Tin*TR=\nTout"
		    Ports		    [2, 1]
		    Position		    [435, 65, 455, 105]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max_torque \nmc lookup1"
		    Position		    [195, 88, 225, 112]
		    InputValues		    "mc_map_spd*mc_spd_scale"
		    OutputValues	    "mc_max_trq*mc_overtrq_factor*mc_t"
"rq_scale"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max_torque lookup"
		    Position		    [195, 43, 225, 67]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_max_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_max\nmax gain from htc"
		    Position		    [510, 75, 530, 95]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Tin*TR=\nTout"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain1"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [55, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [80, 0; 0, -80]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "max_torque \nmc lookup1"
		    SrcPort		    1
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "max_torque \nmc lookup1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "max_torque lookup"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "max_torque lookup"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "TR"
		    SrcPort		    1
		    Points		    [370, 0]
		    DstBlock		    "Tin*TR=\nTout"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Tin*TR=\nTout"
		    SrcPort		    1
		    DstBlock		    "T_max\nmax gain from htc"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Tin*TR=\nTout,req"
		    Ports		    [2, 1]
		    Position		    [145, 45, 165, 85]
		    ShowName		    off
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "engine speed\nestimator"
		    Ports		    [1, 1]
		    Position		    [360, 280, 390, 310]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "engine speed\nestimator"
		    Location		    [354, 221, 713, 375]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "htc_spd_in_a"
		    Position		    [40, 38, 70, 52]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory2"
		    Position		    [120, 30, 150, 60]
		    ShowName		    off
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [190, 38, 220, 52]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Memory2"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "htc_spd_in_a"
		    SrcPort		    1
		    DstBlock		    "Memory2"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "shifting,\noverride zero\nTreques"
"t"
		    Position		    [305, 195, 335, 225]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T req"
		    Position		    [500, 213, 530, 227]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Tin*TR=\nTout,req"
		    SrcPort		    1
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "TR"
		    SrcPort		    1
		    Points		    [55, 0]
		    DstBlock		    "Tin*TR=\nTout,req"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Req'd \ninput trq"
		    SrcPort		    1
		    Points		    [60, 0]
		    DstBlock		    "Tin*TR=\nTout,req"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [40, 0; 0, 135]
		    DstBlock		    "shifting,\noverride zero\nTreques"
"t"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "T_max"
		    SrcPort		    1
		    Points		    [10, 0; 0, -25; -45, 0]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "shifting,\noverride zero\nTreques"
"t"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SrcPort		    1
		    Points		    [140, 0]
		    DstBlock		    "T_max"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    DstBlock		    "T req"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine speed\nestimator"
		    SrcPort		    1
		    Points		    [5, 0; 0, -35]
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "SR"
		    SrcPort		    1
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "htc_spd_in_a"
		    SrcPort		    1
		    DstBlock		    "engine speed\nestimator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Req'd output\ntrq"
		    SrcPort		    1
		    DstBlock		    "shifting,\noverride zero\nTreques"
"t"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "From <vc>2"
		    SrcPort		    1
		    Points		    [15, 0; 0, 30]
		    DstBlock		    "shifting,\noverride zero\nTreques"
"t"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "TR"
		  Ports			  [2, 1]
		  Position		  [375, 37, 405, 73]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "TR"
		    Location		    [112, 213, 910, 692]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "SR"
		    Position		    [60, 80, 80, 100]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "coasting"
		    Position		    [230, 265, 250, 285]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "1/SR*TR \nfor coast"
		    Position		    [555, 89, 580, 111]
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [250, 195, 280, 215]
		    ShowName		    off
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [155, 153, 220, 177]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "locked_up"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [1, 1]
		    Position		    [250, 149, 280, 181]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [290, 259, 320, 291]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    Position		    [230, 75, 260, 105]
		    InputValues		    "htc_sr"
		    OutputValues	    "htc_tr"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin\nc"
"oast"
		    Position		    [245, 380, 275, 410]
		    InputValues		    "htc_sr_coast"
		    OutputValues	    "htc_tr_coast"
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace11"
		    Position		    [700, 85, 770, 105]
		    ShowName		    off
		    VariableName	    "htc_efficiency"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "effic=SR*TR"
		    Ports		    [2, 1]
		    Position		    [480, 45, 500, 85]
		    Inputs		    "**"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if coasting"
		    Position		    [400, 260, 430, 290]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if coasting1"
		    Position		    [640, 80, 670, 110]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "locked up,\nthen TR=1"
		    Position		    [315, 150, 345, 180]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "min,max"
		    Position		    [320, 380, 350, 410]
		    UpperLimit		    "htc_max_coast_tr"
		    LowerLimit		    "htc_min_coast_tr"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "TR"
		    Position		    [620, 265, 640, 285]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "if coasting1"
		    SrcPort		    1
		    DstBlock		    "To Workspace11"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "1/SR*TR \nfor coast"
		    SrcPort		    1
		    Points		    [40, 0]
		    DstBlock		    "if coasting1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "effic=SR*TR"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "1/SR*TR \nfor coast"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [90, 0]
		    DstBlock		    "if coasting1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, -45; 280, 0; 0, -135]
		    DstBlock		    "if coasting1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "if coasting"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "if coasting"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "effic=SR*TR"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "TR"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "coasting"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "SR"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, -35]
		    DstBlock		    "effic=SR*TR"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 305]
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin\nc"
"oast"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "min,max"
		    SrcPort		    1
		    Points		    [30, 0]
		    DstBlock		    "if coasting"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin\nc"
"oast"
		    SrcPort		    1
		    DstBlock		    "min,max"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "locked up,\nthen TR=1"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "if coasting"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "locked up,\nthen TR=1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "locked up,\nthen TR=1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "locked up,\nthen TR=1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Tin=\nTout,req/TR"
		  Ports			  [2, 1]
		  Position		  [510, 45, 530, 85]
		  Inputs		  "/*"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Tout=\nTin*TR"
		  Ports			  [2, 1]
		  Position		  [450, 460, 470, 500]
		  Inputs		  "**"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Tout_a = \nTout-\nTinertia"
		  Ports			  [2, 1]
		  Position		  [640, 457, 695, 488]
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Treq, in = \nTin+\nTinertia"
		  Ports			  [2, 1]
		  Position		  [775, 87, 830, 118]
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "effect of inertia\n(Nm)"
		  Ports			  [1, 1]
		  Position		  [505, 192, 535, 228]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [332, 316, 823, 469]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "turbine/output\nspeed (rad/s)"
		    Position		    [50, 15, 70, 35]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [30, 74, 135, 96]
		    FontName		    "Arial"
		    Value		    "htc_inertia"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [290, 13, 310, 57]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Derivative
		    Name		    "d/dt"
		    Position		    [155, 15, 185, 35]
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "inertia torque\n(Nm)"
		    Position		    [380, 25, 400, 45]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "inertia torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [70, 0; 0, -40]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "turbine/output\nspeed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "d/dt"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "d/dt"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [247, 117]
		    VerticalAlignment	    "top"
		    Text		    "This block computes the torque re"
"quired to overcome the inertia of the\nturbine (plus 1/2 fluid in htc)."
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [275, 507, 370, 523]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [275, 462, 370, 478]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace10"
		  Ports			  [1]
		  Position		  [895, 142, 990, 158]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace10"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  Ports			  [1]
		  Position		  [465, 427, 560, 443]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|sr_hist|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [465, 357, 560, 373]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|tr_hist|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [660, 402, 755, 418]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_inertia|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  Ports			  [1]
		  Position		  [770, 432, 865, 448]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  Ports			  [1]
		  Position		  [770, 542, 865, 558]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  Ports			  [1]
		  Position		  [230, 152, 325, 168]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace8"
		  Ports			  [1]
		  Position		  [230, 52, 325, 68]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace9"
		  Ports			  [1]
		  Position		  [895, 272, 990, 288]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace9"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Switch
		  Name			  "shifting,\nignore inertia\ntorque i"
"n request"
		  Position		  [690, 140, 720, 170]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Product
		  Name			  "win=\nwout/SR"
		  Ports			  [2, 1]
		  Position		  [450, 260, 470, 300]
		  Inputs		  "*/"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "wout=\nwin*SR"
		  Ports			  [2, 1]
		  Position		  [440, 530, 460, 570]
		  Inputs		  "**"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "req'd input\ntrq and spd\n(Nm), (ra"
"d/s)"
		  Position		  [980, 193, 1010, 207]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "trq and spd\navailable at\noutput ("
"Nm), (rad/s)"
		  Position		  [900, 478, 930, 492]
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "req'd output\ntrq and spd\n(Nm), (r"
"ad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Tin=\nTout,req/TR"
		  SrcPort		  1
		  Points		  [225, 0]
		  DstBlock		  "Treq, in = \nTin+\nTinertia"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "shifting,\nignore inertia\ntorque i"
"n request"
		  SrcPort		  1
		  Points		  [35, 0]
		  DstBlock		  "Treq, in = \nTin+\nTinertia"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Treq, in = \nTin+\nTinertia"
		  SrcPort		  1
		  Points		  [0, 45; 15, 0]
		  Branch {
		    Points		    [0, -135; -725, 0; 0, 105]
		    DstBlock		    "T, shifting"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace10"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "req'd input\ntrq and spd\n(Nm), (ra"
"d/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "SR"
		  SrcPort		  2
		  Points		  [25, 0]
		  DstBlock		  "TR"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "TR"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    Points		    [55, 0]
		    Branch {
		    Points		    [0, -25; -350, 0]
		    DstBlock		    "T, shifting"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Tin=\nTout,req/TR"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 310]
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "Tout=\nTin*TR"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "effect of inertia\n(Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 75, 0]
		  Branch {
		    Points		    [20, 0; 0, -45]
		    DstBlock		    "shifting,\nignore inertia\ntorque"
" in request"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, 200]
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Tout_a = \nTout-\nTinertia"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [25, 0]
		  DstBlock		  "shifting,\nignore inertia\ntorque i"
"n request"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  ">0\n"
		  SrcPort		  1
		  Points		  [175, 0; 0, 0]
		  Branch {
		    Points		    [0, -70]
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace9"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  2
		  Points		  [0, 0; 85, 0]
		  Branch {
		    Points		    [0, -10]
		    Branch {
		    Points		    [240, 0; 0, 5]
		    Branch {
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "win=\nwout/SR"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		  }
		  Branch {
		    Points		    [0, -155]
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Tout_a = \nTout-\nTinertia"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    DstBlock		    "Mux3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -35]
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "SR"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    Points		    [0, -245]
		    DstBlock		    "TR"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [55, 0]
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [-270, 0]
		    DstBlock		    "T, shifting"
		    DstPort		    5
		    }
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "wout=\nwin*SR"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "win=\nwout/SR"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "SR"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux3"
		  SrcPort		  2
		  Points		  [0, 0; 10, 0]
		  Branch {
		    Points		    [0, -55]
		    Branch {
		    Points		    [-110, 0; 0, -330]
		    DstBlock		    "T, shifting"
		    DstPort		    4
		    }
		    Branch {
		    Points		    [0, -150]
		    DstBlock		    "SR"
		    DstPort		    2
		    }
		  }
		  Branch {
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "wout=\nwin*SR"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  1
		  Points		  [5, 0; 0, -55]
		  DstBlock		  "T, shifting"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "T, shifting"
		  SrcPort		  1
		  Points		  [0, 0; 0, 60]
		  Branch {
		    Points		    [25, 0]
		    Branch {
		    Points		    [210, 0; 0, -105]
		    DstBlock		    "Tin=\nTout,req/TR"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -20]
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 100]
		    DstBlock		    "Mux4"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "win=\nwout/SR"
		  SrcPort		  1
		  DstBlock		  ">0\n"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "trq and spd\navailable at\noutput ("
"Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Tout=\nTin*TR"
		  SrcPort		  1
		  DstBlock		  "Tout_a = \nTout-\nTinertia"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "trq and spd\navailable at\ninput (N"
"m), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux3"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    DstBlock		    "Tout=\nTin*TR"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -20]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "wout=\nwin*SR"
		  SrcPort		  1
		  DstBlock		  ">0."
		  DstPort		  1
		}
		Line {
		  SrcBlock		  ">0."
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    Points		    [0, -55]
		    DstBlock		    "Mux3"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "From <vc>"
		  SrcPort		  1
		  Points		  [25, 0; 0, 15]
		  DstBlock		  "shifting,\nignore inertia\ntorque i"
"n request"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [350, 141, 405, 169]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 73, 966, 748]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "htc_trq_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "htc_spd_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [430, 103, 460, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "htc_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "htc_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "requested\noutput"
	      Position		      [500, 148, 530, 162]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\ninput\nrequest"
	      Position		      [500, 213, 530, 227]
	      NamePlacement	      "alternate"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\noutput\nachieved"
	      Position		      [500, 243, 530, 257]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [640, 413, 670, 427]
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "trq and spd\noutput\nrequest"
	      SrcPort		      1
	      Points		      [0, 0; 50, 0]
	      Branch {
		Points			[0, -65]
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	      Branch {
		DstBlock		"model for parallel HEV"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "model for parallel HEV"
	      SrcPort		      1
	      DstBlock		      "trq and spd\ninput\nrequest"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "model for parallel HEV"
	      SrcPort		      2
	      DstBlock		      "trq and spd\noutput\nachieved"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd\ninput\nachieved"
	      SrcPort		      1
	      DstBlock		      "model for parallel HEV"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "requested\noutput"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      Points		      [0, -15]
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      Points		      [5, 0]
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Ground"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [377, 110]
	      BackgroundColor	      "yellow"
	      Text		      "Model"
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      Position		      [382, 335]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [15, 211, 125, 249]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "htcControl"
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [390, 44, 490, 86]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "htcReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [390, 209, 490, 251]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "htcSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T & w input\nrequested"
	  Position		  [410, 138, 440, 152]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T & w output\navailable"
	  Position		  [350, 153, 380, 167]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "HTC for parallel\nHEV and Interface"
	  SrcPort		  1
	  Points		  [85, 0; 0, -65]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "HTC for parallel\nHEV and Interface"
	  SrcPort		  4
	  Points		  [85, 0; 0, 55]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "HTC for parallel\nHEV and Interface"
	  SrcPort		  2
	  DstBlock		  "T & w input\nrequested"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "HTC for parallel\nHEV and Interface"
	  SrcPort		  3
	  DstBlock		  "T & w output\navailable"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "T & w output\nrequested"
	  SrcPort		  1
	  DstBlock		  "HTC for parallel\nHEV and Interface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "T & w input\navailable"
	  SrcPort		  1
	  DstBlock		  "HTC for parallel\nHEV and Interface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [5, 0; 0, -55]
	  DstBlock		  "HTC for parallel\nHEV and Interface"
	  DstPort		  3
	}
	Annotation {
	  Position		  [222, 35]
	  BackgroundColor	  "yellow"
	  Text			  "Hydraulic Torque Converter"
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "hydraulic\ntorque\nconverter <htc>\nwith pump l"
"oss"
      Ports		      [2, 2]
      Position		      [610, 258, 660, 322]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone HTC Mask"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'htc'|Log|{}|{}|'bdi_htc.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"hydraulic\ntorque\nconverter <htc>\nwith pump"
" loss"
	Location		[202, 77, 966, 744]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "T & w output\nrequested"
	  Position		  [40, 128, 70, 142]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "T & w input\navailable"
	  Position		  [40, 148, 70, 162]
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [15, 211, 125, 249]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "htcControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "conventional HTC \nand Interface"
	  Ports			  [3, 4]
	  Position		  [205, 122, 245, 183]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "conventional HTC \nand Interface"
	    Location		    [202, 77, 966, 744]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\noutput\nrequest"
	      Position		      [195, 138, 225, 152]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\ninput\nachieved"
	      Position		      [195, 168, 225, 182]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      Position		      [40, 333, 70, 347]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [1, 1]
	      Position		      [630, 321, 635, 359]
	      ShowName		      off
	      Inputs		      "1"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 2]
	      Position		      [85, 321, 90, 359]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "2"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>"
	      Position		      [430, 329, 525, 351]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "htc_efficiency"
	      Port {
		PortNumber		1
		Name			"htc_efficiency"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      Position		      [115, 303, 230, 327]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      Position		      [235, 303, 324, 326]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      Position		      [335, 328, 424, 351]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "htc_efficiency"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [235, 353, 324, 376]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "locked_up"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [115, 353, 230, 377]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "locked_up"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "htc model"
	      Ports		      [2, 2]
	      Position		      [330, 130, 370, 190]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"htc model"
		Location		[202, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"75"
		Block {
		  BlockType		  Inport
		  Name			  "req'd output\ntrq and spd\n(Nm), (r"
"ad/s)"
		  Position		  [25, 228, 55, 242]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "trq and spd\navailable at\ninput (N"
"m), (rad/s)"
		  Position		  [50, 563, 80, 577]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Sum
		  Name			  " Tin - Tpumploss"
		  Ports			  [2, 1]
		  Position		  [255, 498, 275, 547]
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Saturate
		  Name			  ">0\n"
		  Position		  [625, 305, 655, 335]
		  UpperLimit		  "inf"
		  LowerLimit		  "0"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Saturate
		  Name			  ">0."
		  Position		  [640, 575, 670, 605]
		  UpperLimit		  "inf"
		  LowerLimit		  "0"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [885, 55, 941, 95]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [227, 12]
		    VerticalAlignment	    "top"
		    Text		    "This block predicts the relative "
"speed of the HTC input (pump) and output\n(turbine).  Torque converter lockup"
" is modeled.\n\n1/24/00:tm updated gear_ratio flag to shifting flag\n\n02/19/"
"03: zz added pump loss\n"
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [610, 120, 630, 140]
		  ShowName		  off
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux2"
		  Ports			  [1, 2]
		  Position		  [80, 196, 90, 274]
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux3"
		  Ports			  [1, 2]
		  Position		  [125, 503, 135, 632]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc>"
		  Position		  [530, 185, 605, 205]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "shifting"
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc>1"
		  Position		  [635, 363, 700, 387]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "locked_up"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [870, 222, 905, 258]
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [750, 502, 785, 538]
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  Ports			  [2, 1]
		  Position		  [195, 311, 205, 349]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "SR"
		  Ports			  [2, 2]
		  Position		  [285, 322, 315, 358]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "SR"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "T,w\nreq out"
		    Position		    [50, 30, 70, 50]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w in"
		    Position		    [415, 45, 435, 65]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">0"
		    Position		    [665, 235, 695, 265]
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [245, 270, 265, 290]
		    Orientation		    "left"
		    ShowName		    off
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [250, 542, 350, 568]
		    ShowName		    off
		    Value		    "vc_idle_spd+eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [355, 195, 385, 215]
		    ShowName		    off
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [170, 153, 235, 177]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "locked_up"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "K_adv"
		    Ports		    [1, 1]
		    Position		    [170, 75, 200, 105]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "K_adv"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    Position		    [20, 58, 50, 72]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">0"
		    Position		    [95, 50, 125, 80]
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "K_adv=wout/(Tout)^0.5"
		    Position		    [155, 51, 275, 79]
		    FontName		    "Arial"
		    Expr		    "u[2]/u[1]^0.5"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [315, 50, 345, 80]
		    UpperLimit		    "max(htc_k_adv)"
		    LowerLimit		    "min(htc_k_adv)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "K_adv"
		    Position		    [400, 58, 430, 72]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    ">0"
		    SrcPort		    1
		    DstBlock		    "K_adv=wout/(Tout)^0.5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    SrcPort		    1
		    DstBlock		    ">0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "K_adv=wout/(Tout)^0.5"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "K_adv_coast"
		    Ports		    [1, 1]
		    Position		    [215, 355, 245, 385]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "K_adv_coast"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    Position		    [20, 58, 50, 72]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "K_adv=wout/(abs(Tout))^0.5"
		    Position		    [125, 51, 245, 79]
		    FontName		    "Arial"
		    Expr		    "u[2]/abs(u[1]+eps)^0.5"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [310, 50, 340, 80]
		    UpperLimit		    "max(htc_k_adv_coast)"
		    LowerLimit		    "min(htc_k_adv_coast)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "K_adv_coast"
		    Position		    [400, 58, 430, 72]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "K_adv=wout/(abs(Tout))^0.5"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "K_adv_coast"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    SrcPort		    1
		    DstBlock		    "K_adv=wout/(abs(Tout))^0.5"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [1, 1]
		    Position		    [355, 149, 385, 181]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [345, 261, 375, 289]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [500, 427, 530, 458]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [250, 232, 280, 263]
		    ShowName		    off
		    Operator		    ">="
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "SR Look-Up\nTable\nSR=wout/win"
		    Position		    [335, 75, 365, 105]
		    InputValues		    "htc_k_adv"
		    OutputValues	    "htc_sr"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "SR Look-Up\nTable\nSR=wout/win\nc"
"oast"
		    Position		    [335, 355, 365, 385]
		    InputValues		    "fliplr(htc_k_adv_coast)"
		    OutputValues	    "fliplr(htc_sr_coast)"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "SRmax=\nwout/win,min"
		    Ports		    [2, 1]
		    Position		    [435, 525, 455, 565]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "T"
		    Ports		    [1, 1]
		    Position		    [175, 225, 205, 255]
		    InputType		    "Vector"
		    ElementSrc		    "Internal"
		    Elements		    "1"
		    RowSrc		    "Internal"
		    Rows		    "1"
		    ColumnSrc		    "Internal"
		    Columns		    "1"
		    InputPortWidth	    "2"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace1"
		    Ports		    [1]
		    Position		    [395, 267, 490, 283]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|coasting|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_coasting"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace2"
		    Ports		    [1]
		    Position		    [260, 182, 335, 198]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|locked|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_locked"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if coasting"
		    Position		    [595, 235, 625, 265]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "locked up,\nthen SR=1"
		    Position		    [420, 150, 450, 180]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "min,max"
		    Position		    [425, 355, 455, 385]
		    UpperLimit		    "inf"
		    LowerLimit		    "1"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "shifting SR"
		    Ports		    [3, 1]
		    Position		    [510, 35, 540, 75]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "shifting SR"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "T,w\nreq out"
		    Position		    [35, 35, 55, 55]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w in"
		    Position		    [35, 85, 55, 105]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "SR"
		    Position		    [50, 330, 70, 350]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "-3200 rpm/second\nallowable in en"
"gine\nspeed"
		    Position		    [220, 153, 310, 187]
		    Gain		    "-3200*pi/30"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">0"
		    Position		    [90, 80, 120, 110]
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [40, 150, 60, 170]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>1"
		    Position		    [555, 280, 630, 300]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory3"
		    Position		    [160, 80, 190, 110]
		    ShowName		    off
		    X0			    "eps"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory4"
		    Position		    [95, 165, 125, 195]
		    ShowName		    off
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [580, 157, 610, 188]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "SRmax=\nwout/win,min"
		    Ports		    [2, 1]
		    Position		    [510, 40, 530, 80]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "dt=t-(t-1)"
		    Ports		    [2, 1]
		    Position		    [155, 153, 185, 182]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "shifting,\nthen limit \nengine sp"
"eed\nchange"
		    Position		    [665, 275, 695, 305]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "win,min=\nwin,prev+rate*dt"
		    Ports		    [2, 1]
		    Position		    [345, 92, 375, 123]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "wout,req"
		    Ports		    [1, 1]
		    Position		    [345, 30, 375, 60]
		    InputType		    "Vector"
		    ElementSrc		    "Internal"
		    Elements		    "2"
		    RowSrc		    "Internal"
		    Rows		    "1"
		    ColumnSrc		    "Internal"
		    Columns		    "1"
		    InputPortWidth	    "2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "SR\nlimited"
		    Position		    [790, 280, 810, 300]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "-3200 rpm/second\nallowable in en"
"gine\nspeed"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "win,min=\nwin,prev+rate*dt"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    ">0"
		    SrcPort		    1
		    DstBlock		    "Memory3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w in"
		    SrcPort		    1
		    DstBlock		    ">0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "shifting,\nthen limit \nengine sp"
"eed\nchange"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "shifting,\nthen limit \nengine sp"
"eed\nchange"
		    SrcPort		    1
		    DstBlock		    "SR\nlimited"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "SR"
		    SrcPort		    1
		    Points		    [375, 0]
		    Branch {
		    Points		    [0, -160]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [195, 0; 0, -40]
		    DstBlock		    "shifting,\nthen limit \nengine sp"
"eed\nchange"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "SRmax=\nwout/win,min"
		    SrcPort		    1
		    Points		    [30, 0; 0, 95]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <vc>1"
		    SrcPort		    1
		    DstBlock		    "shifting,\nthen limit \nengine sp"
"eed\nchange"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "T,w\nreq out"
		    SrcPort		    1
		    DstBlock		    "wout,req"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "wout,req"
		    SrcPort		    1
		    Points		    [115, 0]
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "win,min=\nwin,prev+rate*dt"
		    SrcPort		    1
		    Points		    [115, 0]
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory3"
		    SrcPort		    1
		    Points		    [135, 0]
		    DstBlock		    "win,min=\nwin,prev+rate*dt"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "dt=t-(t-1)"
		    SrcPort		    1
		    DstBlock		    "-3200 rpm/second\nallowable in en"
"gine\nspeed"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "dt=t-(t-1)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "Memory4"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory4"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "dt=t-(t-1)"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "wout,req"
		    Ports		    [1, 1]
		    Position		    [285, 490, 315, 520]
		    InputType		    "Vector"
		    ElementSrc		    "Internal"
		    Elements		    "2"
		    RowSrc		    "Internal"
		    Rows		    "1"
		    ColumnSrc		    "Internal"
		    Columns		    "1"
		    InputPortWidth	    "2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "SR"
		    Position		    [730, 240, 750, 260]
		    ForegroundColor	    "orange"
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "coasting"
		    Position		    [730, 325, 750, 345]
		    ForegroundColor	    "gray"
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "K_adv"
		    SrcPort		    1
		    DstBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, 60]
		    DstBlock		    "coasting"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    ">0"
		    SrcPort		    1
		    DstBlock		    "SR"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "if coasting"
		    SrcPort		    1
		    DstBlock		    ">0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "K_adv_coast"
		    SrcPort		    1
		    DstBlock		    "SR Look-Up\nTable\nSR=wout/win\nc"
"oast"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    Points		    [45, 0]
		    DstBlock		    "if coasting"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "min,max"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "wout,req"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "SRmax=\nwout/win,min"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "shifting SR"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "if coasting"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "locked up,\nthen SR=1"
		    SrcPort		    1
		    Points		    [15, 0; 0, -95]
		    DstBlock		    "shifting SR"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "w in"
		    SrcPort		    1
		    DstBlock		    "shifting SR"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "locked up,\nthen SR=1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "locked up,\nthen SR=1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "locked up,\nthen SR=1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "if coasting"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "T"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-5, 0]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "SR Look-Up\nTable\nSR=wout/win\nc"
"oast"
		    SrcPort		    1
		    DstBlock		    "min,max"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "T,w\nreq out"
		    SrcPort		    1
		    Points		    [55, 0]
		    Branch {
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "shifting SR"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 200]
		    Branch {
		    Points		    [0, 130]
		    Branch {
		    Points		    [0, 135]
		    DstBlock		    "wout,req"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "K_adv_coast"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "T"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "T, shifting"
		  Ports			  [5, 1]
		  Position		  [135, 128, 165, 192]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "T, shifting"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "TR"
		    Position		    [40, 83, 70, 97]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd \ninput trq"
		    Position		    [35, 28, 65, 42]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq"
		    Position		    [35, 213, 65, 227]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "htc_spd_in_a"
		    Position		    [45, 288, 75, 302]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "SR"
		    Position		    [60, 388, 90, 402]
		    Port		    "5"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>2"
		    Position		    [155, 180, 230, 200]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [200, 50, 230, 80]
		    ShowName		    off
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [170, 380, 200, 410]
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [440, 202, 470, 233]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    Position		    [235, 380, 265, 410]
		    InputValues		    "htc_sr"
		    OutputValues	    "htc_tr"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "T_max"
		    Ports		    [2, 1]
		    Position		    [425, 252, 455, 283]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "T_max"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    Position		    [20, 45, 40, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "TR"
		    Position		    [20, 95, 40, 115]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [85, 46, 115, 64]
		    FontName		    "Arial"
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "min(fc_map_spd)*fc_spd_scale"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Tin*TR=\nTout"
		    Ports		    [2, 1]
		    Position		    [275, 45, 295, 85]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max_torque lookup"
		    Position		    [180, 43, 210, 67]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_max_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_max\nmax gain from htc"
		    Position		    [360, 55, 380, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "max_torque lookup"
		    SrcPort		    1
		    DstBlock		    "Tin*TR=\nTout"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "TR"
		    SrcPort		    1
		    Points		    [215, 0]
		    DstBlock		    "Tin*TR=\nTout"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Tin*TR=\nTout"
		    SrcPort		    1
		    DstBlock		    "T_max\nmax gain from htc"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    DstBlock		    "max_torque lookup"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Tin*TR=\nTout,req"
		    Ports		    [2, 1]
		    Position		    [145, 45, 165, 85]
		    ShowName		    off
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "engine speed\nestimator"
		    Ports		    [1, 1]
		    Position		    [360, 280, 390, 310]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "engine speed\nestimator"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "htc_spd_in_a"
		    Position		    [40, 38, 70, 52]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory2"
		    Position		    [120, 30, 150, 60]
		    ShowName		    off
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [190, 38, 220, 52]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Memory2"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "htc_spd_in_a"
		    SrcPort		    1
		    DstBlock		    "Memory2"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "shifting,\noverride zero\nTreques"
"t"
		    Position		    [305, 195, 335, 225]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T req"
		    Position		    [500, 213, 530, 227]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Tin*TR=\nTout,req"
		    SrcPort		    1
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "TR"
		    SrcPort		    1
		    Points		    [55, 0]
		    DstBlock		    "Tin*TR=\nTout,req"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Req'd \ninput trq"
		    SrcPort		    1
		    Points		    [60, 0]
		    DstBlock		    "Tin*TR=\nTout,req"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [40, 0; 0, 135]
		    DstBlock		    "shifting,\noverride zero\nTreques"
"t"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "T_max"
		    SrcPort		    1
		    Points		    [10, 0; 0, -25; -45, 0]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "shifting,\noverride zero\nTreques"
"t"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SrcPort		    1
		    Points		    [140, 0]
		    DstBlock		    "T_max"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    DstBlock		    "T req"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine speed\nestimator"
		    SrcPort		    1
		    Points		    [5, 0; 0, -35]
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "SR"
		    SrcPort		    1
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "htc_spd_in_a"
		    SrcPort		    1
		    DstBlock		    "engine speed\nestimator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Req'd output\ntrq"
		    SrcPort		    1
		    DstBlock		    "shifting,\noverride zero\nTreques"
"t"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "From <vc>2"
		    SrcPort		    1
		    Points		    [0, 20]
		    DstBlock		    "shifting,\noverride zero\nTreques"
"t"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "TR"
		  Ports			  [2, 1]
		  Position		  [360, 77, 390, 113]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "TR"
		    Location		    [202, 77, 966, 728]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "SR"
		    Position		    [60, 80, 80, 100]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "coasting"
		    Position		    [230, 265, 250, 285]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "1/SR*TR \nfor coast"
		    Position		    [555, 94, 580, 116]
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [250, 195, 280, 215]
		    ShowName		    off
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [155, 153, 220, 177]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "locked_up"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto"
		    Position		    [705, 83, 820, 107]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "htc_efficiency"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [1, 1]
		    Position		    [250, 149, 280, 181]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [290, 259, 320, 291]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    Position		    [230, 75, 260, 105]
		    InputValues		    "htc_sr"
		    OutputValues	    "htc_tr"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin\nc"
"oast"
		    Position		    [245, 380, 275, 410]
		    InputValues		    "htc_sr_coast"
		    OutputValues	    "htc_tr_coast"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "effic=SR*TR"
		    Ports		    [2, 1]
		    Position		    [480, 45, 500, 85]
		    Inputs		    "**"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace2"
		    Ports		    [1]
		    Position		    [725, 122, 820, 138]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|efficiency|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_efficiency"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if coasting"
		    Position		    [400, 260, 430, 290]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if coasting1"
		    Position		    [640, 80, 670, 110]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "locked up,\nthen TR=1"
		    Position		    [315, 150, 345, 180]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "min,max"
		    Position		    [320, 380, 350, 410]
		    UpperLimit		    "htc_max_coast_tr"
		    LowerLimit		    "htc_min_coast_tr"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "TR"
		    Position		    [620, 265, 640, 285]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "if coasting1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "1/SR*TR \nfor coast"
		    SrcPort		    1
		    DstBlock		    "if coasting1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "effic=SR*TR"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "1/SR*TR \nfor coast"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [90, 0]
		    DstBlock		    "if coasting1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, -45; 280, 0; 0, -135]
		    DstBlock		    "if coasting1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "if coasting"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "if coasting"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "effic=SR*TR"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "TR"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "coasting"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "SR"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, -35]
		    DstBlock		    "effic=SR*TR"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 305]
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin\nc"
"oast"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "min,max"
		    SrcPort		    1
		    Points		    [30, 0]
		    DstBlock		    "if coasting"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin\nc"
"oast"
		    SrcPort		    1
		    DstBlock		    "min,max"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "locked up,\nthen TR=1"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "if coasting"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "locked up,\nthen TR=1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "locked up,\nthen TR=1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "locked up,\nthen TR=1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Tin=\nTout,req/TR"
		  Ports			  [2, 1]
		  Position		  [495, 85, 515, 125]
		  Inputs		  "/*"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Tout=\nTin*TR"
		  Ports			  [2, 1]
		  Position		  [435, 495, 455, 535]
		  Inputs		  "**"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Tout_a = \nTout-\nTinertia"
		  Ports			  [2, 1]
		  Position		  [625, 492, 680, 523]
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Treq, in = \nTin+\nTinertia"
		  Ports			  [3, 1]
		  Position		  [805, 130, 820, 260]
		  IconShape		  "rectangular"
		  Inputs		  "+++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "effect of inertia\n(Nm)"
		  Ports			  [1, 1]
		  Position		  [495, 227, 525, 263]
		  ForegroundColor	  "magenta"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "turbine/output\nspeed (rad/s)"
		    Position		    [50, 15, 70, 35]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [30, 74, 135, 96]
		    FontName		    "Arial"
		    Value		    "htc_inertia"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [290, 13, 310, 57]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Derivative
		    Name		    "d/dt"
		    Position		    [155, 15, 185, 35]
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "inertia torque\n(Nm)"
		    Position		    [380, 25, 400, 45]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "inertia torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [70, 0; 0, -40]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "turbine/output\nspeed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "d/dt"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "d/dt"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [247, 117]
		    VerticalAlignment	    "top"
		    Text		    "This block computes the torque re"
"quired to overcome the inertia of the\nturbine (plus 1/2 fluid in htc)."
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [275, 457, 370, 473]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_trq_in_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [235, 622, 330, 638]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_spd_in_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace10"
		  Ports			  [1]
		  Position		  [750, 582, 845, 598]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace10"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_spd_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  Ports			  [1]
		  Position		  [210, 192, 305, 208]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_trq_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [210, 92, 305, 108]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_spd_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [450, 467, 545, 483]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|sr_hist|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_sr_hist"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  Ports			  [1]
		  Position		  [450, 397, 545, 413]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|tr_hist|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_tr_hist"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  Ports			  [1]
		  Position		  [880, 312, 975, 328]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_spd_in_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  Ports			  [1]
		  Position		  [875, 187, 970, 203]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_trq_in_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace8"
		  Ports			  [1]
		  Position		  [645, 442, 740, 458]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_inertia|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_trq_inertia"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace9"
		  Ports			  [1]
		  Position		  [750, 472, 845, 488]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace9"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_trq_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "pump loss\n(Nm)"
		  Ports			  [2, 1]
		  Position		  [725, 338, 770, 387]
		  ForegroundColor	  "orange"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "pump loss\n(Nm)"
		    Location		    [300, 367, 955, 571]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "htc impeller speed (rad/s)"
		    Position		    [70, 45, 90, 65]
		    ForegroundColor	    "orange"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "htc lockup signal"
		    Position		    [350, 85, 370, 105]
		    ForegroundColor	    "orange"
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [475, 71, 500, 119]
		    ForegroundColor	    "orange"
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace6"
		    Ports		    [1]
		    Position		    [545, 42, 640, 58]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|pump_loss_trq|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_pump_loss_trq"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "pump losses at converter mode"
		    Position		    [240, 131, 270, 159]
		    ForegroundColor	    "orange"
		    InputValues		    "htc_pump_loss_spd"
		    OutputValues	    "htc_pump_loss_trq_unlock"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "pump losses at lockup mode"
		    Position		    [240, 43, 270, 67]
		    ForegroundColor	    "orange"
		    InputValues		    "htc_pump_loss_spd"
		    OutputValues	    "htc_pump_loss_trq_lockup"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "pump loss  torque\n(Nm)"
		    Position		    [570, 85, 590, 105]
		    ForegroundColor	    "orange"
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "pump loss  torque\n(Nm)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "htc lockup signal"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "pump losses at converter mode"
		    SrcPort		    1
		    Points		    [185, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "pump losses at lockup mode"
		    SrcPort		    1
		    Points		    [105, 0; 0, 25]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "htc impeller speed (rad/s)"
		    SrcPort		    1
		    Points		    [0, 0; 60, 0]
		    Branch {
		    DstBlock		    "pump losses at lockup mode"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 90]
		    DstBlock		    "pump losses at converter mode"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  Switch
		  Name			  "shifting,\nignore inertia\ntorque i"
"n request"
		  Position		  [675, 180, 705, 210]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Product
		  Name			  "win=\nwout/SR"
		  Ports			  [2, 1]
		  Position		  [435, 300, 455, 340]
		  Inputs		  "*/"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "wout=\nwin*SR"
		  Ports			  [2, 1]
		  Position		  [425, 570, 445, 610]
		  Inputs		  "**"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "req'd input\ntrq and spd\n(Nm), (ra"
"d/s)"
		  Position		  [965, 233, 995, 247]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "trq and spd\navailable at\noutput ("
"Nm), (rad/s)"
		  Position		  [885, 513, 915, 527]
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  ">0."
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    Points		    [0, -60]
		    DstBlock		    "Mux3"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace10"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "wout=\nwin*SR"
		  SrcPort		  1
		  DstBlock		  ">0."
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "trq and spd\navailable at\ninput (N"
"m), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Tout=\nTin*TR"
		  SrcPort		  1
		  DstBlock		  "Tout_a = \nTout-\nTinertia"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "trq and spd\navailable at\noutput ("
"Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "win=\nwout/SR"
		  SrcPort		  1
		  DstBlock		  ">0\n"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "T, shifting"
		  SrcPort		  1
		  Points		  [0, 60]
		  Branch {
		    Points		    [0, 100]
		    DstBlock		    "Mux4"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [25, 0]
		    Branch {
		    Points		    [210, 0; 0, -105]
		    DstBlock		    "Tin=\nTout,req/TR"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  1
		  Points		  [5, 0; 0, -55]
		  DstBlock		  "T, shifting"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Demux3"
		  SrcPort		  2
		  Points		  [70, 0; 10, 0]
		  Branch {
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, 0]
		    DstBlock		    "wout=\nwin*SR"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, -135]
		    Branch {
		    Points		    [-110, 0; 0, -295]
		    DstBlock		    "T, shifting"
		    DstPort		    4
		    }
		    Branch {
		    Points		    [0, -115]
		    DstBlock		    "SR"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "SR"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "SR"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [55, 0]
		    Branch {
		    DstBlock		    "win=\nwout/SR"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "wout=\nwin*SR"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [-270, 0]
		    DstBlock		    "T, shifting"
		    DstPort		    5
		    }
		    }
		  }
		  Branch {
		    Points		    [0, -245]
		    DstBlock		    "TR"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Tout_a = \nTout-\nTinertia"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "Mux3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -30]
		    DstBlock		    "enhancedToWorkspace9"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  2
		  Points		  [0, 0; 85, 0]
		  Branch {
		    Points		    [0, -10]
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [240, 0; 0, 0]
		    Branch {
		    DstBlock		    "win=\nwout/SR"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		    }
		    }
		  }
		  Branch {
		    Points		    [0, -155]
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  ">0\n"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [170, 0]
		    Branch {
		    Points		    [0, 0; 0, -70]
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 30]
		    DstBlock		    "pump loss\n(Nm)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [25, 0]
		  DstBlock		  "shifting,\nignore inertia\ntorque i"
"n request"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "effect of inertia\n(Nm)"
		  SrcPort		  1
		  Points		  [70, 0; 0, 0]
		  Branch {
		    Points		    [0, 205]
		    Branch {
		    Points		    [0, 50]
		    DstBlock		    "Tout_a = \nTout-\nTinertia"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 0; 20, 0; 0, -40]
		    DstBlock		    "shifting,\nignore inertia\ntorque"
" in request"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "TR"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    Points		    [0, 310]
		    Branch {
		    Points		    [0, 100]
		    DstBlock		    "Tout=\nTin*TR"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [55, 0]
		    Branch {
		    DstBlock		    "Tin=\nTout,req/TR"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -35; -350, 0]
		    DstBlock		    "T, shifting"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "SR"
		  SrcPort		  2
		  Points		  [25, 0]
		  DstBlock		  "TR"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "req'd input\ntrq and spd\n(Nm), (ra"
"d/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Treq, in = \nTin+\nTinertia"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, -165; -725, 0; 0, 120]
		    DstBlock		    "T, shifting"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "shifting,\nignore inertia\ntorque i"
"n request"
		  SrcPort		  1
		  DstBlock		  "Treq, in = \nTin+\nTinertia"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Tin=\nTout,req/TR"
		  SrcPort		  1
		  Points		  [270, 0]
		  DstBlock		  "Treq, in = \nTin+\nTinertia"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "req'd output\ntrq and spd\n(Nm), (r"
"ad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From <vc>"
		  SrcPort		  1
		  DstBlock		  "shifting,\nignore inertia\ntorque i"
"n request"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux3"
		  SrcPort		  1
		  DstBlock		  " Tin - Tpumploss"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  " Tin - Tpumploss"
		  SrcPort		  1
		  Points		  [-5, 0]
		  Branch {
		    Points		    [20, 0; 0, -45; -35, 0]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 0]
		    DstBlock		    "Tout=\nTin*TR"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "pump loss\n(Nm)"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 70; -545, 0]
		    DstBlock		    " Tin - Tpumploss"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -125]
		    DstBlock		    "Treq, in = \nTin+\nTinertia"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "From <vc>1"
		  SrcPort		  1
		  DstBlock		  "pump loss\n(Nm)"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [325, 66, 380, 94]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "htc_trq_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "htc_spd_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [430, 103, 460, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "htc_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "htc_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "requested\noutput"
	      Position		      [475, 73, 505, 87]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\ninput\nrequest"
	      Position		      [475, 138, 505, 152]
	      NamePlacement	      "alternate"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\noutput\nachieved"
	      Position		      [475, 168, 505, 182]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [675, 333, 705, 347]
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "trq and spd\noutput\nrequest"
	      SrcPort		      1
	      Points		      [0, 0; 50, 0]
	      Branch {
		DstBlock		"htc model"
		DstPort			1
	      }
	      Branch {
		Points			[0, -65]
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "htc model"
	      SrcPort		      1
	      DstBlock		      "trq and spd\ninput\nrequest"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "htc model"
	      SrcPort		      2
	      DstBlock		      "trq and spd\noutput\nachieved"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd\ninput\nachieved"
	      SrcPort		      1
	      DstBlock		      "htc model"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "requested\noutput"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      Points		      [0, -15]
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      Points		      [5, 0]
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "htc_efficiency"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [352, 35]
	      BackgroundColor	      "yellow"
	      Text		      "Model"
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      Position		      [357, 260]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [390, 44, 490, 86]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "htcReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [390, 209, 490, 251]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "htcSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T & w input\nrequested"
	  Position		  [410, 138, 440, 152]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T & w output\navailable"
	  Position		  [350, 153, 380, 167]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "conventional HTC \nand Interface"
	  SrcPort		  1
	  Points		  [70, 0; 0, -65]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "conventional HTC \nand Interface"
	  SrcPort		  4
	  Points		  [70, 0; 0, 55]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "conventional HTC \nand Interface"
	  SrcPort		  2
	  DstBlock		  "T & w input\nrequested"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "conventional HTC \nand Interface"
	  SrcPort		  3
	  DstBlock		  "T & w output\navailable"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "T & w output\nrequested"
	  SrcPort		  1
	  DstBlock		  "conventional HTC \nand Interface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "T & w input\navailable"
	  SrcPort		  1
	  DstBlock		  "conventional HTC \nand Interface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [5, 0; 0, -55]
	  DstBlock		  "conventional HTC \nand Interface"
	  DstPort		  3
	}
	Annotation {
	  Position		  [222, 35]
	  BackgroundColor	  "yellow"
	  Text			  "Hydraulic Torque Converter"
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "planetary\n gearset\n <pg> prius"
      Ports		      [4, 4]
      Position		      [45, 434, 100, 491]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskDisplay	      "image(imread('bdi_psplit.jpg'))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      System {
	Name			"planetary\n gearset\n <pg> prius"
	Location		[100, 74, 878, 630]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed required\nfrom ring gear\n"
"(Nm), (rad/s)1"
	  Position		  [70, 25, 90, 45]
	  FontName		  "Arial"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nfrom fuel converte"
"r\n(Nm), (rad/s)"
	  Position		  [70, 315, 90, 335]
	  FontName		  "Arial"
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nfrom generator\n(N"
"m), (rad/s)"
	  Position		  [70, 395, 90, 415]
	  FontName		  "Arial"
	  Port			  "3"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed available\nfrom motor\n(Nm"
"), (rad/s)1"
	  Position		  [70, 485, 90, 505]
	  FontName		  "Arial"
	  Port			  "4"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux"
	  Ports			  [1, 2]
	  Position		  [145, 386, 165, 419]
	  ShowName		  off
	  FontName		  "Arial"
	  Outputs		  "2"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux1"
	  Ports			  [1, 2]
	  Position		  [150, 306, 170, 339]
	  ShowName		  off
	  FontName		  "Arial"
	  Outputs		  "2"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux2"
	  Ports			  [1, 2]
	  Position		  [160, 15, 195, 50]
	  ShowName		  off
	  FontName		  "Arial"
	  Outputs		  "2"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux3"
	  Ports			  [1, 2]
	  Position		  [145, 476, 165, 509]
	  ShowName		  off
	  FontName		  "Arial"
	  Outputs		  "2"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  From
	  Name			  "From <vc>"
	  Position		  [450, 21, 535, 39]
	  NamePlacement		  "alternate"
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "fc_trq_req"
	}
	Block {
	  BlockType		  From
	  Name			  "From <vc>1"
	  Position		  [450, 61, 535, 79]
	  NamePlacement		  "alternate"
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "fc_spd_req"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <vc>"
	  Position		  [305, 15, 405, 35]
	  GotoTag		  "pgs_trq_spd_r"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux"
	  Ports			  [2, 1]
	  Position		  [585, 31, 605, 64]
	  ShowName		  off
	  FontName		  "Arial"
	  Inputs		  "2"
	  DisplayOption		  "none"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux1"
	  Ports			  [2, 1]
	  Position		  [560, 136, 580, 169]
	  ShowName		  off
	  FontName		  "Arial"
	  Inputs		  "2"
	  DisplayOption		  "none"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux2"
	  Ports			  [2, 1]
	  Position		  [585, 231, 605, 264]
	  ShowName		  off
	  FontName		  "Arial"
	  Inputs		  "2"
	  DisplayOption		  "none"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux3"
	  Ports			  [2, 1]
	  Position		  [585, 321, 605, 354]
	  FontName		  "Arial"
	  Inputs		  "2"
	  DisplayOption		  "none"
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum2"
	  Ports			  [2, 1]
	  Position		  [535, 307, 565, 338]
	  IconShape		  "rectangular"
	  Inputs		  "++"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum5"
	  Ports			  [2, 1]
	  Position		  [445, 142, 475, 173]
	  IconShape		  "rectangular"
	  Inputs		  "+-"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum6"
	  Ports			  [2, 1]
	  Position		  [525, 186, 555, 219]
	  IconShape		  "rectangular"
	  Inputs		  "+-"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Terminator
	  Name			  "Terminator"
	  Position		  [190, 410, 210, 430]
	  ShowName		  off
	}
	Block {
	  BlockType		  Terminator
	  Name			  "Terminator2"
	  Position		  [190, 380, 210, 400]
	  ShowName		  off
	}
	Block {
	  BlockType		  Gain
	  Name			  "engine_to_generator"
	  Position		  [305, 93, 420, 137]
	  NamePlacement		  "alternate"
	  Gain			  "-tx_pg_s/(tx_pg_r+tx_pg_s)"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Gain
	  Name			  "gain"
	  Position		  [355, 287, 455, 343]
	  NamePlacement		  "alternate"
	  ShowName		  off
	  Gain			  "tx_pg_r/(tx_pg_r+tx_pg_s)"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Gain
	  Name			  "gain2"
	  Position		  [195, 328, 295, 362]
	  NamePlacement		  "alternate"
	  ShowName		  off
	  Gain			  "1+tx_pg_r/tx_pg_s"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Gain
	  Name			  "gain5"
	  Position		  [345, 157, 425, 193]
	  NamePlacement		  "alternate"
	  ShowName		  off
	  Gain			  "tx_pg_r/tx_pg_s"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "spd out"
	  Position		  [120, 86, 195, 104]
	  Orientation		  "left"
	  ShowName		  off
	  FontName		  "Arial"
	  VariableName		  "pg_spd_out_r"
	  MaxDataPoints		  "100000"
	  Decimation		  "1"
	  SampleTime		  "0"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "trq out"
	  Position		  [50, 117, 125, 133]
	  Orientation		  "left"
	  ShowName		  off
	  FontName		  "Arial"
	  VariableName		  "pg_trq_out_r"
	  MaxDataPoints		  "100000"
	  Decimation		  "1"
	  SampleTime		  "0"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nfrom fuel converter"
"\n(Nm), (rad/s)"
	  Position		  [665, 40, 685, 60]
	  FontName		  "Arial"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nfrom generator\n(Nm"
"), (rad/s)"
	  Position		  [665, 145, 685, 165]
	  FontName		  "Arial"
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nfrom motor\n(Nm), ("
"rad/s)1"
	  Position		  [670, 240, 690, 260]
	  FontName		  "Arial"
	  Port			  "3"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed available\nto final drive"
"\n(Nm), (rad/s)1"
	  Position		  [670, 330, 690, 350]
	  FontName		  "Arial"
	  Port			  "4"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "torque and speed available\nfrom motor\n(Nm"
"), (rad/s)1"
	  SrcPort		  1
	  DstBlock		  "Demux3"
	  DstPort		  1
	}
	Line {
	  Labels		  [0, 0]
	  SrcBlock		  "Demux3"
	  SrcPort		  2
	  Points		  [145, 0]
	  Branch {
	    Points		    [0, -325]
	    DstBlock		    "gain5"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [255, 0]
	    DstBlock		    "Mux3"
	    DstPort		    2
	  }
	}
	Line {
	  SrcBlock		  "Demux3"
	  SrcPort		  1
	  Points		  [330, 0; 0, -155]
	  DstBlock		  "Sum2"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Mux3"
	  SrcPort		  1
	  DstBlock		  "torque and speed available\nto final drive"
"\n(Nm), (rad/s)1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Sum2"
	  SrcPort		  1
	  DstBlock		  "Mux3"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Sum5"
	  SrcPort		  1
	  DstBlock		  "Mux1"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "engine_to_generator"
	  SrcPort		  1
	  Points		  [80, 0; 0, 30]
	  DstBlock		  "Mux1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Mux1"
	  SrcPort		  1
	  DstBlock		  "torque and speed req'd\nfrom generator\n(Nm"
"), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Sum6"
	  SrcPort		  1
	  Points		  [0, 35]
	  DstBlock		  "Mux2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Mux2"
	  SrcPort		  1
	  DstBlock		  "torque and speed req'd\nfrom motor\n(Nm), ("
"rad/s)1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "gain2"
	  SrcPort		  1
	  Points		  [10, 0; 0, -195]
	  DstBlock		  "Sum5"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  2
	  Points		  [0, 10]
	  DstBlock		  "Terminator"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  1
	  Points		  [0, -5]
	  DstBlock		  "Terminator2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "torque and speed avail.\nfrom generator\n(N"
"m), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "Demux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux1"
	  SrcPort		  1
	  Points		  [105, 0]
	  Branch {
	    Points		    [0, -200]
	    DstBlock		    "engine_to_generator"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "gain"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Demux1"
	  SrcPort		  2
	  Points		  [5, 0]
	  DstBlock		  "gain2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "torque and speed avail.\nfrom fuel converte"
"r\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "Demux1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "gain5"
	  SrcPort		  1
	  DstBlock		  "Sum5"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "From <vc>"
	  SrcPort		  1
	  Points		  [0, 10]
	  DstBlock		  "Mux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From <vc>1"
	  SrcPort		  1
	  Points		  [0, -15]
	  DstBlock		  "Mux"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Mux"
	  SrcPort		  1
	  DstBlock		  "torque and speed req'd\nfrom fuel converter"
"\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux2"
	  SrcPort		  1
	  Points		  [20, 0]
	  Branch {
	    Labels		    [2, 0]
	    Points		    [25, 0; 0, 170]
	    DstBlock		    "Sum6"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, 100]
	    DstBlock		    "trq out"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Demux2"
	  SrcPort		  2
	  Points		  [10, 0; 0, 55]
	  Branch {
	    Points		    [0, 160]
	    DstBlock		    "Mux2"
	    DstPort		    2
	  }
	  Branch {
	    DstBlock		    "spd out"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "gain"
	  SrcPort		  1
	  Points		  [45, 0]
	  Branch {
	    DstBlock		    "Sum2"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, -105]
	    DstBlock		    "Sum6"
	    DstPort		    2
	  }
	}
	Line {
	  SrcBlock		  "torque and speed required\nfrom ring gear\n"
"(Nm), (rad/s)1"
	  SrcPort		  1
	  Points		  [25, 0]
	  Branch {
	    Points		    [0, -25; 170, 0]
	    DstBlock		    "Goto <vc>"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "Demux2"
	    DstPort		    1
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "torque\ncoupler <tc>"
      Ports		      [3, 3]
      Position		      [55, 122, 95, 178]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone Torque Coupler Mask"
      MaskPromptString	      "General Name of this Component [char--evaluated"
"]|Log Variables to Workspace?|Initialization File(s) [cell array of char]|Mod"
"ification Cell [2 column cell array of param and val]|Icon image file name [c"
"har--evaluated]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'tc'|Don't Log|{}|{}|'bdi_tc.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"torque\ncoupler <tc>"
	Location		[77, 121, 971, 758]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed req'd\nat output side of t"
"orque coupler\n(Nm), (rad/s)"
	  Position		  [100, 130, 120, 150]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nat main input\n(Nm"
"), (rad/s)"
	  Position		  [100, 185, 120, 205]
	  FontName		  "Arial"
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nat motor input to "
"tc\n(Nm), (rad/s)"
	  Position		  [100, 255, 120, 275]
	  FontName		  "Arial"
	  Port			  "3"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [60, 331, 170, 369]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "tcControl"
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [540, 19, 640, 61]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "tcReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [535, 329, 635, 371]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "tcSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "tc model & interface"
	  Ports			  [4, 5]
	  Position		  [330, 169, 370, 231]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "tc model & interface"
	    Location		    [202, 43, 966, 766]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\noutput\nrequest"
	      Position		      [115, 98, 145, 112]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd avail.\nat main input"
	      Position		      [90, 180, 110, 200]
	      NamePlacement	      "alternate"
	      FontName		      "Arial"
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd avail.\nat motor input to t"
"c"
	      Position		      [120, 200, 140, 220]
	      FontName		      "Arial"
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "controls"
	      Position		      [120, 323, 150, 337]
	      Port		      "4"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "Ground"
	      Position		      [245, 320, 265, 340]
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [185, 320, 205, 340]
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [200, 91, 255, 119]
	      NamePlacement	      "alternate"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "tc_trq_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "tc_spd_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [430, 103, 460, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "tc_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "tc_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "tc model"
	      Ports		      [3, 3]
	      Position		      [205, 160, 245, 220]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"tc model"
		Location		[210, 51, 907, 778]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed req'd\nat output s"
"ide of torque coupler\n(Nm), (rad/s)"
		  Position		  [65, 45, 85, 65]
		  FontName		  "Arial"
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed avail.\nat main in"
"put\n(Nm), (rad/s)"
		  Position		  [65, 245, 85, 265]
		  FontName		  "Arial"
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed avail.\nat motor i"
"nput to tc\n(Nm), (rad/s)"
		  Position		  [50, 565, 70, 585]
		  FontName		  "Arial"
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [640, 680, 696, 720]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [633, 487, 1083, 797]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [222, 32]
		    VerticalAlignment	    "top"
		    Text		    "This block models a chain- or bel"
"t-driven torque coupler, with three gears:  one each\nfor the motor, main inp"
"ut (the engine or gearbox), and main output (to the gearbox\nor final drive)."
"  It includes losses in the chain or belt, but leaves inertia effects to be\n"
"considered in the appropriate component.\n\nThe entire torque required out of"
" the torque coupler (plus losses) is required from the\nengine.  The engine p"
"rovides only as much torque as its engine controller (see the\n<vc> block) al"
"lows.  Any remaining unmet torque request is submitted to the motor,\nwhich m"
"eets the request to the best of its ability.\n\nThe torque converter output s"
"peed is limited by the maximum speeds of both the\nmotor and the engine.\n\nT"
"he loss torque is zero when the gears are not turning, and is applied at the "
"output\n gear.\n\nThe gears connecting the main input and main output to the "
"torque converter's belt\nor chain are assumed to be of the same size, so that"
" main input speed = main output"
		    }
		    Annotation {
		    Position		    [222, 263]
		    Text		    "speed, while the motor's speed ma"
"y be different.  The ratio of motor speed to main\noutput speed is stored in "
"the variable tc_mc_to_fc_spd_ratio."
		    }
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [150, 36, 170, 69]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [150, 236, 170, 269]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux2"
		  Ports			  [1, 2]
		  Position		  [150, 556, 170, 589]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax"
		  Ports			  [2, 1]
		  Position		  [220, 317, 250, 348]
		  Function		  "min"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax1"
		  Ports			  [2, 1]
		  Position		  [400, 617, 430, 648]
		  Function		  "min"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [490, 36, 510, 69]
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [515, 221, 535, 254]
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [505, 556, 525, 589]
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [1, 1]
		  Position		  [60, 390, 85, 420]
		  ShowName		  off
		  Inputs		  "1"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [1, 1]
		  Position		  [60, 430, 85, 460]
		  ShowName		  off
		  Inputs		  "1"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "effect of motor torque\nat output o"
"f tc (Nm)"
		  Position		  [215, 492, 320, 568]
		  FontName		  "Arial"
		  Gain			  "tc_mc_to_fc_ratio"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [60, 167, 155, 183]
		  Orientation		  "left"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [60, 127, 155, 143]
		  Orientation		  "left"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  Ports			  [1]
		  Position		  [155, 417, 250, 433]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|pwr_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [495, 477, 590, 493]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [495, 517, 590, 533]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  Ports			  []
		  Position		  [596, 679, 627, 722]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('torque_co"
"upler.htm')]);"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "image(imread('doc_man.jpg'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "help"
		    Location		    [203, 331, 569, 538]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "loss\n(Nm)"
		  Ports			  [1, 1]
		  Position		  [230, 62, 260, 98]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "loss\n(Nm)"
		    Location		    [247, 304, 673, 498]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "tc output speed (rad/s)"
		    Position		    [60, 55, 80, 75]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [210, 95, 230, 115]
		    Orientation		    "up"
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [285, 49, 315, 81]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "torque coupler loss torque\n(Nm)"
		    Position		    [115, 14, 195, 36]
		    FontName		    "Arial"
		    Value		    "tc_loss"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "drag torque\n(Nm)"
		    Position		    [380, 55, 400, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -15]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "tc output speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "drag torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "torque coupler loss torque\n(Nm)"
		    SrcPort		    1
		    Points		    [20, 0; 0, 30]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [232, 142]
		    VerticalAlignment	    "top"
		    Text		    "The loss torque is zero when the "
"gears are not turning,\nand is applied at the torque coupler's output gear."
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "speed of output gear\ncorresponding"
" to motor spd\n(rad/s)"
		  Position		  [210, 605, 330, 675]
		  FontName		  "Arial"
		  Gain			  "1/tc_mc_to_fc_ratio"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "speed req'd\nof motor (rad/s)"
		  Position		  [360, 297, 465, 373]
		  FontName		  "Arial"
		  Gain			  "tc_mc_to_fc_ratio"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "sum\n"
		  Ports			  [2, 1]
		  Position		  [115, 385, 135, 465]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "torque avail.\nat output side\nof t"
"c (Nm)"
		  Ports			  [3, 1]
		  Position		  [405, 449, 425, 521]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "total torque\nreq'd at output\ngear"
" (Nm)"
		  Ports			  [2, 1]
		  Position		  [300, 27, 320, 98]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "total torque req'd\nof motor (Nm)"
		  Position		  [340, 195, 460, 265]
		  FontName		  "Arial"
		  Gain			  "1/tc_mc_to_fc_ratio"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "unmet\ntorque\nrequest\n(Nm)"
		  Ports			  [2, 1]
		  Position		  [295, 192, 315, 263]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+-"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed req'd\nat main inp"
"ut to torque coupler\n(Nm), (rad/s)"
		  Position		  [615, 45, 635, 65]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed req'd\nat motor in"
"put to torque coupler\n(Nm), (rad/s)"
		  Position		  [610, 230, 630, 250]
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed avail.\nat output "
"side of torque coupler\n(Nm), (rad/s)"
		  Position		  [610, 565, 630, 585]
		  FontName		  "Arial"
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "MinMax1"
		  SrcPort		  1
		  Points		  [25, 0; 0, -55; 10, 0]
		  Branch {
		    DstBlock		    "Mux2"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -55]
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "torque avail.\nat output side\nof t"
"c (Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 30, 0]
		  Branch {
		    Points		    [0, 80]
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [0, 0; 5, 0]
		  Branch {
		    DstBlock		    "total torque\nreq'd at output\nge"
"ar (Nm)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 90]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "MinMax"
		  SrcPort		  1
		  Points		  [0, 0; 80, 0]
		  Branch {
		    Points		    [0, 290]
		    DstBlock		    "MinMax1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "speed req'd\nof motor (rad/s)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "speed of output gear\ncorresponding"
" to motor spd\n(rad/s)"
		  SrcPort		  1
		  DstBlock		  "MinMax1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  2
		  Points		  [15, 0; 0, 60]
		  DstBlock		  "speed of output gear\ncorresponding"
" to motor spd\n(rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "torque and speed avail.\nat output "
"side of torque coupler\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "effect of motor torque\nat output o"
"f tc (Nm)"
		  SrcPort		  1
		  Points		  [45, 0; 0, -20]
		  DstBlock		  "torque avail.\nat output side\nof t"
"c (Nm)"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  1
		  Points		  [15, 0; 0, -35]
		  DstBlock		  "effect of motor torque\nat output o"
"f tc (Nm)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [0, 0; 85, 0]
		  Branch {
		    Points		    [0, 240]
		    DstBlock		    "torque avail.\nat output side\nof"
" tc (Nm)"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "unmet\ntorque\nrequest\n(Nm)"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "loss\n(Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 5, 0]
		  Branch {
		    Points		    [0, 380]
		    DstBlock		    "torque avail.\nat output side\nof"
" tc (Nm)"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "total torque\nreq'd at output\nge"
"ar (Nm)"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "speed req'd\nof motor (rad/s)"
		  SrcPort		  1
		  Points		  [5, 0; 0, -90]
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "total torque req'd\nof motor (Nm)"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "torque and speed req'd\nat motor in"
"put to torque coupler\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [0, 80]
		  DstBlock		  "MinMax"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "unmet\ntorque\nrequest\n(Nm)"
		  SrcPort		  1
		  DstBlock		  "total torque req'd\nof motor (Nm)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "total torque\nreq'd at output\ngear"
" (Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    Points		    [0, 105; -70, 0]
		    DstBlock		    "unmet\ntorque\nrequest\n(Nm)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [35, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [25, 0; 0, 20]
		  Branch {
		    Points		    [0, 65]
		    Branch {
		    Points		    [0, 30]
		    Branch {
		    Points		    [0, 150]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [235, 0; 0, -85]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		  }
		  Branch {
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "torque and speed req'd\nat output s"
"ide of torque coupler\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "torque and speed req'd\nat main inp"
"ut to torque coupler\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "sum\n"
		  SrcPort		  1
		  DstBlock		  "enhancedToWorkspace2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "sum\n"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "torque and speed avail.\nat main in"
"put\n(Nm), (rad/s)"
		  SrcPort		  1
		  Points		  [45, 0]
		  Branch {
		    DstBlock		    "Demux1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 115; -105, 0; 0, 35]
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "torque and speed avail.\nat motor i"
"nput to tc\n(Nm), (rad/s)"
		  SrcPort		  1
		  Points		  [50, 0]
		  Branch {
		    DstBlock		    "Demux2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -75; -95, 0; 0, -55]
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "sum\n"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "requested\noutput"
	      Position		      [305, 98, 335, 112]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd req'd\nat main input"
	      Position		      [290, 160, 310, 180]
	      NamePlacement	      "alternate"
	      FontName		      "Arial"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd req'd\nat motor input to to"
"rque coupler"
	      Position		      [400, 180, 420, 200]
	      NamePlacement	      "alternate"
	      FontName		      "Arial"
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd avail.\nat output side of t"
"orque coupler"
	      Position		      [360, 200, 380, 220]
	      FontName		      "Arial"
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [295, 323, 325, 337]
	      Port		      "5"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "tc model"
	      SrcPort		      1
	      DstBlock		      "trq and spd req'd\nat main input"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "tc model"
	      SrcPort		      2
	      DstBlock		      "trq and spd req'd\nat motor input to to"
"rque coupler"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd avail.\nat main input"
	      SrcPort		      1
	      DstBlock		      "tc model"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "tc model"
	      SrcPort		      3
	      DstBlock		      "trq and spd avail.\nat output side of t"
"orque coupler"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd avail.\nat motor input to t"
"c"
	      SrcPort		      1
	      DstBlock		      "tc model"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "trq and spd\noutput\nrequest"
	      SrcPort		      1
	      Points		      [0, 0; 25, 0]
	      Branch {
		Points			[0, 65]
		DstBlock		"tc model"
		DstPort			1
	      }
	      Branch {
		Points			[0, 0]
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "requested\noutput"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controls"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Ground"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [232, 275]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      Position		      [222, 35]
	      BackgroundColor	      "yellow"
	      Text		      "Model"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nat main input to to"
"rque coupler\n(Nm), (rad/s)"
	  Position		  [610, 125, 630, 145]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nat motor input to t"
"orque coupler\n(Nm), (rad/s)"
	  Position		  [610, 190, 630, 210]
	  FontName		  "Arial"
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed avail.\nat output side of "
"torque coupler\n(Nm), (rad/s)"
	  Position		  [610, 260, 630, 280]
	  FontName		  "Arial"
	  Port			  "3"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "torque and speed req'd\nat output side of t"
"orque coupler\n(Nm), (rad/s)"
	  SrcPort		  1
	  Points		  [125, 0; 0, 40]
	  DstBlock		  "tc model & interface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "torque and speed avail.\nat main input\n(Nm"
"), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "tc model & interface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "torque and speed avail.\nat motor input to "
"tc\n(Nm), (rad/s)"
	  SrcPort		  1
	  Points		  [50, 0; 0, -55]
	  DstBlock		  "tc model & interface"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [100, 0; 0, -125]
	  DstBlock		  "tc model & interface"
	  DstPort		  4
	}
	Line {
	  SrcBlock		  "tc model & interface"
	  SrcPort		  1
	  Points		  [95, 0; 0, -140]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "tc model & interface"
	  SrcPort		  2
	  Points		  [115, 0; 0, -55]
	  DstBlock		  "torque and speed req'd\nat main input to to"
"rque coupler\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "tc model & interface"
	  SrcPort		  3
	  DstBlock		  "torque and speed req'd\nat motor input to t"
"orque coupler\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "tc model & interface"
	  SrcPort		  4
	  Points		  [115, 0; 0, 60]
	  DstBlock		  "torque and speed avail.\nat output side of "
"torque coupler\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "tc model & interface"
	  SrcPort		  5
	  Points		  [50, 0; 0, 130]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Annotation {
	  Position		  [352, 55]
	  BackgroundColor	  "yellow"
	  Text			  "Torque Coupler"
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "torque\ncoupler <tc>\nDIRECT SPLIT"
      Ports		      [3, 2]
      Position		      [170, 124, 210, 176]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone Direct Split Torque Coupler Mask"
      MaskPromptString	      "General Name of this Component [char--evaluated"
"]|Log Variables to Workspace?|Initialization File(s) [cell array of char]|Mod"
"ification Cell [2 column cell array of param and val]|Icon image file name [c"
"har--evaluated]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'tc'|Log|{}|{}|'bdi_tc.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"torque\ncoupler <tc>\nDIRECT SPLIT"
	Location		[202, 77, 934, 720]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed req'd\nat output side of t"
"orque coupler\n(Nm), (rad/s)"
	  Position		  [100, 150, 120, 170]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nat main input\n(Nm"
"), (rad/s)"
	  Position		  [100, 205, 120, 225]
	  FontName		  "Arial"
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nat motor input to "
"tc\n(Nm), (rad/s)"
	  Position		  [100, 275, 120, 295]
	  FontName		  "Arial"
	  Port			  "3"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [60, 351, 170, 389]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "tcControl"
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [540, 39, 640, 81]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "tcReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [535, 349, 635, 391]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "tcSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "tc direct split model & interface"
	  Ports			  [4, 4]
	  Position		  [325, 192, 365, 253]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "tc direct split model & interface"
	    Location		    [202, 73, 966, 748]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\noutput\nrequest"
	      Position		      [65, 93, 95, 107]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd avail.\nat main input"
	      Position		      [65, 153, 95, 167]
	      NamePlacement	      "alternate"
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd avail.\nat motor input to t"
"c"
	      Position		      [65, 168, 95, 182]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      Position		      [100, 283, 130, 297]
	      Port		      "4"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "Ground"
	      Position		      [275, 280, 295, 300]
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [175, 280, 195, 300]
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [200, 86, 255, 114]
	      NamePlacement	      "alternate"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 73, 966, 748]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "tc_trq_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "tc_spd_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [430, 103, 460, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "tc_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "tc_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "tc direct split model"
	      Ports		      [3, 2]
	      Position		      [180, 134, 280, 186]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"tc direct split model"
		Location		[356, 389, 838, 673]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed req'd\nat output s"
"ide of torque coupler\n(Nm), (rad/s)"
		  Position		  [85, 50, 105, 70]
		  FontName		  "Arial"
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed avail.\nat main in"
"put\n(Nm), (rad/s)"
		  Position		  [85, 250, 105, 270]
		  FontName		  "Arial"
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed avail.\nat motor i"
"nput to tc\n(Nm), (rad/s)"
		  Position		  [70, 570, 90, 590]
		  FontName		  "Arial"
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [665, 605, 721, 645]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [637, 483, 1138, 908]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [242, 32]
		    VerticalAlignment	    "top"
		    Text		    "This block generically models a c"
"hain- or belt-driven torque coupler, with three gears:  one each\nfor the mot"
"or, main input (the engine or gearbox), and main output (to the gearbox\nor f"
"inal drive).  It includes losses in the chain or belt, but leaves inertia eff"
"ects to be\nconsidered in the appropriate component.\n\nThe entire torque req"
"uired out of the torque coupler (plus losses) is sent to the control\nstrateg"
"y. The control strategy <CS> then decides how much the electric motor \nand t"
"he ICE must supply. It then sends the EM and ICE separate requests. The 2 sou"
"rces\nthen send their achieved torque signals to the Torque Coupler, where th"
"ey are added\nand sent to the block immediately before this.\n\nThe torque co"
"upler output speed is limited by the maximum speeds of both the\nmotor and th"
"e engine. The loss torque is zero when the gears are not \nturning, and is ap"
"plied at the output gear.\n\nThe gears connecting the main input and main out"
"put to the torque converter's belt\nor chain are assumed to be of the same si"
"ze, so that main input speed = main output\nspeed, while the motor's speed ma"
"y be different.  The ratio of motor speed to main\noutput speed is stored in "
"the variable tc_mc_to_fc_spd_ratio.\n\nNOTE: This block is modeled after the "
"HONDA Insight. It represents a hypothetical Torque\nCoupler, since in the Ins"
"ight, the EM and ICE are on the same shaft. Change the\nvalues of the ratio a"
"nd inertia if modeling another torque coupler.\n\n"
		    }
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [170, 41, 190, 74]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [170, 241, 190, 274]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux2"
		  Ports			  [1, 2]
		  Position		  [170, 561, 190, 594]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax"
		  Ports			  [2, 1]
		  Position		  [240, 322, 270, 353]
		  Function		  "min"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax1"
		  Ports			  [2, 1]
		  Position		  [420, 622, 450, 653]
		  Function		  "min"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [510, 41, 530, 74]
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [540, 356, 560, 389]
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [1, 1]
		  Position		  [80, 395, 105, 425]
		  ShowName		  off
		  Inputs		  "1"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [1, 1]
		  Position		  [80, 435, 105, 465]
		  ShowName		  off
		  Inputs		  "1"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "effect of motor torque\nat output o"
"f tc (Nm)"
		  Position		  [235, 497, 340, 573]
		  FontName		  "Arial"
		  Gain			  "tc_mc_to_fc_ratio"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [90, 132, 185, 148]
		  Orientation		  "left"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [90, 172, 185, 188]
		  Orientation		  "left"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  Ports			  [1]
		  Position		  [170, 422, 265, 438]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|pwr_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [530, 252, 625, 268]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [530, 297, 625, 313]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  Ports			  []
		  Position		  [621, 604, 652, 647]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('torque_co"
"upler.htm')]);"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "image(imread('doc_man.jpg'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "help"
		    Location		    [203, 331, 569, 538]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "loss\n(Nm)"
		  Ports			  [1, 1]
		  Position		  [345, 122, 375, 158]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "loss\n(Nm)"
		    Location		    [249, 302, 690, 524]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "tc output speed (rad/s)"
		    Position		    [60, 55, 80, 75]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [210, 95, 230, 115]
		    Orientation		    "up"
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [285, 49, 315, 81]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "torque coupler loss torque\n(Nm)"
		    Position		    [115, 14, 195, 36]
		    FontName		    "Arial"
		    Value		    "tc_loss"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "drag torque\n(Nm)"
		    Position		    [380, 55, 400, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "torque coupler loss torque\n(Nm)"
		    SrcPort		    1
		    Points		    [20, 0; 0, 30]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "drag torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "tc output speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -15]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Annotation {
		    Position		    [232, 142]
		    VerticalAlignment	    "top"
		    Text		    "The loss torque is zero when the "
"gears are not turning,\nand is applied at the torque coupler's output gear.\n"
"\nFOR THE INSIGHT, tc_loss==0"
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "speed of output gear\ncorresponding"
" to motor spd\n(rad/s)"
		  Position		  [230, 610, 350, 680]
		  FontName		  "Arial"
		  Gain			  "1/tc_mc_to_fc_ratio"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "sum\n"
		  Ports			  [2, 1]
		  Position		  [135, 390, 155, 470]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "torque avail.\nat output side\nof t"
"c (Nm)"
		  Ports			  [2, 1]
		  Position		  [445, 326, 465, 399]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "total torque\nreq'd at output\ngear"
" (Nm)\nLoss==0 for the INSIGHT"
		  Ports			  [2, 1]
		  Position		  [420, 87, 440, 158]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed req'd\nat main inp"
"ut to torque coupler\n(Nm), (rad/s)"
		  Position		  [635, 50, 655, 70]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed avail.\nat output "
"side of torque coupler\n(Nm), (rad/s)"
		  Position		  [650, 365, 670, 385]
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "MinMax1"
		  SrcPort		  1
		  Points		  [35, 0; 0, -260]
		  Branch {
		    DstBlock		    "Mux2"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -120]
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "speed of output gear\ncorresponding"
" to motor spd\n(rad/s)"
		  SrcPort		  1
		  DstBlock		  "MinMax1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  2
		  Points		  [15, 0; 0, 60]
		  DstBlock		  "speed of output gear\ncorresponding"
" to motor spd\n(rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "effect of motor torque\nat output o"
"f tc (Nm)"
		  SrcPort		  1
		  Points		  [45, 0; 0, -155]
		  DstBlock		  "torque avail.\nat output side\nof t"
"c (Nm)"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  1
		  Points		  [15, 0; 0, -35]
		  DstBlock		  "effect of motor torque\nat output o"
"f tc (Nm)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [10, 0; 0, 80]
		  DstBlock		  "MinMax"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "torque and speed req'd\nat output s"
"ide of torque coupler\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "torque and speed req'd\nat main inp"
"ut to torque coupler\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "sum\n"
		  SrcPort		  1
		  DstBlock		  "enhancedToWorkspace2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "sum\n"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "torque and speed avail.\nat main in"
"put\n(Nm), (rad/s)"
		  SrcPort		  1
		  Points		  [0, 0; 45, 0]
		  Branch {
		    DstBlock		    "Demux1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 115; -105, 0; 0, 35]
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "torque and speed avail.\nat motor i"
"nput to tc\n(Nm), (rad/s)"
		  SrcPort		  1
		  Points		  [0, 0; 50, 0]
		  Branch {
		    DstBlock		    "Demux2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -75; -95, 0; 0, -55]
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "sum\n"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [195, 0; 0, 95]
		  DstBlock		  "torque avail.\nat output side\nof t"
"c (Nm)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "MinMax"
		  SrcPort		  1
		  Points		  [80, 0; 0, 290]
		  DstBlock		  "MinMax1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "torque and speed avail.\nat output "
"side of torque coupler\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "torque avail.\nat output side\nof t"
"c (Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 45, 0]
		  Branch {
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [0, 0; 25, 0]
		  Branch {
		    Points		    [0, 75]
		    Branch {
		    Points		    [0, 40]
		    Branch {
		    Points		    [0, 150]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [0, 0; 5, 0]
		  Branch {
		    Points		    [205, 0]
		    DstBlock		    "total torque\nreq'd at output\nge"
"ar (Nm)\nLoss==0 for the INSIGHT"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "loss\n(Nm)"
		  SrcPort		  1
		  DstBlock		  "total torque\nreq'd at output\ngear"
" (Nm)\nLoss==0 for the INSIGHT"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "total torque\nreq'd at output\ngear"
" (Nm)\nLoss==0 for the INSIGHT"
		  SrcPort		  1
		  Points		  [20, 0; 0, -75]
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Annotation {
		  Position		  [681, 740]
		  Text			  "FOR THE HONDA INSIGHT\nSince both t"
"he Electric Motor and the IC Engine are on the same shaft,\nthere is no actua"
"l torque coupler. Thus, this is a hypothetical torque coupler used for \ngene"
"rality, with a transmission ratio of 1 (The variable is tc_mc_to_fc_ratio),\n"
"with zero losses. In case this model is used for any other configuration, los"
"ses\nand a ratio may be added.\n\n"
		}
		Annotation {
		  Position		  [285, 738]
		  Text			  "Ratio = 1 for the HONDA INSIGHT"
		}
		Annotation {
		  Position		  [243, 42]
		  Text			  "Torque"
		}
		Annotation {
		  Position		  [246, 102]
		  Text			  "Speed"
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "required output"
	      Position		      [305, 93, 335, 107]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd req'd\nat main input"
	      Position		      [370, 143, 400, 157]
	      NamePlacement	      "alternate"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd avail.\nat output side of t"
"orque coupler"
	      Position		      [370, 168, 400, 182]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [330, 283, 360, 297]
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "trq and spd\noutput\nrequest"
	      SrcPort		      1
	      Points		      [60, 0]
	      Branch {
		Points			[0, 45]
		DstBlock		"tc direct split model"
		DstPort			1
	      }
	      Branch {
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "tc direct split model"
	      SrcPort		      1
	      DstBlock		      "trq and spd req'd\nat main input"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd avail.\nat main input"
	      SrcPort		      1
	      DstBlock		      "tc direct split model"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "tc direct split model"
	      SrcPort		      2
	      DstBlock		      "trq and spd avail.\nat output side of t"
"orque coupler"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd avail.\nat motor input to t"
"c"
	      SrcPort		      1
	      DstBlock		      "tc direct split model"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Ground"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "required output"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [232, 245]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      Position		      [227, 35]
	      BackgroundColor	      "yellow"
	      Text		      "Model"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nat main input to to"
"rque coupler\n(Nm), (rad/s)"
	  Position		  [610, 145, 630, 165]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed avail.\nat output side of "
"torque coupler\n(Nm), (rad/s)"
	  Position		  [610, 280, 630, 300]
	  FontName		  "Arial"
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "torque and speed req'd\nat output side of t"
"orque coupler\n(Nm), (rad/s)"
	  SrcPort		  1
	  Points		  [125, 0; 0, 40]
	  DstBlock		  "tc direct split model & interface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "torque and speed avail.\nat main input\n(Nm"
"), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "tc direct split model & interface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "torque and speed avail.\nat motor input to "
"tc\n(Nm), (rad/s)"
	  SrcPort		  1
	  Points		  [50, 0; 0, -55]
	  DstBlock		  "tc direct split model & interface"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [85, 0; 0, -125]
	  DstBlock		  "tc direct split model & interface"
	  DstPort		  4
	}
	Line {
	  SrcBlock		  "tc direct split model & interface"
	  SrcPort		  1
	  Points		  [100, 0; 0, -140]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "tc direct split model & interface"
	  SrcPort		  2
	  Points		  [120, 0; 0, -60]
	  DstBlock		  "torque and speed req'd\nat main input to to"
"rque coupler\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "tc direct split model & interface"
	  SrcPort		  3
	  Points		  [120, 0; 0, 60]
	  DstBlock		  "torque and speed avail.\nat output side of "
"torque coupler\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "tc direct split model & interface"
	  SrcPort		  4
	  Points		  [55, 0; 0, 125]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Annotation {
	  Position		  [352, 75]
	  BackgroundColor	  "yellow"
	  Text			  "Torque Coupler"
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Annotation {
      Position		      [81, 91]
      ForegroundColor	      "blue"
      BackgroundColor	      "yellow"
      Text		      "Torque Coupler:"
      DropShadow	      on
      FontName		      "Arial"
      FontSize		      14
    }
    Annotation {
      Position		      [644, 543]
      Text		      "-----------------------------------------------"
"------------------------------"
    }
    Annotation {
      Position		      [642, 594]
      BackgroundColor	      "darkGreen"
      Text		      "common\nsub-libraries"
    }
    Annotation {
      Position		      [341, 91]
      ForegroundColor	      "blue"
      BackgroundColor	      "yellow"
      Text		      "Clutch:"
      DropShadow	      on
      FontName		      "Arial"
      FontSize		      14
    }
    Annotation {
      Position		      [351, 396]
      ForegroundColor	      "blue"
      BackgroundColor	      "yellow"
      Text		      "Gearbox:"
      DropShadow	      on
      FontName		      "Arial"
      FontSize		      14
    }
    Annotation {
      Position		      [616, 396]
      ForegroundColor	      "blue"
      BackgroundColor	      "yellow"
      Text		      "Final Drive:"
      DropShadow	      on
      FontName		      "Arial"
      FontSize		      14
    }
    Annotation {
      Position		      [666, 96]
      ForegroundColor	      "blue"
      BackgroundColor	      "yellow"
      Text		      "Hydraulic Torque Converter:"
      DropShadow	      on
      FontName		      "Arial"
      FontSize		      14
    }
    Annotation {
      Position		      [31, 396]
      HorizontalAlignment     "left"
      ForegroundColor	      "blue"
      BackgroundColor	      "yellow"
      Text		      "Planetary Gearset:"
      DropShadow	      on
      FontName		      "Arial"
      FontSize		      14
    }
    Annotation {
      Position		      [171, 442]
      Text		      "not completed yet..."
    }
    Annotation {
      Position		      [407, 40]
      BackgroundColor	      "yellow"
      Text		      "TRANSMISSION LIBRARY"
      DropShadow	      on
      FontName		      "Arial"
      FontSize		      20
      FontWeight	      "bold"
    }
  }
}
