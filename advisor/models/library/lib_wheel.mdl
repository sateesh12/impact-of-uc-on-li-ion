Library {
  Name			  "lib_wheel"
  Version		  4.1.1
  LibraryLinkDisplay	  "all"
  CovSaveName		  "covdata"
  CovMetricSettings	  "dw"
  CovNameIncrementing	  off
  CovHtmlReporting	  on
  BlockNameDataTip	  off
  BlockParametersDataTip  off
  BlockDescriptionStringDataTip	off
  ToolBar		  on
  StatusBar		  off
  BrowserShowLibraryLinks on
  BrowserLookUnderMasks	  on
  Created		  "Tue May 30 16:36:24 2000"
  UpdateHistory		  "UpdateHistoryNever"
  ModifiedByFormat	  "%<Auto>"
  LastModifiedBy	  "tmarkel"
  ModifiedDateFormat	  "%<Auto>"
  LastModifiedDate	  "Mon Feb 24 15:40:38 2003"
  ModifiedComment	  "mokeefe -- Thu Apr 18 08:40:34 2002 -- Version 1.10"
"\nsaving the model:\no \"without the model browser open\"\no with only top-le"
"vel screen visible \no with \"fit to view\" enabled\no with \"status bar\" of"
"f and \"toolbar\" off\no with \"prompt to update model history with each save"
"\" on"
  ModifiedHistory	  "mokeefe -- Thu Apr 18 08:40:34 2002 -- Version 1.10"
"\nsaving the model:\no \"without the model browser open\"\no with only top-le"
"vel screen visible \no with \"fit to view\" enabled\no with \"status bar\" of"
"f and \"toolbar\" off\no with \"prompt to update model history with each save"
"\" on\n\nmokeefe -- Thu Apr 18 08:40:34 2002 -- Version 1.10\nsaving the mode"
"l:\no \"without the model browser open\"\no with only top-level screen visibl"
"e \no with \"fit to view\" enabled\no with \"status bar\" off and \"toolbar\""
" off\no with \"prompt to update model history with each save\" on\n\nssprik -"
"- Fri Feb 01 16:13:25 2002 -- Version 1.9\nadded wheel goto tag wh_trq_a\n\nm"
"okeefe -- Fri Jun 29 14:51:12 2001 -- Version 1.8\n\nadded sub-model componen"
"t to calculate vehicle weight\n\nmokeefe -- Fri Jun 29 14:49:48 2001 -- Versi"
"on 1.7\n\n\nmokeefe -- Thu Jun 28 14:08:49 2001 -- Version 1.6\n\nreplaced al"
"l 'veh_mass' references with a veh_mass plus a FROM block (originating from d"
"rive cycle) that gives variable cargo mass by time\n\n"
  ModelVersionFormat	  "1.%<AutoIncrement:42>"
  ConfigurationManager	  "none"
  SimParamPage		  "Solver"
  AlgebraicLoopMsg	  "warning"
  MinStepSizeMsg	  "warning"
  UnconnectedInputMsg	  "warning"
  UnconnectedOutputMsg	  "warning"
  UnconnectedLineMsg	  "warning"
  InheritedTsInSrcMsg	  "warning"
  SingleTaskRateTransMsg  "none"
  MultiTaskRateTransMsg	  "error"
  IntegerOverflowMsg	  "warning"
  CheckForMatrixSingularity "none"
  UnnecessaryDatatypeConvMsg "none"
  Int32ToFloatConvMsg	  "warning"
  InvalidFcnCallConnMsg	  "error"
  SignalLabelMismatchMsg  "none"
  LinearizationMsg	  "none"
  VectorMatrixConversionMsg "none"
  SfunCompatibilityCheckMsg "none"
  BlockPriorityViolationMsg "warning"
  ArrayBoundsChecking	  "none"
  ConsistencyChecking	  "none"
  Profile		  off
  SimulationMode	  "normal"
  RTWRetainRTWFile	  off
  RTWMakeCommand	  "make_rtw"
  RTWGenerateCodeOnly	  off
  TLCProfiler		  off
  TLCDebug		  off
  TLCCoverage		  off
  ExtModeMexFile	  "ext_comm"
  ExtModeBatchMode	  off
  ExtModeTrigType	  "manual"
  ExtModeTrigMode	  "normal"
  ExtModeTrigPort	  "1"
  ExtModeTrigElement	  "any"
  ExtModeTrigDuration	  1000
  ExtModeTrigHoldOff	  0
  ExtModeTrigDelay	  0
  ExtModeTrigDirection	  "rising"
  ExtModeTrigLevel	  0
  ExtModeArchiveMode	  "off"
  ExtModeAutoIncOneShot	  off
  ExtModeIncDirWhenArm	  off
  ExtModeAddSuffixToVar	  off
  ExtModeWriteAllDataToWs off
  ExtModeArmWhenConnect	  on
  ExtModeSkipDownloadWhenConnect off
  ExtModeLogAll		  on
  ExtModeAutoUpdateStatusClock on
  BlockDefaults {
    Orientation		    "right"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    NamePlacement	    "normal"
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    ShowName		    on
  }
  AnnotationDefaults {
    HorizontalAlignment	    "center"
    VerticalAlignment	    "middle"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  LineDefaults {
    FontName		    "Helvetica"
    FontSize		    9
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  System {
    Name		    "lib_wheel"
    Location		    [399, 451, 745, 686]
    Open		    on
    ModelBrowserVisibility  off
    ModelBrowserWidth	    212
    ScreenColor		    "automatic"
    PaperOrientation	    "landscape"
    PaperPositionMode	    "auto"
    PaperType		    "usletter"
    PaperUnits		    "inches"
    ZoomFactor		    "100"
    ReportName		    "simulink-default.rpt"
    Block {
      BlockType		      SubSystem
      Name		      "2 axle -->\n1 driveline\nconverter"
      Ports		      [3, 3]
      Position		      [215, 155, 240, 215]
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      System {
	Name			"2 axle -->\n1 driveline\nconverter"
	Location		[193, 175, 894, 720]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "front req"
	  Position		  [90, 123, 120, 137]
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "rear req"
	  Position		  [20, 178, 50, 192]
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "ach"
	  Position		  [70, 363, 100, 377]
	  Port			  "3"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Constant
	  Name			  "Constant"
	  Position		  [75, 46, 185, 64]
	  Value			  "wh_front_active_bool"
	  VectorParams1D	  on
	}
	Block {
	  BlockType		  Constant
	  Name			  "Constant1"
	  Position		  [285, 131, 395, 149]
	  Value			  "wh_rear_active_bool"
	  VectorParams1D	  on
	}
	Block {
	  BlockType		  Constant
	  Name			  "Constant2"
	  Position		  [400, 401, 510, 419]
	  Value			  "wh_front_active_bool"
	  VectorParams1D	  on
	}
	Block {
	  BlockType		  Constant
	  Name			  "Constant3"
	  Position		  [400, 456, 510, 474]
	  Value			  "wh_rear_active_bool"
	  VectorParams1D	  on
	}
	Block {
	  BlockType		  Constant
	  Name			  "Constant4"
	  Position		  [325, 251, 350, 269]
	  Value			  "eps"
	  VectorParams1D	  on
	}
	Block {
	  BlockType		  Constant
	  Name			  "Constant5"
	  Position		  [155, 471, 180, 489]
	  Value			  "0"
	  VectorParams1D	  on
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux"
	  Ports			  [1, 2]
	  Position		  [160, 111, 165, 149]
	  BackgroundColor	  "black"
	  ShowName		  off
	  Outputs		  "2"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux1"
	  Ports			  [1, 2]
	  Position		  [160, 166, 165, 204]
	  BackgroundColor	  "black"
	  ShowName		  off
	  Outputs		  "2"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux2"
	  Ports			  [1, 2]
	  Position		  [135, 406, 140, 444]
	  BackgroundColor	  "black"
	  ShowName		  off
	  Outputs		  "2"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  Ground
	  Name			  "Ground"
	  Position		  [355, 480, 375, 500]
	}
	Block {
	  BlockType		  Logic
	  Name			  "Logical\nOperator"
	  Ports			  [2, 1]
	  Position		  [430, 116, 460, 149]
	  Operator		  "NAND"
	  Inputs		  "2"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux"
	  Ports			  [2, 1]
	  Position		  [445, 181, 450, 219]
	  ShowName		  off
	  Inputs		  "2"
	  DisplayOption		  "bar"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux1"
	  Ports			  [2, 1]
	  Position		  [270, 431, 275, 469]
	  ShowName		  off
	  Inputs		  "2"
	  DisplayOption		  "bar"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux2"
	  Ports			  [2, 1]
	  Position		  [285, 386, 290, 424]
	  ShowName		  off
	  Inputs		  "2"
	  DisplayOption		  "bar"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux3"
	  Ports			  [2, 1]
	  Position		  [520, 491, 525, 529]
	  ShowName		  off
	  Inputs		  "2"
	  DisplayOption		  "bar"
	}
	Block {
	  BlockType		  Product
	  Name			  "Product"
	  Ports			  [2, 1]
	  Position		  [440, 226, 460, 264]
	  Inputs		  "*/"
	  Multiplication	  "Element-wise(.*)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Product
	  Name			  "Product1"
	  Ports			  [2, 1]
	  Position		  [170, 376, 185, 414]
	  Inputs		  "2"
	  Multiplication	  "Element-wise(.*)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum"
	  Ports			  [2, 1]
	  Position		  [390, 180, 410, 200]
	  ShowName		  off
	  IconShape		  "rectangular"
	  Inputs		  "++"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum1"
	  Ports			  [2, 1]
	  Position		  [230, 430, 250, 450]
	  ShowName		  off
	  IconShape		  "rectangular"
	  Inputs		  "+-"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum2"
	  Ports			  [2, 1]
	  Position		  [385, 245, 405, 265]
	  ShowName		  off
	  IconShape		  "rectangular"
	  Inputs		  "++"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Switch
	  Name			  "Switch"
	  Position		  [255, 75, 285, 105]
	  Threshold		  "eps"
	}
	Block {
	  BlockType		  Switch
	  Name			  "Switch1"
	  Position		  [505, 175, 535, 205]
	  Threshold		  "eps"
	}
	Block {
	  BlockType		  Switch
	  Name			  "Switch2"
	  Position		  [350, 365, 380, 395]
	  Threshold		  "eps"
	}
	Block {
	  BlockType		  Switch
	  Name			  "Switch3"
	  Position		  [555, 395, 585, 425]
	  Threshold		  "eps"
	}
	Block {
	  BlockType		  Switch
	  Name			  "Switch4"
	  Position		  [555, 450, 585, 480]
	  Threshold		  "eps"
	}
	Block {
	  BlockType		  Switch
	  Name			  "Switch5"
	  Position		  [350, 425, 380, 455]
	  Threshold		  "eps"
	}
	Block {
	  BlockType		  Switch
	  Name			  "Switch6"
	  Position		  [210, 380, 240, 410]
	  Threshold		  "eps"
	}
	Block {
	  BlockType		  Terminator
	  Name			  "Terminator"
	  Position		  [205, 200, 225, 220]
	}
	Block {
	  BlockType		  Outport
	  Name			  "req"
	  Position		  [575, 183, 605, 197]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "front ach"
	  Position		  [620, 403, 650, 417]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "rear ach"
	  Position		  [620, 458, 650, 472]
	  Port			  "3"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "rear req"
	  SrcPort		  1
	  Points		  [15, 0]
	  Branch {
	    DstBlock		    "Demux1"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, -85]
	    DstBlock		    "Switch"
	    DstPort		    3
	  }
	}
	Line {
	  SrcBlock		  "Constant"
	  SrcPort		  1
	  Points		  [20, 0]
	  Branch {
	    Points		    [0, 35]
	    DstBlock		    "Switch"
	    DstPort		    2
	  }
	  Branch {
	    Points		    [205, 0]
	    DstBlock		    "Logical\nOperator"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Switch"
	  SrcPort		  1
	  Points		  [200, 0]
	  DstBlock		  "Switch1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Logical\nOperator"
	  SrcPort		  1
	  Points		  [10, 0; 0, 55]
	  Branch {
	    DstBlock		    "Switch1"
	    DstPort		    2
	  }
	  Branch {
	    Points		    [0, 135; -140, 0; 0, 55]
	    Branch {
	      DstBlock		      "Switch2"
	      DstPort		      2
	    }
	    Branch {
	      DstBlock		      "Switch5"
	      DstPort		      2
	    }
	  }
	}
	Line {
	  SrcBlock		  "Switch1"
	  SrcPort		  1
	  DstBlock		  "req"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Mux"
	  SrcPort		  1
	  DstBlock		  "Switch1"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "Demux1"
	  SrcPort		  1
	  Points		  [20, 0; 0, 20]
	  DstBlock		  "Sum"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  1
	  Points		  [100, 0; 0, 65; 95, 0]
	  Branch {
	    DstBlock		    "Sum"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, 50]
	    DstBlock		    "Product"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Sum"
	  SrcPort		  1
	  Points		  [5, 0]
	  Branch {
	    DstBlock		    "Mux"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, 50; -50, 0]
	    Branch {
	      DstBlock		      "Sum2"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [-175, 0]
	      DstBlock		      "Switch6"
	      DstPort		      2
	    }
	  }
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  2
	  Points		  [85, 0; 0, 70]
	  DstBlock		  "Mux"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Demux1"
	  SrcPort		  2
	  Points		  [0, 15]
	  DstBlock		  "Terminator"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "front req"
	  SrcPort		  1
	  Points		  [5, 0]
	  Branch {
	    DstBlock		    "Demux"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, -50]
	    DstBlock		    "Switch"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Constant1"
	  SrcPort		  1
	  DstBlock		  "Logical\nOperator"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "ach"
	  SrcPort		  1
	  Points		  [5, 0]
	  Branch {
	    Points		    [0, 55]
	    DstBlock		    "Demux2"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [215, 0]
	    Branch {
	      DstBlock		      "Switch2"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [0, 60]
	      DstBlock		      "Switch5"
	      DstPort		      1
	    }
	  }
	}
	Line {
	  SrcBlock		  "Switch3"
	  SrcPort		  1
	  DstBlock		  "front ach"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Switch4"
	  SrcPort		  1
	  DstBlock		  "rear ach"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux2"
	  SrcPort		  1
	  Points		  [0, 0; 10, 0]
	  Branch {
	    DstBlock		    "Product1"
	    DstPort		    2
	  }
	  Branch {
	    Points		    [0, 20]
	    DstBlock		    "Sum1"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Product"
	  SrcPort		  1
	  Points		  [20, 0; 0, 90; -330, 0]
	  DstBlock		  "Product1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Sum1"
	  SrcPort		  1
	  DstBlock		  "Mux1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Constant3"
	  SrcPort		  1
	  DstBlock		  "Switch4"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Constant2"
	  SrcPort		  1
	  DstBlock		  "Switch3"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Ground"
	  SrcPort		  1
	  Points		  [0, 10]
	  DstBlock		  "Mux3"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Mux3"
	  SrcPort		  1
	  Points		  [5, 0; 0, -35]
	  Branch {
	    DstBlock		    "Switch4"
	    DstPort		    3
	  }
	  Branch {
	    Points		    [0, -55]
	    DstBlock		    "Switch3"
	    DstPort		    3
	  }
	}
	Line {
	  SrcBlock		  "Mux2"
	  SrcPort		  1
	  Points		  [20, 0; 0, -15]
	  DstBlock		  "Switch2"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "Mux1"
	  SrcPort		  1
	  DstBlock		  "Switch5"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "Switch2"
	  SrcPort		  1
	  Points		  [145, 0; 0, 20]
	  DstBlock		  "Switch3"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Switch5"
	  SrcPort		  1
	  Points		  [155, 0]
	  DstBlock		  "Switch4"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux2"
	  SrcPort		  2
	  Points		  [0, 25; 100, 0]
	  Branch {
	    Points		    [10, 0]
	    Branch {
	      DstBlock		      "Mux1"
	      DstPort		      2
	    }
	    Branch {
	      Points		      [0, -45]
	      DstBlock		      "Mux2"
	      DstPort		      2
	    }
	  }
	  Branch {
	    Points		    [0, 60]
	    DstBlock		    "Mux3"
	    DstPort		    2
	  }
	}
	Line {
	  SrcBlock		  "Constant4"
	  SrcPort		  1
	  DstBlock		  "Sum2"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Sum2"
	  SrcPort		  1
	  DstBlock		  "Product"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Product1"
	  SrcPort		  1
	  Points		  [0, -10]
	  DstBlock		  "Switch6"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Switch6"
	  SrcPort		  1
	  Points		  [5, 0]
	  Branch {
	    DstBlock		    "Mux2"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, 30; -35, 0]
	    DstBlock		    "Sum1"
	    DstPort		    2
	  }
	}
	Line {
	  SrcBlock		  "Constant5"
	  SrcPort		  1
	  Points		  [10, 0]
	  DstBlock		  "Switch6"
	  DstPort		  3
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Submodels"
      Ports		      []
      Position		      [76, 182, 115, 213]
      ShowPortLabels	      on
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      System {
	Name			"Submodels"
	Location		[314, 280, 812, 580]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  "veh mass calc"
	  Ports			  [0, 1]
	  Position		  [80, 45, 125, 65]
	  BackgroundColor	  "darkGreen"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "veh mass calc"
	    Location		    [152, 178, 650, 478]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [160, 129, 240, 151]
	      BackgroundColor	      "darkGreen"
	      Value		      "veh_mass"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      From
	      Name		      "From"
	      Position		      [155, 68, 265, 92]
	      BackgroundColor	      "darkGreen"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "veh_cargo_mass"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [300, 70, 320, 90]
	      BackgroundColor	      "darkGreen"
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "|++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [365, 73, 395, 87]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "From"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [65, 0]
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	  }
	}
	Annotation {
	  Position		  [97, 29]
	  Text			  "vehicle mass calculation (kg)"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "wheel and\naxle - rear <wh>"
      Ports		      [2, 2]
      Position		      [140, 51, 190, 104]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskDisplay	      "image(imread('bdi_wh.jpg'))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      System {
	Name			"wheel and\naxle - rear <wh>"
	Location		[2, 74, 1014, 762]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	212
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "tractive force and speed\nreq'd of tire/roa"
"d interface\n(N), (m/s)"
	  Position		  [65, 144, 85, 166]
	  FontName		  "Arial"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed\navailable from\ndrivetrai"
"n into axle\n(Nm), (rad/s)"
	  Position		  [55, 420, 75, 440]
	  FontName		  "Arial"
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Reference
	  Name			  "Block NOTES"
	  Ports			  []
	  Position		  [840, 535, 896, 575]
	  BackgroundColor	  "green"
	  ShowName		  off
	  SourceBlock		  "lib_wheel/wheel and\naxle <wh>/Block NOTES"
	  SourceType		  "Unknown"
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux"
	  Ports			  [1, 2]
	  Position		  [145, 126, 165, 184]
	  FontName		  "Arial"
	  Outputs		  "2"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux1"
	  Ports			  [1, 2]
	  Position		  [115, 313, 135, 542]
	  FontName		  "Arial"
	  Outputs		  "2"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  Gain
	  Name			  "Gain"
	  Position		  [795, 407, 825, 443]
	  FontName		  "Arial"
	  Gain			  "-1"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto"
	  Position		  [170, 599, 245, 621]
	  ForegroundColor	  "green"
	  GotoTag		  "wh_rear_trq_a"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <sdo>1"
	  Position		  [800, 476, 885, 494]
	  ForegroundColor	  "green"
	  GotoTag		  "brake_limited_rear"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Logic
	  Name			  "Logical\nOperator"
	  Ports			  [2, 1]
	  Position		  [745, 467, 775, 498]
	  Operator		  "OR"
	  Inputs		  "2"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux"
	  Ports			  [2, 1]
	  Position		  [770, 41, 790, 134]
	  FontName		  "Arial"
	  Inputs		  "2"
	  DisplayOption		  "none"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux1"
	  Ports			  [2, 1]
	  Position		  [780, 320, 800, 375]
	  FontName		  "Arial"
	  Inputs		  "2"
	  DisplayOption		  "none"
	}
	Block {
	  BlockType		  Product
	  Name			  "Product"
	  Ports			  [2, 1]
	  Position		  [850, 402, 880, 433]
	  Inputs		  "2"
	  Multiplication	  "Element-wise(.*)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  RelationalOperator
	  Name			  "Relational\nOperator1"
	  Position		  [675, 432, 705, 463]
	  Operator		  "=="
	}
	Block {
	  BlockType		  RelationalOperator
	  Name			  "Relational\nOperator2"
	  Position		  [675, 497, 705, 528]
	  Operator		  "=="
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum"
	  Ports			  [3, 1]
	  Position		  [665, 26, 685, 104]
	  FontName		  "Arial"
	  IconShape		  "rectangular"
	  Inputs		  "+++"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum1"
	  Ports			  [3, 1]
	  Position		  [175, 361, 195, 419]
	  FontName		  "Arial"
	  IconShape		  "rectangular"
	  Inputs		  "+--"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum2"
	  Ports			  [2, 1]
	  Position		  [435, 24, 460, 51]
	  IconShape		  "rectangular"
	  Inputs		  "-+"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum3"
	  Ports			  [2, 1]
	  Position		  [750, 406, 770, 439]
	  FontName		  "Arial"
	  IconShape		  "rectangular"
	  Inputs		  "++"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace2"
	  Position		  [775, 165, 855, 185]
	  ForegroundColor	  "green"
	  VariableName		  "wh_rear_trq_r"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace3"
	  Position		  [775, 205, 855, 225]
	  ForegroundColor	  "green"
	  VariableName		  "wh_rear_spd_r"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace4"
	  Position		  [175, 500, 255, 520]
	  ForegroundColor	  "green"
	  VariableName		  "wh_rear_trq_a"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace5"
	  Position		  [175, 540, 255, 560]
	  ForegroundColor	  "green"
	  VariableName		  "wh_rear_spd_a"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace6"
	  Position		  [905, 409, 1005, 431]
	  ForegroundColor	  "green"
	  VariableName		  "wh_rear_brake_loss_pwr"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "brake request controller interface"
	  Ports			  [0, 1]
	  Position		  [300, 20, 390, 40]
	  ForegroundColor	  "green"
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "brake request controller interface"
	    Location		    [214, 70, 566, 202]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      From
	      Name		      "From <logic>"
	      Position		      [100, 39, 200, 71]
	      ForegroundColor	      "green"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "F_rear_brake_req"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "F_rear_brake_req"
	      Position		      [235, 45, 255, 65]
	      ForegroundColor	      "green"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "From <logic>"
	      SrcPort		      1
	      DstBlock		      "F_rear_brake_req"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "effect of inertia\n(Nm)"
	  Ports			  [1, 1]
	  Position		  [575, 112, 605, 148]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "effect of inertia\n(Nm)"
	    Location		    [214, 70, 989, 738]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "axle input speed (rad/s)"
	      Position		      [50, 15, 70, 35]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [30, 59, 135, 81]
	      FontName		      "Arial"
	      Value		      "wh_inertia"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [290, 13, 310, 57]
	      FontName		      "Arial"
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Derivative
	      Name		      "d/dt"
	      Position		      [155, 15, 185, 35]
	      FontName		      "Arial"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "inertia torque\n(Nm)"
	      Position		      [380, 25, 400, 45]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "d/dt"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "axle input speed (rad/s)"
	      SrcPort		      1
	      DstBlock		      "d/dt"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [70, 0; 0, -25]
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "inertia torque\n(Nm)"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [232, 107]
	      VerticalAlignment	      "top"
	      Text		      "This block computes the torque required"
" to overcome the inertia of the\nwheels and axle."
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "front brake"
	  Ports			  [1, 1]
	  Position		  [535, 390, 565, 420]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "front brake"
	    Location		    [214, 70, 989, 738]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "F_brake"
	      Position		      [20, 65, 40, 85]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [210, 65, 230, 85]
	      Value		      "-inf"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [85, 65, 105, 85]
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "F_brake_max"
	      Position		      [320, 65, 340, 85]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "F_brake"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "F_brake_max"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Sum
	  Name			  "front tire\ntractive force\n(N)"
	  Ports			  [2, 1]
	  Position		  [610, 350, 630, 370]
	  FontName		  "Arial"
	  IconShape		  "rectangular"
	  Inputs		  "++"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "front/rear brake controller interface\n(ach"
"ievable)"
	  Ports			  [4, 2]
	  Position		  [350, 380, 495, 475]
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "front/rear brake controller interface\n(a"
"chievable)"
	    Location		    [214, 70, 989, 738]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "F_drivetrain_ach"
	      Position		      [40, 45, 60, 65]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "w_wheel_ach"
	      Position		      [40, 105, 60, 125]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "F_max_front_brake"
	      Position		      [40, 165, 60, 185]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "F_max_rear_brake"
	      Position		      [40, 220, 60, 240]
	      Port		      "4"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <logic>"
	      Position		      [245, 34, 350, 66]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "F_front_brake"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <logic>1"
	      Position		      [245, 94, 350, 126]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "F_rear_brake"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <logic>"
	      Position		      [95, 38, 200, 72]
	      GotoTag		      "F_drivetrain_ach"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <logic>1"
	      Position		      [95, 99, 200, 131]
	      GotoTag		      "w_wheel_ach"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <logic>2"
	      Position		      [95, 159, 200, 191]
	      GotoTag		      "F_max_front_brake"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <logic>3"
	      Position		      [95, 214, 200, 246]
	      GotoTag		      "F_max_rear_brake"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "F_front_brake"
	      Position		      [385, 40, 405, 60]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "F_rear_brake"
	      Position		      [385, 100, 405, 120]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "F_max_rear_brake"
	      SrcPort		      1
	      DstBlock		      "Goto <logic>3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "F_max_front_brake"
	      SrcPort		      1
	      DstBlock		      "Goto <logic>2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "F_drivetrain_ach"
	      SrcPort		      1
	      DstBlock		      "Goto <logic>"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "w_wheel_ach"
	      SrcPort		      1
	      DstBlock		      "Goto <logic>1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <logic>"
	      SrcPort		      1
	      DstBlock		      "F_front_brake"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <logic>1"
	      SrcPort		      1
	      DstBlock		      "F_rear_brake"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Reference
	  Name			  "help"
	  Ports			  []
	  Position		  [797, 533, 827, 577]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowName		  off
	  SourceBlock		  "lib_wheel/wheel and\naxle <wh>/help"
	  SourceType		  "Unknown"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "loss\n(Nm)"
	  Ports			  [1, 1]
	  Position		  [575, 47, 605, 83]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "loss\n(Nm)"
	    Location		    [214, 70, 989, 738]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "axle speed (rad/s)"
	      Position		      [50, 5, 70, 25]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [220, 95, 240, 115]
	      Orientation	      "up"
	      FontName		      "Arial"
	      Value		      "0"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [285, 49, 315, 81]
	      FontName		      "Arial"
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "veh mass calc"
	      Ports		      [0, 1]
	      Position		      [45, 45, 90, 65]
	      BackgroundColor	      "darkGreen"
	      SourceBlock	      "lib_wheel/Submodels/veh mass calc"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      "off"
	      TreatAsAtomicUnit	      "off"
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "wheel & axle\nbearing drag (Nm)"
	      Position		      [160, 43, 190, 67]
	      InputValues	      "wh_axle_loss_mass"
	      OutputValues	      "wh_axle_loss_trq"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "drag torque\n(Nm)"
	      Position		      [380, 55, 400, 75]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "veh mass calc"
	      SrcPort		      1
	      DstBlock		      "wheel & axle\nbearing drag (Nm)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "drag torque\n(Nm)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "axle speed (rad/s)"
	      SrcPort		      1
	      Points		      [135, 0; 0, 50]
	      DstBlock		      "Switch"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [0, -15]
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "wheel & axle\nbearing drag (Nm)"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [232, 142]
	      VerticalAlignment	      "top"
	      Text		      "The loss torque is zero when the axle i"
"s not turning."
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "rear brake"
	  Ports			  [1, 1]
	  Position		  [535, 435, 565, 465]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "rear brake"
	    Location		    [214, 70, 989, 738]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "F_brake"
	      Position		      [20, 65, 40, 85]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [210, 65, 230, 85]
	      Value		      "-inf"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [85, 65, 105, 85]
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "F_brake_max"
	      Position		      [320, 65, 340, 85]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "F_brake_max"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "F_brake"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "tire slip model\n(m/s)"
	  Ports			  [5, 1]
	  Position		  [710, 334, 740, 396]
	  ForegroundColor	  "green"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "tire slip model\n(m/s)"
	    Location		    [0, 101, 1021, 524]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "weight borne by rear axle\n(N)"
	      Position		      [55, 30, 75, 50]
	      ForegroundColor	      "green"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "tractive force available\nat rear axle"
"\n(N)"
	      Position		      [55, 115, 75, 135]
	      ForegroundColor	      "green"
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "axle speed available\n(rad/s)"
	      Position		      [55, 195, 75, 215]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "axle speed\nreq'd (rad/s)"
	      Position		      [55, 250, 75, 270]
	      Port		      "4"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "vehicle speed\nrequired (m/s)"
	      Position		      [50, 340, 70, 360]
	      Port		      "5"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Abs
	      Name		      "Abs"
	      Position		      [250, 110, 280, 140]
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Abs
	      Name		      "Abs1"
	      Position		      [245, 240, 275, 270]
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Block NOTES"
	      Ports		      []
	      Position		      [960, 335, 1016, 375]
	      BackgroundColor	      "green"
	      ShowName		      off
	      SourceBlock	      "lib_wheel/wheel and\naxle <wh>/tire sli"
"p model\n(m//s)/Block NOTES"
	      SourceType	      "Unknown"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [320, 305, 340, 325]
	      Orientation	      "left"
	      Value		      "1e-3"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant3"
	      Position		      [365, 125, 385, 145]
	      Orientation	      "up"
	      FontName		      "Arial"
	      Value		      "0"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant5"
	      Position		      [630, 65, 650, 85]
	      FontName		      "Arial"
	      Value		      "1"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant6"
	      Position		      [775, 169, 840, 191]
	      Orientation	      "left"
	      FontName		      "Arial"
	      Value		      "wh_radius"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "F/W"
	      Ports		      [2, 1]
	      Position		      [310, 15, 330, 50]
	      FontName		      "Arial"
	      Inputs		      "*/"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "Fcn"
	      Position		      [735, 49, 765, 71]
	      FontName		      "Arial"
	      Expr		      "1/u"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <sdo>1"
	      Position		      [875, 37, 965, 63]
	      ForegroundColor	      "green"
	      GotoTag		      "veh_rear_spd_a_rec"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [565, 35, 585, 70]
	      FontName		      "Arial"
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator"
	      Position		      [332, 85, 363, 105]
	      Orientation	      "up"
	      Operator		      "~="
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator1"
	      Position		      [315, 247, 345, 278]
	      Operator		      ">"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation"
	      Position		      [455, 30, 485, 60]
	      UpperLimit	      "max(wh_slip_force_coeff)"
	      LowerLimit	      "min(wh_slip_force_coeff)"
	      LinearizeAsGain	      on
	    }
	    Block {
	      BlockType		      Signum
	      Name		      "Sign"
	      Position		      [250, 159, 285, 191]
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum3"
	      Ports		      [2, 1]
	      Position		      [685, 50, 705, 70]
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum4"
	      Ports		      [2, 1]
	      Position		      [165, 245, 185, 265]
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "-+"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [395, 29, 425, 61]
	      FontName		      "Arial"
	      Threshold		      "0"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch1"
	      Position		      [880, 85, 910, 115]
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "s=s(F/W)"
	      Position		      [510, 33, 540, 57]
	      InputValues	      "wh_slip_force_coeff"
	      OutputValues	      "wh_slip"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "vehicle speed\n(m/s)"
	      Ports		      [3, 1]
	      Position		      [800, 48, 820, 132]
	      FontName		      "Arial"
	      Inputs		      "3"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "possible vehicle\nspeed\n(m/s)"
	      Position		      [955, 90, 975, 110]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "Sum3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "vehicle speed\n(m/s)"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		Points			[0, -40]
		DstBlock		"Goto <sdo>1"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Switch1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Switch1"
	      SrcPort		      1
	      DstBlock		      "possible vehicle\nspeed\n(m/s)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "tractive force available\nat rear axle"
"\n(N)"
	      SrcPort		      1
	      Points		      [140, 0]
	      Branch {
		DstBlock		"Abs"
		DstPort			1
	      }
	      Branch {
		Points			[0, 50]
		DstBlock		"Sign"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "weight borne by rear axle\n(N)"
	      SrcPort		      1
	      DstBlock		      "F/W"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Abs1"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [-15, 0]
	      DstBlock		      "Relational\nOperator1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "axle speed\nreq'd (rad/s)"
	      SrcPort		      1
	      DstBlock		      "Sum4"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum4"
	      SrcPort		      1
	      DstBlock		      "Abs1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "vehicle speed\nrequired (m/s)"
	      SrcPort		      1
	      Points		      [790, 0]
	      DstBlock		      "Switch1"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator1"
	      SrcPort		      1
	      Points		      [500, 0; 0, -165]
	      DstBlock		      "Switch1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant6"
	      SrcPort		      1
	      Points		      [0, -60]
	      DstBlock		      "vehicle speed\n(m/s)"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "axle speed available\n(rad/s)"
	      SrcPort		      1
	      Points		      [50, 0]
	      Branch {
		Points			[580, 0; 0, -115]
		DstBlock		"vehicle speed\n(m/s)"
		DstPort			2
	      }
	      Branch {
		Points			[0, 45]
		DstBlock		"Sum4"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "s=s(F/W)"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sign"
	      SrcPort		      1
	      Points		      [240, 0; 0, -115]
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "F/W"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant5"
	      SrcPort		      1
	      Points		      [15, 0]
	      DstBlock		      "Sum3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Fcn"
	      SrcPort		      1
	      DstBlock		      "vehicle speed\n(m/s)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum3"
	      SrcPort		      1
	      DstBlock		      "Fcn"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "Saturation"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Saturation"
	      SrcPort		      1
	      DstBlock		      "s=s(F/W)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Abs"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		Points			[50, 0]
		DstBlock		"Relational\nOperator"
		DstPort			1
	      }
	      Branch {
		Points			[0, -100]
		DstBlock		"F/W"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator"
	      SrcPort		      1
	      Points		      [0, -35]
	      DstBlock		      "Switch"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant3"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		DstBlock		"Relational\nOperator"
		DstPort			2
	      }
	      Branch {
		Points			[0, -65]
		DstBlock		"Switch"
		DstPort			3
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "tire slip model\n(rad/s)"
	  Ports			  [3, 1]
	  Position		  [470, 128, 500, 182]
	  ForegroundColor	  "green"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "tire slip model\n(rad/s)"
	    Location		    [135, 284, 871, 638]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "tractive force requested\nof rear axle"
"\n(N)"
	      Position		      [70, 160, 90, 180]
	      ForegroundColor	      "green"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "requested time-step\naverage vehicle sp"
"eed\n(m/s)"
	      Position		      [70, 20, 90, 40]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "weight borne by\nrear axle\n(N)"
	      Position		      [75, 85, 95, 105]
	      ForegroundColor	      "green"
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Abs
	      Name		      "Abs"
	      Position		      [145, 155, 175, 185]
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant5"
	      Position		      [440, 120, 460, 140]
	      FontName		      "Arial"
	      Value		      "1"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant6"
	      Position		      [440, 185, 530, 205]
	      Orientation	      "up"
	      FontName		      "Arial"
	      Value		      "1/wh_radius"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "F/W"
	      Ports		      [2, 1]
	      Position		      [195, 70, 215, 105]
	      FontName		      "Arial"
	      Inputs		      "*/"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [400, 90, 420, 125]
	      FontName		      "Arial"
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation"
	      Position		      [270, 75, 300, 105]
	      UpperLimit	      "max(wh_slip_force_coeff)"
	      LowerLimit	      "min(wh_slip_force_coeff)"
	      LinearizeAsGain	      on
	    }
	    Block {
	      BlockType		      Signum
	      Name		      "Sign"
	      Position		      [145, 214, 180, 246]
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum3"
	      Ports		      [2, 1]
	      Position		      [495, 105, 515, 125]
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace6"
	      Position		      [480, 35, 560, 55]
	      ForegroundColor	      "green"
	      VariableName	      "wh_rear_slip_r"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "s=s(F/W)"
	      Position		      [340, 78, 370, 102]
	      InputValues	      "wh_slip_force_coeff"
	      OutputValues	      "wh_slip"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "wheel speed\n(rad/s)"
	      Ports		      [3, 1]
	      Position		      [560, 73, 580, 157]
	      FontName		      "Arial"
	      Inputs		      "3"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "slip-augmented rotational\nspeed (rad/s"
")"
	      Position		      [640, 105, 660, 125]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      Points		      [15, 0]
	      Branch {
		Points			[0, -65]
		DstBlock		"To Workspace6"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Sum3"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "s=s(F/W)"
	      SrcPort		      1
	      Points		      [0, 10]
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "wheel speed\n(rad/s)"
	      SrcPort		      1
	      DstBlock		      "slip-augmented rotational\nspeed (rad/s"
")"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "tractive force requested\nof rear axle"
"\n(N)"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		DstBlock		"Abs"
		DstPort			1
	      }
	      Branch {
		Points			[0, 60]
		DstBlock		"Sign"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Constant5"
	      SrcPort		      1
	      Points		      [5, 0; 0, -10]
	      DstBlock		      "Sum3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum3"
	      SrcPort		      1
	      DstBlock		      "wheel speed\n(rad/s)"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant6"
	      SrcPort		      1
	      Points		      [0, -35]
	      DstBlock		      "wheel speed\n(rad/s)"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "requested time-step\naverage vehicle sp"
"eed\n(m/s)"
	      SrcPort		      1
	      Points		      [330, 0; 0, 55]
	      DstBlock		      "wheel speed\n(rad/s)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sign"
	      SrcPort		      1
	      Points		      [200, 0]
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Abs"
	      SrcPort		      1
	      DstBlock		      "F/W"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "F/W"
	      SrcPort		      1
	      DstBlock		      "Saturation"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Saturation"
	      SrcPort		      1
	      DstBlock		      "s=s(F/W)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "weight borne by\nrear axle\n(N)"
	      SrcPort		      1
	      DstBlock		      "F/W"
	      DstPort		      2
	    }
	    Annotation {
	      Position		      [262, 267]
	      VerticalAlignment	      "top"
	      Text		      "This block implements the effects of fi"
"nite tire slip\n(with respect to the road) on the vehicle speed/wheel speed r"
"elationship."
	    }
	    Annotation {
	      Position		      [267, 302]
	      VerticalAlignment	      "top"
	      Text		      "Slip is defined as s=(omega*r - v) / v."
"  The one-to-one mapping of slip to normalized\ntractive force, F_tract/W_fro"
"nt_axle, up to the maximum, is stored in the variables\n\"wh_slip\" and \"wh_"
"slip_force_coeff.\""
	    }
	  }
	}
	Block {
	  BlockType		  Sum
	  Name			  "total tractive force\n(N)"
	  Ports			  [2, 1]
	  Position		  [690, 285, 710, 305]
	  FontName		  "Arial"
	  IconShape		  "rectangular"
	  Inputs		  "++"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "traction controller interface"
	  Ports			  [2, 3]
	  Position		  [225, 125, 385, 185]
	  ForegroundColor	  "green"
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "traction controller interface"
	    Location		    [144, 74, 635, 312]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "F_rear_req"
	      Position		      [40, 45, 60, 65]
	      ForegroundColor	      "green"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "v_rear_ave_req"
	      Position		      [40, 105, 60, 125]
	      ForegroundColor	      "green"
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <logic>"
	      Position		      [220, 35, 335, 65]
	      ForegroundColor	      "green"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "F_rear_req_limited"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <logic>1"
	      Position		      [215, 96, 335, 124]
	      ForegroundColor	      "green"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "v_rear_req_limited"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <logic>2"
	      Position		      [230, 149, 335, 181]
	      ForegroundColor	      "green"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "wt_rear_axle"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <logic>"
	      Position		      [95, 41, 165, 69]
	      ForegroundColor	      "green"
	      GotoTag		      "F_rear_req"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <logic>1"
	      Position		      [95, 100, 200, 130]
	      ForegroundColor	      "green"
	      GotoTag		      "v_rear_ave_req"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "F_rear_req_limited"
	      Position		      [370, 40, 390, 60]
	      ForegroundColor	      "green"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "v_rear_req_limited"
	      Position		      [370, 100, 390, 120]
	      ForegroundColor	      "green"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "wt_rear_axle"
	      Position		      [370, 155, 390, 175]
	      ForegroundColor	      "green"
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "From <logic>"
	      SrcPort		      1
	      DstBlock		      "F_rear_req_limited"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <logic>1"
	      SrcPort		      1
	      DstBlock		      "v_rear_req_limited"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <logic>2"
	      SrcPort		      1
	      DstBlock		      "wt_rear_axle"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "F_rear_req"
	      SrcPort		      1
	      DstBlock		      "Goto <logic>"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "v_rear_ave_req"
	      SrcPort		      1
	      DstBlock		      "Goto <logic>1"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Gain
	  Name			  "tractive force at tire\npatch due to drivel"
"ine\n(Nm)"
	  Position		  [215, 359, 285, 421]
	  FontName		  "Arial"
	  Gain			  "1/wh_radius"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Gain
	  Name			  "tractive torque\nreq/d of drivetrain\n(Nm)"
	  Position		  [480, 19, 545, 61]
	  FontName		  "Arial"
	  Gain			  "wh_radius"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nfrom drivetrain int"
"o axle\n(Nm),(rad/s)"
	  Position		  [870, 80, 890, 100]
	  FontName		  "Arial"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "tractive force and\nlinear speed achievable"
	  Position		  [865, 340, 885, 360]
	  FontName		  "Arial"
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  1
	  DstBlock		  "traction controller interface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "front/rear brake controller interface\n(ach"
"ievable)"
	  SrcPort		  2
	  Points		  [15, 0]
	  Branch {
	    Points		    [5, 0]
	    Branch {
	      DstBlock		      "rear brake"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [0, 70; 125, 0]
	      Branch {
		DstBlock		"Relational\nOperator2"
		DstPort			2
	      }
	      Branch {
		Points			[0, -90]
		DstBlock		"Sum3"
		DstPort			2
	      }
	    }
	  }
	  Branch {
	    Points		    [0, -120; 125, 0; 0, -40]
	    DstBlock		    "total tractive force\n(N)"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Sum2"
	  SrcPort		  1
	  DstBlock		  "tractive torque\nreq/d of drivetrain\n(Nm)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "traction controller interface"
	  SrcPort		  1
	  Points		  [15, 0]
	  Branch {
	    Points		    [0, -90]
	    DstBlock		    "Sum2"
	    DstPort		    2
	  }
	  Branch {
	    DstBlock		    "tire slip model\n(rad/s)"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Demux1"
	  SrcPort		  2
	  Points		  [10, 0]
	  Branch {
	    Points		    [0, 65]
	    DstBlock		    "To Workspace5"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [165, 0]
	    Branch {
	      Points		      [325, 0; 0, -120]
	      DstBlock		      "tire slip model\n(m/s)"
	      DstPort		      3
	    }
	    Branch {
	      Points		      [0, -70]
	      DstBlock		      "front/rear brake controller interface\n"
"(achievable)"
	      DstPort		      2
	    }
	  }
	}
	Line {
	  SrcBlock		  "Demux1"
	  SrcPort		  1
	  Points		  [0, 0]
	  Branch {
	    DstBlock		    "Sum1"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, 140]
	    Branch {
	      DstBlock		      "To Workspace4"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [0, 100]
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	  }
	}
	Line {
	  SrcBlock		  "Sum"
	  SrcPort		  1
	  Points		  [55, 0]
	  Branch {
	    Points		    [0, 110]
	    DstBlock		    "To Workspace2"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "Mux"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Mux"
	  SrcPort		  1
	  DstBlock		  "torque and speed req'd\nfrom drivetrain int"
"o axle\n(Nm),(rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "traction controller interface"
	  SrcPort		  3
	  Points		  [35, 0]
	  Branch {
	    DstBlock		    "tire slip model\n(rad/s)"
	    DstPort		    3
	  }
	  Branch {
	    Points		    [0, 170]
	    DstBlock		    "tire slip model\n(m/s)"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "rear brake"
	  SrcPort		  1
	  Points		  [5, 0; 0, 55]
	  Branch {
	    DstBlock		    "Relational\nOperator2"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [-240, 0]
	    DstBlock		    "front/rear brake controller interface\n(a"
"chievable)"
	    DstPort		    4
	  }
	}
	Line {
	  SrcBlock		  "front brake"
	  SrcPort		  1
	  Points		  [10, 0; 0, 50]
	  Branch {
	    DstBlock		    "Relational\nOperator1"
	    DstPort		    2
	  }
	  Branch {
	    Points		    [0, 55; -250, 0; 0, -70]
	    DstBlock		    "front/rear brake controller interface\n(a"
"chievable)"
	    DstPort		    3
	  }
	}
	Line {
	  SrcBlock		  "front tire\ntractive force\n(N)"
	  SrcPort		  1
	  Points		  [15, 0]
	  Branch {
	    Points		    [0, -60]
	    DstBlock		    "total tractive force\n(N)"
	    DstPort		    2
	  }
	  Branch {
	    Points		    [45, 0]
	    DstBlock		    "tire slip model\n(m/s)"
	    DstPort		    2
	  }
	}
	Line {
	  SrcBlock		  "front/rear brake controller interface\n(ach"
"ievable)"
	  SrcPort		  1
	  Points		  [10, 0]
	  Branch {
	    Points		    [10, 0]
	    Branch {
	      DstBlock		      "front brake"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [0, 20; 85, 0; 0, 15; 35, 0]
	      Branch {
		DstBlock		"Relational\nOperator1"
		DstPort			1
	      }
	      Branch {
		Points			[0, -25]
		DstBlock		"Sum3"
		DstPort			1
	      }
	    }
	  }
	  Branch {
	    Points		    [0, -40]
	    DstBlock		    "front tire\ntractive force\n(N)"
	    DstPort		    2
	  }
	}
	Line {
	  SrcBlock		  "brake request controller interface"
	  SrcPort		  1
	  DstBlock		  "Sum2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "torque and speed\navailable from\ndrivetrai"
"n into axle\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "Demux1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "total tractive force\n(N)"
	  SrcPort		  1
	  Points		  [40, 0; 0, 40]
	  DstBlock		  "Mux1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Mux1"
	  SrcPort		  1
	  DstBlock		  "tractive force and\nlinear speed achievable"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "tractive torque\nreq/d of drivetrain\n(Nm)"
	  SrcPort		  1
	  DstBlock		  "Sum"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "tire slip model\n(rad/s)"
	  SrcPort		  1
	  Points		  [15, 0]
	  Branch {
	    Points		    [140, 0]
	    Branch {
	      Points		      [95, 0]
	      Branch {
		Points			[0, 60]
		DstBlock		"To Workspace3"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Mux"
		DstPort			2
	      }
	    }
	    Branch {
	      Points		      [0, 220]
	      DstBlock		      "tire slip model\n(m/s)"
	      DstPort		      4
	    }
	  }
	  Branch {
	    Points		    [0, -25]
	    Branch {
	      Points		      [0, -65]
	      DstBlock		      "loss\n(Nm)"
	      DstPort		      1
	    }
	    Branch {
	      DstBlock		      "effect of inertia\n(Nm)"
	      DstPort		      1
	    }
	  }
	}
	Line {
	  SrcBlock		  "tractive force and speed\nreq'd of tire/roa"
"d interface\n(N), (m/s)"
	  SrcPort		  1
	  DstBlock		  "Demux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "loss\n(Nm)"
	  SrcPort		  1
	  Points		  [20, 0]
	  Branch {
	    Points		    [0, 255; -470, 0]
	    DstBlock		    "Sum1"
	    DstPort		    2
	  }
	  Branch {
	    DstBlock		    "Sum"
	    DstPort		    2
	  }
	}
	Line {
	  SrcBlock		  "effect of inertia\n(Nm)"
	  SrcPort		  1
	  Points		  [10, 0]
	  Branch {
	    Points		    [0, 175; -470, 0; 0, 105]
	    DstBlock		    "Sum1"
	    DstPort		    3
	  }
	  Branch {
	    Points		    [25, 0; 0, -40]
	    DstBlock		    "Sum"
	    DstPort		    3
	  }
	}
	Line {
	  SrcBlock		  "Sum1"
	  SrcPort		  1
	  DstBlock		  "tractive force at tire\npatch due to drivel"
"ine\n(Nm)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "tractive force at tire\npatch due to drivel"
"ine\n(Nm)"
	  SrcPort		  1
	  Points		  [25, 0]
	  Branch {
	    Points		    [0, -35]
	    DstBlock		    "front tire\ntractive force\n(N)"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "front/rear brake controller interface\n(a"
"chievable)"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Relational\nOperator2"
	  SrcPort		  1
	  Points		  [15, 0; 0, -25]
	  DstBlock		  "Logical\nOperator"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Relational\nOperator1"
	  SrcPort		  1
	  Points		  [15, 0; 0, 25]
	  DstBlock		  "Logical\nOperator"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Logical\nOperator"
	  SrcPort		  1
	  DstBlock		  "Goto <sdo>1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Product"
	  SrcPort		  1
	  DstBlock		  "To Workspace6"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Sum3"
	  SrcPort		  1
	  DstBlock		  "Gain"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Gain"
	  SrcPort		  1
	  DstBlock		  "Product"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "tire slip model\n(m/s)"
	  SrcPort		  1
	  Points		  [0, -5; 15, 0]
	  Branch {
	    DstBlock		    "Mux1"
	    DstPort		    2
	  }
	  Branch {
	    Points		    [0, 35; 75, 0]
	    DstBlock		    "Product"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  2
	  DstBlock		  "traction controller interface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "traction controller interface"
	  SrcPort		  2
	  Points		  [45, 0]
	  Branch {
	    DstBlock		    "tire slip model\n(rad/s)"
	    DstPort		    2
	  }
	  Branch {
	    Points		    [0, 230]
	    DstBlock		    "tire slip model\n(m/s)"
	    DstPort		    5
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "wheel and\naxle <wh>"
      Ports		      [2, 2]
      Position		      [55, 51, 105, 104]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskDisplay	      "image(imread('bdi_wh.jpg'))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      System {
	Name			"wheel and\naxle <wh>"
	Location		[214, 74, 989, 726]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "tractive force and speed\nreq'd of tire/roa"
"d interface\n(N), (m/s)"
	  Position		  [65, 144, 85, 166]
	  FontName		  "Arial"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed\navailable from\ndrivetrai"
"n into axle\n(Nm), (rad/s)"
	  Position		  [55, 420, 75, 440]
	  FontName		  "Arial"
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Block NOTES"
	  Ports			  []
	  Position		  [840, 535, 896, 575]
	  BackgroundColor	  "green"
	  ShowName		  off
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "disp('Block\\nNOTES')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Block NOTES"
	    Location		    [214, 70, 989, 738]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Annotation {
	      Position		      [237, 12]
	      VerticalAlignment	      "top"
	      Text		      "This block determines the required axle"
" torque and speed given the tractive force and\nspeed required to meet the tr"
"ace in the top blocks, and determines the available tractive\nforce and possi"
"ble vehicle speed given the drivetrain-input torque and rotational speed\nin "
"the bottom blocks.  The \"wheel control\" blocks apply the braking strategy a"
"nd ensure\nthat accelerations beyond the capability of the tires are not requ"
"ested. "
	    }
	  }
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux"
	  Ports			  [1, 2]
	  Position		  [145, 126, 165, 184]
	  FontName		  "Arial"
	  Outputs		  "2"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux1"
	  Ports			  [1, 2]
	  Position		  [115, 313, 135, 542]
	  FontName		  "Arial"
	  Outputs		  "2"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  Gain
	  Name			  "Gain"
	  Position		  [795, 407, 825, 443]
	  FontName		  "Arial"
	  Gain			  "-1"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto"
	  Position		  [170, 599, 245, 621]
	  GotoTag		  "wh_trq_a"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <sdo>1"
	  Position		  [800, 476, 885, 494]
	  GotoTag		  "brake_limited"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Logic
	  Name			  "Logical\nOperator"
	  Ports			  [2, 1]
	  Position		  [745, 467, 775, 498]
	  Operator		  "OR"
	  Inputs		  "2"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux"
	  Ports			  [2, 1]
	  Position		  [770, 41, 790, 134]
	  FontName		  "Arial"
	  Inputs		  "2"
	  DisplayOption		  "none"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux1"
	  Ports			  [2, 1]
	  Position		  [780, 320, 800, 375]
	  FontName		  "Arial"
	  Inputs		  "2"
	  DisplayOption		  "none"
	}
	Block {
	  BlockType		  Product
	  Name			  "Product"
	  Ports			  [2, 1]
	  Position		  [850, 402, 880, 433]
	  Inputs		  "2"
	  Multiplication	  "Element-wise(.*)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  RelationalOperator
	  Name			  "Relational\nOperator1"
	  Position		  [675, 432, 705, 463]
	  Operator		  "=="
	}
	Block {
	  BlockType		  RelationalOperator
	  Name			  "Relational\nOperator2"
	  Position		  [675, 497, 705, 528]
	  Operator		  "=="
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum"
	  Ports			  [3, 1]
	  Position		  [665, 26, 685, 104]
	  FontName		  "Arial"
	  IconShape		  "rectangular"
	  Inputs		  "+++"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum1"
	  Ports			  [3, 1]
	  Position		  [175, 361, 195, 419]
	  FontName		  "Arial"
	  IconShape		  "rectangular"
	  Inputs		  "+--"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum2"
	  Ports			  [2, 1]
	  Position		  [435, 24, 460, 51]
	  IconShape		  "rectangular"
	  Inputs		  "-+"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum3"
	  Ports			  [2, 1]
	  Position		  [750, 406, 770, 439]
	  FontName		  "Arial"
	  IconShape		  "rectangular"
	  Inputs		  "++"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace2"
	  Position		  [775, 165, 855, 185]
	  VariableName		  "wh_trq_r"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace3"
	  Position		  [775, 205, 855, 225]
	  VariableName		  "wh_spd_r"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace4"
	  Position		  [175, 500, 255, 520]
	  VariableName		  "wh_trq_a"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace5"
	  Position		  [175, 540, 255, 560]
	  VariableName		  "wh_spd_a"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace6"
	  Position		  [905, 409, 1005, 431]
	  VariableName		  "wh_brake_loss_pwr"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "brake request controller interface"
	  Ports			  [0, 1]
	  Position		  [300, 20, 390, 40]
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "brake request controller interface"
	    Location		    [214, 70, 989, 738]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      From
	      Name		      "From <logic>"
	      Position		      [200, 39, 300, 71]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "F_front_brake_req"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "F_front_brake_req"
	      Position		      [335, 45, 355, 65]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "From <logic>"
	      SrcPort		      1
	      DstBlock		      "F_front_brake_req"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "effect of inertia\n(Nm)"
	  Ports			  [1, 1]
	  Position		  [575, 112, 605, 148]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "effect of inertia\n(Nm)"
	    Location		    [214, 70, 989, 738]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "axle input speed (rad/s)"
	      Position		      [50, 15, 70, 35]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [30, 59, 135, 81]
	      FontName		      "Arial"
	      Value		      "wh_inertia"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [290, 13, 310, 57]
	      FontName		      "Arial"
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Derivative
	      Name		      "d/dt"
	      Position		      [155, 15, 185, 35]
	      FontName		      "Arial"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "inertia torque\n(Nm)"
	      Position		      [380, 25, 400, 45]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "inertia torque\n(Nm)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [70, 0; 0, -25]
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "axle input speed (rad/s)"
	      SrcPort		      1
	      DstBlock		      "d/dt"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "d/dt"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [232, 107]
	      VerticalAlignment	      "top"
	      Text		      "This block computes the torque required"
" to overcome the inertia of the\nwheels and axle."
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "front brake"
	  Ports			  [1, 1]
	  Position		  [535, 390, 565, 420]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "front brake"
	    Location		    [214, 70, 989, 738]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "F_brake"
	      Position		      [20, 65, 40, 85]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [210, 65, 230, 85]
	      Value		      "-inf"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [85, 65, 105, 85]
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "F_brake_max"
	      Position		      [320, 65, 340, 85]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "F_brake_max"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "F_brake"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Sum
	  Name			  "front tire\ntractive force\n(N)"
	  Ports			  [2, 1]
	  Position		  [610, 350, 630, 370]
	  FontName		  "Arial"
	  IconShape		  "rectangular"
	  Inputs		  "++"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "front/rear brake controller interface\n(ach"
"ievable)"
	  Ports			  [4, 2]
	  Position		  [350, 380, 495, 475]
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "front/rear brake controller interface\n(a"
"chievable)"
	    Location		    [214, 70, 989, 738]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "F_drivetrain_ach"
	      Position		      [40, 45, 60, 65]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "w_wheel_ach"
	      Position		      [40, 105, 60, 125]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "F_max_front_brake"
	      Position		      [40, 165, 60, 185]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "F_max_rear_brake"
	      Position		      [40, 220, 60, 240]
	      Port		      "4"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <logic>"
	      Position		      [245, 34, 350, 66]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "F_front_brake"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <logic>1"
	      Position		      [245, 94, 350, 126]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "F_rear_brake"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <logic>"
	      Position		      [95, 38, 200, 72]
	      GotoTag		      "F_drivetrain_ach"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <logic>1"
	      Position		      [95, 99, 200, 131]
	      GotoTag		      "w_wheel_ach"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <logic>2"
	      Position		      [95, 159, 200, 191]
	      GotoTag		      "F_max_front_brake"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <logic>3"
	      Position		      [95, 214, 200, 246]
	      GotoTag		      "F_max_rear_brake"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "F_front_brake"
	      Position		      [385, 40, 405, 60]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "F_rear_brake"
	      Position		      [385, 100, 405, 120]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "F_max_rear_brake"
	      SrcPort		      1
	      DstBlock		      "Goto <logic>3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "F_max_front_brake"
	      SrcPort		      1
	      DstBlock		      "Goto <logic>2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "F_drivetrain_ach"
	      SrcPort		      1
	      DstBlock		      "Goto <logic>"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "w_wheel_ach"
	      SrcPort		      1
	      DstBlock		      "Goto <logic>1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <logic>"
	      SrcPort		      1
	      DstBlock		      "F_front_brake"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <logic>1"
	      SrcPort		      1
	      DstBlock		      "F_rear_brake"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "help"
	  Ports			  []
	  Position		  [797, 533, 827, 577]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowName		  off
	  OpenFcn		  "web(['file:\\\\\\' which('advisor_doc.htm')"
"]);"
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "image(imread('doc_man.jpg'))"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "help"
	    Location		    [203, 331, 569, 538]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "loss\n(Nm)"
	  Ports			  [1, 1]
	  Position		  [575, 47, 605, 83]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "loss\n(Nm)"
	    Location		    [214, 70, 989, 738]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "axle speed (rad/s)"
	      Position		      [50, 5, 70, 25]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [220, 95, 240, 115]
	      Orientation	      "up"
	      FontName		      "Arial"
	      Value		      "0"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [285, 49, 315, 81]
	      FontName		      "Arial"
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "veh mass calc"
	      Ports		      [0, 1]
	      Position		      [45, 45, 90, 65]
	      BackgroundColor	      "darkGreen"
	      SourceBlock	      "lib_wheel/Submodels/veh mass calc"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      "off"
	      TreatAsAtomicUnit	      "off"
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "wheel & axle\nbearing drag (Nm)"
	      Position		      [160, 43, 190, 67]
	      InputValues	      "wh_axle_loss_mass"
	      OutputValues	      "wh_axle_loss_trq"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "drag torque\n(Nm)"
	      Position		      [380, 55, 400, 75]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "wheel & axle\nbearing drag (Nm)"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [0, -15]
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "axle speed (rad/s)"
	      SrcPort		      1
	      Points		      [135, 0; 0, 50]
	      DstBlock		      "Switch"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "drag torque\n(Nm)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "veh mass calc"
	      SrcPort		      1
	      DstBlock		      "wheel & axle\nbearing drag (Nm)"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [232, 142]
	      VerticalAlignment	      "top"
	      Text		      "The loss torque is zero when the axle i"
"s not turning."
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "rear brake"
	  Ports			  [1, 1]
	  Position		  [535, 435, 565, 465]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "rear brake"
	    Location		    [214, 70, 989, 738]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "F_brake"
	      Position		      [20, 65, 40, 85]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [210, 65, 230, 85]
	      Value		      "-inf"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [85, 65, 105, 85]
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "F_brake_max"
	      Position		      [320, 65, 340, 85]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "F_brake"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "F_brake_max"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "tire slip model\n(m/s)"
	  Ports			  [5, 1]
	  Position		  [710, 334, 740, 396]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "tire slip model\n(m/s)"
	    Location		    [214, 70, 989, 738]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "75"
	    Block {
	      BlockType		      Inport
	      Name		      "weight borne by front axle\n(N)"
	      Position		      [55, 30, 75, 50]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "tractive force available\nat front axle"
"\n(N)"
	      Position		      [55, 115, 75, 135]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "axle speed available\n(rad/s)"
	      Position		      [55, 195, 75, 215]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "axle speed\nreq'd (rad/s)"
	      Position		      [55, 250, 75, 270]
	      Port		      "4"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "vehicle speed\nrequired (m/s)"
	      Position		      [50, 340, 70, 360]
	      Port		      "5"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Abs
	      Name		      "Abs"
	      Position		      [250, 110, 280, 140]
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Abs
	      Name		      "Abs1"
	      Position		      [245, 240, 275, 270]
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Block NOTES"
	      Ports		      []
	      Position		      [960, 335, 1016, 375]
	      BackgroundColor	      "green"
	      ShowName		      off
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "disp('Block\\nNOTES')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Block NOTES"
		Location		[214, 70, 989, 738]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Annotation {
		  Position		  [222, 12]
		  VerticalAlignment	  "top"
		  Text			  "This block implements the effects o"
"f finite tire slip (with respect to the road) on the\nvehicle speed/wheel spe"
"ed relationship.  Slip is defined as s=(omega*r - v) / v.  The\none-to-one ma"
"pping of slip to normalized tractive force, F_tract/W_front_axle, up to\nthe "
"maximum, is stored in the variables \"wh_slip\" and \"wh_slip_force_coeff.\" "
" The\nslip calculation here is overridden if the actual axle speed and the re"
"quested axle\nspeed are the same, indicating that no drivetrain speed limits "
"were encountered."
		}
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [320, 305, 340, 325]
	      Orientation	      "left"
	      Value		      "1e-3"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant3"
	      Position		      [365, 125, 385, 145]
	      Orientation	      "up"
	      FontName		      "Arial"
	      Value		      "0"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant5"
	      Position		      [630, 65, 650, 85]
	      FontName		      "Arial"
	      Value		      "1"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant6"
	      Position		      [775, 169, 840, 191]
	      Orientation	      "left"
	      FontName		      "Arial"
	      Value		      "wh_radius"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "F/W"
	      Ports		      [2, 1]
	      Position		      [310, 15, 330, 50]
	      FontName		      "Arial"
	      Inputs		      "*/"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "Fcn"
	      Position		      [735, 49, 765, 71]
	      FontName		      "Arial"
	      Expr		      "1/u"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <sdo>1"
	      Position		      [875, 37, 965, 63]
	      GotoTag		      "veh_spd_a_rec"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [565, 35, 585, 70]
	      FontName		      "Arial"
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator"
	      Position		      [332, 85, 363, 105]
	      Orientation	      "up"
	      Operator		      "~="
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator1"
	      Position		      [315, 247, 345, 278]
	      Operator		      ">"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation"
	      Position		      [455, 30, 485, 60]
	      UpperLimit	      "max(wh_slip_force_coeff)"
	      LowerLimit	      "min(wh_slip_force_coeff)"
	      LinearizeAsGain	      on
	    }
	    Block {
	      BlockType		      Signum
	      Name		      "Sign"
	      Position		      [250, 159, 285, 191]
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum3"
	      Ports		      [2, 1]
	      Position		      [685, 50, 705, 70]
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum4"
	      Ports		      [2, 1]
	      Position		      [165, 245, 185, 265]
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "-+"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [395, 29, 425, 61]
	      FontName		      "Arial"
	      Threshold		      "0"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch1"
	      Position		      [880, 85, 910, 115]
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "s=s(F/W)"
	      Position		      [510, 33, 540, 57]
	      InputValues	      "wh_slip_force_coeff"
	      OutputValues	      "wh_slip"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "vehicle speed\n(m/s)"
	      Ports		      [3, 1]
	      Position		      [800, 48, 820, 132]
	      FontName		      "Arial"
	      Inputs		      "3"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "possible vehicle\nspeed\n(m/s)"
	      Position		      [955, 90, 975, 110]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "Sum3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "vehicle speed\n(m/s)"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		Points			[0, -40]
		DstBlock		"Goto <sdo>1"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Switch1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Switch1"
	      SrcPort		      1
	      DstBlock		      "possible vehicle\nspeed\n(m/s)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "tractive force available\nat front axle"
"\n(N)"
	      SrcPort		      1
	      Points		      [140, 0]
	      Branch {
		DstBlock		"Abs"
		DstPort			1
	      }
	      Branch {
		Points			[0, 50]
		DstBlock		"Sign"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "weight borne by front axle\n(N)"
	      SrcPort		      1
	      DstBlock		      "F/W"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Abs1"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [-15, 0]
	      DstBlock		      "Relational\nOperator1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "axle speed\nreq'd (rad/s)"
	      SrcPort		      1
	      DstBlock		      "Sum4"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum4"
	      SrcPort		      1
	      DstBlock		      "Abs1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "vehicle speed\nrequired (m/s)"
	      SrcPort		      1
	      Points		      [790, 0]
	      DstBlock		      "Switch1"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator1"
	      SrcPort		      1
	      Points		      [500, 0; 0, -165]
	      DstBlock		      "Switch1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant6"
	      SrcPort		      1
	      Points		      [0, -60]
	      DstBlock		      "vehicle speed\n(m/s)"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "axle speed available\n(rad/s)"
	      SrcPort		      1
	      Points		      [50, 0]
	      Branch {
		Points			[580, 0; 0, -115]
		DstBlock		"vehicle speed\n(m/s)"
		DstPort			2
	      }
	      Branch {
		Points			[0, 45]
		DstBlock		"Sum4"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "s=s(F/W)"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sign"
	      SrcPort		      1
	      Points		      [240, 0; 0, -115]
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "F/W"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant5"
	      SrcPort		      1
	      Points		      [15, 0]
	      DstBlock		      "Sum3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Fcn"
	      SrcPort		      1
	      DstBlock		      "vehicle speed\n(m/s)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum3"
	      SrcPort		      1
	      DstBlock		      "Fcn"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "Saturation"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Saturation"
	      SrcPort		      1
	      DstBlock		      "s=s(F/W)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Abs"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		Points			[50, 0]
		DstBlock		"Relational\nOperator"
		DstPort			1
	      }
	      Branch {
		Points			[0, -100]
		DstBlock		"F/W"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator"
	      SrcPort		      1
	      Points		      [0, -35]
	      DstBlock		      "Switch"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant3"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		DstBlock		"Relational\nOperator"
		DstPort			2
	      }
	      Branch {
		Points			[0, -65]
		DstBlock		"Switch"
		DstPort			3
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "tire slip model\n(rad/s)"
	  Ports			  [3, 1]
	  Position		  [470, 128, 500, 182]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "tire slip model\n(rad/s)"
	    Location		    [214, 70, 989, 738]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "tractive force requested\nof front axle"
"\n(N)"
	      Position		      [70, 160, 90, 180]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "requested time-step\naverage vehicle sp"
"eed\n(m/s)"
	      Position		      [70, 20, 90, 40]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "weight borne by\nfront axle\n(N)"
	      Position		      [75, 85, 95, 105]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Abs
	      Name		      "Abs"
	      Position		      [145, 155, 175, 185]
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant5"
	      Position		      [440, 120, 460, 140]
	      FontName		      "Arial"
	      Value		      "1"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant6"
	      Position		      [440, 185, 530, 205]
	      Orientation	      "up"
	      FontName		      "Arial"
	      Value		      "1/wh_radius"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "F/W"
	      Ports		      [2, 1]
	      Position		      [195, 70, 215, 105]
	      FontName		      "Arial"
	      Inputs		      "*/"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [400, 90, 420, 125]
	      FontName		      "Arial"
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation"
	      Position		      [270, 75, 300, 105]
	      UpperLimit	      "max(wh_slip_force_coeff)"
	      LowerLimit	      "min(wh_slip_force_coeff)"
	      LinearizeAsGain	      on
	    }
	    Block {
	      BlockType		      Signum
	      Name		      "Sign"
	      Position		      [145, 214, 180, 246]
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum3"
	      Ports		      [2, 1]
	      Position		      [495, 105, 515, 125]
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace6"
	      Position		      [480, 35, 560, 55]
	      VariableName	      "wh_slip_r"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "s=s(F/W)"
	      Position		      [340, 78, 370, 102]
	      InputValues	      "wh_slip_force_coeff"
	      OutputValues	      "wh_slip"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "wheel speed\n(rad/s)"
	      Ports		      [3, 1]
	      Position		      [560, 73, 580, 157]
	      FontName		      "Arial"
	      Inputs		      "3"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "slip-augmented rotational\nspeed (rad/s"
")"
	      Position		      [640, 105, 660, 125]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      Points		      [15, 0]
	      Branch {
		Points			[0, -65]
		DstBlock		"To Workspace6"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Sum3"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "s=s(F/W)"
	      SrcPort		      1
	      Points		      [0, 10]
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "wheel speed\n(rad/s)"
	      SrcPort		      1
	      DstBlock		      "slip-augmented rotational\nspeed (rad/s"
")"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "tractive force requested\nof front axle"
"\n(N)"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		DstBlock		"Abs"
		DstPort			1
	      }
	      Branch {
		Points			[0, 60]
		DstBlock		"Sign"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Constant5"
	      SrcPort		      1
	      Points		      [5, 0; 0, -10]
	      DstBlock		      "Sum3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum3"
	      SrcPort		      1
	      DstBlock		      "wheel speed\n(rad/s)"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant6"
	      SrcPort		      1
	      Points		      [0, -35]
	      DstBlock		      "wheel speed\n(rad/s)"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "requested time-step\naverage vehicle sp"
"eed\n(m/s)"
	      SrcPort		      1
	      Points		      [330, 0; 0, 55]
	      DstBlock		      "wheel speed\n(rad/s)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sign"
	      SrcPort		      1
	      Points		      [200, 0]
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Abs"
	      SrcPort		      1
	      DstBlock		      "F/W"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "F/W"
	      SrcPort		      1
	      DstBlock		      "Saturation"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Saturation"
	      SrcPort		      1
	      DstBlock		      "s=s(F/W)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "weight borne by\nfront axle\n(N)"
	      SrcPort		      1
	      DstBlock		      "F/W"
	      DstPort		      2
	    }
	    Annotation {
	      Position		      [262, 267]
	      VerticalAlignment	      "top"
	      Text		      "This block implements the effects of fi"
"nite tire slip\n(with respect to the road) on the vehicle speed/wheel speed r"
"elationship."
	    }
	    Annotation {
	      Position		      [267, 302]
	      VerticalAlignment	      "top"
	      Text		      "Slip is defined as s=(omega*r - v) / v."
"  The one-to-one mapping of slip to normalized\ntractive force, F_tract/W_fro"
"nt_axle, up to the maximum, is stored in the variables\n\"wh_slip\" and \"wh_"
"slip_force_coeff.\""
	    }
	  }
	}
	Block {
	  BlockType		  Sum
	  Name			  "total tractive force\n(N)"
	  Ports			  [2, 1]
	  Position		  [690, 285, 710, 305]
	  FontName		  "Arial"
	  IconShape		  "rectangular"
	  Inputs		  "++"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "traction controller interface"
	  Ports			  [2, 3]
	  Position		  [225, 125, 385, 185]
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "traction controller interface"
	    Location		    [214, 70, 989, 738]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "F_req"
	      Position		      [40, 45, 60, 65]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "v_ave_req"
	      Position		      [40, 105, 60, 125]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <logic>"
	      Position		      [185, 34, 290, 66]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "F_req_limited"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <logic>1"
	      Position		      [185, 94, 290, 126]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "v_req_limited"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <logic>2"
	      Position		      [185, 149, 290, 181]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "wt_front_axle"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <logic>"
	      Position		      [95, 39, 140, 71]
	      GotoTag		      "F_req"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <logic>1"
	      Position		      [95, 98, 175, 132]
	      GotoTag		      "v_ave_req"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "F_req_limited"
	      Position		      [325, 40, 345, 60]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "v_req_limited"
	      Position		      [325, 100, 345, 120]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "wt_front_axle"
	      Position		      [325, 155, 345, 175]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "v_ave_req"
	      SrcPort		      1
	      DstBlock		      "Goto <logic>1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "F_req"
	      SrcPort		      1
	      DstBlock		      "Goto <logic>"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <logic>2"
	      SrcPort		      1
	      DstBlock		      "wt_front_axle"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <logic>1"
	      SrcPort		      1
	      DstBlock		      "v_req_limited"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <logic>"
	      SrcPort		      1
	      DstBlock		      "F_req_limited"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Gain
	  Name			  "tractive force at tire\npatch due to drivel"
"ine\n(Nm)"
	  Position		  [215, 359, 285, 421]
	  FontName		  "Arial"
	  Gain			  "1/wh_radius"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Gain
	  Name			  "tractive torque\nreq/d of drivetrain\n(Nm)"
	  Position		  [480, 19, 545, 61]
	  FontName		  "Arial"
	  Gain			  "wh_radius"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nfrom drivetrain int"
"o axle\n(Nm),(rad/s)"
	  Position		  [870, 80, 890, 100]
	  FontName		  "Arial"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "tractive force and\nlinear speed achievable"
	  Position		  [865, 340, 885, 360]
	  FontName		  "Arial"
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  1
	  DstBlock		  "traction controller interface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "front/rear brake controller interface\n(ach"
"ievable)"
	  SrcPort		  2
	  Points		  [15, 0]
	  Branch {
	    Points		    [5, 0]
	    Branch {
	      DstBlock		      "rear brake"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [0, 70; 125, 0]
	      Branch {
		DstBlock		"Relational\nOperator2"
		DstPort			2
	      }
	      Branch {
		Points			[0, -90]
		DstBlock		"Sum3"
		DstPort			2
	      }
	    }
	  }
	  Branch {
	    Points		    [0, -120; 125, 0; 0, -40]
	    DstBlock		    "total tractive force\n(N)"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Sum2"
	  SrcPort		  1
	  DstBlock		  "tractive torque\nreq/d of drivetrain\n(Nm)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "traction controller interface"
	  SrcPort		  1
	  Points		  [15, 0]
	  Branch {
	    DstBlock		    "tire slip model\n(rad/s)"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, -90]
	    DstBlock		    "Sum2"
	    DstPort		    2
	  }
	}
	Line {
	  SrcBlock		  "Demux1"
	  SrcPort		  2
	  Points		  [10, 0]
	  Branch {
	    Points		    [0, 65]
	    DstBlock		    "To Workspace5"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [165, 0]
	    Branch {
	      Points		      [325, 0; 0, -120]
	      DstBlock		      "tire slip model\n(m/s)"
	      DstPort		      3
	    }
	    Branch {
	      Points		      [0, -70]
	      DstBlock		      "front/rear brake controller interface\n"
"(achievable)"
	      DstPort		      2
	    }
	  }
	}
	Line {
	  SrcBlock		  "Demux1"
	  SrcPort		  1
	  Points		  [0, 0]
	  Branch {
	    DstBlock		    "Sum1"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, 140]
	    Branch {
	      DstBlock		      "To Workspace4"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [0, 100]
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	  }
	}
	Line {
	  SrcBlock		  "Sum"
	  SrcPort		  1
	  Points		  [55, 0]
	  Branch {
	    Points		    [0, 110]
	    DstBlock		    "To Workspace2"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "Mux"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Mux"
	  SrcPort		  1
	  DstBlock		  "torque and speed req'd\nfrom drivetrain int"
"o axle\n(Nm),(rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "traction controller interface"
	  SrcPort		  3
	  Points		  [35, 0]
	  Branch {
	    Points		    [0, 170]
	    DstBlock		    "tire slip model\n(m/s)"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "tire slip model\n(rad/s)"
	    DstPort		    3
	  }
	}
	Line {
	  SrcBlock		  "rear brake"
	  SrcPort		  1
	  Points		  [5, 0; 0, 55]
	  Branch {
	    DstBlock		    "Relational\nOperator2"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [-240, 0]
	    DstBlock		    "front/rear brake controller interface\n(a"
"chievable)"
	    DstPort		    4
	  }
	}
	Line {
	  SrcBlock		  "front brake"
	  SrcPort		  1
	  Points		  [10, 0; 0, 50]
	  Branch {
	    DstBlock		    "Relational\nOperator1"
	    DstPort		    2
	  }
	  Branch {
	    Points		    [0, 55; -250, 0; 0, -70]
	    DstBlock		    "front/rear brake controller interface\n(a"
"chievable)"
	    DstPort		    3
	  }
	}
	Line {
	  SrcBlock		  "front tire\ntractive force\n(N)"
	  SrcPort		  1
	  Points		  [15, 0]
	  Branch {
	    Points		    [45, 0]
	    DstBlock		    "tire slip model\n(m/s)"
	    DstPort		    2
	  }
	  Branch {
	    Points		    [0, -60]
	    DstBlock		    "total tractive force\n(N)"
	    DstPort		    2
	  }
	}
	Line {
	  SrcBlock		  "front/rear brake controller interface\n(ach"
"ievable)"
	  SrcPort		  1
	  Points		  [10, 0]
	  Branch {
	    Points		    [10, 0]
	    Branch {
	      DstBlock		      "front brake"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [0, 20; 85, 0; 0, 15; 35, 0]
	      Branch {
		DstBlock		"Relational\nOperator1"
		DstPort			1
	      }
	      Branch {
		Points			[0, -25]
		DstBlock		"Sum3"
		DstPort			1
	      }
	    }
	  }
	  Branch {
	    Points		    [0, -40]
	    DstBlock		    "front tire\ntractive force\n(N)"
	    DstPort		    2
	  }
	}
	Line {
	  SrcBlock		  "brake request controller interface"
	  SrcPort		  1
	  DstBlock		  "Sum2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "torque and speed\navailable from\ndrivetrai"
"n into axle\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "Demux1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "total tractive force\n(N)"
	  SrcPort		  1
	  Points		  [40, 0; 0, 40]
	  DstBlock		  "Mux1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Mux1"
	  SrcPort		  1
	  DstBlock		  "tractive force and\nlinear speed achievable"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "tractive torque\nreq/d of drivetrain\n(Nm)"
	  SrcPort		  1
	  DstBlock		  "Sum"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "tire slip model\n(rad/s)"
	  SrcPort		  1
	  Points		  [15, 0]
	  Branch {
	    Points		    [140, 0]
	    Branch {
	      Points		      [0, 220]
	      DstBlock		      "tire slip model\n(m/s)"
	      DstPort		      4
	    }
	    Branch {
	      Points		      [95, 0]
	      Branch {
		Points			[0, 60]
		DstBlock		"To Workspace3"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Mux"
		DstPort			2
	      }
	    }
	  }
	  Branch {
	    Points		    [0, -25]
	    Branch {
	      Points		      [0, -65]
	      DstBlock		      "loss\n(Nm)"
	      DstPort		      1
	    }
	    Branch {
	      DstBlock		      "effect of inertia\n(Nm)"
	      DstPort		      1
	    }
	  }
	}
	Line {
	  SrcBlock		  "tractive force and speed\nreq'd of tire/roa"
"d interface\n(N), (m/s)"
	  SrcPort		  1
	  DstBlock		  "Demux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "loss\n(Nm)"
	  SrcPort		  1
	  Points		  [20, 0]
	  Branch {
	    Points		    [0, 255; -470, 0]
	    DstBlock		    "Sum1"
	    DstPort		    2
	  }
	  Branch {
	    DstBlock		    "Sum"
	    DstPort		    2
	  }
	}
	Line {
	  SrcBlock		  "effect of inertia\n(Nm)"
	  SrcPort		  1
	  Points		  [10, 0]
	  Branch {
	    Points		    [0, 175; -470, 0; 0, 105]
	    DstBlock		    "Sum1"
	    DstPort		    3
	  }
	  Branch {
	    Points		    [25, 0; 0, -40]
	    DstBlock		    "Sum"
	    DstPort		    3
	  }
	}
	Line {
	  SrcBlock		  "Sum1"
	  SrcPort		  1
	  DstBlock		  "tractive force at tire\npatch due to drivel"
"ine\n(Nm)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "tractive force at tire\npatch due to drivel"
"ine\n(Nm)"
	  SrcPort		  1
	  Points		  [25, 0]
	  Branch {
	    Points		    [0, -35]
	    DstBlock		    "front tire\ntractive force\n(N)"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "front/rear brake controller interface\n(a"
"chievable)"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Relational\nOperator2"
	  SrcPort		  1
	  Points		  [15, 0; 0, -25]
	  DstBlock		  "Logical\nOperator"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Relational\nOperator1"
	  SrcPort		  1
	  Points		  [15, 0; 0, 25]
	  DstBlock		  "Logical\nOperator"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Logical\nOperator"
	  SrcPort		  1
	  DstBlock		  "Goto <sdo>1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Product"
	  SrcPort		  1
	  DstBlock		  "To Workspace6"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Sum3"
	  SrcPort		  1
	  DstBlock		  "Gain"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Gain"
	  SrcPort		  1
	  DstBlock		  "Product"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "tire slip model\n(m/s)"
	  SrcPort		  1
	  Points		  [0, -5; 15, 0]
	  Branch {
	    DstBlock		    "Mux1"
	    DstPort		    2
	  }
	  Branch {
	    Points		    [0, 35; 75, 0]
	    DstBlock		    "Product"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  2
	  DstBlock		  "traction controller interface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "traction controller interface"
	  SrcPort		  2
	  Points		  [45, 0]
	  Branch {
	    Points		    [0, 230]
	    DstBlock		    "tire slip model\n(m/s)"
	    DstPort		    5
	  }
	  Branch {
	    DstBlock		    "tire slip model\n(rad/s)"
	    DstPort		    2
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "wheel and axle \nfront/rear <wh>"
      Ports		      [3, 3]
      Position		      [250, 52, 300, 108]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskDisplay	      "image(imread('bdi_wh.jpg'))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      System {
	Name			"wheel and axle \nfront/rear <wh>"
	Location		[2, 74, 998, 742]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "tractive force and speed\nreq'd of tire/roa"
"d interface\n(N), (m/s)"
	  Position		  [55, 169, 75, 191]
	  FontName		  "Arial"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed\navailable from\ndrivetrai"
"n into front axle\n(Nm), (rad/s)"
	  Position		  [55, 480, 75, 500]
	  FontName		  "Arial"
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed\navailable from\ndrivetrai"
"n into rear axle\n(Nm), (rad/s)"
	  Position		  [55, 735, 75, 755]
	  ForegroundColor	  "lightBlue"
	  FontName		  "Arial"
	  Port			  "3"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Block NOTES"
	  Ports			  []
	  Position		  [900, 680, 956, 720]
	  BackgroundColor	  "green"
	  ShowName		  off
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "disp('Block\\nNOTES')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Block NOTES"
	    Location		    [214, 70, 989, 738]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Annotation {
	      Position		      [237, 12]
	      VerticalAlignment	      "top"
	      Text		      "This block determines the required axle"
" torque and speed given the tractive force and\nspeed required to meet the tr"
"ace in the top blocks, and determines the available tractive\nforce and possi"
"ble vehicle speed given the drivetrain-input torque and rotational speed\nin "
"the bottom blocks.  The \"wheel control\" blocks apply the braking strategy a"
"nd ensure\nthat accelerations beyond the capability of the tires are not requ"
"ested. "
	    }
	  }
	}
	Block {
	  BlockType		  Constant
	  Name			  "Constant"
	  Position		  [195, 500, 225, 530]
	  ForegroundColor	  "lightBlue"
	  Value			  "wh_front_active_bool"
	  VectorParams1D	  on
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux"
	  Ports			  [1, 2]
	  Position		  [140, 151, 160, 209]
	  FontName		  "Arial"
	  Outputs		  "2"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux1"
	  Ports			  [1, 2]
	  Position		  [105, 373, 125, 602]
	  FontName		  "Arial"
	  Outputs		  "2"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux2"
	  Ports			  [1, 2]
	  Position		  [100, 716, 120, 774]
	  ForegroundColor	  "lightBlue"
	  FontName		  "Arial"
	  Outputs		  "2"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto"
	  Position		  [20, 314, 95, 336]
	  Orientation		  "left"
	  GotoTag		  "wh_trq_a"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux"
	  Ports			  [2, 1]
	  Position		  [770, 82, 785, 133]
	  FontName		  "Arial"
	  Inputs		  "2"
	  DisplayOption		  "none"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux1"
	  Ports			  [2, 1]
	  Position		  [825, 465, 845, 520]
	  FontName		  "Arial"
	  Inputs		  "2"
	  DisplayOption		  "none"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux2"
	  Ports			  [2, 1]
	  Position		  [775, 232, 790, 283]
	  ForegroundColor	  "lightBlue"
	  FontName		  "Arial"
	  Inputs		  "2"
	  DisplayOption		  "none"
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum"
	  Ports			  [3, 1]
	  Position		  [680, 56, 700, 134]
	  FontName		  "Arial"
	  IconShape		  "rectangular"
	  Inputs		  "+++"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum1"
	  Ports			  [3, 1]
	  Position		  [205, 381, 225, 439]
	  FontName		  "Arial"
	  IconShape		  "rectangular"
	  Inputs		  "--+"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum4"
	  Ports			  [3, 1]
	  Position		  [680, 206, 700, 284]
	  ForegroundColor	  "lightBlue"
	  FontName		  "Arial"
	  IconShape		  "rectangular"
	  Inputs		  "+++"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum5"
	  Ports			  [3, 1]
	  Position		  [205, 681, 225, 739]
	  ForegroundColor	  "lightBlue"
	  FontName		  "Arial"
	  IconShape		  "rectangular"
	  Inputs		  "--+"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Switch
	  Name			  "Switch"
	  Position		  [260, 500, 290, 530]
	  ForegroundColor	  "lightBlue"
	  Threshold		  "eps"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace1"
	  Position		  [795, 205, 875, 225]
	  ForegroundColor	  "lightBlue"
	  VariableName		  "wh_rear_trq_r"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace10"
	  Position		  [205, 300, 295, 320]
	  Orientation		  "left"
	  ForegroundColor	  "lightBlue"
	  VariableName		  "wh_wt_rear_axle"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace11"
	  Position		  [80, 284, 195, 306]
	  Orientation		  "left"
	  ForegroundColor	  "lightBlue"
	  VariableName		  "wh_front_traction_ratio"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace12"
	  Position		  [795, 165, 875, 185]
	  ForegroundColor	  "lightBlue"
	  VariableName		  "wh_rear_spd_r"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace13"
	  Position		  [565, 719, 665, 741]
	  VariableName		  "wh_front_brake_a"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace2"
	  Position		  [790, 60, 870, 80]
	  VariableName		  "wh_trq_r"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace3"
	  Position		  [790, 20, 870, 40]
	  VariableName		  "wh_spd_r"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace4"
	  Position		  [15, 355, 95, 375]
	  Orientation		  "left"
	  VariableName		  "wh_trq_a"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace5"
	  Position		  [35, 625, 115, 645]
	  Orientation		  "left"
	  VariableName		  "wh_spd_a"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace6"
	  Position		  [545, 759, 645, 781]
	  VariableName		  "wh_rear_brake_a"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace7"
	  Position		  [35, 685, 115, 705]
	  Orientation		  "left"
	  ForegroundColor	  "lightBlue"
	  VariableName		  "wh_rear_trq_a"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace8"
	  Position		  [255, 795, 335, 815]
	  ForegroundColor	  "lightBlue"
	  VariableName		  "wh_rear_spd_a"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace9"
	  Position		  [205, 260, 295, 280]
	  Orientation		  "left"
	  ForegroundColor	  "lightBlue"
	  VariableName		  "wh_wt_front_axle"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "effect of \ninertia (Nm)"
	  Ports			  [1, 1]
	  Position		  [535, 142, 565, 178]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "effect of \ninertia (Nm)"
	    Location		    [214, 74, 989, 742]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "axle input speed (rad/s)"
	      Position		      [50, 15, 70, 35]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [30, 59, 135, 81]
	      FontName		      "Arial"
	      Value		      "wh_inertia"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [290, 13, 310, 57]
	      FontName		      "Arial"
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Derivative
	      Name		      "d/dt"
	      Position		      [155, 15, 185, 35]
	      FontName		      "Arial"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "inertia torque\n(Nm)"
	      Position		      [380, 25, 400, 45]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "d/dt"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "axle input speed (rad/s)"
	      SrcPort		      1
	      DstBlock		      "d/dt"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [70, 0; 0, -25]
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "inertia torque\n(Nm)"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [232, 107]
	      VerticalAlignment	      "top"
	      Text		      "This block computes the torque required"
" to overcome the inertia of the\nwheels and axle."
	    }
	  }
	}
	Block {
	  BlockType		  Gain
	  Name			  "front \nactive?"
	  Position		  [715, 78, 735, 112]
	  ForegroundColor	  "lightBlue"
	  FontName		  "Arial"
	  Gain			  "wh_front_active_bool"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Gain
	  Name			  "front \nactive?1"
	  Position		  [140, 413, 160, 447]
	  ForegroundColor	  "lightBlue"
	  FontName		  "Arial"
	  Gain			  "wh_front_active_bool"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Gain
	  Name			  "front \nactive?2"
	  Position		  [245, 393, 260, 427]
	  ForegroundColor	  "lightBlue"
	  FontName		  "Arial"
	  Gain			  "wh_front_active_bool"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "front brake"
	  Ports			  [1, 1]
	  Position		  [560, 450, 590, 480]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "front brake"
	    Location		    [214, 74, 989, 742]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "F_brake"
	      Position		      [20, 65, 40, 85]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [210, 65, 230, 85]
	      Value		      "wh_max_front_brake_force"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [85, 65, 105, 85]
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "F_brake_max"
	      Position		      [320, 65, 340, 85]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "F_brake"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "F_brake_max"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "front force"
	  Ports			  [2, 1]
	  Position		  [375, 41, 410, 94]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "front force"
	    Location		    [292, 82, 707, 290]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "In1"
	      Position		      [15, 135, 45, 150]
	      Orientation	      "up"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "In2"
	      Position		      [20, 163, 50, 177]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product1"
	      Ports		      [2, 1]
	      Position		      [115, 127, 145, 158]
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [2, 1]
	      Position		      [170, 84, 195, 111]
	      IconShape		      "rectangular"
	      Inputs		      "-+"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace12"
	      Position		      [215, 34, 305, 56]
	      ForegroundColor	      "lightBlue"
	      VariableName	      "wh_front_brake_r"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "brake request \ncontroller interface"
	      Ports		      [0, 1]
	      Position		      [35, 80, 125, 100]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"brake request \ncontroller interface"
		Location		[214, 70, 989, 738]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  From
		  Name			  "From <logic>"
		  Position		  [200, 39, 300, 71]
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "F_front_brake_req"
		}
		Block {
		  BlockType		  Outport
		  Name			  "F_front_brake_req"
		  Position		  [335, 45, 355, 65]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "From <logic>"
		  SrcPort		  1
		  DstBlock		  "F_front_brake_req"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "tractive torque\nreq/d of drivetrain\n("
"Nm)"
	      Position		      [215, 79, 280, 121]
	      FontName		      "Arial"
	      Gain		      "wh_radius"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [305, 93, 335, 107]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "brake request \ncontroller interface"
	      SrcPort		      1
	      Points		      [0, 0; 20, 0]
	      Branch {
		DstBlock		"Sum2"
		DstPort			1
	      }
	      Branch {
		Points			[0, -45]
		DstBlock		"To Workspace12"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      DstBlock		      "tractive torque\nreq/d of drivetrain\n("
"Nm)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Product1"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "Sum2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "In1"
	      SrcPort		      1
	      Points		      [70, 0]
	      DstBlock		      "Product1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "In2"
	      SrcPort		      1
	      Points		      [0, -20]
	      DstBlock		      "Product1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "tractive torque\nreq/d of drivetrain\n("
"Nm)"
	      SrcPort		      1
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Sum
	  Name			  "front tire\ntractive force\n(N)"
	  Ports			  [2, 1]
	  Position		  [615, 410, 635, 430]
	  FontName		  "Arial"
	  IconShape		  "rectangular"
	  Inputs		  "++"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "front/rear brake controller interface\n(ach"
"ievable)"
	  Ports			  [5, 2]
	  Position		  [365, 442, 510, 538]
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "front/rear brake controller interface\n(a"
"chievable)"
	    Location		    [227, 296, 701, 646]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "F_drivetrain_ach"
	      Position		      [40, 45, 60, 65]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "w_wheel_ach"
	      Position		      [40, 105, 60, 125]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "F_rear_drivetrain_ach"
	      Position		      [55, 275, 75, 295]
	      ForegroundColor	      "lightBlue"
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "F_max_front_brake"
	      Position		      [40, 165, 60, 185]
	      Port		      "4"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "F_max_rear_brake"
	      Position		      [40, 220, 60, 240]
	      Port		      "5"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <logic>"
	      Position		      [245, 34, 350, 66]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "F_front_brake"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <logic>1"
	      Position		      [245, 94, 350, 126]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "F_rear_brake"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <logic>"
	      Position		      [95, 38, 200, 72]
	      GotoTag		      "F_drivetrain_ach"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <logic>1"
	      Position		      [95, 99, 200, 131]
	      GotoTag		      "w_wheel_ach"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <logic>2"
	      Position		      [95, 159, 200, 191]
	      GotoTag		      "F_max_front_brake"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <logic>3"
	      Position		      [95, 214, 200, 246]
	      GotoTag		      "F_max_rear_brake"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <logic>4"
	      Position		      [110, 268, 215, 302]
	      ForegroundColor	      "lightBlue"
	      GotoTag		      "F_rear_drivetrain_ach"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "F_front_brake"
	      Position		      [385, 40, 405, 60]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "F_rear_brake"
	      Position		      [385, 100, 405, 120]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "From <logic>1"
	      SrcPort		      1
	      DstBlock		      "F_rear_brake"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <logic>"
	      SrcPort		      1
	      DstBlock		      "F_front_brake"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "w_wheel_ach"
	      SrcPort		      1
	      DstBlock		      "Goto <logic>1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "F_drivetrain_ach"
	      SrcPort		      1
	      DstBlock		      "Goto <logic>"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "F_max_front_brake"
	      SrcPort		      1
	      DstBlock		      "Goto <logic>2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "F_max_rear_brake"
	      SrcPort		      1
	      DstBlock		      "Goto <logic>3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "F_rear_drivetrain_ach"
	      SrcPort		      1
	      DstBlock		      "Goto <logic>4"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "help"
	  Ports			  []
	  Position		  [812, 678, 842, 722]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowName		  off
	  OpenFcn		  "web(['file:\\\\\\' which('advisor_doc.htm')"
"]);"
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "image(imread('doc_man.jpg'))"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "help"
	    Location		    [203, 331, 569, 538]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "limits and losses\ndiagnostics"
	  Ports			  [5]
	  Position		  [705, 658, 740, 722]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "limits and losses\ndiagnostics"
	    Location		    [189, 278, 713, 584]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "speed"
	      Position		      [280, 45, 310, 60]
	      Orientation	      "down"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "front brake"
	      Position		      [25, 113, 55, 127]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "front brake max"
	      Position		      [75, 128, 105, 142]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "rear brake max"
	      Position		      [35, 178, 65, 192]
	      Port		      "4"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "rear brake"
	      Position		      [35, 232, 65, 248]
	      Port		      "5"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [275, 87, 305, 123]
	      FontName		      "Arial"
	      Gain		      "-1"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <sdo>1"
	      Position		      [280, 156, 365, 174]
	      GotoTag		      "brake_limited"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "Logical\nOperator"
	      Ports		      [2, 1]
	      Position		      [225, 147, 255, 178]
	      Operator		      "OR"
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [330, 82, 360, 113]
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator1"
	      Position		      [155, 112, 185, 143]
	      Operator		      "=="
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator2"
	      Position		      [155, 177, 185, 208]
	      Operator		      "=="
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum3"
	      Ports		      [2, 1]
	      Position		      [230, 86, 250, 119]
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace6"
	      Position		      [385, 89, 485, 111]
	      VariableName	      "wh_brake_loss_pwr"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum3"
	      SrcPort		      1
	      DstBlock		      "Gain"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "To Workspace6"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Logical\nOperator"
	      SrcPort		      1
	      DstBlock		      "Goto <sdo>1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator1"
	      SrcPort		      1
	      Points		      [15, 0; 0, 25]
	      DstBlock		      "Logical\nOperator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator2"
	      SrcPort		      1
	      Points		      [15, 0; 0, -25]
	      DstBlock		      "Logical\nOperator"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "speed"
	      SrcPort		      1
	      Points		      [20, 0]
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "front brake"
	      SrcPort		      1
	      Points		      [45, 0; 15, 0]
	      Branch {
		Points			[0, -25]
		DstBlock		"Sum3"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Relational\nOperator1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "front brake max"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "rear brake max"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "rear brake"
	      SrcPort		      1
	      Points		      [55, -40]
	      Branch {
		Points			[10, 0; 0, -90]
		DstBlock		"Sum3"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Relational\nOperator2"
		DstPort			2
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "loss\n(Nm)"
	  Ports			  [1, 1]
	  Position		  [535, 77, 565, 113]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "loss\n(Nm)"
	    Location		    [214, 74, 989, 742]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "axle speed (rad/s)"
	      Position		      [50, 5, 70, 25]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [220, 95, 240, 115]
	      Orientation	      "up"
	      FontName		      "Arial"
	      Value		      "0"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [285, 49, 315, 81]
	      FontName		      "Arial"
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "veh mass calc"
	      Ports		      [0, 1]
	      Position		      [45, 45, 90, 65]
	      BackgroundColor	      "darkGreen"
	      SourceBlock	      "lib_wheel/Submodels/veh mass calc"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      "off"
	      TreatAsAtomicUnit	      "off"
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "wheel & axle\nbearing drag (Nm)"
	      Position		      [160, 43, 190, 67]
	      InputValues	      "wh_axle_loss_mass"
	      OutputValues	      "wh_axle_loss_trq"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "drag torque\n(Nm)"
	      Position		      [380, 55, 400, 75]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "veh mass calc"
	      SrcPort		      1
	      DstBlock		      "wheel & axle\nbearing drag (Nm)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "drag torque\n(Nm)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "axle speed (rad/s)"
	      SrcPort		      1
	      Points		      [135, 0; 0, 50]
	      DstBlock		      "Switch"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [0, -15]
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "wheel & axle\nbearing drag (Nm)"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [232, 142]
	      VerticalAlignment	      "top"
	      Text		      "The loss torque is zero when the axle i"
"s not turning."
	    }
	  }
	}
	Block {
	  BlockType		  Gain
	  Name			  "rear \nactive?"
	  Position		  [720, 228, 740, 262]
	  ForegroundColor	  "lightBlue"
	  FontName		  "Arial"
	  Gain			  "wh_rear_active_bool"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Gain
	  Name			  "rear \nactive?1"
	  Position		  [135, 713, 150, 747]
	  ForegroundColor	  "lightBlue"
	  FontName		  "Arial"
	  Gain			  "wh_rear_active_bool"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Gain
	  Name			  "rear \nactive?2"
	  Position		  [245, 693, 260, 727]
	  ForegroundColor	  "lightBlue"
	  FontName		  "Arial"
	  Gain			  "wh_rear_active_bool"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "rear brake"
	  Ports			  [1, 1]
	  Position		  [560, 500, 590, 530]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "rear brake"
	    Location		    [214, 74, 989, 742]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "F_brake"
	      Position		      [20, 65, 40, 85]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [210, 65, 230, 85]
	      Value		      "wh_max_rear_brake_force"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [85, 65, 105, 85]
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "F_brake_max"
	      Position		      [320, 65, 340, 85]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "F_brake_max"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "F_brake"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "rear force"
	  Ports			  [2, 1]
	  Position		  [465, 263, 500, 312]
	  ForegroundColor	  "lightBlue"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "rear force"
	    Location		    [292, 74, 670, 266]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "In1"
	      Position		      [35, 93, 65, 107]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "In2"
	      Position		      [45, 128, 75, 142]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product2"
	      Ports		      [2, 1]
	      Position		      [120, 97, 150, 128]
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [175, 139, 200, 166]
	      IconShape		      "rectangular"
	      Inputs		      "-+"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum4"
	      Ports		      [2, 1]
	      Position		      [175, 54, 200, 81]
	      IconShape		      "rectangular"
	      Inputs		      "-+"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace12"
	      Position		      [240, 20, 330, 40]
	      ForegroundColor	      "lightBlue"
	      VariableName	      "wh_rear_brake_r"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "brake request controller interface1"
	      Ports		      [0, 1]
	      Position		      [40, 50, 130, 70]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"brake request controller interface1"
		Location		[214, 70, 989, 738]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  From
		  Name			  "From <logic>"
		  Position		  [200, 39, 300, 71]
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "F_rear_brake_req"
		}
		Block {
		  BlockType		  Outport
		  Name			  "F_rear_brake_req"
		  Position		  [335, 45, 355, 65]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "From <logic>"
		  SrcPort		  1
		  DstBlock		  "F_rear_brake_req"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "tractive torque\nreq/d of drivetrain\n("
"Nm)1"
	      Position		      [220, 49, 285, 91]
	      FontName		      "Arial"
	      Gain		      "wh_radius"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [310, 63, 340, 77]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "brake request controller interface1"
	      SrcPort		      1
	      Points		      [0, 0; 15, 0]
	      Branch {
		DstBlock		"Sum4"
		DstPort			1
	      }
	      Branch {
		Points			[0, -30]
		DstBlock		"To Workspace12"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Sum4"
	      SrcPort		      1
	      DstBlock		      "tractive torque\nreq/d of drivetrain\n("
"Nm)1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "tractive torque\nreq/d of drivetrain\n("
"Nm)1"
	      SrcPort		      1
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "In1"
	      SrcPort		      1
	      Points		      [0, 5; 25, 0]
	      Branch {
		DstBlock		"Product2"
		DstPort			1
	      }
	      Branch {
		Points			[0, 55]
		DstBlock		"Sum1"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "In2"
	      SrcPort		      1
	      Points		      [0, -15]
	      DstBlock		      "Product2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Product2"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      Points		      [0, -30; -25, 0; 0, -25; -20, 0]
	      DstBlock		      "Sum4"
	      DstPort		      2
	    }
	  }
	}
	Block {
	  BlockType		  Sum
	  Name			  "rear tire\ntractive force\n(N)"
	  Ports			  [2, 1]
	  Position		  [635, 600, 655, 620]
	  ForegroundColor	  "lightBlue"
	  FontName		  "Arial"
	  IconShape		  "rectangular"
	  Inputs		  "++"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Gain
	  Name			  "split inertia\nfront/rear"
	  Position		  [590, 145, 610, 175]
	  ForegroundColor	  "lightBlue"
	  FontName		  "Arial"
	  Gain			  "1/(wh_front_active_bool+wh_rear_active_bool"
")"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Gain
	  Name			  "split loss \nfront/rear"
	  Position		  [585, 78, 610, 112]
	  ForegroundColor	  "lightBlue"
	  FontName		  "Arial"
	  Gain			  "1/(wh_front_active_bool+wh_rear_active_bool"
")"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "tire slip model\n(m/s)"
	  Ports			  [7, 1]
	  Position		  [740, 418, 775, 592]
	  ForegroundColor	  "lightBlue"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "tire slip model\n(m/s)"
	    Location		    [3, 188, 927, 669]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "weight borne \nby front axle\n(N)"
	      Position		      [140, 35, 160, 55]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "total tractive \nforce available\n(N)"
	      Position		      [80, 90, 100, 110]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "axle speed available\n(rad/s)"
	      Position		      [95, 200, 115, 220]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "axle speed\nreq'd (rad/s)"
	      Position		      [95, 255, 115, 275]
	      Port		      "4"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "vehicle speed\nrequired (m/s)"
	      Position		      [90, 345, 110, 365]
	      Port		      "5"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "weight borne by \nrear axle (N)"
	      Position		      [235, 110, 255, 130]
	      ForegroundColor	      "lightBlue"
	      Port		      "6"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "front fraction"
	      Position		      [80, 160, 100, 180]
	      ForegroundColor	      "lightBlue"
	      Port		      "7"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Abs
	      Name		      "Abs1"
	      Position		      [285, 245, 315, 275]
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Block NOTES"
	      Ports		      []
	      Position		      [820, 340, 876, 380]
	      BackgroundColor	      "green"
	      ShowName		      off
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "disp('Block\\nNOTES')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Block NOTES"
		Location		[214, 70, 989, 738]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Annotation {
		  Position		  [222, 12]
		  VerticalAlignment	  "top"
		  Text			  "This block implements the effects o"
"f finite tire slip (with respect to the road) on the\nvehicle speed/wheel spe"
"ed relationship.  Slip is defined as s=(omega*r - v) / v.  The\none-to-one ma"
"pping of slip to normalized tractive force, F_tract/W_front_axle, up to\nthe "
"maximum, is stored in the variables \"wh_slip\" and \"wh_slip_force_coeff.\" "
" The\nslip calculation here is overridden if the actual axle speed and the re"
"quested axle\nspeed are the same, indicating that no drivetrain speed limits "
"were encountered."
		}
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [360, 310, 380, 330]
	      Orientation	      "left"
	      Value		      "1e-3"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant5"
	      Position		      [490, 70, 510, 90]
	      FontName		      "Arial"
	      Value		      "1"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant6"
	      Position		      [635, 174, 700, 196]
	      Orientation	      "left"
	      FontName		      "Arial"
	      Value		      "wh_radius"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "Fcn"
	      Position		      [595, 54, 625, 76]
	      FontName		      "Arial"
	      Expr		      "1/u"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <sdo>1"
	      Position		      [735, 42, 825, 68]
	      GotoTag		      "veh_spd_a_rec"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator1"
	      Position		      [355, 252, 385, 283]
	      Operator		      ">"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [195, 155, 215, 175]
	      ForegroundColor	      "lightBlue"
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "+-"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [2, 1]
	      Position		      [425, 90, 445, 110]
	      ForegroundColor	      "lightBlue"
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum3"
	      Ports		      [2, 1]
	      Position		      [545, 55, 565, 75]
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum4"
	      Ports		      [2, 1]
	      Position		      [205, 250, 225, 270]
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "-+"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch1"
	      Position		      [740, 90, 770, 120]
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "front axle"
	      Ports		      [2, 1]
	      Position		      [215, 30, 255, 90]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"front axle"
		Location		[359, 74, 879, 302]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 43, 140, 57]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "In2"
		  Position		  [25, 128, 55, 142]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Abs
		  Name			  "Abs"
		  Position		  [105, 120, 135, 150]
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant3"
		  Position		  [220, 135, 240, 155]
		  Orientation		  "up"
		  FontName		  "Arial"
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Product
		  Name			  "F/W"
		  Ports			  [2, 1]
		  Position		  [165, 25, 185, 60]
		  FontName		  "Arial"
		  Inputs		  "*/"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [420, 45, 440, 80]
		  FontName		  "Arial"
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator"
		  Position		  [187, 95, 218, 115]
		  Orientation		  "up"
		  Operator		  "~="
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  Position		  [310, 40, 340, 70]
		  UpperLimit		  "max(wh_slip_force_coeff)"
		  LowerLimit		  "min(wh_slip_force_coeff)"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Signum
		  Name			  "Sign"
		  Position		  [105, 169, 140, 201]
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [250, 39, 280, 71]
		  FontName		  "Arial"
		  Threshold		  "0"
		}
		Block {
		  BlockType		  Lookup
		  Name			  "s=s(F/W)"
		  Position		  [365, 43, 395, 67]
		  InputValues		  "wh_slip_force_coeff"
		  OutputValues		  "wh_slip"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [465, 58, 495, 72]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "Constant3"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, -65]
		    DstBlock		    "Switch"
		    DstPort		    3
		  }
		  Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Relational\nOperator"
		  SrcPort		  1
		  Points		  [0, -35]
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Abs"
		  SrcPort		  1
		  Points		  [0, 0; 5, 0]
		  Branch {
		    Points		    [0, -100]
		    DstBlock		    "F/W"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [50, 0]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  DstBlock		  "s=s(F/W)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "Saturation"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "F/W"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sign"
		  SrcPort		  1
		  Points		  [240, 0; 0, -115]
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "s=s(F/W)"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In2"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    DstBlock		    "Abs"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 50]
		    DstBlock		    "Sign"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "F/W"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Product
	      Name		      "front frac"
	      Ports		      [2, 1]
	      Position		      [145, 106, 165, 139]
	      ForegroundColor	      "lightBlue"
	      FontName		      "Arial"
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "rear axle"
	      Ports		      [2, 1]
	      Position		      [305, 105, 345, 165]
	      ForegroundColor	      "lightBlue"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"rear axle"
		Location		[359, 74, 879, 302]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 43, 140, 57]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "In2"
		  Position		  [25, 128, 55, 142]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Abs
		  Name			  "Abs"
		  Position		  [105, 120, 135, 150]
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant3"
		  Position		  [220, 135, 240, 155]
		  Orientation		  "up"
		  FontName		  "Arial"
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Product
		  Name			  "F/W"
		  Ports			  [2, 1]
		  Position		  [165, 25, 185, 60]
		  FontName		  "Arial"
		  Inputs		  "*/"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [420, 45, 440, 80]
		  FontName		  "Arial"
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator"
		  Position		  [187, 95, 218, 115]
		  Orientation		  "up"
		  Operator		  "~="
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  Position		  [310, 40, 340, 70]
		  UpperLimit		  "max(wh_slip_force_coeff)"
		  LowerLimit		  "min(wh_slip_force_coeff)"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Signum
		  Name			  "Sign"
		  Position		  [105, 169, 140, 201]
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [250, 39, 280, 71]
		  FontName		  "Arial"
		  Threshold		  "0"
		}
		Block {
		  BlockType		  Lookup
		  Name			  "s=s(F/W)"
		  Position		  [365, 43, 395, 67]
		  InputValues		  "wh_slip_force_coeff"
		  OutputValues		  "wh_slip"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [465, 58, 495, 72]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "Constant3"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, -65]
		    DstBlock		    "Switch"
		    DstPort		    3
		  }
		  Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Relational\nOperator"
		  SrcPort		  1
		  Points		  [0, -35]
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Abs"
		  SrcPort		  1
		  Points		  [0, 0; 5, 0]
		  Branch {
		    Points		    [0, -100]
		    DstBlock		    "F/W"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [50, 0]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  DstBlock		  "s=s(F/W)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "Saturation"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "F/W"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sign"
		  SrcPort		  1
		  Points		  [240, 0; 0, -115]
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "s=s(F/W)"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In2"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    DstBlock		    "Abs"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 50]
		    DstBlock		    "Sign"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "F/W"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Product
	      Name		      "vehicle speed\n(m/s)"
	      Ports		      [3, 1]
	      Position		      [660, 53, 680, 137]
	      FontName		      "Arial"
	      Inputs		      "3"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "possible vehicle\nspeed\n(m/s)"
	      Position		      [815, 95, 835, 115]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Sum3"
	      SrcPort		      1
	      DstBlock		      "Fcn"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Fcn"
	      SrcPort		      1
	      DstBlock		      "vehicle speed\n(m/s)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant5"
	      SrcPort		      1
	      Points		      [15, 0]
	      DstBlock		      "Sum3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "axle speed available\n(rad/s)"
	      SrcPort		      1
	      Points		      [0, 0; 50, 0]
	      Branch {
		Points			[0, 45]
		DstBlock		"Sum4"
		DstPort			1
	      }
	      Branch {
		Points			[445, 0; 0, -115]
		DstBlock		"vehicle speed\n(m/s)"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Constant6"
	      SrcPort		      1
	      Points		      [0, -60]
	      DstBlock		      "vehicle speed\n(m/s)"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator1"
	      SrcPort		      1
	      Points		      [320, 0; 0, -165]
	      DstBlock		      "Switch1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "vehicle speed\nrequired (m/s)"
	      SrcPort		      1
	      Points		      [610, 0]
	      DstBlock		      "Switch1"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Sum4"
	      SrcPort		      1
	      DstBlock		      "Abs1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "axle speed\nreq'd (rad/s)"
	      SrcPort		      1
	      DstBlock		      "Sum4"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [-15, 0]
	      DstBlock		      "Relational\nOperator1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Abs1"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "weight borne \nby front axle\n(N)"
	      SrcPort		      1
	      DstBlock		      "front axle"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch1"
	      SrcPort		      1
	      DstBlock		      "possible vehicle\nspeed\n(m/s)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "vehicle speed\n(m/s)"
	      SrcPort		      1
	      Points		      [0, 0; 20, 0]
	      Branch {
		DstBlock		"Switch1"
		DstPort			1
	      }
	      Branch {
		Points			[0, -40]
		DstBlock		"Goto <sdo>1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "weight borne by \nrear axle (N)"
	      SrcPort		      1
	      DstBlock		      "rear axle"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "total tractive \nforce available\n(N)"
	      SrcPort		      1
	      Points		      [0, 0; 25, 0]
	      Branch {
		DstBlock		"front frac"
		DstPort			1
	      }
	      Branch {
		Points			[50, 0]
		DstBlock		"Sum1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "front fraction"
	      SrcPort		      1
	      Points		      [25, 0]
	      DstBlock		      "front frac"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "front frac"
	      SrcPort		      1
	      Points		      [0, 0; 5, 0]
	      Branch {
		Points			[10, 0; 0, -50]
		DstBlock		"front axle"
		DstPort			2
	      }
	      Branch {
		Points			[0, 45]
		DstBlock		"Sum1"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      Points		      [70, 0]
	      DstBlock		      "rear axle"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "front axle"
	      SrcPort		      1
	      Points		      [75, 0; 0, 35]
	      DstBlock		      "Sum2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "rear axle"
	      SrcPort		      1
	      Points		      [30, 0; 0, -30]
	      DstBlock		      "Sum2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      Points		      [15, 0; 0, -40]
	      DstBlock		      "Sum3"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [428, 435]
	      ForegroundColor	      "red"
	      Text		      "See note regarding sum in backward path"
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "tire slip model\n(rad/s)"
	  Ports			  [5, 1]
	  Position		  [465, 129, 500, 231]
	  ForegroundColor	  "lightBlue"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "tire slip model\n(rad/s)"
	    Location		    [214, 100, 989, 768]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "104"
	    Block {
	      BlockType		      Inport
	      Name		      "total tractive \nforce requested\n(N)"
	      Position		      [70, 160, 90, 180]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "requested time-step\naverage vehicle sp"
"eed\n(m/s)"
	      Position		      [70, 20, 90, 40]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "weight borne by\nfront axle\n(N)"
	      Position		      [75, 85, 95, 105]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "weight borne by \nrear axle\n(N)1"
	      Position		      [75, 300, 95, 320]
	      ForegroundColor	      "lightBlue"
	      Port		      "4"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "front traction ratio"
	      Position		      [70, 245, 90, 265]
	      ForegroundColor	      "lightBlue"
	      Port		      "5"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant5"
	      Position		      [440, 120, 460, 140]
	      FontName		      "Arial"
	      Value		      "1"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant6"
	      Position		      [440, 185, 530, 205]
	      Orientation	      "up"
	      FontName		      "Arial"
	      Value		      "1/wh_radius"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [155, 205, 175, 225]
	      ForegroundColor	      "lightBlue"
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "+-"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [2, 1]
	      Position		      [320, 150, 340, 170]
	      ForegroundColor	      "lightBlue"
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum3"
	      Ports		      [2, 1]
	      Position		      [495, 105, 515, 125]
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace6"
	      Position		      [460, 30, 540, 50]
	      VariableName	      "wh_slip_r"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "front frac"
	      Ports		      [2, 1]
	      Position		      [155, 124, 175, 171]
	      ForegroundColor	      "lightBlue"
	      FontName		      "Arial"
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "front slip"
	      Ports		      [2, 1]
	      Position		      [210, 95, 250, 155]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"front slip"
		Location		[254, 115, 714, 343]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [100, 43, 130, 57]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "In2"
		  Position		  [25, 118, 55, 132]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Abs
		  Name			  "Abs"
		  Position		  [105, 110, 135, 140]
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "F/W"
		  Ports			  [2, 1]
		  Position		  [155, 25, 175, 60]
		  FontName		  "Arial"
		  Inputs		  "*/"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [360, 45, 380, 80]
		  FontName		  "Arial"
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  Position		  [230, 30, 260, 60]
		  UpperLimit		  "max(wh_slip_force_coeff)"
		  LowerLimit		  "min(wh_slip_force_coeff)"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Signum
		  Name			  "Sign"
		  Position		  [105, 169, 140, 201]
		}
		Block {
		  BlockType		  Lookup
		  Name			  "s=s(F/W)"
		  Position		  [300, 33, 330, 57]
		  InputValues		  "wh_slip_force_coeff"
		  OutputValues		  "wh_slip"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [405, 58, 435, 72]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  DstBlock		  "s=s(F/W)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "F/W"
		  SrcPort		  1
		  DstBlock		  "Saturation"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Abs"
		  SrcPort		  1
		  DstBlock		  "F/W"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sign"
		  SrcPort		  1
		  Points		  [200, 0]
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "In2"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    DstBlock		    "Abs"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 60]
		    DstBlock		    "Sign"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "s=s(F/W)"
		  SrcPort		  1
		  Points		  [0, 10]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "F/W"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "rear slip"
	      Ports		      [2, 1]
	      Position		      [220, 200, 260, 260]
	      ForegroundColor	      "lightBlue"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"rear slip"
		Location		[254, 115, 714, 343]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [100, 43, 130, 57]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "In2"
		  Position		  [25, 118, 55, 132]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Abs
		  Name			  "Abs"
		  Position		  [105, 110, 135, 140]
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "F/W"
		  Ports			  [2, 1]
		  Position		  [155, 25, 175, 60]
		  FontName		  "Arial"
		  Inputs		  "*/"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [360, 45, 380, 80]
		  FontName		  "Arial"
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  Position		  [230, 30, 260, 60]
		  UpperLimit		  "max(wh_slip_force_coeff)"
		  LowerLimit		  "min(wh_slip_force_coeff)"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Signum
		  Name			  "Sign"
		  Position		  [105, 169, 140, 201]
		}
		Block {
		  BlockType		  Lookup
		  Name			  "s=s(F/W)"
		  Position		  [300, 33, 330, 57]
		  InputValues		  "wh_slip_force_coeff"
		  OutputValues		  "wh_slip"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [405, 58, 435, 72]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  DstBlock		  "s=s(F/W)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "F/W"
		  SrcPort		  1
		  DstBlock		  "Saturation"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Abs"
		  SrcPort		  1
		  DstBlock		  "F/W"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sign"
		  SrcPort		  1
		  Points		  [200, 0]
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "In2"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    DstBlock		    "Abs"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 60]
		    DstBlock		    "Sign"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "s=s(F/W)"
		  SrcPort		  1
		  Points		  [0, 10]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "F/W"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Product
	      Name		      "wheel speed\n(rad/s)"
	      Ports		      [3, 1]
	      Position		      [560, 73, 580, 157]
	      FontName		      "Arial"
	      Inputs		      "3"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "slip-augmented rotational\nspeed (rad/s"
")"
	      Position		      [640, 105, 660, 125]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "weight borne by\nfront axle\n(N)"
	      SrcPort		      1
	      Points		      [95, 0]
	      DstBlock		      "front slip"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "requested time-step\naverage vehicle sp"
"eed\n(m/s)"
	      SrcPort		      1
	      Points		      [330, 0; 0, 55]
	      DstBlock		      "wheel speed\n(rad/s)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant6"
	      SrcPort		      1
	      Points		      [0, -35]
	      DstBlock		      "wheel speed\n(rad/s)"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Sum3"
	      SrcPort		      1
	      DstBlock		      "wheel speed\n(rad/s)"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant5"
	      SrcPort		      1
	      Points		      [5, 0; 0, -10]
	      DstBlock		      "Sum3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "wheel speed\n(rad/s)"
	      SrcPort		      1
	      DstBlock		      "slip-augmented rotational\nspeed (rad/s"
")"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "front frac"
	      SrcPort		      1
	      Points		      [0, -5; 5, 0]
	      Branch {
		Points			[10, 0; 0, 45; -55, 0]
		DstBlock		"Sum1"
		DstPort			2
	      }
	      Branch {
		Points			[0, -5]
		DstBlock		"front slip"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "total tractive \nforce requested\n(N)"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		Points			[10, 0; 0, -35]
		DstBlock		"front frac"
		DstPort			1
	      }
	      Branch {
		Points			[0, 40]
		DstBlock		"Sum1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "front traction ratio"
	      SrcPort		      1
	      Points		      [35, 0; 0, -95]
	      DstBlock		      "front frac"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      Points		      [10, 0; 0, 30]
	      DstBlock		      "rear slip"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "weight borne by \nrear axle\n(N)1"
	      SrcPort		      1
	      Points		      [100, 0; 0, -95]
	      DstBlock		      "rear slip"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "front slip"
	      SrcPort		      1
	      Points		      [25, 0; 0, 30]
	      DstBlock		      "Sum2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "rear slip"
	      SrcPort		      1
	      Points		      [20, 0; 0, -65]
	      DstBlock		      "Sum2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      Points		      [65, 0; 0, -60; 25, 0]
	      Branch {
		Points			[45, 0]
		DstBlock		"Sum3"
		DstPort			1
	      }
	      Branch {
		Points			[0, -60]
		DstBlock		"To Workspace6"
		DstPort			1
	      }
	    }
	    Annotation {
	      Position		      [542, 302]
	      VerticalAlignment	      "top"
	      Text		      "Slip is defined as s=(omega*r - v) / v."
"  The one-to-one mapping of slip to normalized\ntractive force, F_tract/W_fro"
"nt_axle, up to the maximum, is stored in the variables\n\"wh_slip\" and \"wh_"
"slip_force_coeff.\""
	    }
	    Annotation {
	      Position		      [547, 262]
	      VerticalAlignment	      "top"
	      Text		      "This block implements the effects of fi"
"nite tire slip\n(with respect to the road) on the vehicle speed/wheel speed r"
"elationship."
	    }
	    Annotation {
	      Position		      [181, 374]
	      ForegroundColor	      "red"
	      Text		      "Question: for front and rear, is it the"
" sum of or min/max? tm:020703"
	    }
	  }
	}
	Block {
	  BlockType		  Sum
	  Name			  "total tractive \nforce (N)"
	  Ports			  [2, 1]
	  Position		  [755, 323, 775, 352]
	  FontName		  "Arial"
	  IconShape		  "rectangular"
	  Inputs		  "++"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "traction controller interface"
	  Ports			  [2, 5]
	  Position		  [190, 118, 315, 242]
	  ForegroundColor	  "lightBlue"
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "traction controller interface"
	    Location		    [149, 40, 924, 708]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "F_req"
	      Position		      [40, 45, 60, 65]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "v_ave_req"
	      Position		      [40, 105, 60, 125]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <logic>"
	      Position		      [185, 34, 290, 66]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "F_req_limited"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <logic>1"
	      Position		      [185, 94, 290, 126]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "v_req_limited"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <logic>2"
	      Position		      [180, 149, 285, 181]
	      ForegroundColor	      "lightBlue"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "wt_front_axle"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <logic>3"
	      Position		      [180, 194, 285, 226]
	      ForegroundColor	      "lightBlue"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "wt_rear_axle"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <logic>4"
	      Position		      [190, 249, 295, 281]
	      ForegroundColor	      "lightBlue"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "front_traction_ratio"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <logic>"
	      Position		      [95, 39, 140, 71]
	      GotoTag		      "F_req"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <logic>1"
	      Position		      [95, 98, 175, 132]
	      GotoTag		      "v_ave_req"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "F_req_limited"
	      Position		      [325, 40, 345, 60]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "v_req_limited"
	      Position		      [325, 100, 345, 120]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "wt_front_axle"
	      Position		      [325, 155, 345, 175]
	      ForegroundColor	      "lightBlue"
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "wt_rear_axle"
	      Position		      [325, 205, 345, 225]
	      ForegroundColor	      "lightBlue"
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "front_traction_ratio"
	      Position		      [330, 255, 350, 275]
	      ForegroundColor	      "lightBlue"
	      Port		      "5"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "From <logic>"
	      SrcPort		      1
	      DstBlock		      "F_req_limited"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <logic>1"
	      SrcPort		      1
	      DstBlock		      "v_req_limited"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <logic>2"
	      SrcPort		      1
	      DstBlock		      "wt_front_axle"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "F_req"
	      SrcPort		      1
	      DstBlock		      "Goto <logic>"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "v_ave_req"
	      SrcPort		      1
	      DstBlock		      "Goto <logic>1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <logic>3"
	      SrcPort		      1
	      Points		      [0, 5]
	      DstBlock		      "wt_rear_axle"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <logic>4"
	      SrcPort		      1
	      DstBlock		      "front_traction_ratio"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Gain
	  Name			  "tractive force \nat tire patch \ndue to dri"
"veline\n(Nm)"
	  Position		  [280, 388, 305, 432]
	  FontName		  "Arial"
	  Gain			  "1/wh_radius"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Gain
	  Name			  "tractive force \nat tire patch \ndue to dri"
"veline\n(Nm)1"
	  Position		  [280, 688, 320, 732]
	  ForegroundColor	  "lightBlue"
	  FontName		  "Arial"
	  Gain			  "1/wh_radius"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nfrom drivetrain int"
"o front axle\n(Nm),(rad/s)"
	  Position		  [870, 100, 890, 120]
	  FontName		  "Arial"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nfrom drivetrain int"
"o rear axle\n(Nm),(rad/s)"
	  Position		  [865, 250, 885, 270]
	  ForegroundColor	  "lightBlue"
	  FontName		  "Arial"
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "tractive force and\nlinear speed \nachievab"
"le"
	  Position		  [890, 485, 910, 505]
	  FontName		  "Arial"
	  Port			  "3"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "traction controller interface"
	  SrcPort		  2
	  Points		  [65, 0]
	  Branch {
	    Points		    [65, 0]
	    DstBlock		    "tire slip model\n(rad/s)"
	    DstPort		    2
	  }
	  Branch {
	    Points		    [0, 225; 310, 0; 0, 150]
	    DstBlock		    "tire slip model\n(m/s)"
	    DstPort		    5
	  }
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  2
	  Points		  [10, 0]
	  DstBlock		  "traction controller interface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "tire slip model\n(m/s)"
	  SrcPort		  1
	  Points		  [20, 0]
	  Branch {
	    DstBlock		    "Mux1"
	    DstPort		    2
	  }
	  Branch {
	    Points		    [0, 0; 0, 145; -110, 0]
	    DstBlock		    "limits and losses\ndiagnostics"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "tractive force \nat tire patch \ndue to dri"
"veline\n(Nm)"
	  SrcPort		  1
	  Points		  [10, 0; 0, 5]
	  Branch {
	    Points		    [0, 35]
	    DstBlock		    "front/rear brake controller interface\n(a"
"chievable)"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "front tire\ntractive force\n(N)"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Sum1"
	  SrcPort		  1
	  DstBlock		  "front \nactive?2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "effect of \ninertia (Nm)"
	  SrcPort		  1
	  DstBlock		  "split inertia\nfront/rear"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "loss\n(Nm)"
	  SrcPort		  1
	  DstBlock		  "split loss \nfront/rear"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "tractive force and speed\nreq'd of tire/roa"
"d interface\n(N), (m/s)"
	  SrcPort		  1
	  DstBlock		  "Demux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "tire slip model\n(rad/s)"
	  SrcPort		  1
	  Points		  [10, 0]
	  Branch {
	    Points		    [0, -20; 0, 0]
	    Branch {
	      DstBlock		      "effect of \ninertia (Nm)"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [0, -65]
	      Branch {
		DstBlock		"loss\n(Nm)"
		DstPort			1
	      }
	      Branch {
		Points			[0, -65; 240, 0]
		Branch {
		  DstBlock		  "To Workspace3"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 90]
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 95]
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "To Workspace12"
		    DstPort		    1
		    }
		  }
		}
	      }
	    }
	  }
	  Branch {
	    Points		    [0, 190; 190, 0; 0, 135]
	    DstBlock		    "tire slip model\n(m/s)"
	    DstPort		    4
	  }
	}
	Line {
	  SrcBlock		  "front force"
	  SrcPort		  1
	  DstBlock		  "Sum"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Mux1"
	  SrcPort		  1
	  DstBlock		  "tractive force and\nlinear speed \nachievab"
"le"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "total tractive \nforce (N)"
	  SrcPort		  1
	  Points		  [20, 0; 0, 140]
	  DstBlock		  "Mux1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "torque and speed\navailable from\ndrivetrai"
"n into front axle\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "Demux1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "front/rear brake controller interface\n(ach"
"ievable)"
	  SrcPort		  1
	  Points		  [5, 0]
	  Branch {
	    Points		    [0, -40]
	    DstBlock		    "front tire\ntractive force\n(N)"
	    DstPort		    2
	  }
	  Branch {
	    Points		    [20, 0]
	    Branch {
	      DstBlock		      "front brake"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [0, 215]
	      Branch {
		DstBlock		"limits and losses\ndiagnostics"
		DstPort			2
	      }
	      Branch {
		Points			[0, 50]
		DstBlock		"To Workspace13"
		DstPort			1
	      }
	    }
	  }
	}
	Line {
	  SrcBlock		  "front tire\ntractive force\n(N)"
	  SrcPort		  1
	  Points		  [5, 0]
	  Branch {
	    Points		    [70, 0; 0, 35]
	    DstBlock		    "tire slip model\n(m/s)"
	    DstPort		    2
	  }
	  Branch {
	    Points		    [0, -90]
	    DstBlock		    "total tractive \nforce (N)"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "front brake"
	  SrcPort		  1
	  Points		  [20, 0; 0, 115]
	  Branch {
	    Points		    [-275, 0; 0, -70]
	    DstBlock		    "front/rear brake controller interface\n(a"
"chievable)"
	    DstPort		    4
	  }
	  Branch {
	    Points		    [0, 110]
	    DstBlock		    "limits and losses\ndiagnostics"
	    DstPort		    3
	  }
	}
	Line {
	  SrcBlock		  "rear brake"
	  SrcPort		  1
	  Points		  [10, 0; 0, 55]
	  Branch {
	    Points		    [-255, 0]
	    DstBlock		    "front/rear brake controller interface\n(a"
"chievable)"
	    DstPort		    5
	  }
	  Branch {
	    Points		    [0, 130]
	    DstBlock		    "limits and losses\ndiagnostics"
	    DstPort		    4
	  }
	}
	Line {
	  SrcBlock		  "traction controller interface"
	  SrcPort		  3
	  Points		  [15, 0]
	  Branch {
	    Points		    [60, 0]
	    Branch {
	      DstBlock		      "tire slip model\n(rad/s)"
	      DstPort		      3
	    }
	    Branch {
	      Points		      [0, 180; 330, 0]
	      DstBlock		      "tire slip model\n(m/s)"
	      DstPort		      1
	    }
	  }
	  Branch {
	    Points		    [0, 90]
	    DstBlock		    "To Workspace9"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Mux"
	  SrcPort		  1
	  DstBlock		  "torque and speed req'd\nfrom drivetrain int"
"o front axle\n(Nm),(rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Sum"
	  SrcPort		  1
	  DstBlock		  "front \nactive?"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux1"
	  SrcPort		  1
	  DstBlock		  "front \nactive?1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Switch"
	  SrcPort		  1
	  Points		  [10, 0; 0, 40; 15, 0]
	  Branch {
	    Points		    [0, -65; 0, -20]
	    DstBlock		    "front/rear brake controller interface\n(a"
"chievable)"
	    DstPort		    2
	  }
	  Branch {
	    Points		    [0, 35; 330, 0; 0, -110]
	    DstBlock		    "tire slip model\n(m/s)"
	    DstPort		    3
	  }
	}
	Line {
	  SrcBlock		  "traction controller interface"
	  SrcPort		  1
	  Points		  [10, 0]
	  Branch {
	    Points		    [85, 0]
	    Branch {
	      Points		      [0, 145]
	      DstBlock		      "rear force"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [35, 0]
	      DstBlock		      "tire slip model\n(rad/s)"
	      DstPort		      1
	    }
	  }
	  Branch {
	    Points		    [0, -75]
	    DstBlock		    "front force"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "front/rear brake controller interface\n(ach"
"ievable)"
	  SrcPort		  2
	  Points		  [5, 0]
	  Branch {
	    Points		    [0, 90]
	    DstBlock		    "rear tire\ntractive force\n(N)"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [10, 0]
	    Branch {
	      DstBlock		      "rear brake"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [0, 195]
	      Branch {
		DstBlock		"limits and losses\ndiagnostics"
		DstPort			5
	      }
	      Branch {
		DstBlock		"To Workspace6"
		DstPort			1
	      }
	    }
	  }
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  1
	  Points		  [10, 0]
	  DstBlock		  "traction controller interface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "traction controller interface"
	  SrcPort		  5
	  Points		  [5, 0]
	  Branch {
	    Points		    [30, 0]
	    Branch {
	      Points		      [10, 0]
	      Branch {
		Points			[0, 175; 310, 0; 0, 175]
		DstBlock		"tire slip model\n(m/s)"
		DstPort			7
	      }
	      Branch {
		Points			[40, 0]
		Branch {
		  Points		  [45, 0]
		  DstBlock		  "tire slip model\n(rad/s)"
		  DstPort		  5
		}
		Branch {
		  Points		  [0, 70]
		  DstBlock		  "rear force"
		  DstPort		  2
		}
	      }
	    }
	    Branch {
	      Points		      [0, -150]
	      DstBlock		      "front force"
	      DstPort		      2
	    }
	  }
	  Branch {
	    Points		    [0, 65]
	    DstBlock		    "To Workspace11"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "rear force"
	  SrcPort		  1
	  Points		  [135, 0; 0, -20]
	  DstBlock		  "Sum4"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "Sum4"
	  SrcPort		  1
	  DstBlock		  "rear \nactive?"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Mux2"
	  SrcPort		  1
	  DstBlock		  "torque and speed req'd\nfrom drivetrain int"
"o rear axle\n(Nm),(rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "split loss \nfront/rear"
	  SrcPort		  1
	  Points		  [15, 0]
	  Branch {
	    Points		    [20, 0]
	    Branch {
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Branch {
	      Points		      [0, 125]
	      DstBlock		      "Sum4"
	      DstPort		      1
	    }
	  }
	  Branch {
	    Points		    [0, 255; -450, 0; 0, 40]
	    Branch {
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [0, 300]
	      DstBlock		      "Sum5"
	      DstPort		      1
	    }
	  }
	}
	Line {
	  SrcBlock		  "split inertia\nfront/rear"
	  SrcPort		  1
	  Points		  [5, 0]
	  Branch {
	    Points		    [20, 0]
	    Branch {
	      Points		      [20, 0; 0, -40]
	      DstBlock		      "Sum"
	      DstPort		      3
	    }
	    Branch {
	      Points		      [0, 85]
	      DstBlock		      "Sum4"
	      DstPort		      2
	    }
	  }
	  Branch {
	    Points		    [0, 175; -450, 0; 0, 75]
	    Branch {
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Branch {
	      Points		      [0, 300]
	      DstBlock		      "Sum5"
	      DstPort		      2
	    }
	  }
	}
	Line {
	  SrcBlock		  "traction controller interface"
	  SrcPort		  4
	  Points		  [25, 0]
	  Branch {
	    Points		    [30, 0]
	    Branch {
	      Points		      [75, 0]
	      DstBlock		      "tire slip model\n(rad/s)"
	      DstPort		      4
	    }
	    Branch {
	      Points		      [0, 190; 310, 0; 0, 160]
	      DstBlock		      "tire slip model\n(m/s)"
	      DstPort		      6
	    }
	  }
	  Branch {
	    Points		    [0, 105]
	    DstBlock		    "To Workspace10"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Sum5"
	  SrcPort		  1
	  DstBlock		  "rear \nactive?2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "torque and speed\navailable from\ndrivetrai"
"n into rear axle\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "Demux2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "tractive force \nat tire patch \ndue to dri"
"veline\n(Nm)1"
	  SrcPort		  1
	  Points		  [5, 0; 0, -95]
	  Branch {
	    Points		    [0, -125]
	    DstBlock		    "front/rear brake controller interface\n(a"
"chievable)"
	    DstPort		    3
	  }
	  Branch {
	    DstBlock		    "rear tire\ntractive force\n(N)"
	    DstPort		    2
	  }
	}
	Line {
	  SrcBlock		  "rear tire\ntractive force\n(N)"
	  SrcPort		  1
	  Points		  [5, 0; 0, -265]
	  DstBlock		  "total tractive \nforce (N)"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Demux2"
	  SrcPort		  1
	  DstBlock		  "rear \nactive?1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux2"
	  SrcPort		  2
	  Points		  [40, 0]
	  Branch {
	    Points		    [0, 45]
	    DstBlock		    "To Workspace8"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [25, 0; 0, -210; 55, 0]
	    DstBlock		    "Switch"
	    DstPort		    3
	  }
	}
	Line {
	  SrcBlock		  "front \nactive?"
	  SrcPort		  1
	  Points		  [5, 0]
	  Branch {
	    DstBlock		    "Mux"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, -25]
	    DstBlock		    "To Workspace2"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "rear \nactive?"
	  SrcPort		  1
	  Points		  [0, 0]
	  Branch {
	    Points		    [0, -30]
	    DstBlock		    "To Workspace1"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "Mux2"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "front \nactive?1"
	  SrcPort		  1
	  Points		  [0, 0]
	  Branch {
	    Points		    [0, -65; -35, 0]
	    Branch {
	      DstBlock		      "To Workspace4"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [0, -30; -20, 0]
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	  }
	  Branch {
	    DstBlock		    "Sum1"
	    DstPort		    3
	  }
	}
	Line {
	  SrcBlock		  "rear \nactive?1"
	  SrcPort		  1
	  Points		  [5, 0]
	  Branch {
	    Points		    [0, -35]
	    DstBlock		    "To Workspace7"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "Sum5"
	    DstPort		    3
	  }
	}
	Line {
	  SrcBlock		  "rear \nactive?2"
	  SrcPort		  1
	  DstBlock		  "tractive force \nat tire patch \ndue to dri"
"veline\n(Nm)1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "front \nactive?2"
	  SrcPort		  1
	  DstBlock		  "tractive force \nat tire patch \ndue to dri"
"veline\n(Nm)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Constant"
	  SrcPort		  1
	  DstBlock		  "Switch"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Demux1"
	  SrcPort		  2
	  Points		  [5, 0]
	  Branch {
	    Points		    [0, -50; 105, 0; 0, 10]
	    DstBlock		    "Switch"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [10, 0; 0, 90]
	    DstBlock		    "To Workspace5"
	    DstPort		    1
	  }
	}
	Annotation {
	  Position		  [672, 812]
	  ForegroundColor	  "red"
	  Text			  "NOTE: Rear speed terminated for now, May ne"
"ed to take the min/max of front/rear (tm:020703)"
	}
      }
    }
    Annotation {
      Position		      [81, 26]
      ForegroundColor	      "blue"
      BackgroundColor	      "yellow"
      Text		      "Wheel and Axle:"
      DropShadow	      on
      FontName		      "Arial"
      FontSize		      14
    }
    Annotation {
      Position		      [124, 145]
      Text		      "-----------------------------------------------"
"----------------------"
    }
    Annotation {
      Position		      [49, 164]
      Text		      "sub-models"
    }
  }
}
