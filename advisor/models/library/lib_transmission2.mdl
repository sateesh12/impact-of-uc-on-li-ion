Library {
  Name			  "lib_transmission2"
  Version		  10.1
  SavedCharacterEncoding  "UTF-8"
  LogicAnalyzerPlugin	  "on"
  SLCCPlugin		  "on"
  DiagnosticSuppressor	  "on"
  AnimationPlugin	  "on"
  NotesPlugin		  "on"
  WebScopes_FoundationPlugin "on"
  LibraryType		  "BlockLibrary"
  EnableAccessToBaseWorkspace on
  ScopeRefreshTime	  0.035000
  OverrideScopeRefreshTime on
  DisableAllScopes	  off
  FPTRunName		  "Run 1"
  MaxMDLFileLineLength	  120
  LastSavedArchitecture	  "maci64"
  Object {
    $PropName		    "BdWindowsInfo"
    $ObjectID		    1
    $ClassName		    "Simulink.BDWindowsInfo"
    WindowsInfo		    []
    BDUuid		    ""
  }
  HideAutomaticNames	  on
  Created		  "Tue May 30 16:37:54 2000"
  Creator		  "sateeshk"
  UpdateHistory		  "UpdateHistoryNever"
  ModifiedByFormat	  "%<Auto>"
  LastModifiedBy	  "sateeshk"
  ModifiedDateFormat	  "%<Auto>"
  LastModifiedDate	  "Tue Feb 22 20:39:11 2022"
  RTWModifiedTimeStamp	  0
  ModifiedComment	  "tmarkel -- Fri Sep 20 16:05:52 2002 -- Version 1.102\nmodified Pout/Pin calc block - moved !=0 ch"
  "eck to before bombproof block; value after bombproof is never zero\n\nthere are still some issues with this calculat"
  "ion to be resolved at a later date\n"
  ModifiedHistory	  "tmarkel -- Fri Sep 20 16:05:52 2002 -- Version 1.102\nmodified Pout/Pin calc block - moved !=0 ch"
  "eck to before bombproof block; value after bombproof is never zero\n\nthere are still some issues with this calculat"
  "ion to be resolved at a later date\n\n\ntmarkel -- Fri Sep 20 16:05:52 2002 -- Version 1.102\nmodified Pout/Pin calc"
  " block - moved !=0 check to before bombproof block; value after bombproof is never zero\n\nthere are still some issu"
  "es with this calculation to be resolved at a later date\n\n\ntmarkel -- Fri Sep 20 14:16:55 2002 -- Version 1.101\nc"
  "hanged t loss when tx_eff=0 to be the total torque in request\n\nabrooker -- Fri May 24 14:07:33 2002 -- Version 1.1"
  "00\n\nmokeefe -- Thu Apr 18 08:38:43 2002 -- Version 1.99\nsaving the model:\no \"without the model browser open\"\n"
  "o with only top-level screen visible \no with \"fit to view\" enabled\no with \"status bar\" off and \"toolbar\" off"
  "\no with \"prompt to update model history with each save\" on\n\n"
  ModelVersionFormat	  "1.%<AutoIncrement:285>"
  SampleTimeColors	  off
  SampleTimeAnnotations	  off
  LibraryLinkDisplay	  "all"
  WideLines		  off
  ShowLineDimensions	  off
  ShowPortDataTypes	  off
  ShowAllPropagatedSignalLabels	off
  PortDataTypeDisplayFormat "AliasTypeOnly"
  ShowEditTimeErrors	  on
  ShowEditTimeWarnings	  on
  ShowEditTimeAdvisorChecks off
  ShowPortUnits		  off
  ShowDesignRanges	  off
  ShowLoopsOnError	  on
  IgnoreBidirectionalLines off
  ShowStorageClass	  off
  ShowTestPointIcons	  on
  ShowSignalResolutionIcons on
  ShowViewerIcons	  on
  SortedOrder		  off
  VariantCondition	  off
  ShowLinearizationAnnotations on
  ShowVisualizeInsertedRTB on
  ShowMarkup		  on
  BlockNameDataTip	  on
  BlockParametersDataTip  on
  BlockDescriptionStringDataTip	on
  BlockVariantConditionDataTip off
  ToolBar		  on
  StatusBar		  on
  BrowserShowLibraryLinks off
  FunctionConnectors	  off
  BrowserLookUnderMasks	  on
  MultiThreadCoSim	  "on"
  SimulationMode	  "normal"
  PauseTimes		  "5"
  NumberOfSteps		  1
  SnapshotBufferSize	  10
  SnapshotInterval	  10
  NumberOfLastSnapshots	  0
  LinearizationMsg	  "none"
  Profile		  off
  ParamWorkspaceSource	  "MATLABWorkspace"
  ExtModeBatchMode	  off
  ExtModeEnableFloating	  on
  ExtModeTrigType	  "manual"
  ExtModeTrigMode	  "normal"
  ExtModeTrigPort	  "1"
  ExtModeTrigElement	  "any"
  ExtModeTrigDuration	  1000
  ExtModeTrigDurationFloating "auto"
  ExtModeTrigHoldOff	  0
  ExtModeTrigDelay	  0
  ExtModeTrigDirection	  "rising"
  ExtModeTrigLevel	  0
  ExtModeArchiveMode	  "off"
  ExtModeAutoIncOneShot	  off
  ExtModeIncDirWhenArm	  off
  ExtModeAddSuffixToVar	  off
  ExtModeWriteAllDataToWs off
  ExtModeArmWhenConnect	  on
  ExtModeSkipDownloadWhenConnect off
  ExtModeLogAll		  on
  ExtModeAutoUpdateStatusClock on
  ShowModelReferenceBlockVersion off
  ShowModelReferenceBlockIO off
  OrderedModelArguments	  on
  Array {
    Type		    "Handle"
    Dimension		    1
    Simulink.ConfigSet {
      $ObjectID		      2
      Version		      "20.0.1"
      DisabledProps	      []
      Description	      ""
      Array {
	Type			"Handle"
	Dimension		9
	Simulink.SolverCC {
	  $ObjectID		  3
	  Version		  "20.0.1"
	  DisabledProps		  []
	  Description		  ""
	  Components		  []
	  StartTime		  "0.0"
	  StopTime		  "10.0"
	  AbsTol		  "auto"
	  AutoScaleAbsTol	  on
	  FixedStep		  "auto"
	  InitialStep		  "auto"
	  MaxOrder		  5
	  ZcThreshold		  "auto"
	  ConsecutiveZCsStepRelTol "10*128*eps"
	  MaxConsecutiveZCs	  "1000"
	  ExtrapolationOrder	  4
	  NumberNewtonIterations  1
	  MaxStep		  "auto"
	  MinStep		  "auto"
	  MaxConsecutiveMinStep	  "1"
	  RelTol		  "1e-3"
	  EnableMultiTasking	  off
	  ConcurrentTasks	  off
	  Solver		  "VariableStepAuto"
	  SolverName		  "VariableStepAuto"
	  SolverJacobianMethodControl "auto"
	  ShapePreserveControl	  "DisableAll"
	  ZeroCrossControl	  "UseLocalSettings"
	  ZeroCrossAlgorithm	  "Nonadaptive"
	  AlgebraicLoopSolver	  "TrustRegion"
	  SolverInfoToggleStatus  off
	  IsAutoAppliedInSIP	  off
	  SolverResetMethod	  "Fast"
	  PositivePriorityOrder	  off
	  AutoInsertRateTranBlk	  off
	  SampleTimeConstraint	  "Unconstrained"
	  InsertRTBMode		  "Whenever possible"
	  SampleTimeProperty	  []
	  DecoupledContinuousIntegration off
	  MinimalZcImpactIntegration off
	  ODENIntegrationMethod	  "ode3"
	}
	Simulink.DataIOCC {
	  $ObjectID		  4
	  Version		  "20.0.1"
	  DisabledProps		  []
	  Description		  ""
	  Components		  []
	  Decimation		  "1"
	  ExternalInput		  "[t, u]"
	  FinalStateName	  "xFinal"
	  InitialState		  "xInitial"
	  LimitDataPoints	  off
	  MaxDataPoints		  "1000"
	  LoadExternalInput	  off
	  LoadInitialState	  off
	  SaveFinalState	  off
	  SaveOperatingPoint	  off
	  SaveFormat		  "Array"
	  SignalLoggingSaveFormat "ModelDataLogs"
	  SaveOutput		  on
	  SaveState		  off
	  SignalLogging		  on
	  DSMLogging		  on
	  InspectSignalLogs	  off
	  VisualizeSimOutput	  on
	  StreamToWorkspace	  off
	  StreamVariableName	  "streamout"
	  SaveTime		  on
	  ReturnWorkspaceOutputs  off
	  StateSaveName		  "xout"
	  TimeSaveName		  "tout"
	  OutputSaveName	  "yout"
	  SignalLoggingName	  "logsout"
	  DSMLoggingName	  "dsmout"
	  OutputOption		  "RefineOutputTimes"
	  OutputTimes		  "[]"
	  ReturnWorkspaceOutputsName "out"
	  Refine		  "1"
	  LoggingToFile		  off
	  DatasetSignalFormat	  "timeseries"
	  LoggingFileName	  "out.mat"
	  LoggingIntervals	  "[-inf, inf]"
	}
	Simulink.OptimizationCC {
	  $ObjectID		  5
	  Version		  "20.0.1"
	  Array {
	    Type		    "Cell"
	    Dimension		    9
	    Cell		    "BooleansAsBitfields"
	    Cell		    "PassReuseOutputArgsAs"
	    Cell		    "PassReuseOutputArgsThreshold"
	    Cell		    "ZeroExternalMemoryAtStartup"
	    Cell		    "ZeroInternalMemoryAtStartup"
	    Cell		    "OptimizeModelRefInitCode"
	    Cell		    "NoFixptDivByZeroProtection"
	    Cell		    "UseSpecifiedMinMax"
	    Cell		    "EfficientTunableParamExpr"
	    PropName		    "DisabledProps"
	  }
	  Description		  ""
	  Components		  []
	  BlockReduction	  off
	  BooleanDataType	  off
	  ConditionallyExecuteInputs on
	  DefaultParameterBehavior "Tunable"
	  UseDivisionForNetSlopeComputation "off"
	  GainParamInheritBuiltInType off
	  UseFloatMulNetSlope	  off
	  DefaultUnderspecifiedDataType	"double"
	  UseSpecifiedMinMax	  off
	  InlineInvariantSignals  off
	  OptimizeBlockIOStorage  on
	  BufferReuse		  on
	  EnhancedBackFolding	  off
	  CachingGlobalReferences off
	  GlobalBufferReuse	  on
	  StrengthReduction	  off
	  AdvancedOptControl	  ""
	  ExpressionFolding	  on
	  BooleansAsBitfields	  off
	  BitfieldContainerType	  "uint_T"
	  BitwiseOrLogicalOp	  "Same as modeled"
	  EnableMemcpy		  on
	  MemcpyThreshold	  64
	  PassReuseOutputArgsAs	  "Structure reference"
	  PassReuseOutputArgsThreshold 12
	  ExpressionDepthLimit	  128
	  LocalBlockOutputs	  on
	  RollThreshold		  5
	  StateBitsets		  off
	  DataBitsets		  off
	  ActiveStateOutputEnumStorageType "Native Integer"
	  ZeroExternalMemoryAtStartup on
	  ZeroInternalMemoryAtStartup on
	  InitFltsAndDblsToZero	  off
	  NoFixptDivByZeroProtection off
	  EfficientFloat2IntCast  off
	  EfficientMapNaN2IntZero on
	  LifeSpan		  "auto"
	  MaxStackSize		  "Inherit from target"
	  BufferReusableBoundary  on
	  SimCompilerOptimization "off"
	  AccelVerboseBuild	  off
	  OptimizeBlockOrder	  "off"
	  OptimizeDataStoreBuffers on
	  BusAssignmentInplaceUpdate on
	  DifferentSizesBufferReuse off
	  UseRowMajorAlgorithm	  off
	  OptimizationLevel	  "level2"
	  OptimizationPriority	  "Balanced"
	  OptimizationCustomize	  on
	  LabelGuidedReuse	  off
	  MultiThreadedLoops	  off
	  DenormalBehavior	  "GradualUnderflow"
	  EfficientTunableParamExpr off
	}
	Simulink.DebuggingCC {
	  $ObjectID		  6
	  Version		  "20.0.1"
	  Array {
	    Type		    "Cell"
	    Dimension		    1
	    Cell		    "UseOnlyExistingSharedCode"
	    PropName		    "DisabledProps"
	  }
	  Description		  ""
	  Components		  []
	  RTPrefix		  "error"
	  ConsistencyChecking	  "none"
	  ArrayBoundsChecking	  "none"
	  SignalInfNanChecking	  "none"
	  StringTruncationChecking "error"
	  SignalRangeChecking	  "none"
	  ReadBeforeWriteMsg	  "UseLocalSettings"
	  WriteAfterWriteMsg	  "UseLocalSettings"
	  WriteAfterReadMsg	  "UseLocalSettings"
	  AlgebraicLoopMsg	  "warning"
	  ArtificialAlgebraicLoopMsg "warning"
	  SaveWithDisabledLinksMsg "warning"
	  SaveWithParameterizedLinksMsg	"none"
	  CheckSSInitialOutputMsg on
	  UnderspecifiedInitializationDetection	"Classic"
	  MergeDetectMultiDrivingBlocksExec "none"
	  CheckExecutionContextPreStartOutputMsg off
	  CheckExecutionContextRuntimeOutputMsg	off
	  SignalResolutionControl "TryResolveAllWithWarning"
	  BlockPriorityViolationMsg "warning"
	  MinStepSizeMsg	  "warning"
	  TimeAdjustmentMsg	  "none"
	  MaxConsecutiveZCsMsg	  "error"
	  MaskedZcDiagnostic	  "warning"
	  IgnoredZcDiagnostic	  "warning"
	  SolverPrmCheckMsg	  "none"
	  InheritedTsInSrcMsg	  "warning"
	  MultiTaskDSMMsg	  "warning"
	  MultiTaskCondExecSysMsg "none"
	  MultiTaskRateTransMsg	  "error"
	  SingleTaskRateTransMsg  "none"
	  TasksWithSamePriorityMsg "warning"
	  ExportedTasksRateTransMsg "none"
	  SigSpecEnsureSampleTimeMsg "warning"
	  CheckMatrixSingularityMsg "none"
	  IntegerOverflowMsg	  "warning"
	  Int32ToFloatConvMsg	  "warning"
	  ParameterDowncastMsg	  "error"
	  ParameterOverflowMsg	  "error"
	  ParameterUnderflowMsg	  "none"
	  ParameterPrecisionLossMsg "warning"
	  ParameterTunabilityLossMsg "warning"
	  FixptConstUnderflowMsg  "none"
	  FixptConstOverflowMsg	  "none"
	  FixptConstPrecisionLossMsg "none"
	  UnderSpecifiedDataTypeMsg "none"
	  UnnecessaryDatatypeConvMsg "none"
	  VectorMatrixConversionMsg "none"
	  FcnCallInpInsideContextMsg "error"
	  SignalLabelMismatchMsg  "none"
	  UnconnectedInputMsg	  "warning"
	  UnconnectedOutputMsg	  "warning"
	  UnconnectedLineMsg	  "warning"
	  UseOnlyExistingSharedCode "error"
	  SFcnCompatibilityMsg	  "none"
	  FrameProcessingCompatibilityMsg "error"
	  UniqueDataStoreMsg	  "none"
	  BusObjectLabelMismatch  "warning"
	  RootOutportRequireBusObject "warning"
	  AssertControl		  "UseLocalSettings"
	  AllowSymbolicDim	  on
	  RowMajorDimensionSupport off
	  ModelReferenceIOMsg	  "none"
	  ModelReferenceMultiInstanceNormalModeStructChecksumCheck "error"
	  ModelReferenceVersionMismatchMessage "none"
	  ModelReferenceIOMismatchMessage "none"
	  UnknownTsInhSupMsg	  "warning"
	  ModelReferenceDataLoggingMessage "warning"
	  ModelReferenceSymbolNameMessage "warning"
	  ModelReferenceExtraNoncontSigs "error"
	  StateNameClashWarn	  "none"
	  OperatingPointInterfaceChecksumMismatchMsg "warning"
	  NonCurrentReleaseOperatingPointMsg "error"
	  ChecksumConsistencyForSSReuse	"none"
	  PregeneratedLibrarySubsystemCodeDiagnostic "warning"
	  MatchCodeGenerationContextForUpdateDiagram "none"
	  InitInArrayFormatMsg	  "warning"
	  StrictBusMsg		  "ErrorLevel1"
	  BusNameAdapt		  "WarnAndRepair"
	  NonBusSignalsTreatedAsBus "none"
	  SymbolicDimMinMaxWarning "warning"
	  LossOfSymbolicDimsSimulationWarning "warning"
	  LossOfSymbolicDimsCodeGenerationWarning "error"
	  SymbolicDimsDataTypeCodeGenerationDiagnostic "error"
	  BlockIODiagnostic	  "none"
	  SFUnusedDataAndEventsDiag "warning"
	  SFUnexpectedBacktrackingDiag "error"
	  SFInvalidInputDataAccessInChartInitDiag "warning"
	  SFNoUnconditionalDefaultTransitionDiag "error"
	  SFTransitionOutsideNaturalParentDiag "warning"
	  SFUnreachableExecutionPathDiag "warning"
	  SFUndirectedBroadcastEventsDiag "warning"
	  SFTransitionActionBeforeConditionDiag	"warning"
	  SFOutputUsedAsStateInMooreChartDiag "error"
	  SFTemporalDelaySmallerThanSampleTimeDiag "warning"
	  SFSelfTransitionDiag	  "warning"
	  SFExecutionAtInitializationDiag "warning"
	  SFMachineParentedDataDiag "warning"
	  IntegerSaturationMsg	  "warning"
	  AllowedUnitSystems	  "all"
	  UnitsInconsistencyMsg	  "warning"
	  AllowAutomaticUnitConversions	on
	  RCSCRenamedMsg	  "warning"
	  RCSCObservableMsg	  "warning"
	  ForceCombineOutputUpdateInSim	off
	  UnitDatabase		  ""
	  UnderSpecifiedDimensionMsg "none"
	  DebugExecutionForFMUViaOutOfProcess off
	  ArithmeticOperatorsInVariantConditions "error"
	}
	Simulink.HardwareCC {
	  $ObjectID		  7
	  Version		  "20.0.1"
	  DisabledProps		  []
	  Description		  ""
	  Components		  []
	  ProdBitPerChar	  8
	  ProdBitPerShort	  16
	  ProdBitPerInt		  32
	  ProdBitPerLong	  32
	  ProdBitPerLongLong	  64
	  ProdBitPerFloat	  32
	  ProdBitPerDouble	  64
	  ProdBitPerPointer	  64
	  ProdBitPerSizeT	  64
	  ProdBitPerPtrDiffT	  64
	  ProdLargestAtomicInteger "Char"
	  ProdLargestAtomicFloat  "Float"
	  ProdIntDivRoundTo	  "Zero"
	  ProdEndianess		  "LittleEndian"
	  ProdWordSize		  64
	  ProdShiftRightIntArith  on
	  ProdLongLongMode	  off
	  ProdHWDeviceType	  "Intel->x86-64 (Windows64)"
	  TargetBitPerChar	  8
	  TargetBitPerShort	  16
	  TargetBitPerInt	  32
	  TargetBitPerLong	  32
	  TargetBitPerLongLong	  64
	  TargetBitPerFloat	  32
	  TargetBitPerDouble	  64
	  TargetBitPerPointer	  32
	  TargetBitPerSizeT	  32
	  TargetBitPerPtrDiffT	  32
	  TargetLargestAtomicInteger "Char"
	  TargetLargestAtomicFloat "None"
	  TargetShiftRightIntArith on
	  TargetLongLongMode	  off
	  TargetIntDivRoundTo	  "Undefined"
	  TargetEndianess	  "Unspecified"
	  TargetWordSize	  32
	  TargetPreprocMaxBitsSint 32
	  TargetPreprocMaxBitsUint 32
	  TargetHWDeviceType	  "Specified"
	  TargetUnknown		  on
	  ProdEqTarget		  on
	  UseEmbeddedCoderFeatures on
	  UseSimulinkCoderFeatures on
	  HardwareBoardFeatureSet "EmbeddedCoderHSP"
	}
	Simulink.ModelReferenceCC {
	  $ObjectID		  8
	  Version		  "20.0.1"
	  DisabledProps		  []
	  Description		  ""
	  Components		  []
	  UpdateModelReferenceTargets "IfOutOfDateOrStructuralChange"
	  EnableRefExpFcnMdlSchedulingChecks on
	  CheckModelReferenceTargetMessage "error"
	  EnableParallelModelReferenceBuilds off
	  ParallelModelReferenceErrorOnInvalidPool on
	  ParallelModelReferenceMATLABWorkerInit "None"
	  ModelReferenceNumInstancesAllowed "Multi"
	  PropagateVarSize	  "Infer from blocks in model"
	  ModelDependencies	  ""
	  ModelReferencePassRootInputsByReference on
	  ModelReferenceMinAlgLoopOccurrences off
	  PropagateSignalLabelsOutOfModel off
	  SupportModelReferenceSimTargetCustomCode off
	}
	Simulink.SFSimCC {
	  $ObjectID		  9
	  Version		  "20.0.1"
	  DisabledProps		  []
	  Description		  ""
	  Components		  []
	  SimCustomSourceCode	  ""
	  SimCustomHeaderCode	  ""
	  SimCustomInitializer	  ""
	  SimCustomTerminator	  ""
	  SimReservedNameArray	  []
	  SimUserSources	  ""
	  SimUserIncludeDirs	  ""
	  SimUserLibraries	  ""
	  SimUserDefines	  ""
	  SimCustomCompilerFlags  ""
	  SimCustomLinkerFlags	  ""
	  SFSimEcho		  on
	  SimCtrlC		  on
	  SimIntegrity		  on
	  SimUseLocalCustomCode	  on
	  SimParseCustomCode	  on
	  SimAnalyzeCustomCode	  off
	  SimBuildMode		  "sf_incremental_build"
	  SimGenImportedTypeDefs  off
	  ModelFunctionsGlobalVisibility "on"
	  CompileTimeRecursionLimit 50
	  EnableRuntimeRecursion  on
	  MATLABDynamicMemAlloc	  on
	  MATLABDynamicMemAllocThreshold 65536
	  CustomCodeFunctionArrayLayout	[]
	  DefaultCustomCodeFunctionArrayLayout "NotSpecified"
	  CustomCodeUndefinedFunction "FilterOut"
	}
	Simulink.RTWCC {
	  $BackupClass		  "Simulink.RTWCC"
	  $ObjectID		  10
	  Version		  "20.0.1"
	  Array {
	    Type		    "Cell"
	    Dimension		    16
	    Cell		    "IncludeHyperlinkInReport"
	    Cell		    "GenerateTraceInfo"
	    Cell		    "GenerateTraceReport"
	    Cell		    "GenerateTraceReportSl"
	    Cell		    "GenerateTraceReportSf"
	    Cell		    "GenerateTraceReportEml"
	    Cell		    "PortableWordSizes"
	    Cell		    "GenerateWebview"
	    Cell		    "GenerateCodeMetricsReport"
	    Cell		    "GenerateCodeReplacementReport"
	    Cell		    "GenerateMissedCodeReplacementReport"
	    Cell		    "GenerateErtSFunction"
	    Cell		    "CreateSILPILBlock"
	    Cell		    "CodeExecutionProfiling"
	    Cell		    "CodeProfilingSaveOptions"
	    Cell		    "CodeProfilingInstrumentation"
	    PropName		    "DisabledProps"
	  }
	  Description		  ""
	  SystemTargetFile	  "grt.tlc"
	  HardwareBoard		  "None"
	  ShowCustomHardwareApp	  off
	  ShowEmbeddedHardwareApp off
	  TLCOptions		  ""
	  GenCodeOnly		  off
	  MakeCommand		  "make_rtw"
	  GenerateMakefile	  on
	  PackageGeneratedCodeAndArtifacts off
	  PackageName		  ""
	  TemplateMakefile	  "grt_default_tmf"
	  PostCodeGenCommand	  ""
	  GenerateReport	  off
	  RTWVerbose		  on
	  RetainRTWFile		  off
	  RTWBuildHooks		  []
	  ProfileTLC		  off
	  TLCDebug		  off
	  TLCCoverage		  off
	  TLCAssert		  off
	  RTWUseLocalCustomCode	  on
	  RTWUseSimCustomCode	  off
	  CustomSourceCode	  ""
	  CustomHeaderCode	  ""
	  CustomInclude		  ""
	  CustomSource		  ""
	  CustomLibrary		  ""
	  CustomDefine		  ""
	  CustomBLASCallback	  ""
	  CustomLAPACKCallback	  ""
	  CustomFFTCallback	  ""
	  CustomInitializer	  ""
	  CustomTerminator	  ""
	  Toolchain		  "Automatically locate an installed toolchain"
	  BuildConfiguration	  "Faster Builds"
	  CustomToolchainOptions  []
	  IncludeHyperlinkInReport off
	  LaunchReport		  off
	  PortableWordSizes	  off
	  CreateSILPILBlock	  "None"
	  CodeExecutionProfiling  off
	  CodeExecutionProfileVariable "executionProfile"
	  CodeProfilingSaveOptions "SummaryOnly"
	  CodeProfilingInstrumentation "off"
	  SILDebugging		  off
	  TargetLang		  "C"
	  IncludeBusHierarchyInRTWFileBlockHierarchyMap	off
	  GenerateTraceInfo	  off
	  GenerateTraceReport	  off
	  GenerateTraceReportSl	  off
	  GenerateTraceReportSf	  off
	  GenerateTraceReportEml  off
	  GenerateWebview	  off
	  GenerateCodeMetricsReport off
	  GenerateCodeReplacementReport	off
	  GenerateMissedCodeReplacementReport off
	  RTWCompilerOptimization "off"
	  ObjectivePriorities	  []
	  RTWCustomCompilerOptimizations ""
	  CheckMdlBeforeBuild	  "Off"
	  SharedConstantsCachingThreshold 1024
	  Array {
	    Type		    "Handle"
	    Dimension		    2
	    Simulink.CodeAppCC {
	      $ObjectID		      11
	      Version		      "20.0.1"
	      Array {
		Type			"Cell"
		Dimension		28
		Cell			"IgnoreCustomStorageClasses"
		Cell			"IgnoreTestpoints"
		Cell			"BlockCommentType"
		Cell			"InsertBlockDesc"
		Cell			"InsertPolySpaceComments"
		Cell			"SFDataObjDesc"
		Cell			"MATLABFcnDesc"
		Cell			"SimulinkDataObjDesc"
		Cell			"DefineNamingRule"
		Cell			"SignalNamingRule"
		Cell			"ParamNamingRule"
		Cell			"InternalIdentifier"
		Cell			"InlinedPrmAccess"
		Cell			"CustomSymbolStr"
		Cell			"CustomSymbolStrGlobalVar"
		Cell			"CustomSymbolStrType"
		Cell			"CustomSymbolStrField"
		Cell			"CustomSymbolStrFcn"
		Cell			"CustomSymbolStrModelFcn"
		Cell			"CustomSymbolStrFcnArg"
		Cell			"CustomSymbolStrBlkIO"
		Cell			"CustomSymbolStrTmpVar"
		Cell			"CustomSymbolStrMacro"
		Cell			"CustomSymbolStrUtil"
		Cell			"CustomSymbolStrEmxType"
		Cell			"CustomSymbolStrEmxFcn"
		Cell			"CustomUserTokenString"
		Cell			"ReqsInCode"
		PropName		"DisabledProps"
	      }
	      Description	      ""
	      Components	      []
	      Comment		      ""
	      ForceParamTrailComments off
	      GenerateComments	      on
	      CommentStyle	      "Auto"
	      IgnoreCustomStorageClasses on
	      IgnoreTestpoints	      off
	      MaxIdLength	      31
	      PreserveName	      off
	      PreserveNameWithParent  off
	      ShowEliminatedStatement off
	      OperatorAnnotations     off
	      SimulinkDataObjDesc     off
	      SFDataObjDesc	      off
	      MATLABFcnDesc	      off
	      MangleLength	      1
	      SharedChecksumLength    8
	      CustomSymbolStrGlobalVar "$R$N$M"
	      CustomSymbolStrType     "$N$R$M_T"
	      CustomSymbolStrField    "$N$M"
	      CustomSymbolStrFcn      "$R$N$M$F"
	      CustomSymbolStrModelFcn "$R$N"
	      CustomSymbolStrFcnArg   "rt$I$N$M"
	      CustomSymbolStrBlkIO    "rtb_$N$M"
	      CustomSymbolStrTmpVar   "$N$M"
	      CustomSymbolStrMacro    "$R$N$M"
	      CustomSymbolStrUtil     "$N$C"
	      CustomSymbolStrEmxType  "emxArray_$M$N"
	      CustomSymbolStrEmxFcn   "emx$M$N"
	      CustomUserTokenString   ""
	      CustomCommentsFcn	      ""
	      DefineNamingRule	      "None"
	      DefineNamingFcn	      ""
	      ParamNamingRule	      "None"
	      ParamNamingFcn	      ""
	      SignalNamingRule	      "None"
	      SignalNamingFcn	      ""
	      InsertBlockDesc	      off
	      InsertPolySpaceComments off
	      SimulinkBlockComments   on
	      BlockCommentType	      "BlockPathComment"
	      StateflowObjectComments off
	      MATLABSourceComments    off
	      EnableCustomComments    off
	      InternalIdentifierFile  ""
	      InternalIdentifier      "Shortened"
	      InlinedPrmAccess	      "Literals"
	      ReqsInCode	      off
	      UseSimReservedNames     off
	      ReservedNameArray	      []
	      EnumMemberNameClash     "error"
	    }
	    Simulink.GRTTargetCC {
	      $BackupClass	      "Simulink.TargetCC"
	      $ObjectID		      12
	      Version		      "20.0.1"
	      Array {
		Type			"Cell"
		Dimension		16
		Cell			"IncludeMdlTerminateFcn"
		Cell			"SuppressErrorStatus"
		Cell			"ERTCustomFileBanners"
		Cell			"GenerateSampleERTMain"
		Cell			"ExistingSharedCode"
		Cell			"GenerateTestInterfaces"
		Cell			"ModelStepFunctionPrototypeControlCompliant"
		Cell			"GenerateAllocFcn"
		Cell			"PurelyIntegerCode"
		Cell			"SupportComplex"
		Cell			"SupportAbsoluteTime"
		Cell			"SupportContinuousTime"
		Cell			"SupportNonInlinedSFcns"
		Cell			"RemoveDisableFunc"
		Cell			"RemoveResetFunc"
		Cell			"PreserveStateflowLocalDataDimensions"
		PropName		"DisabledProps"
	      }
	      Description	      ""
	      Components	      []
	      TargetFcnLib	      "ansi_tfl_table_tmw.mat"
	      TargetLibSuffix	      ""
	      TargetPreCompLibLocation ""
	      GenFloatMathFcnCalls    "NOT IN USE"
	      TargetLangStandard      "C99 (ISO)"
	      CodeReplacementLibrary  "None"
	      UtilityFuncGeneration   "Auto"
	      MultiwordTypeDef	      "System defined"
	      MultiwordLength	      2048
	      DynamicStringBufferSize 256
	      GenerateFullHeader      on
	      InferredTypesCompatibility off
	      ExistingSharedCode      ""
	      GenerateSampleERTMain   off
	      GenerateTestInterfaces  off
	      ModelReferenceCompliant on
	      ParMdlRefBuildCompliant on
	      CompOptLevelCompliant   on
	      ConcurrentExecutionCompliant on
	      IncludeMdlTerminateFcn  on
	      CombineOutputUpdateFcns on
	      CombineSignalStateStructs	off
	      GroupInternalDataByFunction off
	      SuppressErrorStatus     off
	      IncludeFileDelimiter    "Auto"
	      ERTCustomFileBanners    off
	      SupportAbsoluteTime     on
	      LogVarNameModifier      "rt_"
	      MatFileLogging	      on
	      MultiInstanceERTCode    off
	      CodeInterfacePackaging  "Nonreusable function"
	      PurelyIntegerCode	      off
	      SupportNonFinite	      on
	      SupportComplex	      on
	      SupportContinuousTime   on
	      SupportNonInlinedSFcns  on
	      RemoveDisableFunc	      off
	      RemoveResetFunc	      off
	      SupportVariableSizeSignals off
	      ParenthesesLevel	      "Nominal"
	      CastingMode	      "Nominal"
	      MATLABClassNameForMDSCustomization "Simulink.SoftwareTarget.GRTCustomization"
	      ModelStepFunctionPrototypeControlCompliant off
	      CPPClassGenCompliant    on
	      AutosarCompliant	      off
	      MDXCompliant	      off
	      GRTInterface	      off
	      GenerateAllocFcn	      off
	      UseToolchainInfoCompliant	on
	      GenerateSharedConstants on
	      CoderGroups	      []
	      AccessMethods	      []
	      LookupTableObjectStructAxisOrder "1,2,3,4,..."
	      LUTObjectStructOrderExplicitValues "Size,Breakpoints,Table"
	      LUTObjectStructOrderEvenSpacing "Size,Breakpoints,Table"
	      ArrayLayout	      "Column-major"
	      UnsupportedSFcnMsg      "error"
	      ERTHeaderFileRootName   "$R$E"
	      ERTSourceFileRootName   "$R$E"
	      ERTDataFileRootName     "$R_data"
	      UseMalloc		      off
	      ExtMode		      off
	      ExtModeStaticAlloc      off
	      ExtModeTesting	      off
	      ExtModeStaticAllocSize  1000000
	      ExtModeTransport	      0
	      ExtModeMexFile	      "ext_comm"
	      ExtModeMexArgs	      ""
	      ExtModeIntrfLevel	      "Level1"
	      RTWCAPISignals	      off
	      RTWCAPIParams	      off
	      RTWCAPIStates	      off
	      RTWCAPIRootIO	      off
	      GenerateASAP2	      off
	      MultiInstanceErrorCode  "Error"
	    }
	    PropName		    "Components"
	  }
	}
	SlCovCC.ConfigComp {
	  $ObjectID		  13
	  Version		  "20.0.1"
	  DisabledProps		  []
	  Description		  "Simulink Coverage Configuration Component"
	  Components		  []
	  Name			  "Simulink Coverage"
	  CovEnable		  off
	  CovScope		  "EntireSystem"
	  CovIncludeTopModel	  on
	  RecordCoverage	  off
	  CovPath		  "/"
	  CovSaveName		  "covdata"
	  CovCompData		  ""
	  CovMetricSettings	  "dw"
	  CovFilter		  ""
	  CovHTMLOptions	  ""
	  CovNameIncrementing	  off
	  CovHtmlReporting	  on
	  CovForceBlockReductionOff on
	  CovEnableCumulative	  on
	  CovSaveCumulativeToWorkspaceVar off
	  CovSaveSingleToWorkspaceVar off
	  CovCumulativeVarName	  "covCumulativeData"
	  CovCumulativeReport	  off
	  CovSaveOutputData	  on
	  CovOutputDir		  "slcov_output/$ModelName$"
	  CovDataFileName	  "$ModelName$_cvdata"
	  CovShowResultsExplorer  on
	  CovReportOnPause	  on
	  CovModelRefEnable	  "off"
	  CovModelRefExcluded	  ""
	  CovExternalEMLEnable	  on
	  CovSFcnEnable		  on
	  CovBoundaryAbsTol	  1e-05
	  CovBoundaryRelTol	  0.01
	  CovUseTimeInterval	  off
	  CovStartTime		  0
	  CovStopTime		  0
	  CovMcdcMode		  "Masking"
	}
	PropName		"Components"
      }
      Name		      "Configuration"
      CurrentDlgPage	      "Solver"
      ConfigPrmDlgPosition    [ 0, 0, 0, 0 ]
      ExtraOptions	      ""
    }
    PropName		    "ConfigurationSets"
  }
  ExplicitPartitioning	  off
  BlockDefaults {
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    NameLocation	    "bottom"
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    ShowName		    on
    HideAutomaticName	    on
    BlockRotation	    0
    BlockMirror		    off
  }
  AnnotationDefaults {
    HorizontalAlignment	    "center"
    VerticalAlignment	    "middle"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    MarkupType		    "model"
    UseDisplayTextAsClickCallback off
    AnnotationType	    "note_annotation"
    FixedHeight		    off
    FixedWidth		    off
    Interpreter		    "off"
  }
  LineDefaults {
    FontName		    "Helvetica"
    FontSize		    9
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  MaskDefaults {
    SelfModifiable	    "off"
    IconFrame		    "on"
    IconOpaque		    "opaque"
    RunInitForIconRedraw    "analyze"
    IconRotate		    "none"
    PortRotate		    "default"
    IconUnits		    "autoscale"
  }
  MaskParameterDefaults {
    Evaluate		    "on"
    Tunable		    "on"
    NeverSave		    "off"
    Internal		    "off"
    ReadOnly		    "off"
    Enabled		    "on"
    Visible		    "on"
    ToolTip		    "on"
  }
  BlockParameterDefaults {
    Block {
      BlockType		      Abs
      ZeroCross		      on
      SampleTime	      "-1"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: Same as input"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
    }
    Block {
      BlockType		      BusCreator
      DisplayOption	      "none"
      OutDataTypeStr	      "Inherit: auto"
      NonVirtualBus	      off
    }
    Block {
      BlockType		      BusSelector
      OutputAsBus	      off
    }
    Block {
      BlockType		      Clock
      DisplayTime	      off
      Decimation	      "10"
    }
    Block {
      BlockType		      Constant
      Value		      "1"
      VectorParams1D	      on
      SamplingMode	      "Sample based"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: Inherit from 'Constant value'"
      LockScale		      off
      SampleTime	      "inf"
      FramePeriod	      "inf"
      PreserveConstantTs      off
    }
    Block {
      BlockType		      Demux
      Outputs		      "4"
      DisplayOption	      "bar"
      BusSelectionMode	      off
    }
    Block {
      BlockType		      Derivative
      CoefficientInTFapproximation "inf"
    }
    Block {
      BlockType		      Fcn
      Expr		      "sin(u[1])"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      From
      GotoTag		      "A"
      IconDisplay	      "Tag"
      TagVisibility	      "local"
    }
    Block {
      BlockType		      Gain
      Gain		      "1"
      Multiplication	      "Element-wise(K.*u)"
      ParamMin		      "[]"
      ParamMax		      "[]"
      ParamDataTypeStr	      "Inherit: Inherit via internal rule"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: Inherit via internal rule"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	off
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Goto
      GotoTag		      "A"
      IconDisplay	      "Tag"
      TagVisibility	      "local"
    }
    Block {
      BlockType		      GotoTagVisibility
      GotoTag		      "A"
    }
    Block {
      BlockType		      Ground
    }
    Block {
      BlockType		      InitialCondition
      Value		      "1"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Inport
      Port		      "1"
      IconDisplay	      "Port number"
      OutputFunctionCall      off
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: auto"
      LockScale		      off
      BusOutputAsStruct	      off
      Unit		      "inherit"
      PortDimensions	      "-1"
      VarSizeSig	      "Inherit"
      SampleTime	      "-1"
      SignalType	      "auto"
      SamplingMode	      "auto"
      LatchByDelayingOutsideSignal off
      LatchInputForFeedbackSignals off
      Interpolate	      on
    }
    Block {
      BlockType		      Logic
      Operator		      "AND"
      Inputs		      "2"
      IconShape		      "rectangular"
      AllPortsSameDT	      on
      OutDataTypeStr	      "Inherit: Logical (see Configuration Parameters: Optimization)"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Lookup
      InputValues	      "[-4:5]"
      Table		      " rand(1,10)-0.5"
      LookUpMeth	      "Interpolation-Extrapolation"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: Same as input"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
      LUTDesignTableMode      "Redesign Table"
      LUTDesignDataSource     "Block Dialog"
      LUTDesignFunctionName   "sqrt(x)"
      LUTDesignUseExistingBP  on
      LUTDesignRelError	      "0.01"
      LUTDesignAbsError	      "1e-6"
    }
    Block {
      BlockType		      MATLABFcn
      MATLABFcn		      "sin"
      OutputDimensions	      "-1"
      OutputSignalType	      "auto"
      Output1D		      on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Memory
      InitialCondition	      "0"
      InheritSampleTime	      off
      LinearizeMemory	      off
      LinearizeAsDelay	      off
      StateMustResolveToSignalObject off
      RTWStateStorageClass    "Auto"
    }
    Block {
      BlockType		      MinMax
      Function		      "min"
      Inputs		      "1"
      InputSameDT	      off
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: Inherit via internal rule"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	off
      ZeroCross		      on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Mux
      Inputs		      "4"
      DisplayOption	      "none"
      UseBusObject	      off
      BusObject		      "BusObject"
      NonVirtualBus	      off
    }
    Block {
      BlockType		      Outport
      Port		      "1"
      IconDisplay	      "Port number"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: auto"
      LockScale		      off
      BusOutputAsStruct	      off
      Unit		      "inherit"
      PortDimensions	      "-1"
      VarSizeSig	      "Inherit"
      SampleTime	      "-1"
      SignalType	      "auto"
      SamplingMode	      "auto"
      EnsureOutportIsVirtual  off
      SourceOfInitialOutputValue "Dialog"
      OutputWhenDisabled      "held"
      InitialOutput	      "[]"
      MustResolveToSignalObject	off
      OutputWhenUnConnected   off
      OutputWhenUnconnectedValue "0"
      VectorParamsAs1DForOutWhenUnconnected on
    }
    Block {
      BlockType		      Product
      Inputs		      "2"
      Multiplication	      "Element-wise(.*)"
      CollapseMode	      "All dimensions"
      CollapseDim	      "1"
      InputSameDT	      off
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: Inherit via internal rule"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	off
      SampleTime	      "-1"
    }
    Block {
      BlockType		      RateLimiter
      RisingSlewLimit	      "1"
      FallingSlewLimit	      "-1"
      SampleTimeMode	      "continuous"
      InitialCondition	      "0"
      LinearizeAsGain	      on
    }
    Block {
      BlockType		      RelationalOperator
      Operator		      ">="
      InputSameDT	      on
      OutDataTypeStr	      "Inherit: Logical (see Configuration Parameters: Optimization)"
      ZeroCross		      on
      SampleTime	      "-1"
      RndMeth		      "Nearest"
    }
    Block {
      BlockType		      Rounding
      Operator		      "floor"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      S-Function
      FunctionName	      "system"
      SFunctionModules	      "''"
      PortCounts	      "[]"
      MultiThreadCoSim	      "auto"
    }
    Block {
      BlockType		      Saturate
      UpperLimit	      "0.5"
      LowerLimit	      "-0.5"
      LinearizeAsGain	      on
      ZeroCross		      on
      SampleTime	      "-1"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: Same as input"
      LockScale		      off
      RndMeth		      "Floor"
    }
    Block {
      BlockType		      Selector
      NumberOfDimensions      "1"
      IndexMode		      "One-based"
      InputPortWidth	      "-1"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      SubSystem
      ShowPortLabels	      "FromPortIcon"
      Permissions	      "ReadWrite"
      PermitHierarchicalResolution "All"
      TreatAsAtomicUnit	      off
      MinAlgLoopOccurrences   off
      ScheduleAs	      "Sample time"
      SystemSampleTime	      "-1"
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      FunctionInterfaceSpec   "void_void"
      FunctionWithSeparateData off
      MatchGraphicalInterface off
      RTWMemSecFuncInitTerm   "Inherit from model"
      RTWMemSecFuncExecute    "Inherit from model"
      RTWMemSecDataConstants  "Inherit from model"
      RTWMemSecDataInternal   "Inherit from model"
      RTWMemSecDataParameters "Inherit from model"
      SimViewingDevice	      off
      ActiveForDiff	      off
      DataTypeOverride	      "UseLocalSettings"
      DataTypeOverrideAppliesTo	"AllNumericTypes"
      MinMaxOverflowLogging   "UseLocalSettings"
      Opaque		      off
      MaskHideContents	      off
      SFBlockType	      "NONE"
      Variant		      off
      VariantControlMode      "Expression"
      GeneratePreprocessorConditionals off
      AllowZeroVariantControls off
      PropagateVariantConditions off
      TreatAsGroupedWhenPropagatingVariantConditions on
      ContentPreviewEnabled   off
      IsWebBlock	      off
      IsInjectorSS	      off
      Latency		      "0"
      AutoFrameSizeCalculation off
      IsWebBlockPanel	      off
    }
    Block {
      BlockType		      Sum
      IconShape		      "round"
      Inputs		      "++"
      CollapseMode	      "All dimensions"
      CollapseDim	      "1"
      InputSameDT	      off
      AccumDataTypeStr	      "Inherit: Inherit via internal rule"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: Inherit via internal rule"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	off
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Switch
      Criteria		      "u2 >= Threshold"
      Threshold		      "0"
      InputSameDT	      on
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: Inherit via internal rule"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      ZeroCross		      on
      SampleTime	      "-1"
      AllowDiffInputSizes     off
    }
    Block {
      BlockType		      Terminator
    }
    Block {
      BlockType		      ToWorkspace
      VariableName	      "simulink_output"
      MaxDataPoints	      "1000"
      Decimation	      "1"
      SaveFormat	      "Array"
      Save2DSignal	      "3-D array (concatenate along third dimension)"
      FixptAsFi		      off
      NumInputs		      "1"
      SampleTime	      "0"
    }
  }
  System {
    Name		    "lib_transmission2"
    Location		    [8, 44, 1013, 897]
    Open		    off
    PortBlocksUseCompactNotation off
    SetExecutionDomain	    off
    ExecutionDomainType	    "Deduce"
    ModelBrowserVisibility  on
    ModelBrowserWidth	    196
    ScreenColor		    "automatic"
    PaperOrientation	    "landscape"
    PaperPositionMode	    "auto"
    PaperType		    "usletter"
    PaperUnits		    "inches"
    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
    TiledPageScale	    1
    ShowPageBoundaries	    off
    ZoomFactor		    "106"
    ReportName		    "simulink-default.rpt"
    SIDHighWatermark	    "2562"
    SimulinkSubDomain	    "Simulink"
    Block {
      BlockType		      SubSystem
      Name		      "Clutch Control"
      SID		      "1"
      Ports		      []
      Position		      [430, 134, 485, 195]
      ZOrder		      -1
      BackgroundColor	      "yellow"
      DropShadow	      on
      RequestExecContextInheritance off
      System {
	Name			"Clutch Control"
	Location		[164, 44, 968, 897]
	Open			off
	PortBlocksUseCompactNotation off
	SetExecutionDomain	off
	ExecutionDomainType	"Deduce"
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"automatic"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	SimulinkSubDomain	"Simulink"
	Block {
	  BlockType		  SubSystem
	  Name			  "Clutch Control"
	  SID			  "2"
	  Ports			  []
	  Position		  [125, 54, 180, 115]
	  ZOrder		  -1
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  RequestExecContextInheritance	off
	  System {
	    Name		    "Clutch Control"
	    Location		    [176, 44, 1028, 889]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      SID		      "3"
	      Ports		      [3, 1]
	      Position		      [785, 92, 800, 518]
	      ZOrder		      -1
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	      InheritFromInputs	      on
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector"
	      SID		      "4"
	      Ports		      [1, 1]
	      Position		      [270, 316, 275, 354]
	      ZOrder		      -2
	      ShowName		      off
	      OutputSignals	      "mpha"
	      Port {
		PortNumber		1
		Name			"<mpha>"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector1"
	      SID		      "5"
	      Ports		      [1, 1]
	      Position		      [200, 56, 210, 94]
	      ZOrder		      -3
	      ShowName		      off
	      OutputSignals	      "shifting"
	      Port {
		PortNumber		1
		Name			"<shifting>"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector2"
	      SID		      "6"
	      Ports		      [1, 1]
	      Position		      [200, 120, 210, 160]
	      ZOrder		      -4
	      ShowName		      off
	      OutputSignals	      "gb_spd_in_a"
	      Port {
		PortNumber		1
		Name			"<gb_spd_in_a>"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector3"
	      SID		      "7"
	      Ports		      [1, 1]
	      Position		      [200, 187, 210, 223]
	      ZOrder		      -5
	      ShowName		      off
	      OutputSignals	      "clutch_trq_out_r"
	      Port {
		PortNumber		1
		Name			"<clutch_trq_out_r>"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector4"
	      SID		      "8"
	      Ports		      [1, 1]
	      Position		      [200, 248, 210, 292]
	      ZOrder		      -6
	      ShowName		      off
	      OutputSignals	      "clutch_spd_out_r"
	      Port {
		PortNumber		1
		Name			"<clutch_spd_out_r>"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector5"
	      SID		      "9"
	      Ports		      [1, 1]
	      Position		      [270, 381, 275, 419]
	      ZOrder		      -7
	      ShowName		      off
	      OutputSignals	      "veh_spd_a_rec"
	      Port {
		PortNumber		1
		Name			"<veh_spd_a_rec>"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector6"
	      SID		      "10"
	      Ports		      [1, 1]
	      Position		      [270, 446, 275, 484]
	      ZOrder		      -8
	      ShowName		      off
	      OutputSignals	      "cycle_mph_r"
	      Port {
		PortNumber		1
		Name			"<cycle_mph_r>"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector7"
	      SID		      "11"
	      Ports		      [1, 1]
	      Position		      [270, 511, 275, 549]
	      ZOrder		      -9
	      ShowName		      off
	      OutputSignals	      "v_ave_req"
	      Port {
		PortNumber		1
		Name			"<v_ave_req>"
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Clutch Control"
	      SID		      "12"
	      Ports		      [8, 3]
	      Position		      [475, 42, 685, 563]
	      ZOrder		      -10
	      BackgroundColor	      "yellow"
	      DropShadow	      on
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      Port {
		PortNumber		1
		Name			"clutch_state"
		PropagatedSignals	"clutch_state"
	      }
	      Port {
		PortNumber		2
		Name			"launch_speed"
		PropagatedSignals	"launch_speed"
	      }
	      Port {
		PortNumber		3
		Name			"launch_flag"
		PropagatedSignals	"launch_flag"
	      }
	      System {
		Name			"Clutch Control"
		Location		[176, 44, 1028, 889]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "shifting"
		  SID			  "13"
		  Position		  [200, 298, 230, 312]
		  ZOrder		  -1
		}
		Block {
		  BlockType		  Inport
		  Name			  "gb_spd_in_a"
		  SID			  "14"
		  Position		  [200, 333, 230, 347]
		  ZOrder		  -2
		  Port			  "2"
		}
		Block {
		  BlockType		  Inport
		  Name			  "T_cl_out"
		  SID			  "15"
		  Position		  [200, 373, 230, 387]
		  ZOrder		  -3
		  Port			  "3"
		}
		Block {
		  BlockType		  Inport
		  Name			  "w_cl_out"
		  SID			  "16"
		  Position		  [200, 408, 230, 422]
		  ZOrder		  -4
		  Port			  "4"
		}
		Block {
		  BlockType		  Inport
		  Name			  "mpha"
		  SID			  "17"
		  Position		  [200, 448, 230, 462]
		  ZOrder		  -5
		  Port			  "5"
		}
		Block {
		  BlockType		  Inport
		  Name			  "veh_spd_a_rec"
		  SID			  "18"
		  Position		  [200, 483, 230, 497]
		  ZOrder		  -6
		  Port			  "6"
		}
		Block {
		  BlockType		  Inport
		  Name			  "cyc_mph_r"
		  SID			  "19"
		  Position		  [200, 518, 230, 532]
		  ZOrder		  -7
		  Port			  "7"
		}
		Block {
		  BlockType		  Inport
		  Name			  "v_ave_req"
		  SID			  "20"
		  Position		  [200, 558, 230, 572]
		  ZOrder		  -8
		  Port			  "8"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  SID			  "21"
		  Position		  [425, 95, 505, 115]
		  ZOrder		  -9
		  NameLocation		  "top"
		  ShowName		  off
		  Value			  "vc_launch_spd"
		  Port {
		    PortNumber		    1
		    Name		    "launch_speed"
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant4"
		  SID			  "22"
		  Position		  [285, 150, 305, 170]
		  ZOrder		  -10
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant5"
		  SID			  "23"
		  Position		  [290, 220, 310, 240]
		  ZOrder		  -11
		  NameLocation		  "top"
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  From
		  Name			  "From <gb>4"
		  SID			  "24"
		  Position		  [45, 60, 140, 80]
		  ZOrder		  -12
		  NameLocation		  "top"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "T_cl_out"
		}
		Block {
		  BlockType		  From
		  Name			  "From <gb>5"
		  SID			  "25"
		  Position		  [45, 85, 140, 105]
		  ZOrder		  -13
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "w_cl_out"
		}
		Block {
		  BlockType		  From
		  Name			  "From <gb>6"
		  SID			  "26"
		  Position		  [215, 125, 310, 145]
		  ZOrder		  -14
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "v_ave_req"
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc> gb cntrol1"
		  SID			  "27"
		  Position		  [45, 37, 130, 53]
		  ZOrder		  -15
		  NameLocation		  "top"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "shifting"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility1"
		  SID			  "28"
		  Position		  [395, 402, 512, 429]
		  ZOrder		  -16
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "w_cl_out"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility2"
		  SID			  "29"
		  Position		  [395, 477, 512, 504]
		  ZOrder		  -17
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "veh_spd_a_rec"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility3"
		  SID			  "30"
		  Position		  [395, 442, 512, 469]
		  ZOrder		  -18
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "mpha"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility4"
		  SID			  "31"
		  Position		  [395, 512, 512, 539]
		  ZOrder		  -19
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "cyc_mph_r"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility5"
		  SID			  "32"
		  Position		  [395, 552, 512, 579]
		  ZOrder		  -20
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "v_ave_req"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility6"
		  SID			  "33"
		  Position		  [395, 327, 512, 354]
		  ZOrder		  -21
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_spd_in_a"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility7"
		  SID			  "34"
		  Position		  [395, 367, 512, 394]
		  ZOrder		  -22
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "T_cl_out"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility8"
		  SID			  "35"
		  Position		  [395, 292, 512, 319]
		  ZOrder		  -23
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "shifting"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto11"
		  SID			  "36"
		  Position		  [255, 292, 385, 318]
		  ZOrder		  -24
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "shifting"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto3"
		  SID			  "37"
		  Position		  [255, 402, 385, 428]
		  ZOrder		  -25
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "w_cl_out"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto4"
		  SID			  "38"
		  Position		  [255, 477, 385, 503]
		  ZOrder		  -26
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "veh_spd_a_rec"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto5"
		  SID			  "39"
		  Position		  [255, 442, 385, 468]
		  ZOrder		  -27
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "mpha"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto6"
		  SID			  "40"
		  Position		  [255, 512, 385, 538]
		  ZOrder		  -28
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "cyc_mph_r"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto7"
		  SID			  "41"
		  Position		  [255, 552, 385, 578]
		  ZOrder		  -29
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "v_ave_req"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto8"
		  SID			  "42"
		  Position		  [255, 327, 385, 353]
		  ZOrder		  -30
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_spd_in_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto9"
		  SID			  "43"
		  Position		  [255, 367, 385, 393]
		  ZOrder		  -31
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "T_cl_out"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator8"
		  SID			  "44"
		  Ports			  [2, 1]
		  Position		  [435, 137, 465, 173]
		  ZOrder		  -32
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "launch_flag"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "clutch\ncontrol"
		  SID			  "45"
		  Ports			  [3, 1]
		  Position		  [175, 33, 210, 107]
		  ZOrder		  -33
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  Port {
		    PortNumber		    1
		    Name		    "clutch_state"
		  }
		  System {
		    Name		    "clutch\ncontrol"
		    Location		    [31, 82, 916, 710]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "shifting"
		    SID			    "46"
		    Position		    [30, 43, 60, 57]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_trq_in_r"
		    SID			    "47"
		    Position		    [30, 83, 60, 97]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_spd_in_r"
		    SID			    "48"
		    Position		    [25, 193, 55, 207]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    SID			    "49"
		    Ports		    []
		    Position		    [775, 395, 831, 435]
		    ZOrder		    -4
		    BackgroundColor	    "green"
		    ShowName		    off
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    14
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		    }
		    System {
		    Name		    "Block NOTES"
		    Location		    [269, 703, 767, 1043]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "50"
		    Name		    "This clutch control block determines the clutch state given the req'd clutch output torque \nand spee"
		    "d (labelled as gearbox input torque and speed), and the gear number history.\n                          conditio"
		    "ns                                                                       clutch state\ngear is being shifted OR "
		    "(trq <~ 0 AND (engine is                                     1 == disengaged\nclutched to avoid compression brak"
		    "ing OR spd < idle))                                                              \n\n(trq >~ 0) AND (spd < launc"
		    "h speed) AND clutch                                       2 == slipping     \nwas not engaged during previous ti"
		    "me step                                                                 \n\nneither of above sets of conditions "
		    "are met                                          3 == engaged"
		    Position		    [227, 12, 640, 114]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "51"
		    Position		    [155, 108, 190, 132]
		    ZOrder		    -5
		    Value		    "1e-3"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "52"
		    Position		    [155, 149, 235, 171]
		    ZOrder		    -6
		    Value		    "vc_clutch_bool"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    "53"
		    Position		    [155, 214, 235, 236]
		    ZOrder		    -7
		    Value		    "vc_idle_spd"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    SID			    "54"
		    Position		    [155, 280, 190, 300]
		    ZOrder		    -8
		    Value		    "1e-3"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant4"
		    SID			    "55"
		    Position		    [155, 344, 235, 366]
		    ZOrder		    -9
		    Value		    "vc_launch_spd"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant5"
		    SID			    "56"
		    Position		    [580, 380, 615, 400]
		    ZOrder		    -10
		    BlockMirror		    on
		    Value		    "2.5"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn:\n1 if clutch disengaged\n2 if clutch slipping\n3 if clutch engaged"
		    SID			    "57"
		    Position		    [670, 135, 730, 165]
		    ZOrder		    -11
		    Expr		    "u[1]+2*u[2]*(1-u[1])*(1-u[3])+3*u[3]*(1-u[1])"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    SID			    "58"
		    Ports		    [2, 1]
		    Position		    [390, 92, 420, 123]
		    ZOrder		    -12
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    SID			    "59"
		    Ports		    [2, 1]
		    Position		    [325, 152, 355, 183]
		    ZOrder		    -13
		    Operator		    "OR"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "60"
		    Position		    [580, 325, 610, 355]
		    ZOrder		    -14
		    BlockMirror		    on
		    InitialCondition	    "1+(2*(cyc_mph(1,2)>0))"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    SID			    "61"
		    Ports		    [3, 1]
		    Position		    [600, 132, 635, 168]
		    ZOrder		    -15
		    Inputs		    "3"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "62"
		    Ports		    [2, 1]
		    Position		    [310, 82, 340, 113]
		    ZOrder		    -16
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    SID			    "63"
		    Ports		    [2, 1]
		    Position		    [270, 202, 300, 233]
		    ZOrder		    -17
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    SID			    "64"
		    Ports		    [2, 1]
		    Position		    [270, 267, 300, 298]
		    ZOrder		    -18
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator3"
		    SID			    "65"
		    Ports		    [2, 1]
		    Position		    [270, 332, 300, 363]
		    ZOrder		    -19
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "clutch\ndisengaged"
		    SID			    "66"
		    Ports		    [2, 1]
		    Position		    [460, 42, 490, 73]
		    ZOrder		    -20
		    Operator		    "OR"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "clutch\nengaged"
		    SID			    "67"
		    Ports		    [2, 1]
		    Position		    [530, 142, 560, 173]
		    ZOrder		    -21
		    Operator		    "NOR"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "clutch\nslipping"
		    SID			    "68"
		    Ports		    [3, 1]
		    Position		    [390, 279, 420, 311]
		    ZOrder		    -22
		    Inputs		    "3"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "clutch was NOT\nfully engaged\nduring last time step"
		    SID			    "69"
		    Ports		    [2, 1]
		    Position		    [470, 330, 505, 365]
		    ZOrder		    -23
		    BlockMirror		    on
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "gearbox speed\nestimator"
		    SID			    "70"
		    Ports		    [1, 1]
		    Position		    [85, 185, 115, 215]
		    ZOrder		    -24
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "gearbox speed\nestimator"
		    Location		    [184, 99, 812, 786]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "gb_spd_in_r\nif no gear change"
		    SID			    "71"
		    Position		    [45, 18, 75, 32]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    SID			    "72"
		    Ports		    []
		    Position		    [515, 345, 571, 385]
		    ZOrder		    -2
		    BackgroundColor	    "green"
		    ShowName		    off
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    15
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		    }
		    System {
		    Name		    "Block NOTES"
		    Location		    [459, 365, 834, 628]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "73"
		    Name		    "The requested engine speed is replaced by an estimate of the\nengine's previous speed whenever the ve"
		    "hicle missed the trace\n by more than 1 mph on the last time step."
		    Position		    [167, 41, 448, 73]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -1
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "74"
		    Position		    [165, 240, 185, 260]
		    ZOrder		    -3
		    BlockMirror		    on
		    Value		    "eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "75"
		    Position		    [315, 165, 335, 185]
		    ZOrder		    -4
		    BlockMirror		    on
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    "76"
		    Position		    [230, 360, 250, 380]
		    ZOrder		    -5
		    BlockMirror		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    SID			    "77"
		    Position		    [230, 460, 250, 480]
		    ZOrder		    -6
		    BlockMirror		    on
		    Value		    "0.11"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    SID			    "78"
		    Position		    [195, 40, 285, 70]
		    ZOrder		    -7
		    BlockMirror		    on
		    BackgroundColor	    "lightBlue"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gb_spd_in_a"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <cyc>"
		    SID			    "79"
		    Position		    [30, 304, 120, 336]
		    ZOrder		    -8
		    BackgroundColor	    "lightBlue"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "cyc_mph_r"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <veh>"
		    SID			    "80"
		    Position		    [30, 99, 85, 131]
		    ZOrder		    -9
		    BackgroundColor	    "lightBlue"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "mpha"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <wh>/\ntire slip model (m/s)"
		    SID			    "81"
		    Position		    [30, 184, 120, 216]
		    ZOrder		    -10
		    BackgroundColor	    "lightBlue"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "veh_spd_a_rec"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    SID			    "82"
		    Position		    [150, 97, 190, 133]
		    ZOrder		    -11
		    Gain		    "0.447"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    InitialCondition
		    Name		    "IC"
		    SID			    "83"
		    Position		    [370, 110, 400, 140]
		    ZOrder		    -12
		    Value		    "cyc_mph(1,2)*0.447/wh_radius*fd_ratio*gb_ratio(gb_num_init)"
		    }
		    Block {
		    BlockType		    InitialCondition
		    Name		    "IC1"
		    SID			    "84"
		    Position		    [300, 310, 330, 340]
		    ZOrder		    -13
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical"
		    SID			    "85"
		    Ports		    [2, 1]
		    Position		    [375, 317, 405, 348]
		    ZOrder		    -14
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "86"
		    Ports		    [3, 1]
		    Position		    [215, 99, 245, 131]
		    ZOrder		    -15
		    Inputs		    "**/"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational"
		    SID			    "87"
		    Ports		    [2, 1]
		    Position		    [225, 307, 255, 338]
		    ZOrder		    -16
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational1"
		    SID			    "88"
		    Ports		    [2, 1]
		    Position		    [225, 412, 255, 443]
		    ZOrder		    -17
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    "89"
		    Ports		    [2, 1]
		    Position		    [160, 192, 190, 223]
		    ZOrder		    -18
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    SID			    "90"
		    Ports		    [2, 1]
		    Position		    [160, 297, 190, 328]
		    ZOrder		    -19
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "91"
		    Position		    [310, 110, 340, 140]
		    ZOrder		    -20
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    SID			    "92"
		    Position		    [445, 120, 475, 150]
		    ZOrder		    -21
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    SID			    "93"
		    Ports		    [0, 1]
		    Position		    [165, 408, 185, 432]
		    ZOrder		    -22
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "dt"
		    Location		    [202, 441, 482, 723]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    SID			    "94"
		    Position		    [25, 25, 45, 45]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    SID			    "95"
		    Position		    [75, 53, 105, 77]
		    ZOrder		    -2
		    InitialCondition	    "-1"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum4"
		    SID			    "96"
		    Ports		    [2, 1]
		    Position		    [130, 27, 160, 58]
		    ZOrder		    -3
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    SID			    "97"
		    Position		    [185, 38, 215, 52]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    ZOrder		    2
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    3
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Sum4"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Sum4"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    SID			    "98"
		    Position		    [545, 128, 575, 142]
		    ZOrder		    -23
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "dt"
		    SrcPort		    1
		    DstBlock		    "Relational1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Logical"
		    SrcPort		    1
		    Points		    [10, 0; 0, -200]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "IC1"
		    SrcPort		    1
		    DstBlock		    "Logical"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Relational1"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "Logical"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "From"
		    SrcPort		    1
		    Points		    [0, 50]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "gb_spd_in_r\nif no gear change"
		    SrcPort		    1
		    Points		    [350, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "IC"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "Relational"
		    SrcPort		    1
		    DstBlock		    "IC1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Relational"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    13
		    SrcBlock		    "From <veh>"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    ZOrder		    14
		    Points		    [0, 190]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    15
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    "From <cyc>"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    17
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    18
		    SrcBlock		    "IC"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    19
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    20
		    Labels		    [1, 0]
		    SrcBlock		    "From <wh>/\ntire slip model (m/s)"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    ZOrder		    21
		    Points		    [0, -25; 155, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    22
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    23
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    24
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Product"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    25
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "clutch\nstate"
		    SID			    "99"
		    Position		    [795, 143, 825, 157]
		    ZOrder		    -25
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "gearbox speed\nestimator"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    2
		    Points		    [0, 140]
		    DstBlock		    "Relational\nOperator3"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    3
		    Points		    [105, 0; 0, 10]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "gb_spd_in_r"
		    SrcPort		    1
		    DstBlock		    "gearbox speed\nestimator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "shifting"
		    SrcPort		    1
		    DstBlock		    "clutch\ndisengaged"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    Points		    [15, 0; 0, -45]
		    DstBlock		    "clutch\ndisengaged"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "gb_trq_in_r"
		    SrcPort		    1
		    Points		    [80, 0]
		    Branch {
		    ZOrder		    8
		    Points		    [0, 185]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    9
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [90, 0; 0, -15]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    13
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "clutch was NOT\nfully engaged\nduring last time step"
		    SrcPort		    1
		    Points		    [-105, 0; 0, -45]
		    DstBlock		    "clutch\nslipping"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    "Constant5"
		    SrcPort		    1
		    Points		    [-30, 0; 0, -35]
		    DstBlock		    "clutch was NOT\nfully engaged\nduring last time step"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "clutch was NOT\nfully engaged\nduring last time step"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    17
		    SrcBlock		    "Relational\nOperator3"
		    SrcPort		    1
		    Points		    [30, 0; 0, -55]
		    DstBlock		    "clutch\nslipping"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    18
		    SrcBlock		    "Constant4"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator3"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    19
		    SrcBlock		    "clutch\nslipping"
		    SrcPort		    1
		    Points		    [80, 0; 0, -95]
		    Branch {
		    ZOrder		    20
		    Points		    [80, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    21
		    Points		    [0, -35]
		    DstBlock		    "clutch\nengaged"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    22
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    DstBlock		    "clutch\nslipping"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    23
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    24
		    SrcBlock		    "Fcn:\n1 if clutch disengaged\n2 if clutch slipping\n3 if clutch engaged"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    ZOrder		    25
		    Points		    [0, 190]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    26
		    DstBlock		    "clutch\nstate"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    27
		    SrcBlock		    "clutch\ndisengaged"
		    SrcPort		    1
		    Points		    [10, 0; 0, 40]
		    Branch {
		    ZOrder		    28
		    Points		    [80, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    29
		    Points		    [0, 50]
		    DstBlock		    "clutch\nengaged"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    30
		    SrcBlock		    "clutch\nengaged"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    31
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "Fcn:\n1 if clutch disengaged\n2 if clutch slipping\n3 if clutch engaged"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    32
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    33
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "moving next\ntime"
		  SID			  "100"
		  Ports			  [2, 1]
		  Position		  [335, 207, 365, 238]
		  ZOrder		  -34
		  Operator		  ">"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "not\nmoving"
		  SID			  "101"
		  Ports			  [2, 1]
		  Position		  [340, 127, 370, 158]
		  ZOrder		  -35
		  Operator		  "=="
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "repeated cycle:\n speed required at\nend of NEXT step"
		  SID			  "102"
		  Ports			  [0, 1]
		  Position		  [220, 197, 255, 233]
		  ZOrder		  -36
		  FontName		  "Arial"
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    16
		    $ClassName		    "Simulink.Mask"
		    Type		    "Forward looking repeating table"
		    Description		    "Forward looking repeating table.\nEnter values of time and output for first cycle."
		    Help		    "Repeats cycle given in table with a one time step forward offset. Time values should be monotonically"
		    " increasing."
		    Initialization	    "period = max(t);"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    2
		    Object {
		    $ObjectID		    17
		    Type		    "edit"
		    Name		    "t"
		    Prompt		    "Time values:"
		    Value		    "cyc_mph(:,1)"
		    }
		    Object {
		    $ObjectID		    18
		    Type		    "edit"
		    Name		    "y"
		    Prompt		    "Output values:"
		    Value		    "cyc_mph(:,2)"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "repeated cycle:\n speed required at\nend of NEXT step"
		    Location		    [21, 44, 436, 384]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    SID			    "103"
		    Position		    [45, 60, 65, 80]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    SID			    "104"
		    Position		    [110, 25, 150, 45]
		    ZOrder		    -2
		    Expr		    "rem(u[1],period)"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up Table"
		    SID			    "105"
		    Position		    [260, 33, 300, 57]
		    ZOrder		    -3
		    InputValues		    "t"
		    Table		    "y"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "106"
		    Position		    [90, 85, 120, 115]
		    ZOrder		    -4
		    InitialCondition	    "-0.1"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    "107"
		    Ports		    [2, 1]
		    Position		    [150, 62, 180, 93]
		    ZOrder		    -5
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    SID			    "108"
		    Ports		    [2, 1]
		    Position		    [205, 26, 235, 59]
		    ZOrder		    -6
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "109"
		    Position		    [335, 35, 355, 55]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    ZOrder		    2
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    3
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    4
		    Points		    [0, -35]
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [5, 0; 0, -15]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Look-Up Table"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Look-Up Table"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "clutch_state"
		  SID			  "110"
		  Position		  [625, 60, 645, 80]
		  ZOrder		  -37
		  FontName		  "Arial"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "launch_speed"
		  SID			  "111"
		  Position		  [625, 95, 645, 115]
		  ZOrder		  -38
		  FontName		  "Arial"
		  Port			  "2"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "launch_flag"
		  SID			  "112"
		  Position		  [625, 145, 645, 165]
		  ZOrder		  -39
		  FontName		  "Arial"
		  Port			  "3"
		  InitialOutput		  "0"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "veh_spd_a_rec"
		  SrcPort		  1
		  DstBlock		  "Goto4"
		  DstPort		  1
		}
		Line {
		  ZOrder		  2
		  SrcBlock		  "T_cl_out"
		  SrcPort		  1
		  DstBlock		  "Goto9"
		  DstPort		  1
		}
		Line {
		  ZOrder		  3
		  SrcBlock		  "shifting"
		  SrcPort		  1
		  DstBlock		  "Goto11"
		  DstPort		  1
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "gb_spd_in_a"
		  SrcPort		  1
		  DstBlock		  "Goto8"
		  DstPort		  1
		}
		Line {
		  ZOrder		  5
		  SrcBlock		  "v_ave_req"
		  SrcPort		  1
		  DstBlock		  "Goto7"
		  DstPort		  1
		}
		Line {
		  ZOrder		  6
		  SrcBlock		  "cyc_mph_r"
		  SrcPort		  1
		  DstBlock		  "Goto6"
		  DstPort		  1
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  "mpha"
		  SrcPort		  1
		  DstBlock		  "Goto5"
		  DstPort		  1
		}
		Line {
		  ZOrder		  8
		  SrcBlock		  "w_cl_out"
		  SrcPort		  1
		  DstBlock		  "Goto3"
		  DstPort		  1
		}
		Line {
		  Name			  "launch_speed"
		  ZOrder		  9
		  Labels		  [0, 0]
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  DstBlock		  "launch_speed"
		  DstPort		  1
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  "not\nmoving"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator8"
		  DstPort		  1
		}
		Line {
		  Name			  "launch_flag"
		  ZOrder		  11
		  Labels		  [0, 0]
		  SrcBlock		  "Logical\nOperator8"
		  SrcPort		  1
		  DstBlock		  "launch_flag"
		  DstPort		  1
		}
		Line {
		  ZOrder		  12
		  SrcBlock		  "Constant4"
		  SrcPort		  1
		  Points		  [10, 0; 0, -10]
		  DstBlock		  "not\nmoving"
		  DstPort		  2
		}
		Line {
		  ZOrder		  13
		  SrcBlock		  "From <gb>6"
		  SrcPort		  1
		  DstBlock		  "not\nmoving"
		  DstPort		  1
		}
		Line {
		  ZOrder		  14
		  SrcBlock		  "repeated cycle:\n speed required at\nend of NEXT step"
		  SrcPort		  1
		  DstBlock		  "moving next\ntime"
		  DstPort		  1
		}
		Line {
		  ZOrder		  15
		  SrcBlock		  "Constant5"
		  SrcPort		  1
		  DstBlock		  "moving next\ntime"
		  DstPort		  2
		}
		Line {
		  ZOrder		  16
		  SrcBlock		  "moving next\ntime"
		  SrcPort		  1
		  Points		  [50, 0]
		  DstBlock		  "Logical\nOperator8"
		  DstPort		  2
		}
		Line {
		  Name			  "clutch_state"
		  ZOrder		  17
		  Labels		  [0, 0]
		  SrcBlock		  "clutch\ncontrol"
		  SrcPort		  1
		  DstBlock		  "clutch_state"
		  DstPort		  1
		}
		Line {
		  ZOrder		  18
		  SrcBlock		  "From <gb>5"
		  SrcPort		  1
		  DstBlock		  "clutch\ncontrol"
		  DstPort		  3
		}
		Line {
		  ZOrder		  19
		  SrcBlock		  "From <gb>4"
		  SrcPort		  1
		  DstBlock		  "clutch\ncontrol"
		  DstPort		  2
		}
		Line {
		  ZOrder		  20
		  SrcBlock		  "From <vc> gb cntrol1"
		  SrcPort		  1
		  DstBlock		  "clutch\ncontrol"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From10"
	      SID		      "113"
	      Position		      [45, 57, 170, 93]
	      ZOrder		      -11
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbControl"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From11"
	      SID		      "114"
	      Position		      [45, 122, 170, 158]
	      ZOrder		      -12
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From13"
	      SID		      "115"
	      Position		      [45, 217, 170, 253]
	      ZOrder		      -13
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "clReqOut"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      SID		      "116"
	      Position		      [835, 284, 935, 326]
	      ZOrder		      -14
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "clControl"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory1"
	      SID		      "117"
	      Position		      [345, 130, 360, 150]
	      ZOrder		      -15
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory2"
	      SID		      "118"
	      Position		      [350, 325, 365, 345]
	      ZOrder		      -16
	      ShowName		      off
	      InitialCondition	      "cyc_mph(1,2)"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory3"
	      SID		      "119"
	      Position		      [350, 390, 365, 410]
	      ZOrder		      -17
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory4"
	      SID		      "120"
	      Position		      [350, 455, 365, 475]
	      ZOrder		      -18
	      ShowName		      off
	      InitialCondition	      "cyc_mph(1,2)"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag1"
	      SID		      "121"
	      Position		      [45, 316, 255, 354]
	      ZOrder		      -19
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag2"
	      SID		      "122"
	      Position		      [45, 381, 255, 419]
	      ZOrder		      -20
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag3"
	      SID		      "123"
	      Position		      [45, 446, 255, 484]
	      ZOrder		      -21
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "cycReqOut"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag4"
	      SID		      "124"
	      Position		      [45, 511, 255, 549]
	      ZOrder		      -22
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehReqOut"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "Memory4"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      7
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "Memory3"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      6
	    }
	    Line {
	      ZOrder		      3
	      SrcBlock		      "Memory2"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      5
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "Memory1"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      2
	    }
	    Line {
	      Name		      "launch_flag"
	      ZOrder		      5
	      Labels		      [0, 0]
	      SrcBlock		      "Clutch Control"
	      SrcPort		      3
	      Points		      [80, 0]
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "<clutch_spd_out_r>"
	      ZOrder		      6
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector4"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      4
	    }
	    Line {
	      Name		      "<clutch_trq_out_r>"
	      ZOrder		      7
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector3"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "From13"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		ZOrder			9
		Points			[0, 35]
		DstBlock		"Bus\nSelector4"
		DstPort			1
	      }
	      Branch {
		ZOrder			10
		Points			[0, -30]
		DstBlock		"Bus\nSelector3"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "<gb_spd_in_a>"
	      ZOrder		      11
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector2"
	      SrcPort		      1
	      DstBlock		      "Memory1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      12
	      SrcBlock		      "From11"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<shifting>"
	      ZOrder		      13
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector1"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      14
	      SrcBlock		      "From10"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "launch_speed"
	      ZOrder		      15
	      Labels		      [0, 0]
	      SrcBlock		      "Clutch Control"
	      SrcPort		      2
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "clutch_state"
	      ZOrder		      16
	      Labels		      [0, 0]
	      SrcBlock		      "Clutch Control"
	      SrcPort		      1
	      Points		      [80, 0]
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      17
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      18
	      SrcBlock		      "controlTag1"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<mpha>"
	      ZOrder		      19
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector"
	      SrcPort		      1
	      DstBlock		      "Memory2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      20
	      SrcBlock		      "controlTag2"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector5"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<veh_spd_a_rec>"
	      ZOrder		      21
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector5"
	      SrcPort		      1
	      DstBlock		      "Memory3"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      22
	      SrcBlock		      "controlTag3"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector6"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<cycle_mph_r>"
	      ZOrder		      23
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector6"
	      SrcPort		      1
	      DstBlock		      "Memory4"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      24
	      SrcBlock		      "controlTag4"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector7"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<v_ave_req>"
	      ZOrder		      25
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector7"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      8
	    }
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Gearbox Control"
      SID		      "125"
      Ports		      []
      Position		      [445, 435, 503, 494]
      ZOrder		      -2
      BackgroundColor	      "yellow"
      DropShadow	      on
      RequestExecContextInheritance off
      System {
	Name			"Gearbox Control"
	Location		[8, 44, 1012, 897]
	Open			off
	PortBlocksUseCompactNotation off
	SetExecutionDomain	off
	ExecutionDomainType	"Deduce"
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"automatic"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	SimulinkSubDomain	"Simulink"
	Block {
	  BlockType		  SubSystem
	  Name			  "Gearbox Control\nmanual shift logic"
	  SID			  "126"
	  Ports			  []
	  Position		  [140, 45, 198, 104]
	  ZOrder		  -1
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  RequestExecContextInheritance	off
	  System {
	    Name		    "Gearbox Control\nmanual shift logic"
	    Location		    [299, 44, 968, 897]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector"
	      SID		      "127"
	      Ports		      [1, 1]
	      Position		      [250, 221, 255, 259]
	      ZOrder		      -1
	      ShowName		      off
	      OutputSignals	      "acc_mech_trq_a"
	      Port {
		PortNumber		1
		Name			"<acc_mech_trq_a>"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector1"
	      SID		      "128"
	      Ports		      [1, 1]
	      Position		      [250, 266, 255, 304]
	      ZOrder		      -2
	      ShowName		      off
	      OutputSignals	      "mpha"
	      Port {
		PortNumber		1
		Name			"<mpha>"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector10"
	      SID		      "129"
	      Ports		      [1, 1]
	      Position		      [180, 41, 185, 79]
	      ZOrder		      -3
	      ShowName		      off
	      OutputSignals	      "eta_gb"
	      Port {
		PortNumber		1
		Name			"<eta_gb>"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector2"
	      SID		      "130"
	      Ports		      [1, 1]
	      Position		      [250, 311, 255, 349]
	      ZOrder		      -4
	      ShowName		      off
	      OutputSignals	      "cycle_mph_r"
	      Port {
		PortNumber		1
		Name			"<cycle_mph_r>"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector3"
	      SID		      "131"
	      Ports		      [1, 1]
	      Position		      [250, 356, 255, 394]
	      ZOrder		      -5
	      ShowName		      off
	      OutputSignals	      "veh_spd_a_rec"
	      Port {
		PortNumber		1
		Name			"<veh_spd_a_rec>"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector4"
	      SID		      "132"
	      Ports		      [1, 1]
	      Position		      [250, 401, 255, 439]
	      ZOrder		      -6
	      ShowName		      off
	      OutputSignals	      "slip_limited"
	      Port {
		PortNumber		1
		Name			"<slip_limited>"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector7"
	      SID		      "133"
	      Ports		      [1, 1]
	      Position		      [180, 176, 185, 214]
	      ZOrder		      -7
	      ShowName		      off
	      OutputSignals	      "gb_trq_out_r"
	      Port {
		PortNumber		1
		Name			"<gb_trq_out_r>"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector8"
	      SID		      "134"
	      Ports		      [1, 1]
	      Position		      [180, 131, 185, 169]
	      ZOrder		      -8
	      ShowName		      off
	      OutputSignals	      "gb_spd_out_r"
	      Port {
		PortNumber		1
		Name			"<gb_spd_out_r>"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector9"
	      SID		      "135"
	      Ports		      [1, 1]
	      Position		      [180, 86, 185, 124]
	      ZOrder		      -9
	      ShowName		      off
	      OutputSignals	      "gb_spd_in_a"
	      Port {
		PortNumber		1
		Name			"<gb_spd_in_a>"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      SID		      "136"
	      Position		      [25, 152, 150, 188]
	      ZOrder		      -10
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbReqOut"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From12"
	      SID		      "137"
	      Position		      [25, 62, 150, 98]
	      ZOrder		      -11
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbSensors"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      SID		      "138"
	      Position		      [725, 219, 825, 261]
	      ZOrder		      -12
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbControl"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory"
	      SID		      "139"
	      Position		      [275, 50, 290, 70]
	      ZOrder		      -13
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory1"
	      SID		      "140"
	      Position		      [275, 95, 290, 115]
	      ZOrder		      -14
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory2"
	      SID		      "141"
	      Position		      [350, 275, 365, 295]
	      ZOrder		      -15
	      ShowName		      off
	      InitialCondition	      "cyc_mph(1,2)"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory3"
	      SID		      "142"
	      Position		      [350, 365, 365, 385]
	      ZOrder		      -16
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory4"
	      SID		      "143"
	      Position		      [350, 320, 365, 340]
	      ZOrder		      -17
	      ShowName		      off
	      InitialCondition	      "cyc_mph(1,2)"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory5"
	      SID		      "144"
	      Position		      [350, 230, 365, 250]
	      ZOrder		      -18
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux1"
	      SID		      "145"
	      Ports		      [3, 1]
	      Position		      [670, 100, 680, 380]
	      ZOrder		      -19
	      BackgroundColor	      "black"
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag1"
	      SID		      "146"
	      Position		      [25, 221, 235, 259]
	      ZOrder		      -20
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "accSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag2"
	      SID		      "147"
	      Position		      [25, 266, 235, 304]
	      ZOrder		      -21
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag3"
	      SID		      "148"
	      Position		      [25, 311, 235, 349]
	      ZOrder		      -22
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "cycReqOut"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag4"
	      SID		      "149"
	      Position		      [25, 356, 235, 394]
	      ZOrder		      -23
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag5"
	      SID		      "150"
	      Position		      [25, 401, 235, 439]
	      ZOrder		      -24
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehReqOut"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "manual shift logic"
	      SID		      "151"
	      Ports		      [9, 3]
	      Position		      [395, 41, 600, 439]
	      ZOrder		      -25
	      BackgroundColor	      "yellow"
	      DropShadow	      on
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      Port {
		PortNumber		1
		Name			"gear_ratio"
	      }
	      Port {
		PortNumber		2
		Name			"shifting"
	      }
	      Port {
		PortNumber		3
		Name			"gear_number"
	      }
	      System {
		Name			"manual shift logic"
		Location		[238, 44, 968, 907]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "eta_gb, t=(i-1)"
		  SID			  "152"
		  Position		  [85, 238, 115, 252]
		  ZOrder		  -1
		}
		Block {
		  BlockType		  Inport
		  Name			  "gb_spd_in_a, t=(i-1)"
		  SID			  "153"
		  Position		  [85, 273, 115, 287]
		  ZOrder		  -2
		  Port			  "2"
		}
		Block {
		  BlockType		  Inport
		  Name			  "w_gb_out"
		  SID			  "154"
		  Position		  [85, 308, 115, 322]
		  ZOrder		  -3
		  Port			  "3"
		}
		Block {
		  BlockType		  Inport
		  Name			  "T_gb_out"
		  SID			  "155"
		  Position		  [85, 343, 115, 357]
		  ZOrder		  -4
		  Port			  "4"
		}
		Block {
		  BlockType		  Inport
		  Name			  "acc_mech_trq_est"
		  SID			  "156"
		  Position		  [85, 378, 115, 392]
		  ZOrder		  -5
		  Port			  "5"
		}
		Block {
		  BlockType		  Inport
		  Name			  "mpha, t=(i-1)"
		  SID			  "157"
		  Position		  [85, 413, 115, 427]
		  ZOrder		  -6
		  Port			  "6"
		}
		Block {
		  BlockType		  Inport
		  Name			  "cyc_mph_r, t=(i-1)"
		  SID			  "158"
		  Position		  [85, 448, 115, 462]
		  ZOrder		  -7
		  Port			  "7"
		}
		Block {
		  BlockType		  Inport
		  Name			  "veh_spd_a_rec, t=(i-1)"
		  SID			  "159"
		  Position		  [85, 483, 115, 497]
		  ZOrder		  -8
		  Port			  "8"
		}
		Block {
		  BlockType		  Inport
		  Name			  "slip_limited"
		  SID			  "160"
		  Position		  [85, 518, 115, 532]
		  ZOrder		  -9
		  Port			  "9"
		}
		Block {
		  BlockType		  From
		  Name			  "From <gb>1"
		  SID			  "161"
		  Position		  [285, 84, 365, 106]
		  ZOrder		  -10
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "w_gb_out"
		}
		Block {
		  BlockType		  From
		  Name			  "From <gb>2"
		  SID			  "162"
		  Position		  [285, 121, 380, 139]
		  ZOrder		  -11
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "eta_gb"
		}
		Block {
		  BlockType		  From
		  Name			  "From traction cntrl"
		  SID			  "163"
		  Position		  [285, 155, 380, 175]
		  ZOrder		  -12
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "slip_limited"
		}
		Block {
		  BlockType		  From
		  Name			  "From<gb>"
		  SID			  "164"
		  Position		  [285, 51, 370, 69]
		  ZOrder		  -13
		  NameLocation		  "top"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "T_gb_out"
		}
		Block {
		  BlockType		  From
		  Name			  "From<gb>1"
		  SID			  "165"
		  Position		  [545, 321, 630, 339]
		  ZOrder		  -14
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "gear_ratio"
		}
		Block {
		  BlockType		  From
		  Name			  "From<gb>2"
		  SID			  "166"
		  Position		  [545, 396, 630, 414]
		  ZOrder		  -15
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "shifting"
		}
		Block {
		  BlockType		  From
		  Name			  "From<gb>3"
		  SID			  "167"
		  Position		  [545, 476, 630, 494]
		  ZOrder		  -16
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "gear_number"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  SID			  "168"
		  Position		  [465, 147, 545, 173]
		  ZOrder		  -17
		  ShowName		  off
		  GotoTag		  "gear_number"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <gb>"
		  SID			  "169"
		  Position		  [455, 60, 540, 80]
		  ZOrder		  -18
		  ShowName		  off
		  GotoTag		  "gear_ratio"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <gb>1"
		  SID			  "170"
		  Position		  [460, 106, 540, 124]
		  ZOrder		  -19
		  ShowName		  off
		  GotoTag		  "shifting"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility1"
		  SID			  "171"
		  Position		  [280, 372, 397, 399]
		  ZOrder		  -20
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "acc_mech_trq_est"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility10"
		  SID			  "172"
		  Position		  [415, 472, 532, 499]
		  ZOrder		  -21
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gear_number"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility11"
		  SID			  "173"
		  Position		  [415, 392, 532, 419]
		  ZOrder		  -22
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "shifting"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility12"
		  SID			  "174"
		  Position		  [415, 317, 532, 344]
		  ZOrder		  -23
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gear_ratio"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility2"
		  SID			  "175"
		  Position		  [280, 407, 397, 434]
		  ZOrder		  -24
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "mpha"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility3"
		  SID			  "176"
		  Position		  [280, 442, 397, 469]
		  ZOrder		  -25
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "cyc_mph_r"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility4"
		  SID			  "177"
		  Position		  [280, 477, 397, 504]
		  ZOrder		  -26
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "veh_spd_a_rec"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility5"
		  SID			  "178"
		  Position		  [280, 267, 397, 294]
		  ZOrder		  -27
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_spd_in_a"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility6"
		  SID			  "179"
		  Position		  [280, 337, 397, 364]
		  ZOrder		  -28
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "T_gb_out"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility7"
		  SID			  "180"
		  Position		  [280, 302, 397, 329]
		  ZOrder		  -29
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "w_gb_out"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility8"
		  SID			  "181"
		  Position		  [280, 232, 397, 259]
		  ZOrder		  -30
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "eta_gb"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility9"
		  SID			  "182"
		  Position		  [280, 512, 397, 539]
		  ZOrder		  -31
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "slip_limited"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto10"
		  SID			  "183"
		  Position		  [140, 512, 270, 538]
		  ZOrder		  -32
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "slip_limited"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto2"
		  SID			  "184"
		  Position		  [140, 372, 270, 398]
		  ZOrder		  -33
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "acc_mech_trq_est"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto3"
		  SID			  "185"
		  Position		  [140, 407, 270, 433]
		  ZOrder		  -34
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "mpha"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto4"
		  SID			  "186"
		  Position		  [140, 442, 270, 468]
		  ZOrder		  -35
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "cyc_mph_r"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto5"
		  SID			  "187"
		  Position		  [140, 477, 270, 503]
		  ZOrder		  -36
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "veh_spd_a_rec"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto6"
		  SID			  "188"
		  Position		  [140, 267, 270, 293]
		  ZOrder		  -37
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_spd_in_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto7"
		  SID			  "189"
		  Position		  [140, 337, 270, 363]
		  ZOrder		  -38
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "T_gb_out"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto8"
		  SID			  "190"
		  Position		  [140, 302, 270, 328]
		  ZOrder		  -39
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "w_gb_out"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto9"
		  SID			  "191"
		  Position		  [140, 232, 270, 258]
		  ZOrder		  -40
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "eta_gb"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearbox\n control"
		  SID			  "192"
		  Ports			  [4, 3]
		  Position		  [395, 41, 430, 184]
		  ZOrder		  -41
		  FontName		  "Arial"
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "gearbox\n control"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "gb_trq_out_r"
		    SID			    "193"
		    Position		    [45, 130, 65, 150]
		    ZOrder		    -1
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_spd_out_r"
		    SID			    "194"
		    Position		    [45, 255, 65, 275]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "prev.\nPout/Pin"
		    SID			    "195"
		    Position		    [45, 20, 65, 40]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "tires are at\ntraction limit"
		    SID			    "196"
		    Position		    [45, 75, 65, 95]
		    ZOrder		    -4
		    FontName		    "Arial"
		    Port		    "4"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    SID			    "197"
		    Ports		    []
		    Position		    [690, 275, 746, 315]
		    ZOrder		    -5
		    BackgroundColor	    "green"
		    ShowName		    off
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    19
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		    }
		    System {
		    Name		    "Block NOTES"
		    Location		    [191, 139, 689, 446]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "198"
		    Name		    "This gearbox control block computes the current gear number given the gearbox's\nreq'd output torque "
		    "and speed and an estimate its efficiency.  Upshifts occur, given a\ncertain engine speed,  when the estimated en"
		    "gine load falls below the upshift curve\nin engine speed/load space, and downshifts likewise occur when estimate"
		    "d engine\nload rises above the downshift curve.  Separate upshift and downshift curves are\ndefined for each gea"
		    "r.  An upshift may not be immediately followed by a downshift.\nIf the tires are about to slip, don't upshift un"
		    "less the engine would be at max. speed.\nEnforce this rule by setting the load to 1 when the tires are about to "
		    "slip."
		    Position		    [227, 12, 600, 94]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "199"
		    Position		    [370, 95, 390, 115]
		    ZOrder		    -6
		    BlockMirror		    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn"
		    SID			    "200"
		    Position		    [155, 20, 185, 40]
		    ZOrder		    -7
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    SID			    "201"
		    Position		    [85, 180, 115, 200]
		    ZOrder		    -8
		    BlockRotation	    270
		    NameLocation	    "right"
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From5"
		    SID			    "202"
		    Position		    [115, 213, 225, 237]
		    ZOrder		    -9
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_trq_est"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain1"
		    SID			    "203"
		    Position		    [530, 242, 555, 268]
		    ZOrder		    -10
		    FontName		    "Arial"
		    Gain		    "-1"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    SID			    "204"
		    Ports		    [2, 1]
		    Position		    [265, 142, 295, 173]
		    ZOrder		    -11
		    Inputs		    "*/"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    SID			    "205"
		    Ports		    [2, 1]
		    Position		    [575, 238, 595, 262]
		    ZOrder		    -12
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RateLimiter
		    Name		    "Rate Limiter"
		    SID			    "206"
		    Position		    [475, 312, 505, 338]
		    ZOrder		    -13
		    BlockMirror		    on
		    RisingSlewLimit	    "1/(gb_shift_delay+eps)"
		    FallingSlewLimit	    "-1/(gb_shift_delay+eps)"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    SID			    "207"
		    Position		    [90, 20, 120, 40]
		    ZOrder		    -14
		    FontName		    "Arial"
		    UpperLimit		    "1"
		    LowerLimit		    "0.2"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    SID			    "208"
		    Position		    [725, 96, 745, 114]
		    ZOrder		    -15
		    FontName		    "Arial"
		    UpperLimit		    "gb_gears_num"
		    LowerLimit		    "1"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "209"
		    Position		    [365, 135, 395, 165]
		    ZOrder		    -16
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "allow downshift?"
		    SID			    "210"
		    Ports		    [1, 1]
		    Position		    [475, 42, 505, 78]
		    ZOrder		    -17
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "allow downshift?"
		    Location		    [292, 147, 821, 540]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gearnum"
		    SID			    "211"
		    Position		    [35, 35, 55, 55]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    SID			    "212"
		    Ports		    [2, 1]
		    Position		    [375, 43, 405, 67]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Operator		    "NOR"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "213"
		    Position		    [145, 60, 180, 80]
		    ZOrder		    -3
		    FontName		    "Arial"
		    InitialCondition	    "1"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    SID			    "214"
		    Position		    [145, 105, 180, 125]
		    ZOrder		    -4
		    FontName		    "Arial"
		    InitialCondition	    "1"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    SID			    "215"
		    Ports		    [2, 1]
		    Position		    [225, 38, 255, 62]
		    ZOrder		    -5
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    SID			    "216"
		    Ports		    [2, 1]
		    Position		    [225, 98, 255, 122]
		    ZOrder		    -6
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "allow shift"
		    SID			    "217"
		    Position		    [445, 45, 465, 65]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "allow shift"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "prev gearnum"
		    SrcPort		    1
		    Points		    [45, 0]
		    Branch {
		    ZOrder		    3
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    4
		    Points		    [0, 25]
		    Branch {
		    ZOrder		    5
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    6
		    Points		    [0, 35]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    ZOrder		    9
		    Points		    [15, 0; 0, -15]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    10
		    Points		    [0, 30; -60, 0]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "current\ngear\nnumber"
		    SID			    "218"
		    Ports		    [2, 1]
		    Position		    [670, 87, 690, 123]
		    ZOrder		    -18
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "delta\ngear\nnumber"
		    SID			    "219"
		    Position		    [615, 144, 645, 176]
		    ZOrder		    -19
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "downshift \ncommand"
		    SID			    "220"
		    Ports		    [3, 1]
		    Position		    [470, 229, 500, 281]
		    ZOrder		    -20
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "downshift \ncommand"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear number"
		    SID			    "221"
		    Position		    [45, 98, 75, 112]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine load"
		    SID			    "222"
		    Position		    [45, 38, 75, 52]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine speed"
		    SID			    "223"
		    Position		    [45, 133, 75, 147]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    SID			    "224"
		    Ports		    [2, 1]
		    Position		    [130, 107, 165, 143]
		    ZOrder		    -4
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "225"
		    Ports		    [2, 1]
		    Position		    [350, 38, 380, 62]
		    ZOrder		    -5
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "load fraction"
		    SID			    "226"
		    Ports		    [1, 1]
		    Position		    [235, 100, 265, 150]
		    ZOrder		    -6
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    20
		    $ClassName		    "Simulink.Mask"
		    Type		    "Gear Selector"
		    Description		    "This block will perform a linear interplation (extrapolation outside of bounds) to determine t"
		    "he shift point load fraction associated with the current gear number and speed. \n\nThe Speeds parameter should "
		    "be defined as an array of vectors containing speeds for each gear number.  The Load Fractions parameter should b"
		    "e defined as a array of vectors containing load fractions indexed by the speeds in the Speeds parameter for each"
		    " gear number."
		    Help		    "Reference the base workspace variables - gb_**shift_spd and gb_**shift_load  where ** is either up fo"
		    "r upshift conditions or dn for downshift conditions.\n\nOr define the arrays as follows:\n\n{[spd1 spd2 spd3 spd"
		    "4]; [spd1 spd2 spd3 spd4]; ...}\n\n{[load1 load2 load3 load4]; [load1 load2 load3 load4]; ...}\n\nwhere each arr"
		    "ay contains one row for each gear in the gearbox.  Speeds should be defined in rad/s and loads as a decimal frac"
		    "tion.\n\n"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    2
		    Object {
		    $ObjectID		    21
		    Type		    "edit"
		    Name		    "spd"
		    Prompt		    "Speeds:"
		    Value		    "gb_dnshift_spd"
		    }
		    Object {
		    $ObjectID		    22
		    Type		    "edit"
		    Name		    "load"
		    Prompt		    "Load Fractions:"
		    Value		    "gb_dnshift_load"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "load fraction"
		    Location		    [227, 44, 968, 891]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "227"
		    Position		    [25, 33, 55, 47]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    S-Function
		    Name		    "S-Function"
		    SID			    "228"
		    Ports		    [1, 1]
		    Position		    [80, 25, 160, 55]
		    ZOrder		    -2
		    FunctionName	    "sfun_gearbox"
		    Parameters		    "load, spd"
		    SFunctionDeploymentMode off
		    EnableBusSupport	    off
		    SFcnIsStateOwnerBlock   off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    SID			    "229"
		    Position		    [185, 33, 215, 47]
		    ZOrder		    -3
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "S-Function"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "command"
		    SID			    "230"
		    Position		    [420, 43, 450, 57]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "load fraction"
		    SrcPort		    1
		    Points		    [60, 0; 0, -70]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "load fraction"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "engine load"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "prev gear number"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "engine speed"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "command"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "engine\ntorque\ncapability"
		    SID			    "231"
		    Position		    [310, 210, 340, 230]
		    ZOrder		    -21
		    BlockMirror		    on
		    FontName		    "Arial"
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    Table		    "fc_max_trq*fc_trq_scale+eps"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "est eng\ntrq"
		    SID			    "232"
		    Ports		    [2, 1]
		    Position		    [220, 132, 240, 168]
		    ZOrder		    -22
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "gb_spd_in_r"
		    SID			    "233"
		    Ports		    [2, 1]
		    Position		    [150, 258, 170, 282]
		    ZOrder		    -23
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio"
		    SID			    "234"
		    Position		    [400, 313, 430, 337]
		    ZOrder		    -24
		    BlockMirror		    on
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    Table		    "gb_ratio"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio1"
		    SID			    "235"
		    Position		    [785, 93, 815, 117]
		    ZOrder		    -25
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    Table		    "gb_ratio"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "gearbox speed\nestimator"
		    SID			    "236"
		    Ports		    [1, 1]
		    Position		    [220, 255, 250, 285]
		    ZOrder		    -26
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "gearbox speed\nestimator"
		    Location		    [186, 101, 814, 788]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "gb_spd_in_r\nif no gear change"
		    SID			    "237"
		    Position		    [45, 18, 75, 32]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    SID			    "238"
		    Ports		    []
		    Position		    [420, 395, 476, 435]
		    ZOrder		    -2
		    BackgroundColor	    "green"
		    ShowName		    off
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    23
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		    }
		    System {
		    Name		    "Block NOTES"
		    Location		    [459, 365, 834, 628]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "239"
		    Name		    "The requested engine speed is replaced by an estimate of the\nengine's previous speed whenever the ve"
		    "hicle missed the trace\n by more than 1 mph on the last time step."
		    Position		    [167, 41, 448, 73]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -1
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "240"
		    Position		    [165, 240, 185, 260]
		    ZOrder		    -3
		    BlockMirror		    on
		    Value		    "eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "241"
		    Position		    [315, 165, 335, 185]
		    ZOrder		    -4
		    BlockMirror		    on
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    "242"
		    Position		    [230, 360, 250, 380]
		    ZOrder		    -5
		    BlockMirror		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    SID			    "243"
		    Position		    [230, 461, 265, 479]
		    ZOrder		    -6
		    BlockMirror		    on
		    Value		    "0.11"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    SID			    "244"
		    Position		    [195, 40, 285, 70]
		    ZOrder		    -7
		    BlockMirror		    on
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gb_spd_in_a"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <cyc>"
		    SID			    "245"
		    Position		    [30, 304, 120, 336]
		    ZOrder		    -8
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "cyc_mph_r"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <veh>"
		    SID			    "246"
		    Position		    [30, 99, 85, 131]
		    ZOrder		    -9
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "mpha"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <wh>/\ntire slip model (m/s)"
		    SID			    "247"
		    Position		    [30, 184, 120, 216]
		    ZOrder		    -10
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "veh_spd_a_rec"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    SID			    "248"
		    Position		    [150, 97, 190, 133]
		    ZOrder		    -11
		    Gain		    "0.447"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    InitialCondition
		    Name		    "IC"
		    SID			    "249"
		    Position		    [370, 110, 400, 140]
		    ZOrder		    -12
		    Value		    "cyc_mph(1,2)*0.447/wh_radius*fd_ratio*gb_ratio(gb_num_init)"
		    }
		    Block {
		    BlockType		    InitialCondition
		    Name		    "IC1"
		    SID			    "250"
		    Position		    [310, 310, 340, 340]
		    ZOrder		    -13
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical"
		    SID			    "251"
		    Ports		    [2, 1]
		    Position		    [375, 317, 405, 348]
		    ZOrder		    -14
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "252"
		    Ports		    [3, 1]
		    Position		    [215, 99, 245, 131]
		    ZOrder		    -15
		    Inputs		    "**/"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational"
		    SID			    "253"
		    Ports		    [2, 1]
		    Position		    [225, 307, 255, 338]
		    ZOrder		    -16
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational1"
		    SID			    "254"
		    Ports		    [2, 1]
		    Position		    [225, 412, 255, 443]
		    ZOrder		    -17
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    "255"
		    Ports		    [2, 1]
		    Position		    [160, 192, 190, 223]
		    ZOrder		    -18
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    SID			    "256"
		    Ports		    [2, 1]
		    Position		    [160, 297, 190, 328]
		    ZOrder		    -19
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "257"
		    Position		    [310, 110, 340, 140]
		    ZOrder		    -20
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    SID			    "258"
		    Position		    [445, 120, 475, 150]
		    ZOrder		    -21
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    SID			    "259"
		    Ports		    [0, 1]
		    Position		    [160, 408, 180, 432]
		    ZOrder		    -22
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "dt"
		    Location		    [202, 441, 482, 723]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    SID			    "260"
		    Position		    [25, 25, 45, 45]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    SID			    "261"
		    Position		    [75, 53, 105, 77]
		    ZOrder		    -2
		    InitialCondition	    "-1"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum4"
		    SID			    "262"
		    Ports		    [2, 1]
		    Position		    [130, 27, 160, 58]
		    ZOrder		    -3
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    SID			    "263"
		    Position		    [185, 38, 215, 52]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Sum4"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Sum4"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    ZOrder		    4
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    5
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    SID			    "264"
		    Position		    [545, 128, 575, 142]
		    ZOrder		    -23
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Product"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    4
		    Labels		    [1, 0]
		    SrcBlock		    "From <wh>/\ntire slip model (m/s)"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    ZOrder		    5
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    6
		    Points		    [0, -25; 155, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "IC"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "From <cyc>"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "From <veh>"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    ZOrder		    12
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    13
		    Points		    [0, 190]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Relational"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    "Relational"
		    SrcPort		    1
		    DstBlock		    "IC1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    17
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "IC"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    18
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    19
		    SrcBlock		    "gb_spd_in_r\nif no gear change"
		    SrcPort		    1
		    Points		    [350, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    20
		    SrcBlock		    "From"
		    SrcPort		    1
		    Points		    [0, 50]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    21
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    22
		    SrcBlock		    "Relational1"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "Logical"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    23
		    SrcBlock		    "IC1"
		    SrcPort		    1
		    DstBlock		    "Logical"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    24
		    SrcBlock		    "Logical"
		    SrcPort		    1
		    Points		    [10, 0; 0, -200]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    25
		    SrcBlock		    "dt"
		    SrcPort		    1
		    DstBlock		    "Relational1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "load=T/\n(maxT\nat spd)"
		    SID			    "265"
		    Position		    [315, 151, 335, 169]
		    ZOrder		    -27
		    FontName		    "Arial"
		    UpperLimit		    "1"
		    LowerLimit		    "0"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "prev gear\nnumber"
		    SID			    "266"
		    Position		    [690, 20, 730, 40]
		    ZOrder		    -28
		    BlockMirror		    on
		    FontName		    "Arial"
		    InitialCondition	    "gb_num_init"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "prev gear\nratio"
		    SID			    "267"
		    Position		    [305, 315, 340, 335]
		    ZOrder		    -29
		    BlockMirror		    on
		    FontName		    "Arial"
		    InitialCondition	    "gb_ratio(gb_num_init)"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "shifting1"
		    SID			    "268"
		    Ports		    [1, 1]
		    Position		    [785, 164, 815, 196]
		    ZOrder		    -30
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "shifting1"
		    Location		    [250, 108, 580, 477]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "gear\nnumber"
		    SID			    "269"
		    Position		    [15, 50, 35, 70]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "270"
		    Position		    [20, 131, 120, 159]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Value		    "gb_shift_delay-1e-6"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "271"
		    Ports		    [2, 1]
		    Position		    [185, 53, 215, 77]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "time since last shift"
		    SID			    "272"
		    Ports		    [1, 1]
		    Position		    [65, 43, 125, 77]
		    ZOrder		    -4
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    24
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('time since\\nlast shift')"
		    }
		    System {
		    Name		    "time since last shift"
		    Location		    [8, 276, 338, 593]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "273"
		    Position		    [10, 60, 30, 80]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just shifted"
		    SID			    "274"
		    Ports		    [1, 1]
		    Position		    [60, 57, 110, 83]
		    ZOrder		    -2
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    25
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('just\\nshifted')"
		    }
		    System {
		    Name		    "just shifted"
		    Location		    [102, 94, 465, 417]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "275"
		    Position		    [55, 55, 75, 75]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "276"
		    Position		    [120, 55, 155, 75]
		    ZOrder		    -2
		    FontName		    "Arial"
		    InitialCondition	    "1"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "277"
		    Ports		    [2, 1]
		    Position		    [190, 58, 220, 82]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "278"
		    Position		    [250, 60, 270, 80]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    4
		    Points		    [0, 30; 75, 0; 0, -20]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    5
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "timer"
		    SID			    "279"
		    Ports		    [1, 1]
		    Position		    [140, 55, 175, 85]
		    ZOrder		    -3
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    26
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('timer')"
		    }
		    System {
		    Name		    "timer"
		    Location		    [417, 59, 861, 452]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "trigger"
		    SID			    "280"
		    Position		    [15, 125, 35, 145]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "281"
		    Position		    [100, 100, 120, 120]
		    ZOrder		    -2
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "282"
		    Position		    [100, 150, 120, 170]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    "283"
		    Position		    [150, 5, 170, 25]
		    ZOrder		    -4
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "284"
		    Position		    [265, 59, 295, 91]
		    ZOrder		    -5
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "no-lag\nReset Integrator"
		    SID			    "285"
		    Ports		    [3, 1]
		    Position		    [150, 96, 200, 174]
		    ZOrder		    -6
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    27
		    $ClassName		    "Simulink.Mask"
		    Type		    "No-lag Reset Integrator"
		    Description		    "No-lag Reset Integrator"
		    Help		    "Integrates first input using Euler technique.\\nAt the time step that input 2 <> zero,\\noutput is re"
		    "set to input 3."
		    Display		    "disp('1/s\\nw/ reset\\nno lag')"
		    Object {
		    $PropName		    "Parameters"
		    $ObjectID		    28
		    $ClassName		    "Simulink.MaskParameter"
		    Type		    "edit"
		    Name		    "initval"
		    Prompt		    "Initial Value"
		    Value		    "15"
		    }
		    }
		    System {
		    Name		    "no-lag\nReset Integrator"
		    Location		    [220, 496, 782, 938]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "286"
		    Position		    [60, 100, 80, 120]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    SID			    "287"
		    Position		    [60, 140, 80, 160]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_3"
		    SID			    "288"
		    Position		    [45, 185, 65, 205]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "289"
		    Position		    [125, 205, 145, 225]
		    ZOrder		    -4
		    BlockRotation	    270
		    NameLocation	    "left"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "290"
		    Position		    [340, 55, 375, 75]
		    ZOrder		    -5
		    BlockMirror		    on
		    FontName		    "Arial"
		    InitialCondition	    "initval"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "291"
		    Ports		    [2, 1]
		    Position		    [160, 96, 180, 114]
		    ZOrder		    -6
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    "292"
		    Ports		    [2, 1]
		    Position		    [230, 90, 250, 110]
		    ZOrder		    -7
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "293"
		    Position		    [290, 139, 320, 171]
		    ZOrder		    -8
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    SID			    "294"
		    Ports		    [0, 1]
		    Position		    [112, 50, 138, 80]
		    ZOrder		    -9
		    BlockRotation	    270
		    BlockMirror		    on
		    NameLocation	    "right"
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "dt"
		    Location		    [42, 165, 431, 482]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    SID			    "295"
		    Position		    [65, 60, 85, 80]
		    ZOrder		    -1
		    FontName		    "Arial"
		    FontSize		    8
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    SID			    "296"
		    Position		    [125, 85, 160, 105]
		    ZOrder		    -2
		    FontName		    "Arial"
		    FontSize		    8
		    InitialCondition	    "-1"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    SID			    "297"
		    Ports		    [2, 1]
		    Position		    [205, 65, 225, 85]
		    ZOrder		    -3
		    FontName		    "Arial"
		    FontSize		    8
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "298"
		    Position		    [255, 65, 275, 85]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    4
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    5
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "in_2==0"
		    SID			    "299"
		    Ports		    [2, 1]
		    Position		    [160, 143, 190, 167]
		    ZOrder		    -10
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "300"
		    Position		    [455, 145, 475, 165]
		    ZOrder		    -11
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -40]
		    DstBlock		    "in_2==0"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "in_2==0"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    ZOrder		    4
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    5
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [10, 0; 0, 45]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-130, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "dt"
		    SrcPort		    1
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "in_2==0"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "in_3"
		    SrcPort		    1
		    Points		    [200, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "time"
		    SID			    "301"
		    Position		    [350, 65, 370, 85]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "time"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "trigger"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    3
		    Points		    [0, -60]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    4
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [35, 0; 0, 50]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    Points		    [40, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "302"
		    Position		    [225, 60, 245, 80]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "just shifted"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "just shifted"
		    SrcPort		    1
		    DstBlock		    "timer"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "timer"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "303"
		    Position		    [250, 55, 270, 75]
		    ZOrder		    -5
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "time since last shift"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [15, 0; 0, -75]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "time since last shift"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "upshift\n command"
		    SID			    "304"
		    Ports		    [3, 1]
		    Position		    [470, 124, 500, 176]
		    ZOrder		    -31
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "upshift\n command"
		    Location		    [288, 233, 803, 706]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear number"
		    SID			    "305"
		    Position		    [45, 103, 75, 117]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine load"
		    SID			    "306"
		    Position		    [45, 38, 75, 52]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine speed"
		    SID			    "307"
		    Position		    [45, 133, 75, 147]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    SID			    "308"
		    Ports		    [2, 1]
		    Position		    [130, 107, 165, 143]
		    ZOrder		    -4
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "309"
		    Ports		    [2, 1]
		    Position		    [350, 38, 380, 62]
		    ZOrder		    -5
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "load fraction"
		    SID			    "310"
		    Ports		    [1, 1]
		    Position		    [245, 100, 275, 150]
		    ZOrder		    -6
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    29
		    $ClassName		    "Simulink.Mask"
		    Type		    "Gear Selector"
		    Description		    "This block will perform a linear interplation (extrapolation outside of bounds) to determine t"
		    "he shift point load fraction associated with the current gear number and speed. \n\nThe Speeds parameter should "
		    "be defined as an array of vectors containing speeds for each gear number.  The Load Fractions parameter should b"
		    "e defined as a array of vectors containing load fractions indexed by the speeds in the Speeds parameter for each"
		    " gear number."
		    Help		    "Reference the base workspace variables - gb_**shift_spd and gb_**shift_load  where ** is either up fo"
		    "r upshift conditions or dn for downshift conditions.\n\nOr define the arrays as follows:\n\n{[spd1 spd2 spd3 spd"
		    "4]; [spd1 spd2 spd3 spd4]; ...}\n\n{[load1 load2 load3 load4]; [load1 load2 load3 load4]; ...}\n\nwhere each arr"
		    "ay contains one row for each gear in the gearbox.  Speeds should be defined in rad/s and loads as a decimal frac"
		    "tion.\n\n"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    2
		    Object {
		    $ObjectID		    30
		    Type		    "edit"
		    Name		    "spd"
		    Prompt		    "Speeds:"
		    Value		    "gb_upshift_spd"
		    }
		    Object {
		    $ObjectID		    31
		    Type		    "edit"
		    Name		    "load"
		    Prompt		    "Load Fractions:"
		    Value		    "gb_upshift_load"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "load fraction"
		    Location		    [426, 320, 706, 580]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "311"
		    Position		    [25, 33, 55, 47]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    S-Function
		    Name		    "S-Function"
		    SID			    "312"
		    Ports		    [1, 1]
		    Position		    [80, 25, 160, 55]
		    ZOrder		    -2
		    FunctionName	    "sfun_gearbox"
		    Parameters		    "load, spd"
		    SFunctionDeploymentMode off
		    EnableBusSupport	    off
		    SFcnIsStateOwnerBlock   off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    SID			    "313"
		    Position		    [185, 33, 215, 47]
		    ZOrder		    -3
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "S-Function"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "command"
		    SID			    "314"
		    Position		    [420, 43, 450, 57]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "load fraction"
		    SrcPort		    1
		    Points		    [50, 0; 0, -70]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "engine load"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "prev gear number"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "load fraction"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "engine speed"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "command"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_trq_in_r"
		    SID			    "315"
		    Ports		    [3, 1]
		    Position		    [150, 132, 170, 168]
		    ZOrder		    -32
		    FontName		    "Arial"
		    Inputs		    "3"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear ratio2"
		    SID			    "316"
		    Position		    [855, 95, 875, 115]
		    ZOrder		    -33
		    NameLocation	    "top"
		    FontName		    "Arial"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "shifting"
		    SID			    "317"
		    Position		    [855, 170, 875, 190]
		    ZOrder		    -34
		    FontName		    "Arial"
		    Port		    "2"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear number"
		    SID			    "318"
		    Position		    [855, 250, 875, 270]
		    ZOrder		    -35
		    FontName		    "Arial"
		    Port		    "3"
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "From5"
		    SrcPort		    1
		    Points		    [0, -25; -25, 0]
		    DstBlock		    "est eng\ntrq"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "shifting1"
		    SrcPort		    1
		    DstBlock		    "shifting"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "gear ratio1"
		    SrcPort		    1
		    DstBlock		    "gear ratio2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "current\ngear\nnumber"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "Fcn"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "prev.\nPout/Pin"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "gb_trq_out_r"
		    SrcPort		    1
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "upshift\n command"
		    SrcPort		    1
		    Points		    [95, 0]
		    Branch {
		    ZOrder		    9
		    DstBlock		    "delta\ngear\nnumber"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    10
		    DstBlock		    "delta\ngear\nnumber"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "downshift \ncommand"
		    SrcPort		    1
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    Points		    [0, -15]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    13
		    SrcBlock		    "engine\ntorque\ncapability"
		    SrcPort		    1
		    Points		    [-55, 0]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "Fcn"
		    SrcPort		    1
		    Points		    [10, 0; 0, 85; -75, 0; 0, 35]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    16
		    Points		    [0, 0]
		    Branch {
		    ZOrder		    17
		    Points		    [0, -75]
		    DstBlock		    "prev gear\nnumber"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    18
		    DstBlock		    "gear ratio1"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    19
		    Points		    [0, 75]
		    Branch {
		    ZOrder		    20
		    Points		    [0, 80]
		    Branch {
		    ZOrder		    21
		    DstBlock		    "gear number"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    22
		    Points		    [0, 65]
		    DstBlock		    "Rate Limiter"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    23
		    DstBlock		    "shifting1"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    ZOrder		    24
		    SrcBlock		    "prev gear\nnumber"
		    SrcPort		    1
		    Points		    [-35, 0]
		    Branch {
		    ZOrder		    25
		    Points		    [-210, 0; 0, 30]
		    Branch {
		    ZOrder		    26
		    DstBlock		    "allow downshift?"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    27
		    Points		    [0, 75]
		    Branch {
		    ZOrder		    28
		    DstBlock		    "upshift\n command"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    29
		    Points		    [0, 105]
		    DstBlock		    "downshift \ncommand"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    ZOrder		    30
		    Points		    [0, 65]
		    DstBlock		    "current\ngear\nnumber"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    31
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "load=T/\n(maxT\nat spd)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    32
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    33
		    SrcBlock		    "tires are at\ntraction limit"
		    SrcPort		    1
		    Points		    [265, 0; 0, 65]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    34
		    SrcBlock		    "Rate Limiter"
		    SrcPort		    1
		    DstBlock		    "gear ratio"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    35
		    SrcBlock		    "gb_spd_out_r"
		    SrcPort		    1
		    DstBlock		    "gb_spd_in_r"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    36
		    SrcBlock		    "gb_spd_in_r"
		    SrcPort		    1
		    DstBlock		    "gearbox speed\nestimator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    37
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    DstBlock		    "prev gear\nratio"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    38
		    SrcBlock		    "prev gear\nratio"
		    SrcPort		    1
		    Points		    [-200, 0; 0, -50]
		    Branch {
		    ZOrder		    39
		    DstBlock		    "gb_spd_in_r"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    40
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    41
		    SrcBlock		    "Gain1"
		    SrcPort		    1
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    42
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "delta\ngear\nnumber"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    43
		    SrcBlock		    "allow downshift?"
		    SrcPort		    1
		    Points		    [50, 0]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    44
		    SrcBlock		    "gearbox speed\nestimator"
		    SrcPort		    1
		    Points		    [115, 0]
		    Branch {
		    ZOrder		    45
		    Points		    [0, -50]
		    DstBlock		    "engine\ntorque\ncapability"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    46
		    Points		    [50, 0]
		    Branch {
		    ZOrder		    47
		    DstBlock		    "downshift \ncommand"
		    DstPort		    3
		    }
		    Branch {
		    ZOrder		    48
		    Points		    [0, -105]
		    DstBlock		    "upshift\n command"
		    DstPort		    3
		    }
		    }
		    }
		    Line {
		    ZOrder		    49
		    SrcBlock		    "~gb_trq_in_r"
		    SrcPort		    1
		    Points		    [30, 0]
		    DstBlock		    "est eng\ntrq"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    50
		    SrcBlock		    "est eng\ntrq"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    51
		    SrcBlock		    "load=T/\n(maxT\nat spd)"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    52
		    Labels		    [1, 0]
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    ZOrder		    53
		    DstBlock		    "upshift\n command"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    54
		    Points		    [0, 105]
		    DstBlock		    "downshift \ncommand"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    55
		    SrcBlock		    "delta\ngear\nnumber"
		    SrcPort		    1
		    Points		    [0, -45]
		    DstBlock		    "current\ngear\nnumber"
		    DstPort		    2
		    }
		    Annotation {
		    SID			    "319"
		    Name		    "local GOTO blocks:"
		    Position		    [832, 57, 920, 69]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear ratio"
		  SID			  "320"
		  Position		  [660, 320, 680, 340]
		  ZOrder		  -42
		  FontName		  "Arial"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "shifting"
		  SID			  "321"
		  Position		  [660, 395, 680, 415]
		  ZOrder		  -43
		  FontName		  "Arial"
		  Port			  "2"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear number"
		  SID			  "322"
		  Position		  [660, 475, 680, 495]
		  ZOrder		  -44
		  FontName		  "Arial"
		  Port			  "3"
		  InitialOutput		  "0"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "T_gb_out"
		  SrcPort		  1
		  DstBlock		  "Goto7"
		  DstPort		  1
		}
		Line {
		  ZOrder		  2
		  SrcBlock		  "w_gb_out"
		  SrcPort		  1
		  DstBlock		  "Goto8"
		  DstPort		  1
		}
		Line {
		  ZOrder		  3
		  SrcBlock		  "gb_spd_in_a, t=(i-1)"
		  SrcPort		  1
		  DstBlock		  "Goto6"
		  DstPort		  1
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "From<gb>3"
		  SrcPort		  1
		  DstBlock		  "gear number"
		  DstPort		  1
		}
		Line {
		  ZOrder		  5
		  SrcBlock		  "From<gb>2"
		  SrcPort		  1
		  DstBlock		  "shifting"
		  DstPort		  1
		}
		Line {
		  ZOrder		  6
		  SrcBlock		  "From<gb>1"
		  SrcPort		  1
		  DstBlock		  "gear ratio"
		  DstPort		  1
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  "gearbox\n control"
		  SrcPort		  3
		  DstBlock		  "Goto"
		  DstPort		  1
		}
		Line {
		  ZOrder		  8
		  SrcBlock		  "gearbox\n control"
		  SrcPort		  2
		  DstBlock		  "Goto <gb>1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  9
		  SrcBlock		  "gearbox\n control"
		  SrcPort		  1
		  DstBlock		  "Goto <gb>"
		  DstPort		  1
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  "slip_limited"
		  SrcPort		  1
		  DstBlock		  "Goto10"
		  DstPort		  1
		}
		Line {
		  ZOrder		  11
		  SrcBlock		  "eta_gb, t=(i-1)"
		  SrcPort		  1
		  DstBlock		  "Goto9"
		  DstPort		  1
		}
		Line {
		  ZOrder		  12
		  SrcBlock		  "veh_spd_a_rec, t=(i-1)"
		  SrcPort		  1
		  DstBlock		  "Goto5"
		  DstPort		  1
		}
		Line {
		  ZOrder		  13
		  SrcBlock		  "cyc_mph_r, t=(i-1)"
		  SrcPort		  1
		  DstBlock		  "Goto4"
		  DstPort		  1
		}
		Line {
		  ZOrder		  14
		  SrcBlock		  "mpha, t=(i-1)"
		  SrcPort		  1
		  DstBlock		  "Goto3"
		  DstPort		  1
		}
		Line {
		  ZOrder		  15
		  SrcBlock		  "acc_mech_trq_est"
		  SrcPort		  1
		  DstBlock		  "Goto2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  16
		  SrcBlock		  "From traction cntrl"
		  SrcPort		  1
		  DstBlock		  "gearbox\n control"
		  DstPort		  4
		}
		Line {
		  ZOrder		  17
		  SrcBlock		  "From <gb>2"
		  SrcPort		  1
		  DstBlock		  "gearbox\n control"
		  DstPort		  3
		}
		Line {
		  ZOrder		  18
		  SrcBlock		  "From <gb>1"
		  SrcPort		  1
		  DstBlock		  "gearbox\n control"
		  DstPort		  2
		}
		Line {
		  ZOrder		  19
		  SrcBlock		  "From<gb>"
		  SrcPort		  1
		  DstBlock		  "gearbox\n control"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "Memory4"
	      SrcPort		      1
	      DstBlock		      "manual shift logic"
	      DstPort		      7
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "Memory3"
	      SrcPort		      1
	      DstBlock		      "manual shift logic"
	      DstPort		      8
	    }
	    Line {
	      ZOrder		      3
	      SrcBlock		      "Memory2"
	      SrcPort		      1
	      DstBlock		      "manual shift logic"
	      DstPort		      6
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "Memory1"
	      SrcPort		      1
	      DstBlock		      "manual shift logic"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "Memory"
	      SrcPort		      1
	      DstBlock		      "manual shift logic"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      6
	      SrcBlock		      "From1"
	      SrcPort		      1
	      Points		      [0, 0; 5, 0]
	      Branch {
		ZOrder			7
		Points			[0, 25]
		DstBlock		"Bus\nSelector7"
		DstPort			1
	      }
	      Branch {
		ZOrder			8
		Points			[0, -20]
		DstBlock		"Bus\nSelector8"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "<gb_trq_out_r>"
	      ZOrder		      9
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector7"
	      SrcPort		      1
	      DstBlock		      "manual shift logic"
	      DstPort		      4
	    }
	    Line {
	      Name		      "<gb_spd_out_r>"
	      ZOrder		      10
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector8"
	      SrcPort		      1
	      DstBlock		      "manual shift logic"
	      DstPort		      3
	    }
	    Line {
	      Name		      "<gb_spd_in_a>"
	      ZOrder		      11
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector9"
	      SrcPort		      1
	      DstBlock		      "Memory1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<eta_gb>"
	      ZOrder		      12
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector10"
	      SrcPort		      1
	      DstBlock		      "Memory"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      13
	      SrcBlock		      "From12"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		ZOrder			14
		Points			[0, 25]
		DstBlock		"Bus\nSelector9"
		DstPort			1
	      }
	      Branch {
		ZOrder			15
		Points			[0, -20]
		DstBlock		"Bus\nSelector10"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      16
	      SrcBlock		      "Mux1"
	      SrcPort		      1
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "gear_number"
	      ZOrder		      17
	      Labels		      [0, 0]
	      SrcBlock		      "manual shift logic"
	      SrcPort		      3
	      Points		      [50, 0]
	      DstBlock		      "Mux1"
	      DstPort		      3
	    }
	    Line {
	      Name		      "shifting"
	      ZOrder		      18
	      Labels		      [0, 0]
	      SrcBlock		      "manual shift logic"
	      SrcPort		      2
	      DstBlock		      "Mux1"
	      DstPort		      2
	    }
	    Line {
	      Name		      "gear_ratio"
	      ZOrder		      19
	      Labels		      [0, 0]
	      SrcBlock		      "manual shift logic"
	      SrcPort		      1
	      Points		      [50, 0]
	      DstBlock		      "Mux1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      20
	      SrcBlock		      "controlTag1"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<acc_mech_trq_a>"
	      ZOrder		      21
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector"
	      SrcPort		      1
	      DstBlock		      "Memory5"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      22
	      SrcBlock		      "Memory5"
	      SrcPort		      1
	      DstBlock		      "manual shift logic"
	      DstPort		      5
	    }
	    Line {
	      ZOrder		      23
	      SrcBlock		      "controlTag2"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<mpha>"
	      ZOrder		      24
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector1"
	      SrcPort		      1
	      DstBlock		      "Memory2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      25
	      SrcBlock		      "controlTag3"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<cycle_mph_r>"
	      ZOrder		      26
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector2"
	      SrcPort		      1
	      DstBlock		      "Memory4"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      27
	      SrcBlock		      "controlTag4"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector3"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<veh_spd_a_rec>"
	      ZOrder		      28
	      Labels		      [0, 0; 1, 0]
	      SrcBlock		      "Bus\nSelector3"
	      SrcPort		      1
	      DstBlock		      "Memory3"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      29
	      SrcBlock		      "controlTag5"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector4"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<slip_limited>"
	      ZOrder		      30
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector4"
	      SrcPort		      1
	      DstBlock		      "manual shift logic"
	      DstPort		      9
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "automatic transmission\ngearbox and htc\nadvanced lock-up logic for htc\nshift logic for gearbox"
	  SID			  "323"
	  Ports			  [2]
	  Position		  [335, 38, 375, 102]
	  ZOrder		  -2
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowPortLabels	  "none"
	  RequestExecContextInheritance	off
	  System {
	    Name		    "automatic transmission\ngearbox and htc\nadvanced lock-up logic for htc\nshift logic for gearbox"
	    Location		    [395, 283, 949, 777]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "56"
	    SimulinkSubDomain	    "Simulink"
	    Block {
	      BlockType		      Inport
	      Name		      "gearbox\ncontrols"
	      SID		      "324"
	      Position		      [280, 368, 310, 382]
	      ZOrder		      -1
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "htc\ncontrol"
	      SID		      "325"
	      Position		      [295, 513, 325, 527]
	      ZOrder		      -2
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      SID		      "326"
	      Ports		      [1, 2]
	      Position		      [340, 501, 345, 539]
	      ZOrder		      -3
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "2"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux2"
	      SID		      "327"
	      Ports		      [1, 3]
	      Position		      [345, 293, 360, 457]
	      ZOrder		      -4
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "3"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <gb>1"
	      SID		      "328"
	      Position		      [145, 160, 240, 180]
	      ZOrder		      -5
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_gb_out"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <gb>2"
	      SID		      "329"
	      Position		      [145, 101, 240, 119]
	      ZOrder		      -6
	      NameLocation	      "top"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "eta_gb"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <gb>3"
	      SID		      "330"
	      Position		      [145, 190, 240, 210]
	      ZOrder		      -7
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "slip_limited"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From<gb>"
	      SID		      "331"
	      Position		      [145, 130, 240, 150]
	      ZOrder		      -8
	      NameLocation	      "top"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_gb_out"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      SID		      "332"
	      Position		      [370, 483, 485, 507]
	      ZOrder		      -9
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <gb>"
	      SID		      "333"
	      Position		      [340, 129, 415, 151]
	      ZOrder		      -10
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <gb>1"
	      SID		      "334"
	      Position		      [360, 160, 415, 180]
	      ZOrder		      -11
	      ShowName		      off
	      GotoTag		      "shifting"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <htc>"
	      SID		      "335"
	      Position		      [340, 192, 415, 208]
	      ZOrder		      -12
	      ShowName		      off
	      GotoTag		      "locked_up"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <htc>1"
	      SID		      "336"
	      Position		      [340, 99, 415, 121]
	      ZOrder		      -13
	      NameLocation	      "top"
	      ShowName		      off
	      GotoTag		      "gear_number"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      SID		      "337"
	      Position		      [530, 417, 619, 445]
	      ZOrder		      -14
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_number"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      SID		      "338"
	      Position		      [490, 483, 579, 506]
	      ZOrder		      -15
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      SID		      "339"
	      Position		      [530, 307, 619, 335]
	      ZOrder		      -16
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility3"
	      SID		      "340"
	      Position		      [530, 362, 619, 390]
	      ZOrder		      -17
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      SID		      "341"
	      Position		      [490, 533, 579, 556]
	      ZOrder		      -18
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "locked_up"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      SID		      "342"
	      Position		      [420, 419, 520, 441]
	      ZOrder		      -19
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_number"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      SID		      "343"
	      Position		      [420, 309, 520, 331]
	      ZOrder		      -20
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto3"
	      SID		      "344"
	      Position		      [420, 364, 520, 386]
	      ZOrder		      -21
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto4"
	      SID		      "345"
	      Position		      [370, 533, 485, 557]
	      ZOrder		      -22
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "locked_up"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "gearbox control\nfor use w/ AT"
	      SID		      "346"
	      Ports		      [4, 4]
	      Position		      [260, 99, 295, 211]
	      ZOrder		      -23
	      ForegroundColor	      "orange"
	      FontName		      "Arial"
	      ShowPortLabels	      "none"
	      RequestExecContextInheritance off
	      System {
		Name			"gearbox control\nfor use w/ AT"
		Location		[8, 44, 1044, 871]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"72"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "eta_gb"
		  SID			  "347"
		  Position		  [45, 85, 65, 105]
		  ZOrder		  -1
		  FontName		  "Arial"
		}
		Block {
		  BlockType		  Inport
		  Name			  "gb_trq_out_r"
		  SID			  "348"
		  Position		  [45, 135, 65, 155]
		  ZOrder		  -2
		  FontName		  "Arial"
		  Port			  "2"
		}
		Block {
		  BlockType		  Inport
		  Name			  "gb_spd_out_r"
		  SID			  "349"
		  Position		  [45, 180, 65, 200]
		  ZOrder		  -3
		  FontName		  "Arial"
		  Port			  "3"
		}
		Block {
		  BlockType		  Inport
		  Name			  "tires are at\ntraction limit"
		  SID			  "350"
		  Position		  [45, 230, 65, 250]
		  ZOrder		  -4
		  FontName		  "Arial"
		  Port			  "4"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  SID			  "351"
		  Ports			  []
		  Position		  [920, 555, 976, 595]
		  ZOrder		  -5
		  BackgroundColor	  "green"
		  ShowName		  off
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    32
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		  }
		  System {
		    Name		    "Block NOTES"
		    Location		    [77, 253, 575, 638]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "352"
		    Name		    "Lock-up of the HTC occurs when it is supposed to for the current gear, AND\nthe transmission isn't sh"
		    "ifting, AND\nthe lockup wouldn't precipitate an immediate downshift."
		    Position		    [217, 162, 552, 194]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -1
		    }
		    Annotation {
		    SID			    "353"
		    Name		    "This gearbox control block computes the current gear number given the gearbox's\nreq'd output torque "
		    "and speed and an estimate its efficiency.  Upshifts occur, given a\ncertain engine speed,  when the estimated en"
		    "gine load falls below the upshift curve\nin engine speed/load space, and downshifts likewise occur when estimate"
		    "d engine\nload rises above the downshift curve.  Separate upshift and downshift curves are\ndefined for each gea"
		    "r.  An upshift may not be immediately followed by a downshift.\nIf the tires are about to slip, don't upshift un"
		    "less the engine would be at max. speed.\nEnforce this rule by setting the load to 1 when the tires are about to "
		    "slip."
		    Position		    [227, 12, 600, 94]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -2
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  SID			  "354"
		  Position		  [405, 75, 425, 95]
		  ZOrder		  -6
		  BlockMirror		  on
		  ShowName		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant14"
		  SID			  "355"
		  Position		  [460, 818, 555, 832]
		  ZOrder		  -7
		  ForegroundColor	  "red"
		  Value			  "tx_speed_dep"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant15"
		  SID			  "356"
		  Position		  [390, 683, 485, 697]
		  ZOrder		  -8
		  ForegroundColor	  "red"
		  Value			  "tx_speed_dep"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  SID			  "357"
		  Position		  [410, 480, 430, 500]
		  ZOrder		  -9
		  BlockMirror		  on
		  ShowName		  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  "358"
		  Ports			  [1, 2]
		  Position		  [730, 671, 735, 709]
		  ZOrder		  -10
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  From
		  Name			  "From"
		  SID			  "359"
		  Position		  [560, 790, 685, 810]
		  ZOrder		  -11
		  NameLocation		  "top"
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "spd_dep_gear_num"
		}
		Block {
		  BlockType		  From
		  Name			  "From <logic>2"
		  SID			  "360"
		  Position		  [40, 744, 145, 776]
		  ZOrder		  -12
		  ForegroundColor	  "red"
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "v_req_limited"
		}
		Block {
		  BlockType		  From
		  Name			  "From1"
		  SID			  "361"
		  Position		  [560, 850, 685, 870]
		  ZOrder		  -13
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "def_gear_num"
		}
		Block {
		  BlockType		  From
		  Name			  "From2"
		  SID			  "362"
		  Position		  [500, 710, 625, 730]
		  ZOrder		  -14
		  NameLocation		  "top"
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "def_gear_ratio"
		}
		Block {
		  BlockType		  From
		  Name			  "From3"
		  SID			  "363"
		  Position		  [500, 735, 625, 755]
		  ZOrder		  -15
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "def_shifting"
		}
		Block {
		  BlockType		  From
		  Name			  "From4"
		  SID			  "364"
		  Position		  [500, 645, 625, 665]
		  ZOrder		  -16
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "spd_dep_muxed"
		}
		Block {
		  BlockType		  From
		  Name			  "From5"
		  SID			  "365"
		  Position		  [135, 430, 260, 450]
		  ZOrder		  -17
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "shifting_out"
		}
		Block {
		  BlockType		  From
		  Name			  "From6"
		  SID			  "366"
		  Position		  [100, 255, 195, 275]
		  ZOrder		  -18
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "gear_num_out"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  SID			  "367"
		  Position		  [555, 207, 580, 233]
		  ZOrder		  -19
		  FontName		  "Arial"
		  Gain			  "-1"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  SID			  "368"
		  Position		  [265, 735, 385, 755]
		  ZOrder		  -20
		  NameLocation		  "top"
		  GotoTag		  "spd_dep_muxed"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto1"
		  SID			  "369"
		  Position		  [265, 759, 385, 781]
		  ZOrder		  -21
		  GotoTag		  "spd_dep_gear_num"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto2"
		  SID			  "370"
		  Position		  [760, 735, 880, 755]
		  ZOrder		  -22
		  GotoTag		  "shifting_out"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto3"
		  SID			  "371"
		  Position		  [890, 45, 1025, 65]
		  ZOrder		  -23
		  GotoTag		  "def_gear_num"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto4"
		  SID			  "372"
		  Position		  [900, 110, 1010, 130]
		  ZOrder		  -24
		  NameLocation		  "top"
		  GotoTag		  "def_gear_ratio"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto5"
		  SID			  "373"
		  Position		  [910, 285, 1020, 305]
		  ZOrder		  -25
		  NameLocation		  "top"
		  GotoTag		  "def_shifting"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto7"
		  SID			  "374"
		  Position		  [815, 875, 935, 895]
		  ZOrder		  -26
		  GotoTag		  "gear_num_out"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  SID			  "375"
		  Ports			  [4, 1]
		  Position		  [665, 422, 695, 468]
		  ZOrder		  -27
		  Inputs		  "4"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator1"
		  SID			  "376"
		  Ports			  [1, 1]
		  Position		  [295, 424, 325, 456]
		  ZOrder		  -28
		  ShowName		  off
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator2"
		  SID			  "377"
		  Ports			  [1, 1]
		  Position		  [530, 506, 560, 544]
		  ZOrder		  -29
		  ShowName		  off
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  SID			  "378"
		  Position		  [600, 510, 630, 540]
		  ZOrder		  -30
		  ShowName		  off
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  "379"
		  Ports			  [2, 1]
		  Position		  [645, 707, 650, 758]
		  ZOrder		  -31
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  SID			  "380"
		  Ports			  [2, 1]
		  Position		  [255, 112, 285, 143]
		  ZOrder		  -32
		  ShowName		  off
		  Inputs		  "*/"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product3"
		  SID			  "381"
		  Ports			  [2, 1]
		  Position		  [605, 203, 625, 227]
		  ZOrder		  -33
		  ShowName		  off
		  FontName		  "Arial"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product4"
		  SID			  "382"
		  Ports			  [2, 1]
		  Position		  [255, 517, 285, 548]
		  ZOrder		  -34
		  ShowName		  off
		  Inputs		  "*/"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation1"
		  SID			  "383"
		  Position		  [780, 111, 800, 129]
		  ZOrder		  -35
		  FontName		  "Arial"
		  UpperLimit		  "gb_gears_num"
		  LowerLimit		  "1"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Speed Dependent Shifting"
		  SID			  "384"
		  Ports			  [1, 2]
		  Position		  [190, 732, 220, 783]
		  ZOrder		  -36
		  AncestorBlock		  "lib_controls/SubSystem/Speed Dependent Shifting"
		  LibraryVersion	  "*"
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "Speed Dependent Shifting"
		    Location		    [8, 44, 1035, 872]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "28"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "velocity\nrequired\n(limited)\n"
		    SID			    "384:1"
		    Position		    [25, 58, 55, 72]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up\nTable\n(gear for downshift)"
		    SID			    "384:2"
		    Position		    [110, 375, 140, 405]
		    ZOrder		    -2
		    InputValues		    "tx_spd_dep_dnshift(:,1)   % vector of speeds m/s"
		    Table		    "tx_spd_dep_dnshift(:,2)  % gear number--must be step function"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up\nTable\n(gear for upshift)"
		    SID			    "384:3"
		    Position		    [105, 50, 135, 80]
		    ZOrder		    -3
		    InputValues		    "tx_spd_dep_upshift(:,1)   % vector of speeds in m/s"
		    Table		    "tx_spd_dep_upshift(:,2)  % gear number--must be step function"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    SID			    "384:4"
		    Ports		    [2, 1]
		    Position		    [405, 102, 440, 138]
		    ZOrder		    -4
		    ForegroundColor	    "red"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    SID			    "384:5"
		    Ports		    [2, 1]
		    Position		    [450, 382, 485, 418]
		    ZOrder		    -5
		    ForegroundColor	    "red"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "New gear ratio"
		    SID			    "384:6"
		    Ports		    [1]
		    Position		    [725, 259, 810, 281]
		    ZOrder		    -6
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    VariableName	    "new_gear_ratio"
		    MaxDataPoints	    "50000"
		    }
		    Block {
		    BlockType		    Rounding
		    Name		    "Rounding\nFunction"
		    SID			    "384:7"
		    Position		    [190, 50, 220, 80]
		    ZOrder		    -7
		    Operator		    "round"
		    }
		    Block {
		    BlockType		    Rounding
		    Name		    "Rounding\nFunction1"
		    SID			    "384:8"
		    Position		    [195, 375, 225, 405]
		    ZOrder		    -8
		    Operator		    "round"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation4"
		    SID			    "384:9"
		    Position		    [280, 56, 300, 74]
		    ZOrder		    -9
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    UpperLimit		    "gb_gears_num"
		    LowerLimit		    "1"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation5"
		    SID			    "384:10"
		    Position		    [285, 381, 305, 399]
		    ZOrder		    -10
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    UpperLimit		    "gb_gears_num"
		    LowerLimit		    "1"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "delta\nspeed\n(\"+\" is acceleration)"
		    SID			    "384:11"
		    Ports		    [2, 1]
		    Position		    [215, 240, 240, 300]
		    ZOrder		    -11
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio6"
		    SID			    "384:12"
		    Position		    [345, 53, 375, 77]
		    ZOrder		    -12
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    Table		    "gb_ratio"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio8"
		    SID			    "384:13"
		    Position		    [380, 378, 410, 402]
		    ZOrder		    -13
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    Table		    "gb_ratio"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "prev veh\nspeed"
		    SID			    "384:14"
		    Position		    [130, 245, 170, 265]
		    ZOrder		    -14
		    ForegroundColor	    "red"
		    NameLocation	    "top"
		    FontName		    "Arial"
		    InitialCondition	    "1"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "shifting"
		    SID			    "384:15"
		    Ports		    [1, 1]
		    Position		    [380, 444, 410, 476]
		    ZOrder		    -15
		    AncestorBlock	    "lib_controls/SubSystem/shifting"
		    LibraryVersion	    "*"
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "shifting"
		    Location		    [140, 76, 470, 445]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "35"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "gear\nnumber"
		    SID			    "384:15:1"
		    Position		    [15, 50, 35, 70]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "384:15:2"
		    Position		    [20, 131, 120, 159]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Value		    "gb_shift_delay-1e-6"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "384:15:3"
		    Ports		    [2, 1]
		    Position		    [185, 53, 215, 77]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "time since last shift"
		    SID			    "384:15:4"
		    Ports		    [1, 1]
		    Position		    [65, 43, 125, 77]
		    ZOrder		    -4
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    33
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('time since\\nlast shift')"
		    }
		    System {
		    Name		    "time since last shift"
		    Location		    [8, 268, 338, 585]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "384:15:5"
		    Position		    [10, 60, 30, 80]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just shifted"
		    SID			    "384:15:6"
		    Ports		    [1, 1]
		    Position		    [60, 57, 110, 83]
		    ZOrder		    -2
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    34
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('just\\nshifted')"
		    }
		    System {
		    Name		    "just shifted"
		    Location		    [104, 92, 467, 415]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "384:15:7"
		    Position		    [55, 55, 75, 75]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "384:15:8"
		    Position		    [120, 55, 155, 75]
		    ZOrder		    -2
		    FontName		    "Arial"
		    InitialCondition	    "1"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "384:15:9"
		    Ports		    [2, 1]
		    Position		    [190, 58, 220, 82]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "384:15:10"
		    Position		    [250, 60, 270, 80]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    2
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    3
		    Points		    [0, 30; 75, 0; 0, -20]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "timer"
		    SID			    "384:15:11"
		    Ports		    [1, 1]
		    Position		    [140, 55, 175, 85]
		    ZOrder		    -3
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    35
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('timer')"
		    }
		    System {
		    Name		    "timer"
		    Location		    [417, 59, 861, 452]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "trigger"
		    SID			    "384:15:12"
		    Position		    [15, 125, 35, 145]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "384:15:13"
		    Position		    [100, 100, 120, 120]
		    ZOrder		    -2
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "384:15:14"
		    Position		    [100, 150, 120, 170]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    "384:15:15"
		    Position		    [150, 5, 170, 25]
		    ZOrder		    -4
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "384:15:16"
		    Position		    [265, 59, 295, 91]
		    ZOrder		    -5
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "no-lag\nReset Integrator"
		    SID			    "384:15:17"
		    Ports		    [3, 1]
		    Position		    [155, 96, 205, 174]
		    ZOrder		    -6
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    36
		    $ClassName		    "Simulink.Mask"
		    Type		    "No-lag Reset Integrator"
		    Description		    "No-lag Reset Integrator"
		    Help		    "Integrates first input using Euler technique.\\nAt the time step that input 2 <> zero,\\noutput is re"
		    "set to input 3."
		    Display		    "disp('1/s\\nw/ reset\\nno lag')"
		    Object {
		    $PropName		    "Parameters"
		    $ObjectID		    37
		    $ClassName		    "Simulink.MaskParameter"
		    Type		    "edit"
		    Name		    "initval"
		    Prompt		    "Initial Value"
		    Value		    "15"
		    }
		    }
		    System {
		    Name		    "no-lag\nReset Integrator"
		    Location		    [220, 496, 782, 938]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "384:15:18"
		    Position		    [60, 100, 80, 120]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    SID			    "384:15:19"
		    Position		    [60, 140, 80, 160]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_3"
		    SID			    "384:15:20"
		    Position		    [45, 185, 65, 205]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "384:15:21"
		    Position		    [125, 205, 145, 225]
		    ZOrder		    -4
		    BlockRotation	    270
		    NameLocation	    "left"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "384:15:22"
		    Position		    [340, 55, 375, 75]
		    ZOrder		    -5
		    BlockMirror		    on
		    FontName		    "Arial"
		    InitialCondition	    "initval"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "384:15:23"
		    Ports		    [2, 1]
		    Position		    [160, 96, 180, 114]
		    ZOrder		    -6
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    "384:15:24"
		    Ports		    [2, 1]
		    Position		    [230, 90, 250, 110]
		    ZOrder		    -7
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "384:15:25"
		    Position		    [290, 139, 320, 171]
		    ZOrder		    -8
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    SID			    "384:15:26"
		    Ports		    [0, 1]
		    Position		    [112, 50, 138, 80]
		    ZOrder		    -9
		    BlockRotation	    270
		    BlockMirror		    on
		    NameLocation	    "right"
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "dt"
		    Location		    [42, 165, 431, 482]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    SID			    "384:15:27"
		    Position		    [65, 60, 85, 80]
		    ZOrder		    -1
		    FontName		    "Arial"
		    FontSize		    8
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    SID			    "384:15:28"
		    Position		    [125, 85, 160, 105]
		    ZOrder		    -2
		    FontName		    "Arial"
		    FontSize		    8
		    InitialCondition	    "-1"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    SID			    "384:15:29"
		    Ports		    [2, 1]
		    Position		    [205, 65, 225, 85]
		    ZOrder		    -3
		    FontName		    "Arial"
		    FontSize		    8
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "384:15:30"
		    Position		    [255, 65, 275, 85]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    4
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    5
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "in_2==0"
		    SID			    "384:15:31"
		    Ports		    [2, 1]
		    Position		    [160, 143, 190, 167]
		    ZOrder		    -10
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "384:15:32"
		    Position		    [455, 145, 475, 165]
		    ZOrder		    -11
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -40]
		    DstBlock		    "in_2==0"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "in_2==0"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    ZOrder		    4
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    5
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [10, 0; 0, 45]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-130, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "dt"
		    SrcPort		    1
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "in_2==0"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "in_3"
		    SrcPort		    1
		    Points		    [200, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "time"
		    SID			    "384:15:33"
		    Position		    [350, 65, 370, 85]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    Points		    [35, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [35, 0; 0, 50]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "trigger"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    6
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    7
		    Points		    [0, -60]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "time"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "384:15:34"
		    Position		    [225, 60, 245, 80]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "timer"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "just shifted"
		    SrcPort		    1
		    DstBlock		    "timer"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "just shifted"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "384:15:35"
		    Position		    [250, 55, 270, 75]
		    ZOrder		    -5
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "time since last shift"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [15, 0; 0, -75]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "time since last shift"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "shifting1"
		    SID			    "384:16"
		    Ports		    [1, 1]
		    Position		    [350, 114, 380, 146]
		    ZOrder		    -16
		    AncestorBlock	    "lib_controls/SubSystem/shifting"
		    LibraryVersion	    "*"
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "shifting1"
		    Location		    [140, 76, 470, 445]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "35"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "gear\nnumber"
		    SID			    "384:16:1"
		    Position		    [15, 50, 35, 70]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "384:16:2"
		    Position		    [20, 131, 120, 159]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Value		    "gb_shift_delay-1e-6"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "384:16:3"
		    Ports		    [2, 1]
		    Position		    [185, 53, 215, 77]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "time since last shift"
		    SID			    "384:16:4"
		    Ports		    [1, 1]
		    Position		    [65, 43, 125, 77]
		    ZOrder		    -4
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    38
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('time since\\nlast shift')"
		    }
		    System {
		    Name		    "time since last shift"
		    Location		    [8, 268, 338, 585]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "384:16:5"
		    Position		    [10, 60, 30, 80]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just shifted"
		    SID			    "384:16:6"
		    Ports		    [1, 1]
		    Position		    [60, 57, 110, 83]
		    ZOrder		    -2
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    39
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('just\\nshifted')"
		    }
		    System {
		    Name		    "just shifted"
		    Location		    [104, 92, 467, 415]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "384:16:7"
		    Position		    [55, 55, 75, 75]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "384:16:8"
		    Position		    [120, 55, 155, 75]
		    ZOrder		    -2
		    FontName		    "Arial"
		    InitialCondition	    "1"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "384:16:9"
		    Ports		    [2, 1]
		    Position		    [190, 58, 220, 82]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "384:16:10"
		    Position		    [250, 60, 270, 80]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    2
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    3
		    Points		    [0, 30; 75, 0; 0, -20]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "timer"
		    SID			    "384:16:11"
		    Ports		    [1, 1]
		    Position		    [140, 55, 175, 85]
		    ZOrder		    -3
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    40
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('timer')"
		    }
		    System {
		    Name		    "timer"
		    Location		    [417, 59, 861, 452]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "trigger"
		    SID			    "384:16:12"
		    Position		    [15, 125, 35, 145]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "384:16:13"
		    Position		    [100, 100, 120, 120]
		    ZOrder		    -2
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "384:16:14"
		    Position		    [100, 150, 120, 170]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    "384:16:15"
		    Position		    [150, 5, 170, 25]
		    ZOrder		    -4
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "384:16:16"
		    Position		    [265, 59, 295, 91]
		    ZOrder		    -5
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "no-lag\nReset Integrator"
		    SID			    "384:16:17"
		    Ports		    [3, 1]
		    Position		    [155, 96, 205, 174]
		    ZOrder		    -6
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    41
		    $ClassName		    "Simulink.Mask"
		    Type		    "No-lag Reset Integrator"
		    Description		    "No-lag Reset Integrator"
		    Help		    "Integrates first input using Euler technique.\\nAt the time step that input 2 <> zero,\\noutput is re"
		    "set to input 3."
		    Display		    "disp('1/s\\nw/ reset\\nno lag')"
		    Object {
		    $PropName		    "Parameters"
		    $ObjectID		    42
		    $ClassName		    "Simulink.MaskParameter"
		    Type		    "edit"
		    Name		    "initval"
		    Prompt		    "Initial Value"
		    Value		    "15"
		    }
		    }
		    System {
		    Name		    "no-lag\nReset Integrator"
		    Location		    [220, 496, 782, 938]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "384:16:18"
		    Position		    [60, 100, 80, 120]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    SID			    "384:16:19"
		    Position		    [60, 140, 80, 160]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_3"
		    SID			    "384:16:20"
		    Position		    [45, 185, 65, 205]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "384:16:21"
		    Position		    [125, 205, 145, 225]
		    ZOrder		    -4
		    BlockRotation	    270
		    NameLocation	    "left"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "384:16:22"
		    Position		    [340, 55, 375, 75]
		    ZOrder		    -5
		    BlockMirror		    on
		    FontName		    "Arial"
		    InitialCondition	    "initval"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "384:16:23"
		    Ports		    [2, 1]
		    Position		    [160, 96, 180, 114]
		    ZOrder		    -6
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    "384:16:24"
		    Ports		    [2, 1]
		    Position		    [230, 90, 250, 110]
		    ZOrder		    -7
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "384:16:25"
		    Position		    [290, 139, 320, 171]
		    ZOrder		    -8
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    SID			    "384:16:26"
		    Ports		    [0, 1]
		    Position		    [112, 50, 138, 80]
		    ZOrder		    -9
		    BlockRotation	    270
		    BlockMirror		    on
		    NameLocation	    "right"
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "dt"
		    Location		    [42, 165, 431, 482]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    SID			    "384:16:27"
		    Position		    [65, 60, 85, 80]
		    ZOrder		    -1
		    FontName		    "Arial"
		    FontSize		    8
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    SID			    "384:16:28"
		    Position		    [125, 85, 160, 105]
		    ZOrder		    -2
		    FontName		    "Arial"
		    FontSize		    8
		    InitialCondition	    "-1"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    SID			    "384:16:29"
		    Ports		    [2, 1]
		    Position		    [205, 65, 225, 85]
		    ZOrder		    -3
		    FontName		    "Arial"
		    FontSize		    8
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "384:16:30"
		    Position		    [255, 65, 275, 85]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    4
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    5
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "in_2==0"
		    SID			    "384:16:31"
		    Ports		    [2, 1]
		    Position		    [160, 143, 190, 167]
		    ZOrder		    -10
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "384:16:32"
		    Position		    [455, 145, 475, 165]
		    ZOrder		    -11
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -40]
		    DstBlock		    "in_2==0"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "in_2==0"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    ZOrder		    4
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    5
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [10, 0; 0, 45]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-130, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "dt"
		    SrcPort		    1
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "in_2==0"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "in_3"
		    SrcPort		    1
		    Points		    [200, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "time"
		    SID			    "384:16:33"
		    Position		    [350, 65, 370, 85]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    Points		    [35, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [35, 0; 0, 50]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "trigger"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    6
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    7
		    Points		    [0, -60]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "time"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "384:16:34"
		    Position		    [225, 60, 245, 80]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "timer"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "just shifted"
		    SrcPort		    1
		    DstBlock		    "timer"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "just shifted"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "384:16:35"
		    Position		    [250, 55, 270, 75]
		    ZOrder		    -5
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "time since last shift"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [15, 0; 0, -75]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "time since last shift"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "switch for gear\nnumber"
		    SID			    "384:17"
		    Position		    [580, 160, 610, 190]
		    ZOrder		    -17
		    ForegroundColor	    "red"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "switch for gear ratio\nand shifting (muxed)"
		    SID			    "384:18"
		    Position		    [580, 255, 610, 285]
		    ZOrder		    -18
		    ForegroundColor	    "red"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "total fuel used (gal)"
		    SID			    "384:19"
		    Ports		    [1]
		    Position		    [370, 339, 450, 361]
		    ZOrder		    -19
		    ForegroundColor	    "red"
		    NameLocation	    "top"
		    FontName		    "Arial"
		    VariableName	    "neg_gear_num"
		    MaxDataPoints	    "50000"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear ratio and shifting"
		    SID			    "384:20"
		    Position		    [650, 235, 680, 250]
		    ZOrder		    -20
		    BlockRotation	    270
		    NameLocation	    "right"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear number"
		    SID			    "384:21"
		    Position		    [665, 168, 695, 182]
		    ZOrder		    -21
		    Port		    "2"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Rounding\nFunction1"
		    SrcPort		    1
		    DstBlock		    "Saturation5"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Look-Up\nTable\n(gear for downshift)"
		    SrcPort		    1
		    DstBlock		    "Rounding\nFunction1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Rounding\nFunction"
		    SrcPort		    1
		    DstBlock		    "Saturation4"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Look-Up\nTable\n(gear for upshift)"
		    SrcPort		    1
		    DstBlock		    "Rounding\nFunction"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "delta\nspeed\n(\"+\" is acceleration)"
		    SrcPort		    1
		    Points		    [245, 0]
		    Branch {
		    ZOrder		    6
		    DstBlock		    "switch for gear ratio\nand shifting (muxed)"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    7
		    Points		    [0, -95]
		    DstBlock		    "switch for gear\nnumber"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "switch for gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "gear number"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "switch for gear ratio\nand shifting (muxed)"
		    SrcPort		    1
		    Points		    [50, 0]
		    Branch {
		    ZOrder		    10
		    DstBlock		    "gear ratio and shifting"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    11
		    DstBlock		    "New gear ratio"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "Saturation4"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    ZOrder		    13
		    DstBlock		    "gear ratio6"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    14
		    Points		    [0, 65]
		    Branch {
		    ZOrder		    15
		    DstBlock		    "shifting1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    16
		    Points		    [0, 35]
		    DstBlock		    "switch for gear\nnumber"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    ZOrder		    17
		    SrcBlock		    "shifting1"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    18
		    SrcBlock		    "gear ratio6"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    19
		    SrcBlock		    "Saturation5"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    ZOrder		    20
		    Points		    [0, 70]
		    DstBlock		    "shifting"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    21
		    Points		    [0, 0]
		    Branch {
		    ZOrder		    22
		    DstBlock		    "gear ratio8"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    23
		    Points		    [0, -40]
		    Branch {
		    ZOrder		    24
		    DstBlock		    "total fuel used (gal)"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    25
		    Points		    [0, -165]
		    DstBlock		    "switch for gear\nnumber"
		    DstPort		    3
		    }
		    }
		    }
		    }
		    Line {
		    ZOrder		    26
		    SrcBlock		    "gear ratio8"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    27
		    SrcBlock		    "shifting"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    28
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    Points		    [0, 140]
		    DstBlock		    "switch for gear ratio\nand shifting (muxed)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    29
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    Points		    [0, -120]
		    DstBlock		    "switch for gear ratio\nand shifting (muxed)"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    30
		    SrcBlock		    "prev veh\nspeed"
		    SrcPort		    1
		    DstBlock		    "delta\nspeed\n(\"+\" is acceleration)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    31
		    Labels		    [0, 0]
		    SrcBlock		    "velocity\nrequired\n(limited)\n"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    32
		    DstBlock		    "Look-Up\nTable\n(gear for upshift)"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    33
		    Points		    [0, 190]
		    Branch {
		    ZOrder		    34
		    Points		    [0, 30]
		    Branch {
		    ZOrder		    35
		    Points		    [0, 105]
		    DstBlock		    "Look-Up\nTable\n(gear for downshift)"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    36
		    DstBlock		    "delta\nspeed\n(\"+\" is acceleration)"
		    DstPort		    2
		    }
		    }
		    Branch {
		    ZOrder		    37
		    DstBlock		    "prev veh\nspeed"
		    DstPort		    1
		    }
		    }
		    }
		    Annotation {
		    SID			    "384:22"
		    Name		    "storing shifting and gear ratio\ninformation to workspace"
		    Position		    [740, 326, 870, 348]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -1
		    }
		    Annotation {
		    SID			    "384:23"
		    Name		    "decel case"
		    Position		    [361, 193, 410, 205]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -2
		    }
		    Annotation {
		    SID			    "384:24"
		    Name		    "accel case"
		    Position		    [525, 155, 574, 167]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -3
		    }
		    Annotation {
		    SID			    "384:25"
		    Name		    "accel\ncase"
		    Position		    [468, 222, 493, 244]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -4
		    }
		    Annotation {
		    SID			    "384:26"
		    Name		    "decel\ncase"
		    Position		    [510, 383, 535, 405]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -5
		    }
		    Annotation {
		    SID			    "384:27"
		    Name		    "delta speed"
		    Position		    [285, 260, 338, 272]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -6
		    }
		    Annotation {
		    SID			    "384:28"
		    Name		    "SPEED \nDEPENDENT \nSHIFT\nSIGNAL"
		    Position		    [709, 85, 775, 127]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -7
		    }
		  }
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  SID			  "385"
		  Position		  [400, 105, 430, 135]
		  ZOrder		  -37
		  ShowName		  off
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  SID			  "386"
		  Position		  [405, 510, 435, 540]
		  ZOrder		  -38
		  ShowName		  off
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  SID			  "387"
		  Position		  [705, 810, 735, 840]
		  ZOrder		  -39
		  Threshold		  "0.5"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch3"
		  SID			  "388"
		  Position		  [675, 675, 705, 705]
		  ZOrder		  -40
		  Threshold		  "0.5"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "allow downshift?"
		  SID			  "389"
		  Ports			  [1, 1]
		  Position		  [500, 12, 530, 48]
		  ZOrder		  -41
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "allow downshift?"
		    Location		    [306, 153, 835, 546]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gearnum"
		    SID			    "390"
		    Position		    [35, 35, 55, 55]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    SID			    "391"
		    Ports		    [2, 1]
		    Position		    [380, 43, 410, 67]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Operator		    "NOR"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "392"
		    Position		    [150, 60, 185, 80]
		    ZOrder		    -3
		    FontName		    "Arial"
		    InitialCondition	    "1"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    SID			    "393"
		    Position		    [150, 105, 185, 125]
		    ZOrder		    -4
		    FontName		    "Arial"
		    InitialCondition	    "1"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    SID			    "394"
		    Ports		    [2, 1]
		    Position		    [230, 38, 260, 62]
		    ZOrder		    -5
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    SID			    "395"
		    Ports		    [2, 1]
		    Position		    [230, 98, 260, 122]
		    ZOrder		    -6
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "allow shift"
		    SID			    "396"
		    Position		    [445, 45, 465, 65]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "allow shift"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "prev gearnum"
		    SrcPort		    1
		    Points		    [50, 0]
		    Branch {
		    ZOrder		    3
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    4
		    Points		    [0, 25]
		    Branch {
		    ZOrder		    5
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    6
		    Points		    [0, 35]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    ZOrder		    9
		    Points		    [15, 0; 0, -15]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    10
		    Points		    [0, 70; -60, 0]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "current\ngear\nnumber"
		  SID			  "397"
		  Ports			  [2, 1]
		  Position		  [725, 102, 745, 138]
		  ZOrder		  -42
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Switch
		  Name			  "delta\ngear\nnumber"
		  SID			  "398"
		  Position		  [670, 114, 700, 146]
		  ZOrder		  -43
		  FontName		  "Arial"
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "downshift \ncommand"
		  SID			  "399"
		  Ports			  [3, 1]
		  Position		  [500, 198, 530, 242]
		  ZOrder		  -44
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "downshift \ncommand"
		    Location		    [403, 242, 918, 715]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear number"
		    SID			    "400"
		    Position		    [45, 98, 75, 112]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine load"
		    SID			    "401"
		    Position		    [45, 38, 75, 52]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine speed"
		    SID			    "402"
		    Position		    [45, 133, 75, 147]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    SID			    "403"
		    Ports		    [2, 1]
		    Position		    [130, 107, 165, 143]
		    ZOrder		    -4
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "404"
		    Ports		    [2, 1]
		    Position		    [350, 38, 380, 62]
		    ZOrder		    -5
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "load fraction"
		    SID			    "405"
		    Ports		    [1, 1]
		    Position		    [240, 100, 270, 150]
		    ZOrder		    -6
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    43
		    $ClassName		    "Simulink.Mask"
		    Type		    "Gear Selector"
		    Description		    "This block will perform a linear interplation (extrapolation outside of bounds) to determine t"
		    "he shift point load fraction associated with the current gear number and speed. \n\nThe Speeds parameter should "
		    "be defined as an array of vectors containing speeds for each gear number.  The Load Fractions parameter should b"
		    "e defined as a array of vectors containing load fractions indexed by the speeds in the Speeds parameter for each"
		    " gear number."
		    Help		    "Reference the base workspace variables - gb_**shift_spd and gb_**shift_load  where ** is either up fo"
		    "r upshift conditions or dn for downshift conditions.\n\nOr define the arrays as follows:\n\n{[spd1 spd2 spd3 spd"
		    "4]; [spd1 spd2 spd3 spd4]; ...}\n\n{[load1 load2 load3 load4]; [load1 load2 load3 load4]; ...}\n\nwhere each arr"
		    "ay contains one row for each gear in the gearbox.  Speeds should be defined in rad/s and loads as a decimal frac"
		    "tion.\n\n"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    2
		    Object {
		    $ObjectID		    44
		    Type		    "edit"
		    Name		    "spd"
		    Prompt		    "Speeds:"
		    Value		    "gb_dnshift_spd"
		    }
		    Object {
		    $ObjectID		    45
		    Type		    "edit"
		    Name		    "load"
		    Prompt		    "Load Fractions:"
		    Value		    "gb_dnshift_load"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "load fraction"
		    Location		    [426, 320, 706, 580]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "406"
		    Position		    [25, 33, 55, 47]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    S-Function
		    Name		    "S-Function"
		    SID			    "407"
		    Ports		    [1, 1]
		    Position		    [80, 25, 160, 55]
		    ZOrder		    -2
		    FunctionName	    "sfun_gearbox"
		    Parameters		    "load, spd"
		    SFunctionDeploymentMode off
		    EnableBusSupport	    off
		    SFcnIsStateOwnerBlock   off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    SID			    "408"
		    Position		    [185, 33, 215, 47]
		    ZOrder		    -3
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "S-Function"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "command"
		    SID			    "409"
		    Position		    [420, 43, 450, 57]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "command"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "engine speed"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "prev gear number"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "engine load"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "load fraction"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "load fraction"
		    SrcPort		    1
		    Points		    [55, 0; 0, -70]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "downshift \ncommand1"
		  SID			  "410"
		  Ports			  [3, 1]
		  Position		  [480, 499, 510, 551]
		  ZOrder		  -45
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "downshift \ncommand1"
		    Location		    [393, 252, 908, 725]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear number"
		    SID			    "411"
		    Position		    [45, 98, 75, 112]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine load"
		    SID			    "412"
		    Position		    [45, 38, 75, 52]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine speed"
		    SID			    "413"
		    Position		    [45, 133, 75, 147]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    SID			    "414"
		    Ports		    [2, 1]
		    Position		    [130, 107, 165, 143]
		    ZOrder		    -4
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "415"
		    Ports		    [2, 1]
		    Position		    [350, 38, 380, 62]
		    ZOrder		    -5
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "load fraction"
		    SID			    "416"
		    Ports		    [1, 1]
		    Position		    [240, 100, 270, 150]
		    ZOrder		    -6
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    46
		    $ClassName		    "Simulink.Mask"
		    Type		    "Gear Selector"
		    Description		    "This block will perform a linear interplation (extrapolation outside of bounds) to determine t"
		    "he shift point load fraction associated with the current gear number and speed. \n\nThe Speeds parameter should "
		    "be defined as an array of vectors containing speeds for each gear number.  The Load Fractions parameter should b"
		    "e defined as a array of vectors containing load fractions indexed by the speeds in the Speeds parameter for each"
		    " gear number."
		    Help		    "Reference the base workspace variables - gb_**shift_spd and gb_**shift_load  where ** is either up fo"
		    "r upshift conditions or dn for downshift conditions.\n\nOr define the arrays as follows:\n\n{[spd1 spd2 spd3 spd"
		    "4]; [spd1 spd2 spd3 spd4]; ...}\n\n{[load1 load2 load3 load4]; [load1 load2 load3 load4]; ...}\n\nwhere each arr"
		    "ay contains one row for each gear in the gearbox.  Speeds should be defined in rad/s and loads as a decimal frac"
		    "tion.\n\n"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    2
		    Object {
		    $ObjectID		    47
		    Type		    "edit"
		    Name		    "spd"
		    Prompt		    "Speeds:"
		    Value		    "gb_dnshift_spd"
		    }
		    Object {
		    $ObjectID		    48
		    Type		    "edit"
		    Name		    "load"
		    Prompt		    "Load Fractions:"
		    Value		    "gb_dnshift_load"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "load fraction"
		    Location		    [426, 320, 706, 580]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "417"
		    Position		    [25, 33, 55, 47]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    S-Function
		    Name		    "S-Function"
		    SID			    "418"
		    Ports		    [1, 1]
		    Position		    [80, 25, 160, 55]
		    ZOrder		    -2
		    FunctionName	    "sfun_gearbox"
		    Parameters		    "load, spd"
		    SFunctionDeploymentMode off
		    EnableBusSupport	    off
		    SFcnIsStateOwnerBlock   off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    SID			    "419"
		    Position		    [185, 33, 215, 47]
		    ZOrder		    -3
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "S-Function"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "command"
		    SID			    "420"
		    Position		    [420, 43, 450, 57]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "engine speed"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "load fraction"
		    SrcPort		    1
		    Points		    [55, 0; 0, -70]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "load fraction"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "engine load"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "prev gear number"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "command"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Lookup
		  Name			  "engine\ntorque\ncapability"
		  SID			  "421"
		  Position		  [200, 125, 230, 145]
		  ZOrder		  -46
		  FontName		  "Arial"
		  InputValues		  "fc_map_spd*fc_spd_scale"
		  Table			  "fc_max_trq*fc_trq_scale+eps"
		}
		Block {
		  BlockType		  Lookup
		  Name			  "engine\ntorque\ncapability1"
		  SID			  "422"
		  Position		  [200, 530, 230, 550]
		  ZOrder		  -47
		  FontName		  "Arial"
		  InputValues		  "fc_map_spd*fc_spd_scale"
		  Table			  "fc_max_trq*fc_trq_scale+eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "est. engine trq\nand\nspd"
		  SID			  "423"
		  Ports			  [4, 3]
		  Position		  [115, 84, 145, 116]
		  ZOrder		  -48
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "est. engine trq\nand\nspd"
		    Location		    [8, 44, 1068, 871]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear\nnumber"
		    SID			    "424"
		    Position		    [20, 113, 50, 127]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    " prev eta_gb"
		    SID			    "425"
		    Position		    [20, 168, 50, 182]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_trq_out_r"
		    SID			    "426"
		    Position		    [20, 223, 50, 237]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_spd_out_r"
		    SID			    "427"
		    Position		    [20, 278, 50, 292]
		    ZOrder		    -4
		    Port		    "4"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    SID			    "428"
		    Ports		    []
		    Position		    [1095, 305, 1151, 345]
		    ZOrder		    -5
		    BackgroundColor	    "green"
		    ShowName		    off
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    49
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		    }
		    System {
		    Name		    "Block NOTES"
		    Location		    [193, 137, 691, 379]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "429"
		    Name		    "Estimate engine torque and speed associated with the previous gear, assuming that\nthe gearbox effici"
		    "ency is constant."
		    Position		    [227, 12, 598, 34]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    "430"
		    Position		    [760, 220, 780, 240]
		    ZOrder		    -6
		    BlockMirror		    on
		    Value		    "[1 1]"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant5"
		    SID			    "431"
		    Position		    [620, 70, 640, 90]
		    ZOrder		    -7
		    BlockMirror		    on
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    SID			    "432"
		    Ports		    [1, 2]
		    Position		    [980, 172, 1015, 208]
		    ZOrder		    -8
		    Outputs		    "2"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    SID			    "433"
		    Position		    [310, 50, 405, 70]
		    ZOrder		    -9
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "locked_up"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From5"
		    SID			    "434"
		    Position		    [165, 223, 275, 247]
		    ZOrder		    -10
		    BackgroundColor	    "gray"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_trq_est"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "K_adv"
		    SID			    "435"
		    Ports		    [1, 1]
		    Position		    [460, 145, 490, 175]
		    ZOrder		    -11
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "K_adv"
		    Location		    [464, 468, 996, 891]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq and spd\n(Nm), (rad/s)"
		    SID			    "436"
		    Position		    [45, 58, 75, 72]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "K_adv=wout/(Tout)^0.5"
		    SID			    "437"
		    Position		    [160, 51, 280, 79]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Expr		    "u[2]/u[1]^0.5"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    SID			    "438"
		    Position		    [305, 50, 335, 80]
		    ZOrder		    -3
		    UpperLimit		    "max(htc_k_adv)"
		    LowerLimit		    "min(htc_k_adv)"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    SID			    "439"
		    Position		    [105, 50, 135, 80]
		    ZOrder		    -4
		    ShowName		    off
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "K_adv"
		    SID			    "440"
		    Position		    [385, 58, 415, 72]
		    ZOrder		    -5
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Req'd output\ntrq and spd\n(Nm), (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "K_adv=wout/(Tout)^0.5"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "K_adv=wout/(Tout)^0.5"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    SID			    "441"
		    Ports		    [2, 1]
		    Position		    [685, 36, 715, 69]
		    ZOrder		    -12
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    SID			    "442"
		    Ports		    [1, 1]
		    Position		    [510, 43, 540, 77]
		    ZOrder		    -13
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "443"
		    Position		    [445, 45, 475, 75]
		    ZOrder		    -14
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    SID			    "444"
		    Ports		    [2, 1]
		    Position		    [805, 97, 840, 133]
		    ZOrder		    -15
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    SID			    "445"
		    Ports		    [2, 1]
		    Position		    [430, 142, 440, 178]
		    ZOrder		    -16
		    ShowName		    off
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    SID			    "446"
		    Ports		    [2, 1]
		    Position		    [615, 12, 645, 43]
		    ZOrder		    -17
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "SR Look-Up\nTable\nSR=wout/win"
		    SID			    "447"
		    Position		    [535, 210, 565, 240]
		    ZOrder		    -18
		    InputValues		    "htc_k_adv"
		    Table		    "htc_sr"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    SID			    "448"
		    Position		    [85, 160, 115, 190]
		    ZOrder		    -19
		    UpperLimit		    "1"
		    LowerLimit		    "0.7"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    SID			    "449"
		    Position		    [1035, 185, 1065, 215]
		    ZOrder		    -20
		    UpperLimit		    "inf"
		    LowerLimit		    "0"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "450"
		    Position		    [755, 170, 785, 200]
		    ZOrder		    -21
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SID			    "451"
		    Position		    [535, 125, 565, 155]
		    ZOrder		    -22
		    InputValues		    "htc_k_adv"
		    Table		    "htc_tr"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "TR,SR"
		    SID			    "452"
		    Ports		    [2, 1]
		    Position		    [695, 157, 730, 193]
		    ZOrder		    -23
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "est eng\ntrq"
		    SID			    "453"
		    Ports		    [2, 1]
		    Position		    [295, 132, 315, 168]
		    ZOrder		    -24
		    ForegroundColor	    "magenta"
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio1"
		    SID			    "454"
		    Position		    [85, 108, 115, 132]
		    ZOrder		    -25
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    Table		    "gb_ratio"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~eng trq\nand spd"
		    SID			    "455"
		    Ports		    [2, 1]
		    Position		    [870, 161, 900, 194]
		    ZOrder		    -26
		    Inputs		    "*/"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_spd_in_r"
		    SID			    "456"
		    Ports		    [2, 1]
		    Position		    [170, 260, 200, 295]
		    ZOrder		    -27
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_trq_in_r"
		    SID			    "457"
		    Ports		    [3, 1]
		    Position		    [170, 105, 200, 195]
		    ZOrder		    -28
		    Inputs		    "//*"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "est eng trq\n(Nm)"
		    SID			    "458"
		    Position		    [1105, 103, 1135, 117]
		    ZOrder		    -29
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "est eng spd\n(rad/s)"
		    SID			    "459"
		    Position		    [1100, 193, 1130, 207]
		    ZOrder		    -30
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gb_spd_in_est\n(rad/s)1"
		    SID			    "460"
		    Position		    [1100, 238, 1130, 252]
		    ZOrder		    -31
		    ForegroundColor	    "blue"
		    Port		    "3"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "est eng\ntrq"
		    SrcPort		    1
		    Points		    [65, 0]
		    Branch {
		    ZOrder		    2
		    Points		    [0, -35; 190, 0]
		    Branch {
		    ZOrder		    3
		    Points		    [200, 0; 0, -10]
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    4
		    Points		    [0, -95]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    5
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "~gb_trq_in_r"
		    SrcPort		    1
		    Points		    [70, 0; 0, -10]
		    DstBlock		    "est eng\ntrq"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "~gb_spd_in_r"
		    SrcPort		    1
		    Points		    [205, 0]
		    Branch {
		    ZOrder		    8
		    Points		    [0, -110]
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    9
		    Points		    [380, 0; 0, 5]
		    Branch {
		    ZOrder		    10
		    Points		    [295, 0]
		    DstBlock		    "gb_spd_in_est\n(rad/s)1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    11
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    }
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "From5"
		    SrcPort		    1
		    DstBlock		    "est eng\ntrq"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    13
		    SrcBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    SrcPort		    1
		    Points		    [110, 0]
		    DstBlock		    "TR,SR"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SrcPort		    1
		    Points		    [110, 0]
		    DstBlock		    "TR,SR"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    "K_adv"
		    SrcPort		    1
		    Points		    [15, 0; 0, -5]
		    Branch {
		    ZOrder		    16
		    Points		    [0, 70]
		    DstBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    17
		    Points		    [0, -15]
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    18
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    19
		    SrcBlock		    "~eng trq\nand spd"
		    SrcPort		    1
		    Points		    [60, 0]
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    20
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    Points		    [5, 0; 0, 55]
		    DstBlock		    "~eng trq\nand spd"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    21
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    22
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    23
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    24
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    25
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    Points		    [40, 0; 0, -70]
		    DstBlock		    "est eng trq\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    26
		    SrcBlock		    "prev gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "gear ratio1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    27
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    28
		    SrcBlock		    "Constant5"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    29
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "est eng spd\n(rad/s)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    30
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    31
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    32
		    SrcBlock		    " prev eta_gb"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    33
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "~eng trq\nand spd"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    34
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    35
		    SrcBlock		    "TR,SR"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    36
		    SrcBlock		    "gear ratio1"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    ZOrder		    37
		    Points		    [0, 150]
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    38
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    39
		    SrcBlock		    "gb_spd_out_r"
		    SrcPort		    1
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    40
		    SrcBlock		    "gb_trq_out_r"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    3
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "est. engine trq\nand spd assuming\nlockup"
		  SID			  "461"
		  Ports			  [4, 2]
		  Position		  [115, 489, 145, 521]
		  ZOrder		  -49
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "est. engine trq\nand spd assuming\nlockup"
		    Location		    [25, 44, 888, 892]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "new gear\nnumber"
		    SID			    "462"
		    Position		    [30, 28, 60, 42]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    " prev eta_gb"
		    SID			    "463"
		    Position		    [30, 83, 60, 97]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_trq_out_r"
		    SID			    "464"
		    Position		    [30, 138, 60, 152]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_spd_in_est"
		    SID			    "465"
		    Position		    [30, 218, 60, 232]
		    ZOrder		    -4
		    Port		    "4"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    SID			    "466"
		    Ports		    []
		    Position		    [625, 180, 681, 220]
		    ZOrder		    -5
		    BackgroundColor	    "green"
		    ShowName		    off
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    50
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		    }
		    System {
		    Name		    "Block NOTES"
		    Location		    [193, 137, 691, 379]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "467"
		    Name		    "Estimate engine torque and speed associated with the current gear, assuming that\nthe gearbox efficie"
		    "ncy is constant."
		    Position		    [227, 12, 592, 34]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		    }
		    }
		    Block {
		    BlockType		    From
		    Name		    "From5"
		    SID			    "468"
		    Position		    [220, 73, 330, 97]
		    ZOrder		    -6
		    BackgroundColor	    "gray"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_trq_est"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "469"
		    Position		    [130, 180, 160, 210]
		    ZOrder		    -7
		    InitialCondition	    "gb_ratio(1)"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    SID			    "470"
		    Position		    [95, 75, 125, 105]
		    ZOrder		    -8
		    UpperLimit		    "1"
		    LowerLimit		    "0.7"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    SID			    "471"
		    Position		    [580, 65, 610, 95]
		    ZOrder		    -9
		    UpperLimit		    "inf"
		    LowerLimit		    "0"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "est eng\ntrq"
		    SID			    "472"
		    Ports		    [2, 1]
		    Position		    [385, 57, 405, 93]
		    ZOrder		    -10
		    ForegroundColor	    "magenta"
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio1"
		    SID			    "473"
		    Position		    [95, 23, 125, 47]
		    ZOrder		    -11
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    Table		    "gb_ratio"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_spd_in_r"
		    SID			    "474"
		    Ports		    [3, 1]
		    Position		    [180, 150, 210, 240]
		    ZOrder		    -12
		    Inputs		    "*/*"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_trq_in_r"
		    SID			    "475"
		    Ports		    [3, 1]
		    Position		    [180, 20, 210, 110]
		    ZOrder		    -13
		    Inputs		    "//*"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "est eng trq\n(Nm)"
		    SID			    "476"
		    Position		    [645, 18, 675, 32]
		    ZOrder		    -14
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "est eng spd\n(rad/s)"
		    SID			    "477"
		    Position		    [645, 73, 675, 87]
		    ZOrder		    -15
		    Port		    "2"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "~gb_spd_in_r"
		    SrcPort		    1
		    Points		    [310, 0; 0, -110; 30, 0; 0, -5]
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "est eng\ntrq"
		    SrcPort		    1
		    Points		    [0, -50]
		    DstBlock		    "est eng trq\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "~gb_trq_in_r"
		    SrcPort		    1
		    DstBlock		    "est eng\ntrq"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "From5"
		    SrcPort		    1
		    DstBlock		    "est eng\ntrq"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "gb_spd_in_est"
		    SrcPort		    1
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "est eng spd\n(rad/s)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "new gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "gear ratio1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "gb_trq_out_r"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "gear ratio1"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    ZOrder		    11
		    Points		    [0, 130]
		    Branch {
		    ZOrder		    12
		    Points		    [-35, 0]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    13
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    14
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    " prev eta_gb"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  Lookup
		  Name			  "gear ratio1"
		  SID			  "478"
		  Position		  [840, 108, 870, 132]
		  ZOrder		  -50
		  FontName		  "Arial"
		  InputValues		  "[1:length(gb_ratio)]"
		  Table			  "gb_ratio"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "htc lockup logic"
		  SID			  "479"
		  Ports			  [2, 1]
		  Position		  [265, 297, 370, 353]
		  ZOrder		  -51
		  ForegroundColor	  "orange"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "htc lockup logic"
		    Location		    [8, 44, 1060, 887]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "engine load (%)"
		    SID			    "480"
		    Position		    [50, 388, 80, 402]
		    ZOrder		    -1
		    ForegroundColor	    "orange"
		    NameLocation	    "top"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear num"
		    SID			    "481"
		    Position		    [90, 68, 120, 82]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "482"
		    Position		    [285, 110, 305, 130]
		    ZOrder		    -3
		    BlockMirror		    on
		    ShowName		    off
		    Value		    "0.5"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    "483"
		    Position		    [350, 185, 370, 205]
		    ZOrder		    -4
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    SID			    "484"
		    Position		    [560, 490, 580, 510]
		    ZOrder		    -5
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant4"
		    SID			    "485"
		    Position		    [500, 410, 520, 430]
		    ZOrder		    -6
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Value		    "-1"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <gb>"
		    SID			    "486"
		    Position		    [25, 450, 120, 470]
		    ZOrder		    -7
		    ForegroundColor	    "orange"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gb_trq_out_a"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    SID			    "487"
		    Ports		    [2, 1]
		    Position		    [555, 446, 590, 479]
		    ZOrder		    -8
		    ForegroundColor	    "orange"
		    ShowName		    off
		    FontName		    "Arial"
		    Operator		    "NOR"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    SID			    "488"
		    Position		    [745, 360, 780, 380]
		    ZOrder		    -9
		    BlockMirror		    on
		    ForegroundColor	    "orange"
		    ShowName		    off
		    FontName		    "Arial"
		    InitialCondition	    "1"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory2"
		    SID			    "489"
		    Position		    [145, 450, 180, 470]
		    ZOrder		    -10
		    ForegroundColor	    "orange"
		    FontName		    "Arial"
		    InitialCondition	    "1"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory3"
		    SID			    "490"
		    Position		    [110, 385, 145, 405]
		    ZOrder		    -11
		    ForegroundColor	    "orange"
		    FontName		    "Arial"
		    InitialCondition	    "1"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "491"
		    Ports		    [2, 1]
		    Position		    [280, 67, 310, 98]
		    ZOrder		    -12
		    ShowName		    off
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    SID			    "492"
		    Ports		    [2, 1]
		    Position		    [290, 212, 320, 243]
		    ZOrder		    -13
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    SID			    "493"
		    Ports		    [2, 1]
		    Position		    [400, 387, 430, 418]
		    ZOrder		    -14
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator3"
		    SID			    "494"
		    Ports		    [2, 1]
		    Position		    [400, 497, 430, 528]
		    ZOrder		    -15
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    SID			    "495"
		    Position		    [815, 440, 845, 470]
		    ZOrder		    -16
		    ForegroundColor	    "orange"
		    ShowName		    off
		    FontName		    "Arial"
		    UpperLimit		    "1"
		    LowerLimit		    "0"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "496"
		    Position		    [540, 60, 570, 110]
		    ZOrder		    -17
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    SID			    "497"
		    Position		    [430, 205, 460, 255]
		    ZOrder		    -18
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch2"
		    SID			    "498"
		    Position		    [640, 440, 670, 490]
		    ZOrder		    -19
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch3"
		    SID			    "499"
		    Position		    [560, 380, 590, 430]
		    ZOrder		    -20
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "current lock/unlock \nstatus"
		    SID			    "500"
		    Ports		    [2, 1]
		    Position		    [765, 437, 785, 473]
		    ZOrder		    -21
		    ForegroundColor	    "orange"
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "lock-up in\nhigh gears"
		    SID			    "501"
		    Position		    [190, 63, 220, 87]
		    ZOrder		    -22
		    FontName		    "Arial"
		    InputValues		    "[1:length(htc_lockup)]"
		    Table		    "htc_lockup"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "lock-up in\nthis gear"
		    SID			    "502"
		    Position		    [270, 383, 300, 407]
		    ZOrder		    -23
		    ForegroundColor	    "orange"
		    FontName		    "Arial"
		    InputValues		    "htc_lockup_load"
		    Table		    "htc_lockup_spd"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "lock/unlock \ngear range"
		    SID			    "503"
		    Position		    [190, 223, 220, 247]
		    ZOrder		    -24
		    ForegroundColor	    "orange"
		    FontName		    "Arial"
		    InputValues		    "[1:length(htc_lockup)]"
		    Table		    "htc_lu_gear_range"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "unlock in\nthis gear"
		    SID			    "504"
		    Position		    [270, 508, 300, 532]
		    ZOrder		    -25
		    ForegroundColor	    "orange"
		    FontName		    "Arial"
		    InputValues		    "htc_lockup_load"
		    Table		    "htc_unlock_spd"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "htc L/UL"
		    SID			    "505"
		    Position		    [705, 78, 735, 92]
		    ZOrder		    -26
		    ForegroundColor	    "orange"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [-15, 0]
		    Branch {
		    ZOrder		    2
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    3
		    Points		    [0, 100]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "gear num"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    ZOrder		    5
		    DstBlock		    "lock-up in\nhigh gears"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    6
		    Points		    [0, 160]
		    DstBlock		    "lock/unlock \ngear range"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "lock-up in\nhigh gears"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [175, 0]
		    Branch {
		    ZOrder		    9
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    10
		    Points		    [0, -15]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [55, 0]
		    Branch {
		    ZOrder		    12
		    DstBlock		    "htc L/UL"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    13
		    Points		    [0, 90; 165, 0]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "lock/unlock \ngear range"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    "lock-up in\nthis gear"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    "unlock in\nthis gear"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator3"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    17
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    18
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    19
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    Points		    [25, 0; 0, -130]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    20
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [20, 0; 0, -185; -455, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    21
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    22
		    Points		    [0, 50]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    23
		    DstBlock		    "Switch3"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    24
		    Points		    [0, -15]
		    DstBlock		    "Switch3"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    25
		    SrcBlock		    "Relational\nOperator3"
		    SrcPort		    1
		    Points		    [15, 0; 0, -45]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    26
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "Switch2"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    27
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [35, 0; 0, -20]
		    DstBlock		    "Switch2"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    28
		    SrcBlock		    "Switch3"
		    SrcPort		    1
		    Points		    [15, 0; 0, 45]
		    DstBlock		    "Switch2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    29
		    SrcBlock		    "Constant4"
		    SrcPort		    1
		    DstBlock		    "Switch3"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    30
		    SrcBlock		    "current lock/unlock \nstatus"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    31
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [-20, 0; 0, 75]
		    DstBlock		    "current lock/unlock \nstatus"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    32
		    SrcBlock		    "Switch2"
		    SrcPort		    1
		    DstBlock		    "current lock/unlock \nstatus"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    33
		    SrcBlock		    "Memory2"
		    SrcPort		    1
		    Points		    [175, 0]
		    Branch {
		    ZOrder		    34
		    Points		    [0, -50]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    35
		    Points		    [0, 45]
		    DstBlock		    "Relational\nOperator3"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    36
		    SrcBlock		    "Memory3"
		    SrcPort		    1
		    Points		    [70, 0]
		    Branch {
		    ZOrder		    37
		    DstBlock		    "lock-up in\nthis gear"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    38
		    Points		    [0, 125]
		    DstBlock		    "unlock in\nthis gear"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    39
		    SrcBlock		    "engine load (%)"
		    SrcPort		    1
		    DstBlock		    "Memory3"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    40
		    SrcBlock		    "From <gb>"
		    SrcPort		    1
		    DstBlock		    "Memory2"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Saturate
		  Name			  "load=T/\n(maxT\nat spd)"
		  SID			  "506"
		  Position		  [310, 116, 345, 144]
		  ZOrder		  -52
		  FontName		  "Arial"
		  UpperLimit		  "1"
		  LowerLimit		  "-1"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "load=T/\n(maxT\nat spd)1"
		  SID			  "507"
		  Position		  [310, 521, 345, 549]
		  ZOrder		  -53
		  FontName		  "Arial"
		  UpperLimit		  "1"
		  LowerLimit		  "-1"
		}
		Block {
		  BlockType		  Memory
		  Name			  "prev gear\nnumber"
		  SID			  "508"
		  Position		  [745, 45, 785, 65]
		  ZOrder		  -54
		  BlockMirror		  on
		  FontName		  "Arial"
		  InitialCondition	  "gb_num_init"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "shifting1"
		  SID			  "509"
		  Ports			  [1, 1]
		  Position		  [845, 279, 875, 311]
		  ZOrder		  -55
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "shifting1"
		    Location		    [38, 124, 368, 493]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "gear\nnumber"
		    SID			    "510"
		    Position		    [15, 50, 35, 70]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "511"
		    Position		    [20, 131, 120, 159]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Value		    "gb_shift_delay-1e-6"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "512"
		    Ports		    [2, 1]
		    Position		    [185, 53, 215, 77]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "time since last shift"
		    SID			    "513"
		    Ports		    [1, 1]
		    Position		    [65, 43, 125, 77]
		    ZOrder		    -4
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    51
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('time since\\nlast shift')"
		    }
		    System {
		    Name		    "time since last shift"
		    Location		    [9, 475, 339, 792]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "514"
		    Position		    [10, 60, 30, 80]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just shifted"
		    SID			    "515"
		    Ports		    [1, 1]
		    Position		    [60, 57, 110, 83]
		    ZOrder		    -2
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    52
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('just\\nshifted')"
		    }
		    System {
		    Name		    "just shifted"
		    Location		    [10, 730, 373, 1053]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "516"
		    Position		    [55, 55, 75, 75]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "517"
		    Position		    [120, 55, 155, 75]
		    ZOrder		    -2
		    FontName		    "Arial"
		    InitialCondition	    "1"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "518"
		    Ports		    [2, 1]
		    Position		    [190, 58, 220, 82]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "519"
		    Position		    [250, 60, 270, 80]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    4
		    Points		    [0, 30; 75, 0; 0, -20]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    5
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "timer"
		    SID			    "520"
		    Ports		    [1, 1]
		    Position		    [140, 55, 175, 85]
		    ZOrder		    -3
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    53
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('timer')"
		    }
		    System {
		    Name		    "timer"
		    Location		    [351, 515, 795, 908]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "trigger"
		    SID			    "521"
		    Position		    [15, 125, 35, 145]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "522"
		    Position		    [100, 100, 120, 120]
		    ZOrder		    -2
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "523"
		    Position		    [100, 150, 120, 170]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    "524"
		    Position		    [150, 5, 170, 25]
		    ZOrder		    -4
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "525"
		    Position		    [265, 59, 295, 91]
		    ZOrder		    -5
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "no-lag\nReset Integrator"
		    SID			    "526"
		    Ports		    [3, 1]
		    Position		    [155, 96, 205, 174]
		    ZOrder		    -6
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    54
		    $ClassName		    "Simulink.Mask"
		    Type		    "No-lag Reset Integrator"
		    Description		    "No-lag Reset Integrator"
		    Help		    "Integrates first input using Euler technique.\\nAt the time step that input 2 <> zero,\\noutput is re"
		    "set to input 3."
		    Display		    "disp('1/s\\nw/ reset\\nno lag')"
		    Object {
		    $PropName		    "Parameters"
		    $ObjectID		    55
		    $ClassName		    "Simulink.MaskParameter"
		    Type		    "edit"
		    Name		    "initval"
		    Prompt		    "Initial Value"
		    Value		    "15"
		    }
		    }
		    System {
		    Name		    "no-lag\nReset Integrator"
		    Location		    [220, 496, 782, 938]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "527"
		    Position		    [60, 100, 80, 120]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    SID			    "528"
		    Position		    [60, 140, 80, 160]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_3"
		    SID			    "529"
		    Position		    [45, 185, 65, 205]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "530"
		    Position		    [125, 205, 145, 225]
		    ZOrder		    -4
		    BlockRotation	    270
		    NameLocation	    "left"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "531"
		    Position		    [340, 55, 375, 75]
		    ZOrder		    -5
		    BlockMirror		    on
		    FontName		    "Arial"
		    InitialCondition	    "initval"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "532"
		    Ports		    [2, 1]
		    Position		    [160, 96, 180, 114]
		    ZOrder		    -6
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    "533"
		    Ports		    [2, 1]
		    Position		    [230, 90, 250, 110]
		    ZOrder		    -7
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "534"
		    Position		    [290, 139, 320, 171]
		    ZOrder		    -8
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    SID			    "535"
		    Ports		    [0, 1]
		    Position		    [112, 50, 138, 80]
		    ZOrder		    -9
		    BlockRotation	    270
		    BlockMirror		    on
		    NameLocation	    "right"
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "dt"
		    Location		    [42, 165, 431, 482]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    SID			    "536"
		    Position		    [65, 60, 85, 80]
		    ZOrder		    -1
		    FontName		    "Arial"
		    FontSize		    8
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    SID			    "537"
		    Position		    [125, 85, 160, 105]
		    ZOrder		    -2
		    FontName		    "Arial"
		    FontSize		    8
		    InitialCondition	    "-1"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    SID			    "538"
		    Ports		    [2, 1]
		    Position		    [205, 65, 225, 85]
		    ZOrder		    -3
		    FontName		    "Arial"
		    FontSize		    8
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "539"
		    Position		    [255, 65, 275, 85]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    2
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    3
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "in_2==0"
		    SID			    "540"
		    Ports		    [2, 1]
		    Position		    [160, 143, 190, 167]
		    ZOrder		    -10
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "541"
		    Position		    [455, 145, 475, 165]
		    ZOrder		    -11
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "in_3"
		    SrcPort		    1
		    Points		    [200, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "in_2==0"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "dt"
		    SrcPort		    1
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-130, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [10, 0; 0, 45]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    ZOrder		    9
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    10
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "in_2==0"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -40]
		    DstBlock		    "in_2==0"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "time"
		    SID			    "542"
		    Position		    [350, 65, 370, 85]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "time"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "trigger"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    3
		    Points		    [0, -60]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    4
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [35, 0; 0, 50]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    Points		    [35, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "543"
		    Position		    [225, 60, 245, 80]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "just shifted"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "just shifted"
		    SrcPort		    1
		    DstBlock		    "timer"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "timer"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "544"
		    Position		    [250, 55, 270, 75]
		    ZOrder		    -5
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "time since last shift"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [15, 0; 0, -75]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "time since last shift"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "upshift\n command"
		  SID			  "545"
		  Ports			  [3, 1]
		  Position		  [500, 101, 530, 139]
		  ZOrder		  -56
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "upshift\n command"
		    Location		    [393, 51, 908, 524]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear number"
		    SID			    "546"
		    Position		    [45, 103, 75, 117]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine load"
		    SID			    "547"
		    Position		    [45, 38, 75, 52]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine speed"
		    SID			    "548"
		    Position		    [45, 133, 75, 147]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    SID			    "549"
		    Ports		    [2, 1]
		    Position		    [130, 107, 165, 143]
		    ZOrder		    -4
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "550"
		    Ports		    [2, 1]
		    Position		    [350, 38, 380, 62]
		    ZOrder		    -5
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "load fraction"
		    SID			    "551"
		    Ports		    [1, 1]
		    Position		    [245, 100, 275, 150]
		    ZOrder		    -6
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    56
		    $ClassName		    "Simulink.Mask"
		    Type		    "Gear Selector"
		    Description		    "This block will perform a linear interplation (extrapolation outside of bounds) to determine t"
		    "he shift point load fraction associated with the current gear number and speed. \n\nThe Speeds parameter should "
		    "be defined as an array of vectors containing speeds for each gear number.  The Load Fractions parameter should b"
		    "e defined as a array of vectors containing load fractions indexed by the speeds in the Speeds parameter for each"
		    " gear number."
		    Help		    "Reference the base workspace variables - gb_**shift_spd and gb_**shift_load  where ** is either up fo"
		    "r upshift conditions or dn for downshift conditions.\n\nOr define the arrays as follows:\n\n{[spd1 spd2 spd3 spd"
		    "4]; [spd1 spd2 spd3 spd4]; ...}\n\n{[load1 load2 load3 load4]; [load1 load2 load3 load4]; ...}\n\nwhere each arr"
		    "ay contains one row for each gear in the gearbox.  Speeds should be defined in rad/s and loads as a decimal frac"
		    "tion.\n\n"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    2
		    Object {
		    $ObjectID		    57
		    Type		    "edit"
		    Name		    "spd"
		    Prompt		    "Speeds:"
		    Value		    "gb_upshift_spd"
		    }
		    Object {
		    $ObjectID		    58
		    Type		    "edit"
		    Name		    "load"
		    Prompt		    "Load Fractions:"
		    Value		    "gb_upshift_load"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "load fraction"
		    Location		    [251, 320, 531, 580]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "552"
		    Position		    [25, 33, 55, 47]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    S-Function
		    Name		    "S-Function"
		    SID			    "553"
		    Ports		    [1, 1]
		    Position		    [80, 25, 160, 55]
		    ZOrder		    -2
		    FunctionName	    "sfun_gearbox"
		    Parameters		    "load, spd"
		    SFunctionDeploymentMode off
		    EnableBusSupport	    off
		    SFcnIsStateOwnerBlock   off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    SID			    "554"
		    Position		    [185, 33, 215, 47]
		    ZOrder		    -3
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "S-Function"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "command"
		    SID			    "555"
		    Position		    [420, 43, 450, 57]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "command"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "engine speed"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "load fraction"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "prev gear number"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "engine load"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "load fraction"
		    SrcPort		    1
		    Points		    [50, 0; 0, -70]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear number, out"
		  SID			  "556"
		  Position		  [800, 815, 820, 835]
		  ZOrder		  -57
		  FontName		  "Arial"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear ratio, out"
		  SID			  "557"
		  Position		  [800, 655, 820, 675]
		  ZOrder		  -58
		  FontName		  "Arial"
		  Port			  "2"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "shifting, out"
		  SID			  "558"
		  Position		  [800, 700, 820, 720]
		  ZOrder		  -59
		  FontName		  "Arial"
		  Port			  "3"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "locked up"
		  SID			  "559"
		  Position		  [835, 435, 855, 455]
		  ZOrder		  -60
		  FontName		  "Arial"
		  Port			  "4"
		  InitialOutput		  "0"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [45, 0]
		  DstBlock		  "gear ratio, out"
		  DstPort		  1
		}
		Line {
		  ZOrder		  2
		  SrcBlock		  "From6"
		  SrcPort		  1
		  Points		  [5, 0; 0, 35; -55, 0]
		  Branch {
		    ZOrder		    3
		    Points		    [-50, 0]
		    DstBlock		    "est. engine trq\nand spd assuming\nlockup"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    4
		    Points		    [0, 40]
		    DstBlock		    "htc lockup logic"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  5
		  SrcBlock		  "From5"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  6
		  SrcBlock		  "shifting1"
		  SrcPort		  1
		  DstBlock		  "Goto5"
		  DstPort		  1
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    ZOrder		    8
		    Points		    [0, 60]
		    DstBlock		    "Goto7"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    9
		    DstBlock		    "gear number, out"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [5, 0]
		  Branch {
		    ZOrder		    11
		    DstBlock		    "Goto2"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    12
		    Points		    [40, 0]
		    DstBlock		    "shifting, out"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  13
		  SrcBlock		  "Speed Dependent Shifting"
		  SrcPort		  2
		  DstBlock		  "Goto1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  14
		  SrcBlock		  "Speed Dependent Shifting"
		  SrcPort		  1
		  DstBlock		  "Goto"
		  DstPort		  1
		}
		Line {
		  ZOrder		  15
		  SrcBlock		  "From <logic>2"
		  SrcPort		  1
		  DstBlock		  "Speed Dependent Shifting"
		  DstPort		  1
		}
		Line {
		  ZOrder		  16
		  SrcBlock		  "From1"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  3
		}
		Line {
		  ZOrder		  17
		  SrcBlock		  "From"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  18
		  SrcBlock		  "Constant14"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  2
		}
		Line {
		  ZOrder		  19
		  SrcBlock		  "Switch3"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  ZOrder		  20
		  SrcBlock		  "From3"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  ZOrder		  21
		  SrcBlock		  "From2"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  ZOrder		  22
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  "Switch3"
		  DstPort		  3
		}
		Line {
		  ZOrder		  23
		  SrcBlock		  "From4"
		  SrcPort		  1
		  Points		  [30, 0]
		  DstBlock		  "Switch3"
		  DstPort		  1
		}
		Line {
		  ZOrder		  24
		  SrcBlock		  "Constant15"
		  SrcPort		  1
		  DstBlock		  "Switch3"
		  DstPort		  2
		}
		Line {
		  ZOrder		  25
		  SrcBlock		  "prev gear\nnumber"
		  SrcPort		  1
		  Points		  [-100, 0]
		  Branch {
		    ZOrder		    26
		    Points		    [-175, 0]
		    Branch {
		    ZOrder		    27
		    Points		    [-370, 0; 0, 30]
		    DstBlock		    "est. engine trq\nand\nspd"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    28
		    Points		    [0, 25; 0, 0]
		    Branch {
		    ZOrder		    29
		    DstBlock		    "allow downshift?"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    30
		    Points		    [0, 0; 0, 50]
		    Branch {
		    ZOrder		    31
		    Points		    [0, 105; 0, 0]
		    Branch {
		    ZOrder		    32
		    DstBlock		    "downshift \ncommand1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    33
		    DstBlock		    "downshift \ncommand"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    34
		    DstBlock		    "upshift\n command"
		    DstPort		    1
		    }
		    }
		    }
		  }
		  Branch {
		    ZOrder		    35
		    Points		    [0, 55]
		    DstBlock		    "current\ngear\nnumber"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  36
		  SrcBlock		  "current\ngear\nnumber"
		  SrcPort		  1
		  DstBlock		  "Saturation1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  37
		  SrcBlock		  "delta\ngear\nnumber"
		  SrcPort		  1
		  DstBlock		  "current\ngear\nnumber"
		  DstPort		  2
		}
		Line {
		  ZOrder		  38
		  SrcBlock		  "gear ratio1"
		  SrcPort		  1
		  DstBlock		  "Goto4"
		  DstPort		  1
		}
		Line {
		  ZOrder		  39
		  SrcBlock		  "downshift \ncommand1"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  40
		  SrcBlock		  "load=T/\n(maxT\nat spd)1"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
		Line {
		  ZOrder		  41
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  Points		  [10, 0; 0, -65]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  4
		}
		Line {
		  ZOrder		  42
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "downshift \ncommand1"
		  DstPort		  2
		}
		Line {
		  ZOrder		  43
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  DstBlock		  "locked up"
		  DstPort		  1
		}
		Line {
		  ZOrder		  44
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Product3"
		  DstPort		  2
		}
		Line {
		  ZOrder		  45
		  SrcBlock		  "upshift\n command"
		  SrcPort		  1
		  Points		  [105, 0]
		  Branch {
		    ZOrder		    46
		    DstBlock		    "delta\ngear\nnumber"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    47
		    Points		    [0, 10]
		    DstBlock		    "delta\ngear\nnumber"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  48
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    ZOrder		    49
		    DstBlock		    "upshift\n command"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    50
		    Points		    [0, 100]
		    Branch {
		    ZOrder		    51
		    DstBlock		    "downshift \ncommand"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    52
		    Points		    [0, 55; -205, 0]
		    DstBlock		    "htc lockup logic"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  53
		  SrcBlock		  "Logical\nOperator2"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    ZOrder		    54
		    DstBlock		    "Memory"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    55
		    Points		    [0, -75]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    3
		  }
		}
		Line {
		  ZOrder		  56
		  SrcBlock		  "est. engine trq\nand spd assuming\nlockup"
		  SrcPort		  2
		  Points		  [35, 0; 0, 25]
		  Branch {
		    ZOrder		    57
		    Points		    [0, 55; 260, 0; 0, -55]
		    DstBlock		    "downshift \ncommand1"
		    DstPort		    3
		  }
		  Branch {
		    ZOrder		    58
		    DstBlock		    "engine\ntorque\ncapability1"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  59
		  SrcBlock		  "est. engine trq\nand\nspd"
		  SrcPort		  3
		  Points		  [0, 115; -55, 0; 0, 295]
		  DstBlock		  "est. engine trq\nand spd assuming\nlockup"
		  DstPort		  4
		}
		Line {
		  ZOrder		  60
		  SrcBlock		  "tires are at\ntraction limit"
		  SrcPort		  1
		  Points		  [315, 0]
		  Branch {
		    ZOrder		    61
		    DstBlock		    "Switch"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    62
		    Points		    [0, 285]
		    DstBlock		    "Switch1"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  63
		  SrcBlock		  "gb_trq_out_r"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    ZOrder		    64
		    Points		    [0, 365]
		    DstBlock		    "est. engine trq\nand spd assuming\nlockup"
		    DstPort		    3
		  }
		  Branch {
		    ZOrder		    65
		    Points		    [0, -40]
		    DstBlock		    "est. engine trq\nand\nspd"
		    DstPort		    3
		  }
		}
		Line {
		  ZOrder		  66
		  SrcBlock		  "eta_gb"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    ZOrder		    67
		    Points		    [0, 405]
		    DstBlock		    "est. engine trq\nand spd assuming\nlockup"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    68
		    DstBlock		    "est. engine trq\nand\nspd"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  69
		  SrcBlock		  "est. engine trq\nand spd assuming\nlockup"
		  SrcPort		  1
		  Points		  [90, 0]
		  DstBlock		  "Product4"
		  DstPort		  1
		}
		Line {
		  ZOrder		  70
		  SrcBlock		  "engine\ntorque\ncapability1"
		  SrcPort		  1
		  DstBlock		  "Product4"
		  DstPort		  2
		}
		Line {
		  ZOrder		  71
		  SrcBlock		  "Product4"
		  SrcPort		  1
		  DstBlock		  "load=T/\n(maxT\nat spd)1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  72
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  Points		  [-15, 0]
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  73
		  SrcBlock		  "htc lockup logic"
		  SrcPort		  1
		  Points		  [195, 0; 0, 105]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  1
		}
		Line {
		  ZOrder		  74
		  SrcBlock		  "Logical\nOperator1"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator"
		  DstPort		  2
		}
		Line {
		  ZOrder		  75
		  SrcBlock		  "downshift \ncommand"
		  SrcPort		  1
		  DstBlock		  "Gain1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  76
		  SrcBlock		  "load=T/\n(maxT\nat spd)"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  ZOrder		  77
		  SrcBlock		  "est. engine trq\nand\nspd"
		  SrcPort		  1
		  Points		  [90, 0]
		  DstBlock		  "Product2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  78
		  SrcBlock		  "engine\ntorque\ncapability"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  2
		}
		Line {
		  ZOrder		  79
		  SrcBlock		  "Product3"
		  SrcPort		  1
		  Points		  [10, 0; 0, -75]
		  DstBlock		  "delta\ngear\nnumber"
		  DstPort		  3
		}
		Line {
		  ZOrder		  80
		  SrcBlock		  "allow downshift?"
		  SrcPort		  1
		  Points		  [50, 0; 0, 180]
		  DstBlock		  "Product3"
		  DstPort		  1
		}
		Line {
		  ZOrder		  81
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  DstBlock		  "load=T/\n(maxT\nat spd)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  82
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [-20, 0; 0, 25]
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  ZOrder		  83
		  SrcBlock		  "Saturation1"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    ZOrder		    84
		    Points		    [0, 175]
		    DstBlock		    "shifting1"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    85
		    Points		    [0, 0]
		    Branch {
		    ZOrder		    86
		    Points		    [0, -65]
		    Branch {
		    ZOrder		    87
		    DstBlock		    "Goto3"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    88
		    DstBlock		    "prev gear\nnumber"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    89
		    DstBlock		    "gear ratio1"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  90
		  SrcBlock		  "gb_spd_out_r"
		  SrcPort		  1
		  Points		  [30, 0]
		  DstBlock		  "est. engine trq\nand\nspd"
		  DstPort		  4
		}
		Line {
		  ZOrder		  91
		  SrcBlock		  "est. engine trq\nand\nspd"
		  SrcPort		  2
		  Points		  [35, 0; 0, 35]
		  Branch {
		    ZOrder		    92
		    DstBlock		    "engine\ntorque\ncapability"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    93
		    Points		    [0, 65; 260, 0]
		    Branch {
		    ZOrder		    94
		    Points		    [0, -70]
		    DstBlock		    "upshift\n command"
		    DstPort		    3
		    }
		    Branch {
		    ZOrder		    95
		    Points		    [0, 50; 40, 0]
		    DstBlock		    "downshift \ncommand"
		    DstPort		    3
		    }
		  }
		}
		Annotation {
		  SID			  "560"
		  Name			  "output changes depending\nupon whether speed\ndependent shifting is used"
		  Position		  [910, 795, 1029, 827]
		  InternalMargins	  [0, 0, 0, 0]
		  ZOrder		  -1
		}
		Annotation {
		  SID			  "561"
		  Name			  "gear ratio and shifting pre-muxed"
		  Position		  [549, 632, 697, 644]
		  InternalMargins	  [0, 0, 0, 0]
		  ZOrder		  -2
		}
		Annotation {
		  SID			  "562"
		  Name			  "local GOTO blocks:"
		  Position		  [962, 202, 1050, 214]
		  InternalMargins	  [0, 0, 0, 0]
		  ZOrder		  -3
		}
		Annotation {
		  SID			  "563"
		  Name			  "default gear ratio\ncalculation"
		  Position		  [962, 149, 1038, 171]
		  InternalMargins	  [0, 0, 0, 0]
		  ZOrder		  -4
		}
		Annotation {
		  SID			  "564"
		  Name			  "default shifting\ncalculation"
		  Position		  [968, 326, 1034, 348]
		  InternalMargins	  [0, 0, 0, 0]
		  ZOrder		  -5
		}
		Annotation {
		  SID			  "565"
		  Name			  "default gear number\ncalculation"
		  Position		  [964, 24, 1055, 46]
		  InternalMargins	  [0, 0, 0, 0]
		  ZOrder		  -6
		}
	      }
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "gearbox control\nfor use w/ AT"
	      SrcPort		      3
	      DstBlock		      "Goto <gb>1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "From <gb>1"
	      SrcPort		      1
	      DstBlock		      "gearbox control\nfor use w/ AT"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      3
	      SrcBlock		      "From<gb>"
	      SrcPort		      1
	      DstBlock		      "gearbox control\nfor use w/ AT"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "From <gb>3"
	      SrcPort		      1
	      DstBlock		      "gearbox control\nfor use w/ AT"
	      DstPort		      4
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "From <gb>2"
	      SrcPort		      1
	      DstBlock		      "gearbox control\nfor use w/ AT"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      6
	      SrcBlock		      "gearbox control\nfor use w/ AT"
	      SrcPort		      1
	      DstBlock		      "Goto <htc>1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      "gearbox control\nfor use w/ AT"
	      SrcPort		      2
	      DstBlock		      "Goto <gb>"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "gearbox control\nfor use w/ AT"
	      SrcPort		      4
	      DstBlock		      "Goto <htc>"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      9
	      SrcBlock		      "gearbox\ncontrols"
	      SrcPort		      1
	      DstBlock		      "Demux2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      10
	      SrcBlock		      "Demux2"
	      SrcPort		      1
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      11
	      SrcBlock		      "Demux2"
	      SrcPort		      2
	      DstBlock		      "Goto3"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      12
	      SrcBlock		      "Demux2"
	      SrcPort		      3
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      13
	      SrcBlock		      "htc\ncontrol"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      14
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      Points		      [0, -15]
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      15
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      Points		      [5, 0]
	      DstBlock		      "Goto4"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "automatic transmission\ngearbox and htc\nstandard lockup logic for htc\nshift logic for gearbox"
	  SID			  "566"
	  Ports			  [3]
	  Position		  [335, 160, 375, 220]
	  ZOrder		  -3
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowPortLabels	  "none"
	  RequestExecContextInheritance	off
	  System {
	    Name		    "automatic transmission\ngearbox and htc\nstandard lockup logic for htc\nshift logic for gearbox"
	    Location		    [479, 121, 855, 501]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "33"
	    SimulinkSubDomain	    "Simulink"
	    Block {
	      BlockType		      Inport
	      Name		      "eta_gb(t-1)"
	      SID		      "567"
	      Position		      [50, 274, 90, 316]
	      ZOrder		      -1
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "T_gb_out (request)(t)"
	      SID		      "568"
	      Position		      [50, 344, 90, 386]
	      ZOrder		      -2
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "w_gb_out (request)(t)"
	      SID		      "569"
	      Position		      [50, 409, 90, 451]
	      ZOrder		      -3
	      Port		      "3"
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      SID		      "570"
	      Ports		      [3, 1]
	      Position		      [630, 283, 640, 427]
	      ZOrder		      -4
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	      InheritFromInputs	      on
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator1"
	      SID		      "571"
	      Ports		      [2, 1]
	      Position		      [630, 465, 640, 565]
	      ZOrder		      -5
	      ShowName		      off
	      Inputs		      "2"
	      DisplayOption	      "bar"
	      InheritFromInputs	      on
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <gb>1"
	      SID		      "572"
	      Position		      [175, 175, 270, 195]
	      ZOrder		      -6
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_gb_out"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <gb>2"
	      SID		      "573"
	      Position		      [175, 116, 270, 134]
	      ZOrder		      -7
	      NameLocation	      "top"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "eta_gb_last"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <gb>3"
	      SID		      "574"
	      Position		      [175, 205, 270, 225]
	      ZOrder		      -8
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "slip_limited"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <gb>4"
	      SID		      "575"
	      Position		      [450, 345, 545, 365]
	      ZOrder		      -9
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "shifting"
	      Port {
		PortNumber		1
		Name			"shifting"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <gb>5"
	      SID		      "576"
	      Position		      [450, 391, 545, 409]
	      ZOrder		      -10
	      NameLocation	      "top"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gear_number"
	      Port {
		PortNumber		1
		Name			"gear_number"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <gb>6"
	      SID		      "577"
	      Position		      [450, 480, 545, 500]
	      ZOrder		      -11
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "shifting"
	      Port {
		PortNumber		1
		Name			"shifting"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <gb>7"
	      SID		      "578"
	      Position		      [450, 530, 545, 550]
	      ZOrder		      -12
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "locked_up"
	      Port {
		PortNumber		1
		Name			"locked_up"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From<gb>"
	      SID		      "579"
	      Position		      [175, 145, 270, 165]
	      ZOrder		      -13
	      NameLocation	      "top"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_gb_out"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From<gb>1"
	      SID		      "580"
	      Position		      [450, 300, 545, 320]
	      ZOrder		      -14
	      NameLocation	      "top"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gear_ratio"
	      Port {
		PortNumber		1
		Name			"gear_ratio"
	      }
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <gb>"
	      SID		      "581"
	      Position		      [370, 144, 445, 166]
	      ZOrder		      -15
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <gb>1"
	      SID		      "582"
	      Position		      [390, 175, 445, 195]
	      ZOrder		      -16
	      ShowName		      off
	      GotoTag		      "shifting"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <gb>2"
	      SID		      "583"
	      Position		      [180, 354, 285, 376]
	      ZOrder		      -17
	      ShowName		      off
	      GotoTag		      "T_gb_out"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <gb>3"
	      SID		      "584"
	      Position		      [180, 418, 285, 442]
	      ZOrder		      -18
	      ShowName		      off
	      GotoTag		      "w_gb_out"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <htc>"
	      SID		      "585"
	      Position		      [370, 207, 445, 223]
	      ZOrder		      -19
	      ShowName		      off
	      GotoTag		      "locked_up"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <htc>1"
	      SID		      "586"
	      Position		      [370, 114, 445, 136]
	      ZOrder		      -20
	      NameLocation	      "top"
	      ShowName		      off
	      GotoTag		      "gear_number"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <htc>2"
	      SID		      "587"
	      Position		      [180, 489, 285, 511]
	      ZOrder		      -21
	      ShowName		      off
	      GotoTag		      "slip_limited"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <htc>3"
	      SID		      "588"
	      Position		      [180, 284, 285, 306]
	      ZOrder		      -22
	      NameLocation	      "top"
	      ShowName		      off
	      GotoTag		      "eta_gb_last"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <htc>4"
	      SID		      "589"
	      Position		      [180, 549, 285, 571]
	      ZOrder		      -23
	      ShowName		      off
	      GotoTag		      "acc_mech_trq_est"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <htc>5"
	      SID		      "590"
	      Position		      [180, 579, 285, 601]
	      ZOrder		      -24
	      ShowName		      off
	      GotoTag		      "locked_up_last"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      SID		      "591"
	      Position		      [295, 547, 399, 571]
	      ZOrder		      -25
	      ShowName		      off
	      GotoTag		      "acc_mech_trq_est"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      SID		      "592"
	      Position		      [295, 577, 399, 601]
	      ZOrder		      -26
	      ShowName		      off
	      GotoTag		      "locked_up_last"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "gearbox control\nfor use w/ AT"
	      SID		      "593"
	      Ports		      [4, 4]
	      Position		      [290, 114, 325, 226]
	      ZOrder		      -27
	      FontName		      "Arial"
	      ShowPortLabels	      "none"
	      RequestExecContextInheritance off
	      System {
		Name			"gearbox control\nfor use w/ AT"
		Location		[306, 44, 1169, 1111]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"72"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "eta_gb"
		  SID			  "594"
		  Position		  [45, 85, 65, 105]
		  ZOrder		  -1
		  ForegroundColor	  "magenta"
		  FontName		  "Arial"
		}
		Block {
		  BlockType		  Inport
		  Name			  "gb_trq_out_r"
		  SID			  "595"
		  Position		  [45, 135, 65, 155]
		  ZOrder		  -2
		  FontName		  "Arial"
		  Port			  "2"
		}
		Block {
		  BlockType		  Inport
		  Name			  "gb_spd_out_r"
		  SID			  "596"
		  Position		  [45, 180, 65, 200]
		  ZOrder		  -3
		  FontName		  "Arial"
		  Port			  "3"
		}
		Block {
		  BlockType		  Inport
		  Name			  "tires are at\ntraction limit"
		  SID			  "597"
		  Position		  [45, 230, 65, 250]
		  ZOrder		  -4
		  FontName		  "Arial"
		  Port			  "4"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  SID			  "598"
		  Ports			  []
		  Position		  [920, 555, 976, 595]
		  ZOrder		  -5
		  BackgroundColor	  "green"
		  ShowName		  off
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    59
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		  }
		  System {
		    Name		    "Block NOTES"
		    Location		    [392, 114, 890, 499]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "599"
		    Name		    "This gearbox control block computes the current gear number given the gearbox's\nreq'd output torque "
		    "and speed and an estimate its efficiency.  Upshifts occur, given a\ncertain engine speed,  when the estimated en"
		    "gine load falls below the upshift curve\nin engine speed/load space, and downshifts likewise occur when estimate"
		    "d engine\nload rises above the downshift curve.  Separate upshift and downshift curves are\ndefined for each gea"
		    "r.  An upshift may not be immediately followed by a downshift.\nIf the tires are about to slip, don't upshift un"
		    "less the engine would be at max. speed.\nEnforce this rule by setting the load to 1 when the tires are about to "
		    "slip."
		    Position		    [227, 12, 600, 94]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		    Annotation {
		    SID			    "600"
		    Name		    "Lock-up of the HTC occurs when it is supposed to for the current gear, AND\nthe transmission isn't sh"
		    "ifting, AND\nthe lockup wouldn't precipitate an immediate downshift."
		    Position		    [217, 162, 552, 194]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -2
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  SID			  "601"
		  Position		  [385, 65, 405, 85]
		  ZOrder		  -6
		  BlockMirror		  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  SID			  "602"
		  Position		  [225, 375, 245, 395]
		  ZOrder		  -7
		  BlockMirror		  on
		  Value			  "0.5"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant14"
		  SID			  "603"
		  Position		  [460, 818, 555, 832]
		  ZOrder		  -8
		  ForegroundColor	  "red"
		  Value			  "tx_speed_dep"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant15"
		  SID			  "604"
		  Position		  [390, 683, 485, 697]
		  ZOrder		  -9
		  ForegroundColor	  "red"
		  Value			  "tx_speed_dep"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  SID			  "605"
		  Position		  [385, 470, 405, 490]
		  ZOrder		  -10
		  BlockMirror		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  "606"
		  Ports			  [1, 2]
		  Position		  [730, 671, 735, 709]
		  ZOrder		  -11
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  From
		  Name			  "From"
		  SID			  "607"
		  Position		  [560, 790, 685, 810]
		  ZOrder		  -12
		  NameLocation		  "top"
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "spd_dep_gear_num"
		}
		Block {
		  BlockType		  From
		  Name			  "From <logic>2"
		  SID			  "608"
		  Position		  [40, 744, 145, 776]
		  ZOrder		  -13
		  ForegroundColor	  "red"
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "v_req_limited"
		}
		Block {
		  BlockType		  From
		  Name			  "From1"
		  SID			  "609"
		  Position		  [560, 850, 685, 870]
		  ZOrder		  -14
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "def_gear_num"
		}
		Block {
		  BlockType		  From
		  Name			  "From2"
		  SID			  "610"
		  Position		  [500, 710, 625, 730]
		  ZOrder		  -15
		  NameLocation		  "top"
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "def_gear_ratio"
		}
		Block {
		  BlockType		  From
		  Name			  "From3"
		  SID			  "611"
		  Position		  [500, 735, 625, 755]
		  ZOrder		  -16
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "def_shifting"
		}
		Block {
		  BlockType		  From
		  Name			  "From4"
		  SID			  "612"
		  Position		  [500, 645, 625, 665]
		  ZOrder		  -17
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "spd_dep_muxed"
		}
		Block {
		  BlockType		  From
		  Name			  "From5"
		  SID			  "613"
		  Position		  [135, 425, 260, 445]
		  ZOrder		  -18
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "shifting_out"
		}
		Block {
		  BlockType		  From
		  Name			  "From6"
		  SID			  "614"
		  Position		  [100, 255, 195, 275]
		  ZOrder		  -19
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "gear_num_out"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  SID			  "615"
		  Position		  [535, 207, 560, 233]
		  ZOrder		  -20
		  FontName		  "Arial"
		  Gain			  "-1"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  SID			  "616"
		  Position		  [265, 735, 385, 755]
		  ZOrder		  -21
		  NameLocation		  "top"
		  GotoTag		  "spd_dep_muxed"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto1"
		  SID			  "617"
		  Position		  [265, 759, 385, 781]
		  ZOrder		  -22
		  GotoTag		  "spd_dep_gear_num"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto2"
		  SID			  "618"
		  Position		  [760, 735, 880, 755]
		  ZOrder		  -23
		  GotoTag		  "shifting_out"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto3"
		  SID			  "619"
		  Position		  [890, 45, 1025, 65]
		  ZOrder		  -24
		  GotoTag		  "def_gear_num"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto4"
		  SID			  "620"
		  Position		  [900, 110, 1010, 130]
		  ZOrder		  -25
		  NameLocation		  "top"
		  GotoTag		  "def_gear_ratio"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto5"
		  SID			  "621"
		  Position		  [910, 285, 1020, 305]
		  ZOrder		  -26
		  NameLocation		  "top"
		  GotoTag		  "def_shifting"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto7"
		  SID			  "622"
		  Position		  [815, 875, 935, 895]
		  ZOrder		  -27
		  GotoTag		  "gear_num_out"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  SID			  "623"
		  Ports			  [4, 1]
		  Position		  [665, 402, 695, 448]
		  ZOrder		  -28
		  Inputs		  "4"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator1"
		  SID			  "624"
		  Ports			  [1, 1]
		  Position		  [310, 419, 340, 451]
		  ZOrder		  -29
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator2"
		  SID			  "625"
		  Ports			  [1, 1]
		  Position		  [530, 506, 560, 544]
		  ZOrder		  -30
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  SID			  "626"
		  Position		  [600, 510, 630, 540]
		  ZOrder		  -31
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  "627"
		  Ports			  [2, 1]
		  Position		  [645, 707, 650, 758]
		  ZOrder		  -32
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  SID			  "628"
		  Ports			  [2, 1]
		  Position		  [255, 112, 285, 143]
		  ZOrder		  -33
		  Inputs		  "*/"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product3"
		  SID			  "629"
		  Ports			  [2, 1]
		  Position		  [595, 203, 615, 227]
		  ZOrder		  -34
		  FontName		  "Arial"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product4"
		  SID			  "630"
		  Ports			  [2, 1]
		  Position		  [255, 517, 285, 548]
		  ZOrder		  -35
		  Inputs		  "*/"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator"
		  SID			  "631"
		  Ports			  [2, 1]
		  Position		  [220, 317, 250, 348]
		  ZOrder		  -36
		  Operator		  ">"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation1"
		  SID			  "632"
		  Position		  [780, 111, 800, 129]
		  ZOrder		  -37
		  FontName		  "Arial"
		  UpperLimit		  "gb_gears_num"
		  LowerLimit		  "1"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Speed Dependent Shifting"
		  SID			  "633"
		  Ports			  [1, 2]
		  Position		  [190, 732, 220, 783]
		  ZOrder		  -38
		  SourceBlock		  "lib_controls/SubSystem/Speed Dependent Shifting"
		  SourceType		  "SubSystem"
		  ShowPortLabels	  "off"
		  TreatAsAtomicUnit	  "off"
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  SID			  "634"
		  Position		  [380, 105, 410, 135]
		  ZOrder		  -39
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  SID			  "635"
		  Position		  [380, 510, 410, 540]
		  ZOrder		  -40
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  SID			  "636"
		  Position		  [705, 810, 735, 840]
		  ZOrder		  -41
		  Threshold		  "0.5"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch3"
		  SID			  "637"
		  Position		  [675, 675, 705, 705]
		  ZOrder		  -42
		  Threshold		  "0.5"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "allow downshift?"
		  SID			  "638"
		  Ports			  [1, 1]
		  Position		  [475, 32, 505, 68]
		  ZOrder		  -43
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "allow downshift?"
		    Location		    [306, 153, 835, 546]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gearnum"
		    SID			    "639"
		    Position		    [35, 35, 55, 55]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    SID			    "640"
		    Ports		    [2, 1]
		    Position		    [380, 43, 410, 67]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Operator		    "NOR"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "641"
		    Position		    [150, 60, 185, 80]
		    ZOrder		    -3
		    FontName		    "Arial"
		    InitialCondition	    "1"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    SID			    "642"
		    Position		    [150, 105, 185, 125]
		    ZOrder		    -4
		    FontName		    "Arial"
		    InitialCondition	    "1"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    SID			    "643"
		    Ports		    [2, 1]
		    Position		    [230, 38, 260, 62]
		    ZOrder		    -5
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    SID			    "644"
		    Ports		    [2, 1]
		    Position		    [230, 98, 260, 122]
		    ZOrder		    -6
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "allow shift"
		    SID			    "645"
		    Position		    [445, 45, 465, 65]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    ZOrder		    4
		    Points		    [0, 70; -60, 0]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    5
		    Points		    [15, 0; 0, -15]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "prev gearnum"
		    SrcPort		    1
		    Points		    [50, 0]
		    Branch {
		    ZOrder		    8
		    Points		    [0, 25]
		    Branch {
		    ZOrder		    9
		    Points		    [0, 35]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    10
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    11
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "allow shift"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "current\ngear\nnumber"
		  SID			  "646"
		  Ports			  [2, 1]
		  Position		  [725, 102, 745, 138]
		  ZOrder		  -44
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Switch
		  Name			  "delta\ngear\nnumber"
		  SID			  "647"
		  Position		  [655, 114, 685, 146]
		  ZOrder		  -45
		  FontName		  "Arial"
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "downshift \ncommand"
		  SID			  "648"
		  Ports			  [3, 1]
		  Position		  [475, 194, 505, 246]
		  ZOrder		  -46
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "downshift \ncommand"
		    Location		    [403, 242, 918, 715]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear number"
		    SID			    "649"
		    Position		    [45, 98, 75, 112]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine load"
		    SID			    "650"
		    Position		    [45, 38, 75, 52]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine speed"
		    SID			    "651"
		    Position		    [45, 133, 75, 147]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    SID			    "652"
		    Ports		    [2, 1]
		    Position		    [130, 107, 165, 143]
		    ZOrder		    -4
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "653"
		    Ports		    [2, 1]
		    Position		    [350, 38, 380, 62]
		    ZOrder		    -5
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "load fraction"
		    SID			    "654"
		    Ports		    [1, 1]
		    Position		    [240, 100, 270, 150]
		    ZOrder		    -6
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    60
		    $ClassName		    "Simulink.Mask"
		    Type		    "Gear Selector"
		    Description		    "This block will perform a linear interplation (extrapolation outside of bounds) to determine t"
		    "he shift point load fraction associated with the current gear number and speed. \n\nThe Speeds parameter should "
		    "be defined as an array of vectors containing speeds for each gear number.  The Load Fractions parameter should b"
		    "e defined as a array of vectors containing load fractions indexed by the speeds in the Speeds parameter for each"
		    " gear number."
		    Help		    "Reference the base workspace variables - gb_**shift_spd and gb_**shift_load  where ** is either up fo"
		    "r upshift conditions or dn for downshift conditions.\n\nOr define the arrays as follows:\n\n{[spd1 spd2 spd3 spd"
		    "4]; [spd1 spd2 spd3 spd4]; ...}\n\n{[load1 load2 load3 load4]; [load1 load2 load3 load4]; ...}\n\nwhere each arr"
		    "ay contains one row for each gear in the gearbox.  Speeds should be defined in rad/s and loads as a decimal frac"
		    "tion.\n\n"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    2
		    Object {
		    $ObjectID		    61
		    Type		    "edit"
		    Name		    "spd"
		    Prompt		    "Speeds:"
		    Value		    "gb_dnshift_spd"
		    }
		    Object {
		    $ObjectID		    62
		    Type		    "edit"
		    Name		    "load"
		    Prompt		    "Load Fractions:"
		    Value		    "gb_dnshift_load"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "load fraction"
		    Location		    [426, 320, 706, 580]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "655"
		    Position		    [25, 33, 55, 47]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    S-Function
		    Name		    "S-Function"
		    SID			    "656"
		    Ports		    [1, 1]
		    Position		    [80, 25, 160, 55]
		    ZOrder		    -2
		    FunctionName	    "sfun_gearbox"
		    Parameters		    "load, spd"
		    SFunctionDeploymentMode off
		    EnableBusSupport	    off
		    SFcnIsStateOwnerBlock   off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    SID			    "657"
		    Position		    [185, 33, 215, 47]
		    ZOrder		    -3
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "S-Function"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "command"
		    SID			    "658"
		    Position		    [420, 43, 450, 57]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "load fraction"
		    SrcPort		    1
		    Points		    [55, 0; 0, -70]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "load fraction"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "engine load"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "prev gear number"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "engine speed"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "command"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "downshift \ncommand1"
		  SID			  "659"
		  Ports			  [3, 1]
		  Position		  [475, 499, 505, 551]
		  ZOrder		  -47
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "downshift \ncommand1"
		    Location		    [393, 252, 908, 725]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear number"
		    SID			    "660"
		    Position		    [45, 98, 75, 112]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine load"
		    SID			    "661"
		    Position		    [45, 38, 75, 52]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine speed"
		    SID			    "662"
		    Position		    [45, 133, 75, 147]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    SID			    "663"
		    Ports		    [2, 1]
		    Position		    [130, 107, 165, 143]
		    ZOrder		    -4
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "664"
		    Ports		    [2, 1]
		    Position		    [350, 38, 380, 62]
		    ZOrder		    -5
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "load fraction"
		    SID			    "665"
		    Ports		    [1, 1]
		    Position		    [240, 100, 270, 150]
		    ZOrder		    -6
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    63
		    $ClassName		    "Simulink.Mask"
		    Type		    "Gear Selector"
		    Description		    "This block will perform a linear interplation (extrapolation outside of bounds) to determine t"
		    "he shift point load fraction associated with the current gear number and speed. \n\nThe Speeds parameter should "
		    "be defined as an array of vectors containing speeds for each gear number.  The Load Fractions parameter should b"
		    "e defined as a array of vectors containing load fractions indexed by the speeds in the Speeds parameter for each"
		    " gear number."
		    Help		    "Reference the base workspace variables - gb_**shift_spd and gb_**shift_load  where ** is either up fo"
		    "r upshift conditions or dn for downshift conditions.\n\nOr define the arrays as follows:\n\n{[spd1 spd2 spd3 spd"
		    "4]; [spd1 spd2 spd3 spd4]; ...}\n\n{[load1 load2 load3 load4]; [load1 load2 load3 load4]; ...}\n\nwhere each arr"
		    "ay contains one row for each gear in the gearbox.  Speeds should be defined in rad/s and loads as a decimal frac"
		    "tion.\n\n"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    2
		    Object {
		    $ObjectID		    64
		    Type		    "edit"
		    Name		    "spd"
		    Prompt		    "Speeds:"
		    Value		    "gb_dnshift_spd"
		    }
		    Object {
		    $ObjectID		    65
		    Type		    "edit"
		    Name		    "load"
		    Prompt		    "Load Fractions:"
		    Value		    "gb_dnshift_load"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "load fraction"
		    Location		    [426, 320, 706, 580]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "666"
		    Position		    [25, 33, 55, 47]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    S-Function
		    Name		    "S-Function"
		    SID			    "667"
		    Ports		    [1, 1]
		    Position		    [80, 25, 160, 55]
		    ZOrder		    -2
		    FunctionName	    "sfun_gearbox"
		    Parameters		    "load, spd"
		    SFunctionDeploymentMode off
		    EnableBusSupport	    off
		    SFcnIsStateOwnerBlock   off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    SID			    "668"
		    Position		    [185, 33, 215, 47]
		    ZOrder		    -3
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "S-Function"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "command"
		    SID			    "669"
		    Position		    [420, 43, 450, 57]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "command"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "prev gear number"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "engine load"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "load fraction"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "load fraction"
		    SrcPort		    1
		    Points		    [55, 0; 0, -70]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "engine speed"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  Lookup
		  Name			  "engine\ntorque\ncapability"
		  SID			  "670"
		  Position		  [200, 125, 230, 145]
		  ZOrder		  -48
		  FontName		  "Arial"
		  InputValues		  "fc_map_spd*fc_spd_scale"
		  Table			  "fc_max_trq*fc_trq_scale+eps"
		}
		Block {
		  BlockType		  Lookup
		  Name			  "engine\ntorque\ncapability1"
		  SID			  "671"
		  Position		  [200, 530, 230, 550]
		  ZOrder		  -49
		  FontName		  "Arial"
		  InputValues		  "fc_map_spd*fc_spd_scale"
		  Table			  "fc_max_trq*fc_trq_scale+eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "est. engine trq\nand\nspd"
		  SID			  "672"
		  Ports			  [4, 3]
		  Position		  [115, 84, 145, 116]
		  ZOrder		  -50
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "est. engine trq\nand\nspd"
		    Location		    [8, 44, 779, 892]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "86"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear\nnumber"
		    SID			    "673"
		    Position		    [40, 108, 70, 122]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    " prev eta_gb"
		    SID			    "674"
		    Position		    [40, 163, 70, 177]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_trq_out_r"
		    SID			    "675"
		    Position		    [40, 218, 70, 232]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_spd_out_r"
		    SID			    "676"
		    Position		    [45, 283, 75, 297]
		    ZOrder		    -4
		    Port		    "4"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    SID			    "677"
		    Ports		    []
		    Position		    [755, 40, 811, 80]
		    ZOrder		    -5
		    BackgroundColor	    "green"
		    ShowName		    off
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    66
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		    }
		    System {
		    Name		    "Block NOTES"
		    Location		    [193, 137, 691, 379]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "678"
		    Name		    "Estimate engine torque and speed associated with the previous gear, assuming that\nthe gearbox effici"
		    "ency is constant."
		    Position		    [227, 12, 598, 34]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    "679"
		    Position		    [630, 225, 655, 245]
		    ZOrder		    -6
		    BlockMirror		    on
		    ShowName		    off
		    Value		    "[1 1]"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant5"
		    SID			    "680"
		    Position		    [495, 75, 515, 95]
		    ZOrder		    -7
		    BlockMirror		    on
		    ShowName		    off
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    SID			    "681"
		    Ports		    [1, 2]
		    Position		    [765, 148, 775, 217]
		    ZOrder		    -8
		    BackgroundColor	    "black"
		    Outputs		    "2"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    SID			    "682"
		    Position		    [235, 54, 355, 76]
		    ZOrder		    -9
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "locked_up_last"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From5"
		    SID			    "683"
		    Position		    [170, 238, 280, 262]
		    ZOrder		    -10
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_trq_est"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "K_adv"
		    SID			    "684"
		    Ports		    [1, 1]
		    Position		    [335, 150, 365, 180]
		    ZOrder		    -11
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "K_adv"
		    Location		    [464, 468, 996, 891]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq and spd\n(Nm), (rad/s)"
		    SID			    "685"
		    Position		    [45, 58, 75, 72]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "K_adv=wout/(Tout)^0.5"
		    SID			    "686"
		    Position		    [160, 51, 280, 79]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Expr		    "u[2]/u[1]^0.5"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    SID			    "687"
		    Position		    [305, 50, 335, 80]
		    ZOrder		    -3
		    UpperLimit		    "max(htc_k_adv)"
		    LowerLimit		    "min(htc_k_adv)"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    SID			    "688"
		    Position		    [105, 50, 135, 80]
		    ZOrder		    -4
		    ShowName		    off
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "K_adv"
		    SID			    "689"
		    Position		    [385, 58, 415, 72]
		    ZOrder		    -5
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "K_adv=wout/(Tout)^0.5"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "K_adv=wout/(Tout)^0.5"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Req'd output\ntrq and spd\n(Nm), (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    SID			    "690"
		    Ports		    [2, 1]
		    Position		    [560, 41, 590, 74]
		    ZOrder		    -12
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    SID			    "691"
		    Ports		    [1, 1]
		    Position		    [385, 48, 415, 82]
		    ZOrder		    -13
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    SID			    "692"
		    Ports		    [2, 1]
		    Position		    [680, 112, 690, 148]
		    ZOrder		    -14
		    BackgroundColor	    "black"
		    ShowName		    off
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    SID			    "693"
		    Ports		    [2, 1]
		    Position		    [305, 147, 315, 183]
		    ZOrder		    -15
		    BackgroundColor	    "black"
		    ShowName		    off
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    SID			    "694"
		    Ports		    [2, 1]
		    Position		    [490, 17, 520, 48]
		    ZOrder		    -16
		    ShowName		    off
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "SR Look-Up\nTable\nSR=wout/win"
		    SID			    "695"
		    Position		    [410, 215, 440, 245]
		    ZOrder		    -17
		    InputValues		    "htc_k_adv"
		    Table		    "htc_sr"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    SID			    "696"
		    Position		    [105, 155, 135, 185]
		    ZOrder		    -18
		    ShowName		    off
		    UpperLimit		    "1"
		    LowerLimit		    "0.7"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    SID			    "697"
		    Position		    [790, 185, 820, 215]
		    ZOrder		    -19
		    ShowName		    off
		    UpperLimit		    "inf"
		    LowerLimit		    "0"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "698"
		    Position		    [630, 175, 660, 205]
		    ZOrder		    -20
		    ShowName		    off
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SID			    "699"
		    Position		    [410, 130, 440, 160]
		    ZOrder		    -21
		    InputValues		    "htc_k_adv"
		    Table		    "htc_tr"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "TR,SR"
		    SID			    "700"
		    Ports		    [2, 1]
		    Position		    [570, 162, 605, 198]
		    ZOrder		    -22
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "est eng\ntrq"
		    SID			    "701"
		    Ports		    [2, 1]
		    Position		    [255, 137, 275, 173]
		    ZOrder		    -23
		    ForegroundColor	    "magenta"
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio"
		    SID			    "702"
		    Position		    [105, 103, 135, 127]
		    ZOrder		    -24
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    Table		    "gb_ratio"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~eng trq\nand spd"
		    SID			    "703"
		    Ports		    [2, 1]
		    Position		    [710, 166, 740, 199]
		    ZOrder		    -25
		    Inputs		    "*/"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_spd_in_r"
		    SID			    "704"
		    Ports		    [2, 1]
		    Position		    [130, 265, 160, 300]
		    ZOrder		    -26
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_trq_in_r"
		    SID			    "705"
		    Ports		    [3, 1]
		    Position		    [190, 100, 220, 190]
		    ZOrder		    -27
		    Inputs		    "//*"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "est eng trq\n(Nm)"
		    SID			    "706"
		    Position		    [840, 158, 870, 172]
		    ZOrder		    -28
		    NameLocation	    "top"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "est eng spd\n(rad/s)"
		    SID			    "707"
		    Position		    [840, 193, 870, 207]
		    ZOrder		    -29
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gb_spd_in_est\n(rad/s)"
		    SID			    "708"
		    Position		    [820, 278, 850, 292]
		    ZOrder		    -30
		    ForegroundColor	    "blue"
		    NameLocation	    "top"
		    Port		    "3"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "gb_trq_out_r"
		    SrcPort		    1
		    Points		    [95, 0; 0, -50]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "gb_spd_out_r"
		    SrcPort		    1
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [0, 0; 20, 0]
		    Branch {
		    ZOrder		    4
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    5
		    Points		    [0, 135; -45, 0]
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "TR,SR"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-10, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "~eng trq\nand spd"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    " prev eta_gb"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "est eng spd\n(rad/s)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    13
		    SrcBlock		    "Constant5"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    "prev gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "gear ratio"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    DstBlock		    "est eng trq\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    17
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    18
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    19
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    20
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "~eng trq\nand spd"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    21
		    SrcBlock		    "~eng trq\nand spd"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    22
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    23
		    SrcBlock		    "K_adv"
		    SrcPort		    1
		    Points		    [15, 0; 0, -5]
		    Branch {
		    ZOrder		    24
		    Points		    [0, -15]
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    25
		    Points		    [0, 70]
		    DstBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    26
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SrcPort		    1
		    Points		    [110, 0]
		    DstBlock		    "TR,SR"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    27
		    SrcBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    SrcPort		    1
		    Points		    [110, 0]
		    DstBlock		    "TR,SR"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    28
		    SrcBlock		    "From5"
		    SrcPort		    1
		    Points		    [0, -25; -45, 0]
		    DstBlock		    "est eng\ntrq"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    29
		    SrcBlock		    "~gb_spd_in_r"
		    SrcPort		    1
		    Points		    [0, 0; 120, 0]
		    Branch {
		    ZOrder		    30
		    Points		    [380, 0]
		    Branch {
		    ZOrder		    31
		    Points		    [0, 0]
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    32
		    DstBlock		    "gb_spd_in_est\n(rad/s)"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    33
		    Points		    [0, -110]
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    34
		    SrcBlock		    "~gb_trq_in_r"
		    SrcPort		    1
		    DstBlock		    "est eng\ntrq"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    35
		    SrcBlock		    "est eng\ntrq"
		    SrcPort		    1
		    Points		    [0, 0; -20, 0]
		    Branch {
		    ZOrder		    36
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    37
		    Points		    [30, 0; 0, -35; 160, 0]
		    Branch {
		    ZOrder		    38
		    Points		    [0, -95]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    39
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    }
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "est. engine trq\nand spd assuming\nlockup"
		  SID			  "709"
		  Ports			  [4, 2]
		  Position		  [115, 489, 145, 521]
		  ZOrder		  -51
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "est. engine trq\nand spd assuming\nlockup"
		    Location		    [25, 44, 888, 892]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "new gear\nnumber"
		    SID			    "710"
		    Position		    [30, 28, 60, 42]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    " prev eta_gb"
		    SID			    "711"
		    Position		    [30, 83, 60, 97]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_trq_out_r"
		    SID			    "712"
		    Position		    [30, 138, 60, 152]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_spd_in_est"
		    SID			    "713"
		    Position		    [30, 218, 60, 232]
		    ZOrder		    -4
		    Port		    "4"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    SID			    "714"
		    Ports		    []
		    Position		    [625, 180, 681, 220]
		    ZOrder		    -5
		    BackgroundColor	    "green"
		    ShowName		    off
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    67
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		    }
		    System {
		    Name		    "Block NOTES"
		    Location		    [193, 137, 691, 379]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "715"
		    Name		    "Estimate engine torque and speed associated with the current gear, assuming that\nthe gearbox efficie"
		    "ncy is constant."
		    Position		    [227, 12, 592, 34]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		    }
		    }
		    Block {
		    BlockType		    From
		    Name		    "From5"
		    SID			    "716"
		    Position		    [220, 73, 330, 97]
		    ZOrder		    -6
		    BackgroundColor	    "gray"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_trq_est"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "717"
		    Position		    [130, 180, 160, 210]
		    ZOrder		    -7
		    InitialCondition	    "gb_ratio(1)"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    SID			    "718"
		    Position		    [95, 75, 125, 105]
		    ZOrder		    -8
		    UpperLimit		    "1"
		    LowerLimit		    "0.7"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    SID			    "719"
		    Position		    [580, 65, 610, 95]
		    ZOrder		    -9
		    UpperLimit		    "inf"
		    LowerLimit		    "0"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "est eng\ntrq"
		    SID			    "720"
		    Ports		    [2, 1]
		    Position		    [385, 57, 405, 93]
		    ZOrder		    -10
		    ForegroundColor	    "magenta"
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio1"
		    SID			    "721"
		    Position		    [95, 23, 125, 47]
		    ZOrder		    -11
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    Table		    "gb_ratio"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_spd_in_r"
		    SID			    "722"
		    Ports		    [3, 1]
		    Position		    [180, 150, 210, 240]
		    ZOrder		    -12
		    Inputs		    "*/*"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_trq_in_r"
		    SID			    "723"
		    Ports		    [3, 1]
		    Position		    [180, 20, 210, 110]
		    ZOrder		    -13
		    Inputs		    "//*"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "est eng trq\n(Nm)"
		    SID			    "724"
		    Position		    [645, 18, 675, 32]
		    ZOrder		    -14
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "est eng spd\n(rad/s)"
		    SID			    "725"
		    Position		    [645, 73, 675, 87]
		    ZOrder		    -15
		    Port		    "2"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    " prev eta_gb"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "gear ratio1"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    ZOrder		    4
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    5
		    Points		    [0, 130]
		    Branch {
		    ZOrder		    6
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    7
		    Points		    [-35, 0]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "gb_trq_out_r"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "new gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "gear ratio1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "est eng spd\n(rad/s)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "gb_spd_in_est"
		    SrcPort		    1
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    13
		    SrcBlock		    "From5"
		    SrcPort		    1
		    DstBlock		    "est eng\ntrq"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "~gb_trq_in_r"
		    SrcPort		    1
		    DstBlock		    "est eng\ntrq"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    "est eng\ntrq"
		    SrcPort		    1
		    Points		    [0, -50]
		    DstBlock		    "est eng trq\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    "~gb_spd_in_r"
		    SrcPort		    1
		    Points		    [310, 0; 0, -110; 30, 0; 0, -5]
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Lookup
		  Name			  "gear ratio1"
		  SID			  "726"
		  Position		  [840, 108, 870, 132]
		  ZOrder		  -52
		  FontName		  "Arial"
		  InputValues		  "[1:length(gb_ratio)]"
		  Table			  "gb_ratio"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "load=T/\n(maxT\nat spd)"
		  SID			  "727"
		  Position		  [310, 116, 345, 144]
		  ZOrder		  -53
		  FontName		  "Arial"
		  UpperLimit		  "1"
		  LowerLimit		  "-1"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "load=T/\n(maxT\nat spd)1"
		  SID			  "728"
		  Position		  [310, 521, 345, 549]
		  ZOrder		  -54
		  FontName		  "Arial"
		  UpperLimit		  "1"
		  LowerLimit		  "-1"
		}
		Block {
		  BlockType		  Lookup
		  Name			  "lock-up in\nthis gear"
		  SID			  "729"
		  Position		  [165, 313, 195, 337]
		  ZOrder		  -55
		  FontName		  "Arial"
		  InputValues		  "[1:length(htc_lockup)]"
		  Table			  "htc_lockup"
		}
		Block {
		  BlockType		  Memory
		  Name			  "prev gear\nnumber"
		  SID			  "730"
		  Position		  [745, 45, 785, 65]
		  ZOrder		  -56
		  BlockMirror		  on
		  FontName		  "Arial"
		  InitialCondition	  "gb_num_init"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "shifting1"
		  SID			  "731"
		  Ports			  [1, 1]
		  Position		  [845, 279, 875, 311]
		  ZOrder		  -57
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "shifting1"
		    Location		    [38, 124, 368, 493]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "gear\nnumber"
		    SID			    "732"
		    Position		    [15, 50, 35, 70]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "733"
		    Position		    [20, 131, 120, 159]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Value		    "gb_shift_delay-1e-6"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "734"
		    Ports		    [2, 1]
		    Position		    [185, 53, 215, 77]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "time since last shift"
		    SID			    "735"
		    Ports		    [1, 1]
		    Position		    [65, 43, 125, 77]
		    ZOrder		    -4
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    68
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('time since\\nlast shift')"
		    }
		    System {
		    Name		    "time since last shift"
		    Location		    [9, 475, 339, 792]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "736"
		    Position		    [10, 60, 30, 80]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just shifted"
		    SID			    "737"
		    Ports		    [1, 1]
		    Position		    [60, 57, 110, 83]
		    ZOrder		    -2
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    69
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('just\\nshifted')"
		    }
		    System {
		    Name		    "just shifted"
		    Location		    [10, 730, 373, 1053]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "738"
		    Position		    [55, 55, 75, 75]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "739"
		    Position		    [120, 55, 155, 75]
		    ZOrder		    -2
		    FontName		    "Arial"
		    InitialCondition	    "1"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "740"
		    Ports		    [2, 1]
		    Position		    [190, 58, 220, 82]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "741"
		    Position		    [250, 60, 270, 80]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    2
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    3
		    Points		    [0, 30; 75, 0; 0, -20]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "timer"
		    SID			    "742"
		    Ports		    [1, 1]
		    Position		    [140, 55, 175, 85]
		    ZOrder		    -3
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    70
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('timer')"
		    }
		    System {
		    Name		    "timer"
		    Location		    [351, 515, 795, 908]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "trigger"
		    SID			    "743"
		    Position		    [15, 125, 35, 145]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "744"
		    Position		    [100, 100, 120, 120]
		    ZOrder		    -2
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "745"
		    Position		    [100, 150, 120, 170]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    "746"
		    Position		    [150, 5, 170, 25]
		    ZOrder		    -4
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "747"
		    Position		    [265, 59, 295, 91]
		    ZOrder		    -5
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "no-lag\nReset Integrator"
		    SID			    "748"
		    Ports		    [3, 1]
		    Position		    [155, 96, 205, 174]
		    ZOrder		    -6
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    71
		    $ClassName		    "Simulink.Mask"
		    Type		    "No-lag Reset Integrator"
		    Description		    "No-lag Reset Integrator"
		    Help		    "Integrates first input using Euler technique.\\nAt the time step that input 2 <> zero,\\noutput is re"
		    "set to input 3."
		    Display		    "disp('1/s\\nw/ reset\\nno lag')"
		    Object {
		    $PropName		    "Parameters"
		    $ObjectID		    72
		    $ClassName		    "Simulink.MaskParameter"
		    Type		    "edit"
		    Name		    "initval"
		    Prompt		    "Initial Value"
		    Value		    "15"
		    }
		    }
		    System {
		    Name		    "no-lag\nReset Integrator"
		    Location		    [220, 496, 782, 938]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "749"
		    Position		    [60, 100, 80, 120]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    SID			    "750"
		    Position		    [60, 140, 80, 160]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_3"
		    SID			    "751"
		    Position		    [45, 185, 65, 205]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "752"
		    Position		    [125, 205, 145, 225]
		    ZOrder		    -4
		    BlockRotation	    270
		    NameLocation	    "left"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "753"
		    Position		    [340, 55, 375, 75]
		    ZOrder		    -5
		    BlockMirror		    on
		    FontName		    "Arial"
		    InitialCondition	    "initval"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "754"
		    Ports		    [2, 1]
		    Position		    [160, 96, 180, 114]
		    ZOrder		    -6
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    "755"
		    Ports		    [2, 1]
		    Position		    [230, 90, 250, 110]
		    ZOrder		    -7
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "756"
		    Position		    [290, 139, 320, 171]
		    ZOrder		    -8
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    SID			    "757"
		    Ports		    [0, 1]
		    Position		    [112, 50, 138, 80]
		    ZOrder		    -9
		    BlockRotation	    270
		    BlockMirror		    on
		    NameLocation	    "right"
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "dt"
		    Location		    [42, 165, 431, 482]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    SID			    "758"
		    Position		    [65, 60, 85, 80]
		    ZOrder		    -1
		    FontName		    "Arial"
		    FontSize		    8
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    SID			    "759"
		    Position		    [125, 85, 160, 105]
		    ZOrder		    -2
		    FontName		    "Arial"
		    FontSize		    8
		    InitialCondition	    "-1"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    SID			    "760"
		    Ports		    [2, 1]
		    Position		    [205, 65, 225, 85]
		    ZOrder		    -3
		    FontName		    "Arial"
		    FontSize		    8
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "761"
		    Position		    [255, 65, 275, 85]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    4
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    5
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "in_2==0"
		    SID			    "762"
		    Ports		    [2, 1]
		    Position		    [160, 143, 190, 167]
		    ZOrder		    -10
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "763"
		    Position		    [455, 145, 475, 165]
		    ZOrder		    -11
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -40]
		    DstBlock		    "in_2==0"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "in_2==0"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    ZOrder		    4
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    5
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [10, 0; 0, 45]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-130, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "dt"
		    SrcPort		    1
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "in_2==0"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "in_3"
		    SrcPort		    1
		    Points		    [200, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "time"
		    SID			    "764"
		    Position		    [350, 65, 370, 85]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    Points		    [35, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [35, 0; 0, 50]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "trigger"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    6
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    7
		    Points		    [0, -60]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "time"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "765"
		    Position		    [225, 60, 245, 80]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "timer"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "just shifted"
		    SrcPort		    1
		    DstBlock		    "timer"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "just shifted"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "766"
		    Position		    [250, 55, 270, 75]
		    ZOrder		    -5
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "time since last shift"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [15, 0; 0, -75]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "time since last shift"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "upshift\n command"
		  SID			  "767"
		  Ports			  [3, 1]
		  Position		  [475, 94, 505, 146]
		  ZOrder		  -58
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "upshift\n command"
		    Location		    [393, 51, 908, 524]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear number"
		    SID			    "768"
		    Position		    [45, 103, 75, 117]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine load"
		    SID			    "769"
		    Position		    [45, 38, 75, 52]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine speed"
		    SID			    "770"
		    Position		    [45, 133, 75, 147]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    SID			    "771"
		    Ports		    [2, 1]
		    Position		    [130, 107, 165, 143]
		    ZOrder		    -4
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "772"
		    Ports		    [2, 1]
		    Position		    [350, 38, 380, 62]
		    ZOrder		    -5
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "load fraction"
		    SID			    "773"
		    Ports		    [1, 1]
		    Position		    [245, 100, 275, 150]
		    ZOrder		    -6
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    73
		    $ClassName		    "Simulink.Mask"
		    Type		    "Gear Selector"
		    Description		    "This block will perform a linear interplation (extrapolation outside of bounds) to determine t"
		    "he shift point load fraction associated with the current gear number and speed. \n\nThe Speeds parameter should "
		    "be defined as an array of vectors containing speeds for each gear number.  The Load Fractions parameter should b"
		    "e defined as a array of vectors containing load fractions indexed by the speeds in the Speeds parameter for each"
		    " gear number."
		    Help		    "Reference the base workspace variables - gb_**shift_spd and gb_**shift_load  where ** is either up fo"
		    "r upshift conditions or dn for downshift conditions.\n\nOr define the arrays as follows:\n\n{[spd1 spd2 spd3 spd"
		    "4]; [spd1 spd2 spd3 spd4]; ...}\n\n{[load1 load2 load3 load4]; [load1 load2 load3 load4]; ...}\n\nwhere each arr"
		    "ay contains one row for each gear in the gearbox.  Speeds should be defined in rad/s and loads as a decimal frac"
		    "tion.\n\n"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    2
		    Object {
		    $ObjectID		    74
		    Type		    "edit"
		    Name		    "spd"
		    Prompt		    "Speeds:"
		    Value		    "gb_upshift_spd"
		    }
		    Object {
		    $ObjectID		    75
		    Type		    "edit"
		    Name		    "load"
		    Prompt		    "Load Fractions:"
		    Value		    "gb_upshift_load"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "load fraction"
		    Location		    [993, 425, 1273, 685]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "774"
		    Position		    [25, 33, 55, 47]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    S-Function
		    Name		    "S-Function"
		    SID			    "775"
		    Ports		    [1, 1]
		    Position		    [80, 25, 160, 55]
		    ZOrder		    -2
		    FunctionName	    "sfun_gearbox"
		    Parameters		    "load, spd"
		    SFunctionDeploymentMode off
		    EnableBusSupport	    off
		    SFcnIsStateOwnerBlock   off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    SID			    "776"
		    Position		    [185, 33, 215, 47]
		    ZOrder		    -3
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "S-Function"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "command"
		    SID			    "777"
		    Position		    [420, 43, 450, 57]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "load fraction"
		    SrcPort		    1
		    Points		    [50, 0; 0, -70]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "engine load"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "prev gear number"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "load fraction"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "engine speed"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "command"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear number, out"
		  SID			  "778"
		  Position		  [800, 815, 820, 835]
		  ZOrder		  -59
		  FontName		  "Arial"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear ratio, out"
		  SID			  "779"
		  Position		  [800, 655, 820, 675]
		  ZOrder		  -60
		  FontName		  "Arial"
		  Port			  "2"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "shifting, out"
		  SID			  "780"
		  Position		  [800, 700, 820, 720]
		  ZOrder		  -61
		  FontName		  "Arial"
		  Port			  "3"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "locked up"
		  SID			  "781"
		  Position		  [940, 415, 960, 435]
		  ZOrder		  -62
		  FontName		  "Arial"
		  Port			  "4"
		  InitialOutput		  "0"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "est. engine trq\nand\nspd"
		  SrcPort		  2
		  Points		  [35, 0; 0, 35]
		  Branch {
		    ZOrder		    2
		    Points		    [0, 65; 240, 0]
		    Branch {
		    ZOrder		    3
		    Points		    [0, 35]
		    DstBlock		    "downshift \ncommand"
		    DstPort		    3
		    }
		    Branch {
		    ZOrder		    4
		    Points		    [0, -65]
		    DstBlock		    "upshift\n command"
		    DstPort		    3
		    }
		  }
		  Branch {
		    ZOrder		    5
		    DstBlock		    "engine\ntorque\ncapability"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  6
		  SrcBlock		  "gb_spd_out_r"
		  SrcPort		  1
		  Points		  [30, 0]
		  DstBlock		  "est. engine trq\nand\nspd"
		  DstPort		  4
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  "Saturation1"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    ZOrder		    8
		    Points		    [0, 0]
		    Branch {
		    ZOrder		    9
		    DstBlock		    "gear ratio1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    10
		    Points		    [0, -65]
		    Branch {
		    ZOrder		    11
		    DstBlock		    "prev gear\nnumber"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    12
		    DstBlock		    "Goto3"
		    DstPort		    1
		    }
		    }
		  }
		  Branch {
		    ZOrder		    13
		    Points		    [0, 175]
		    DstBlock		    "shifting1"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  14
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [-15, 0]
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  ZOrder		  15
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  DstBlock		  "load=T/\n(maxT\nat spd)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  16
		  SrcBlock		  "allow downshift?"
		  SrcPort		  1
		  Points		  [55, 0; 0, 160]
		  DstBlock		  "Product3"
		  DstPort		  1
		}
		Line {
		  ZOrder		  17
		  SrcBlock		  "Product3"
		  SrcPort		  1
		  Points		  [10, 0; 0, -75]
		  DstBlock		  "delta\ngear\nnumber"
		  DstPort		  3
		}
		Line {
		  ZOrder		  18
		  SrcBlock		  "engine\ntorque\ncapability"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  2
		}
		Line {
		  ZOrder		  19
		  SrcBlock		  "est. engine trq\nand\nspd"
		  SrcPort		  1
		  Points		  [90, 0]
		  DstBlock		  "Product2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  20
		  SrcBlock		  "load=T/\n(maxT\nat spd)"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  ZOrder		  21
		  SrcBlock		  "downshift \ncommand"
		  SrcPort		  1
		  DstBlock		  "Gain1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  22
		  SrcBlock		  "Logical\nOperator1"
		  SrcPort		  1
		  Points		  [0, -15]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  2
		}
		Line {
		  ZOrder		  23
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  Points		  [-15, 0]
		  DstBlock		  "Relational\nOperator"
		  DstPort		  2
		}
		Line {
		  ZOrder		  24
		  SrcBlock		  "lock-up in\nthis gear"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator"
		  DstPort		  1
		}
		Line {
		  ZOrder		  25
		  SrcBlock		  "Relational\nOperator"
		  SrcPort		  1
		  Points		  [15, 0; 0, 75]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  1
		}
		Line {
		  ZOrder		  26
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  Points		  [-15, 0]
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  27
		  SrcBlock		  "Product4"
		  SrcPort		  1
		  DstBlock		  "load=T/\n(maxT\nat spd)1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  28
		  SrcBlock		  "engine\ntorque\ncapability1"
		  SrcPort		  1
		  DstBlock		  "Product4"
		  DstPort		  2
		}
		Line {
		  ZOrder		  29
		  SrcBlock		  "est. engine trq\nand spd assuming\nlockup"
		  SrcPort		  1
		  Points		  [90, 0]
		  DstBlock		  "Product4"
		  DstPort		  1
		}
		Line {
		  ZOrder		  30
		  SrcBlock		  "eta_gb"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    ZOrder		    31
		    DstBlock		    "est. engine trq\nand\nspd"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    32
		    Points		    [0, 405]
		    DstBlock		    "est. engine trq\nand spd assuming\nlockup"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  33
		  SrcBlock		  "gb_trq_out_r"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    ZOrder		    34
		    Points		    [0, -40]
		    DstBlock		    "est. engine trq\nand\nspd"
		    DstPort		    3
		  }
		  Branch {
		    ZOrder		    35
		    Points		    [0, 365]
		    DstBlock		    "est. engine trq\nand spd assuming\nlockup"
		    DstPort		    3
		  }
		}
		Line {
		  ZOrder		  36
		  SrcBlock		  "tires are at\ntraction limit"
		  SrcPort		  1
		  Points		  [290, 0]
		  Branch {
		    ZOrder		    37
		    Points		    [0, 285]
		    DstBlock		    "Switch1"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    38
		    Points		    [0, -120]
		    DstBlock		    "Switch"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  39
		  SrcBlock		  "est. engine trq\nand\nspd"
		  SrcPort		  3
		  Points		  [0, 115; -55, 0; 0, 295]
		  DstBlock		  "est. engine trq\nand spd assuming\nlockup"
		  DstPort		  4
		}
		Line {
		  ZOrder		  40
		  SrcBlock		  "est. engine trq\nand spd assuming\nlockup"
		  SrcPort		  2
		  Points		  [35, 0; 0, 25]
		  Branch {
		    ZOrder		    41
		    DstBlock		    "engine\ntorque\ncapability1"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    42
		    Points		    [0, 55; 265, 0; 0, -55]
		    DstBlock		    "downshift \ncommand1"
		    DstPort		    3
		  }
		}
		Line {
		  ZOrder		  43
		  SrcBlock		  "Logical\nOperator2"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    ZOrder		    44
		    Points		    [0, -95]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    3
		  }
		  Branch {
		    ZOrder		    45
		    DstBlock		    "Memory"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  46
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    ZOrder		    47
		    Points		    [0, 100]
		    DstBlock		    "downshift \ncommand"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    48
		    DstBlock		    "upshift\n command"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  49
		  SrcBlock		  "upshift\n command"
		  SrcPort		  1
		  Points		  [120, 0]
		  Branch {
		    ZOrder		    50
		    Points		    [0, 10]
		    DstBlock		    "delta\ngear\nnumber"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    51
		    DstBlock		    "delta\ngear\nnumber"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  52
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Product3"
		  DstPort		  2
		}
		Line {
		  ZOrder		  53
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  DstBlock		  "locked up"
		  DstPort		  1
		}
		Line {
		  ZOrder		  54
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "downshift \ncommand1"
		  DstPort		  2
		}
		Line {
		  ZOrder		  55
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  Points		  [10, 0; 0, -85]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  4
		}
		Line {
		  ZOrder		  56
		  SrcBlock		  "load=T/\n(maxT\nat spd)1"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
		Line {
		  ZOrder		  57
		  SrcBlock		  "downshift \ncommand1"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  58
		  SrcBlock		  "gear ratio1"
		  SrcPort		  1
		  DstBlock		  "Goto4"
		  DstPort		  1
		}
		Line {
		  ZOrder		  59
		  SrcBlock		  "delta\ngear\nnumber"
		  SrcPort		  1
		  DstBlock		  "current\ngear\nnumber"
		  DstPort		  2
		}
		Line {
		  ZOrder		  60
		  SrcBlock		  "current\ngear\nnumber"
		  SrcPort		  1
		  DstBlock		  "Saturation1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  61
		  SrcBlock		  "prev gear\nnumber"
		  SrcPort		  1
		  Points		  [-165, 0]
		  Branch {
		    ZOrder		    62
		    Points		    [0, 55]
		    DstBlock		    "current\ngear\nnumber"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    63
		    Points		    [-125, 0]
		    Branch {
		    ZOrder		    64
		    Points		    [0, 25]
		    Branch {
		    ZOrder		    65
		    Points		    [0, 55]
		    Branch {
		    ZOrder		    66
		    DstBlock		    "upshift\n command"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    67
		    Points		    [0, 100]
		    Branch {
		    ZOrder		    68
		    DstBlock		    "downshift \ncommand"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    69
		    Points		    [0, 275]
		    DstBlock		    "downshift \ncommand1"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    ZOrder		    70
		    DstBlock		    "allow downshift?"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    71
		    Points		    [-355, 0; 0, 30]
		    DstBlock		    "est. engine trq\nand\nspd"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  72
		  SrcBlock		  "Constant15"
		  SrcPort		  1
		  DstBlock		  "Switch3"
		  DstPort		  2
		}
		Line {
		  ZOrder		  73
		  SrcBlock		  "From4"
		  SrcPort		  1
		  Points		  [30, 0]
		  DstBlock		  "Switch3"
		  DstPort		  1
		}
		Line {
		  ZOrder		  74
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  "Switch3"
		  DstPort		  3
		}
		Line {
		  ZOrder		  75
		  SrcBlock		  "From2"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  ZOrder		  76
		  SrcBlock		  "From3"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  ZOrder		  77
		  SrcBlock		  "Switch3"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  ZOrder		  78
		  SrcBlock		  "Constant14"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  2
		}
		Line {
		  ZOrder		  79
		  SrcBlock		  "From"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  80
		  SrcBlock		  "From1"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  3
		}
		Line {
		  ZOrder		  81
		  SrcBlock		  "From <logic>2"
		  SrcPort		  1
		  DstBlock		  "Speed Dependent Shifting"
		  DstPort		  1
		}
		Line {
		  ZOrder		  82
		  SrcBlock		  "Speed Dependent Shifting"
		  SrcPort		  1
		  DstBlock		  "Goto"
		  DstPort		  1
		}
		Line {
		  ZOrder		  83
		  SrcBlock		  "Speed Dependent Shifting"
		  SrcPort		  2
		  DstBlock		  "Goto1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  84
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [5, 0]
		  Branch {
		    ZOrder		    85
		    Points		    [40, 0]
		    DstBlock		    "shifting, out"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    86
		    DstBlock		    "Goto2"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  87
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    ZOrder		    88
		    DstBlock		    "gear number, out"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    89
		    Points		    [0, 60]
		    DstBlock		    "Goto7"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  90
		  SrcBlock		  "shifting1"
		  SrcPort		  1
		  DstBlock		  "Goto5"
		  DstPort		  1
		}
		Line {
		  ZOrder		  91
		  SrcBlock		  "From5"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  92
		  SrcBlock		  "From6"
		  SrcPort		  1
		  Points		  [0, 35; -50, 0]
		  Branch {
		    ZOrder		    93
		    DstBlock		    "lock-up in\nthis gear"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    94
		    Points		    [-50, 0]
		    DstBlock		    "est. engine trq\nand spd assuming\nlockup"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  95
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [45, 0]
		  DstBlock		  "gear ratio, out"
		  DstPort		  1
		}
		Annotation {
		  SID			  "782"
		  Name			  "default gear number\ncalculation"
		  Position		  [964, 24, 1055, 46]
		  InternalMargins	  [0, 0, 0, 0]
		  ZOrder		  -1
		}
		Annotation {
		  SID			  "783"
		  Name			  "default shifting\ncalculation"
		  Position		  [968, 326, 1034, 348]
		  InternalMargins	  [0, 0, 0, 0]
		  ZOrder		  -2
		}
		Annotation {
		  SID			  "784"
		  Name			  "default gear ratio\ncalculation"
		  Position		  [962, 149, 1038, 171]
		  InternalMargins	  [0, 0, 0, 0]
		  ZOrder		  -3
		}
		Annotation {
		  SID			  "785"
		  Name			  "local GOTO blocks:"
		  Position		  [962, 202, 1050, 214]
		  InternalMargins	  [0, 0, 0, 0]
		  ZOrder		  -4
		}
		Annotation {
		  SID			  "786"
		  Name			  "gear ratio and shifting pre-muxed"
		  Position		  [549, 632, 697, 644]
		  InternalMargins	  [0, 0, 0, 0]
		  ZOrder		  -5
		}
		Annotation {
		  SID			  "787"
		  Name			  "output changes depending\nupon whether speed\ndependent shifting is used"
		  Position		  [910, 795, 1029, 827]
		  InternalMargins	  [0, 0, 0, 0]
		  ZOrder		  -6
		}
	      }
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "gearbox control\nfor use w/ AT"
	      SrcPort		      4
	      DstBlock		      "Goto <htc>"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "gearbox control\nfor use w/ AT"
	      SrcPort		      2
	      DstBlock		      "Goto <gb>"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      3
	      SrcBlock		      "gearbox control\nfor use w/ AT"
	      SrcPort		      1
	      DstBlock		      "Goto <htc>1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "From <gb>2"
	      SrcPort		      1
	      DstBlock		      "gearbox control\nfor use w/ AT"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "From <gb>3"
	      SrcPort		      1
	      DstBlock		      "gearbox control\nfor use w/ AT"
	      DstPort		      4
	    }
	    Line {
	      ZOrder		      6
	      SrcBlock		      "From<gb>"
	      SrcPort		      1
	      DstBlock		      "gearbox control\nfor use w/ AT"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      "From <gb>1"
	      SrcPort		      1
	      DstBlock		      "gearbox control\nfor use w/ AT"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "gearbox control\nfor use w/ AT"
	      SrcPort		      3
	      DstBlock		      "Goto <gb>1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "gear_ratio"
	      ZOrder		      9
	      Labels		      [0, 0]
	      SrcBlock		      "From<gb>1"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      Name		      "shifting"
	      ZOrder		      10
	      Labels		      [0, 0]
	      SrcBlock		      "From <gb>4"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "gear_number"
	      ZOrder		      11
	      Labels		      [0, 0]
	      SrcBlock		      "From <gb>5"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "shifting"
	      ZOrder		      12
	      Labels		      [0, 0]
	      SrcBlock		      "From <gb>6"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "locked_up"
	      ZOrder		      13
	      Labels		      [0, 0]
	      SrcBlock		      "From <gb>7"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator1"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      14
	      SrcBlock		      "eta_gb(t-1)"
	      SrcPort		      1
	      DstBlock		      "Goto <htc>3"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      15
	      SrcBlock		      "T_gb_out (request)(t)"
	      SrcPort		      1
	      DstBlock		      "Goto <gb>2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      16
	      SrcBlock		      "w_gb_out (request)(t)"
	      SrcPort		      1
	      DstBlock		      "Goto <gb>3"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "time lookup\nshift logic for gearbox"
	  SID			  "788"
	  Ports			  []
	  Position		  [140, 265, 180, 325]
	  ZOrder		  -4
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  RequestExecContextInheritance	off
	  System {
	    Name		    "time lookup\nshift logic for gearbox"
	    Location		    [238, 44, 968, 907]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector11"
	      SID		      "789"
	      Ports		      [1, 1]
	      Position		      [180, 151, 185, 189]
	      ZOrder		      -1
	      ShowName		      off
	      OutputSignals	      "signal2"
	      Port {
		PortNumber		1
		Name			"<signal2>"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From2"
	      SID		      "790"
	      Position		      [25, 152, 150, 188]
	      ZOrder		      -2
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "whSensors"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto3"
	      SID		      "791"
	      Position		      [580, 149, 680, 191]
	      ZOrder		      -3
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbControl"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux2"
	      SID		      "792"
	      Ports		      [3, 1]
	      Position		      [525, 30, 535, 310]
	      ZOrder		      -4
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "lookup"
	      SID		      "793"
	      Ports		      [1, 3]
	      Position		      [260, 27, 465, 313]
	      ZOrder		      -5
	      RequestExecContextInheritance off
	      System {
		Name			"lookup"
		Location		[164, 44, 968, 915]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "time"
		  SID			  "794"
		  Position		  [105, 48, 135, 62]
		  ZOrder		  -1
		}
		Block {
		  BlockType		  From
		  Name			  "From <logic>2"
		  SID			  "795"
		  Position		  [80, 254, 185, 286]
		  ZOrder		  -2
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "time"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility"
		  SID			  "796"
		  Position		  [300, 42, 417, 69]
		  ZOrder		  -3
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "time"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto1"
		  SID			  "797"
		  Position		  [160, 42, 290, 68]
		  ZOrder		  -4
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "time"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Reference
		  Name			  "gear number lookup"
		  SID			  "798"
		  Ports			  [1, 1]
		  Position		  [240, 252, 275, 288]
		  ZOrder		  -5
		  FontName		  "Arial"
		  SourceBlock		  "lib_etc/repeated signal output"
		  SourceType		  "Repeating table"
		  t			  "gb_gear_number_lookup(:,1)"
		  y			  "gb_gear_number_lookup(:,2)"
		}
		Block {
		  BlockType		  Lookup
		  Name			  "gear ratio lookup"
		  SID			  "799"
		  Position		  [335, 158, 365, 182]
		  ZOrder		  -6
		  FontName		  "Arial"
		  InputValues		  "[1:length(gb_ratio)]"
		  Table			  "gb_ratio"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "shifting\ndetermination"
		  SID			  "800"
		  Ports			  [1, 1]
		  Position		  [375, 199, 405, 231]
		  ZOrder		  -7
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "shifting\ndetermination"
		    Location		    [250, 108, 580, 477]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "gear\nnumber"
		    SID			    "801"
		    Position		    [15, 50, 35, 70]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "802"
		    Position		    [20, 131, 120, 159]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Value		    "gb_shift_delay-1e-6"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "803"
		    Ports		    [2, 1]
		    Position		    [185, 53, 215, 77]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "time since last shift"
		    SID			    "804"
		    Ports		    [1, 1]
		    Position		    [65, 43, 125, 77]
		    ZOrder		    -4
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    76
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('time since\\nlast shift')"
		    }
		    System {
		    Name		    "time since last shift"
		    Location		    [250, 108, 580, 477]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "805"
		    Position		    [10, 60, 30, 80]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just shifted"
		    SID			    "806"
		    Ports		    [1, 1]
		    Position		    [60, 57, 110, 83]
		    ZOrder		    -2
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    77
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('just\\nshifted')"
		    }
		    System {
		    Name		    "just shifted"
		    Location		    [102, 94, 465, 417]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "807"
		    Position		    [55, 55, 75, 75]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "808"
		    Position		    [120, 55, 155, 75]
		    ZOrder		    -2
		    FontName		    "Arial"
		    InitialCondition	    "1"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "809"
		    Ports		    [2, 1]
		    Position		    [190, 58, 220, 82]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "810"
		    Position		    [250, 60, 270, 80]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    2
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    3
		    Points		    [0, 30; 75, 0; 0, -20]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "timer"
		    SID			    "811"
		    Ports		    [1, 1]
		    Position		    [140, 55, 175, 85]
		    ZOrder		    -3
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    78
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('timer')"
		    }
		    System {
		    Name		    "timer"
		    Location		    [417, 59, 861, 452]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "trigger"
		    SID			    "812"
		    Position		    [15, 125, 35, 145]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "813"
		    Position		    [100, 100, 120, 120]
		    ZOrder		    -2
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "814"
		    Position		    [100, 150, 120, 170]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    "815"
		    Position		    [150, 5, 170, 25]
		    ZOrder		    -4
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "816"
		    Position		    [265, 59, 295, 91]
		    ZOrder		    -5
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "no-lag\nReset Integrator"
		    SID			    "817"
		    Ports		    [3, 1]
		    Position		    [155, 96, 205, 174]
		    ZOrder		    -6
		    SourceBlock		    "lib_controls2/<vc> conv/gearbox\n control/shifting1/time since last shift/timer/no-lag\nReset "
		    "Integrator"
		    SourceType		    "No-lag Reset Integrator"
		    MaskParam1		    "15"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "time"
		    SID			    "818"
		    Position		    [350, 65, 370, 85]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    Points		    [35, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [35, 0; 0, 50]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "trigger"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    6
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    7
		    Points		    [0, -60]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "time"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "819"
		    Position		    [225, 60, 245, 80]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "timer"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "just shifted"
		    SrcPort		    1
		    DstBlock		    "timer"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "just shifted"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "820"
		    Position		    [250, 55, 270, 75]
		    ZOrder		    -5
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "time since last shift"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [15, 0; 0, -75]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "time since last shift"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear ratio"
		  SID			  "821"
		  Position		  [440, 160, 460, 180]
		  ZOrder		  -8
		  NameLocation		  "top"
		  FontName		  "Arial"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "shifting"
		  SID			  "822"
		  Position		  [440, 205, 460, 225]
		  ZOrder		  -9
		  FontName		  "Arial"
		  Port			  "2"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear number"
		  SID			  "823"
		  Position		  [440, 260, 460, 280]
		  ZOrder		  -10
		  FontName		  "Arial"
		  Port			  "3"
		  InitialOutput		  "0"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "time"
		  SrcPort		  1
		  DstBlock		  "Goto1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  2
		  SrcBlock		  "gear number lookup"
		  SrcPort		  1
		  Points		  [0, 0; 5, 0]
		  Branch {
		    ZOrder		    3
		    Points		    [50, 0]
		    Branch {
		    ZOrder		    4
		    DstBlock		    "gear number"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    5
		    Points		    [0, -55]
		    DstBlock		    "shifting\ndetermination"
		    DstPort		    1
		    }
		  }
		  Branch {
		    ZOrder		    6
		    Points		    [0, -100]
		    DstBlock		    "gear ratio lookup"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  "From <logic>2"
		  SrcPort		  1
		  DstBlock		  "gear number lookup"
		  DstPort		  1
		}
		Line {
		  ZOrder		  8
		  SrcBlock		  "shifting\ndetermination"
		  SrcPort		  1
		  DstBlock		  "shifting"
		  DstPort		  1
		}
		Line {
		  ZOrder		  9
		  SrcBlock		  "gear ratio lookup"
		  SrcPort		  1
		  DstBlock		  "gear ratio"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "lookup"
	      SrcPort		      1
	      DstBlock		      "Mux2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "lookup"
	      SrcPort		      2
	      DstBlock		      "Mux2"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      3
	      SrcBlock		      "lookup"
	      SrcPort		      3
	      DstBlock		      "Mux2"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "Mux2"
	      SrcPort		      1
	      DstBlock		      "Goto3"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "From2"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector11"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<signal2>"
	      ZOrder		      6
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector11"
	      SrcPort		      1
	      DstBlock		      "lookup"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "vehicle speed dependent\nshift logic for gearbox"
	  SID			  "824"
	  Ports			  []
	  Position		  [140, 160, 180, 220]
	  ZOrder		  -5
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  RequestExecContextInheritance	off
	  System {
	    Name		    "vehicle speed dependent\nshift logic for gearbox"
	    Location		    [238, 44, 968, 907]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector"
	      SID		      "825"
	      Ports		      [1, 1]
	      Position		      [180, 151, 185, 189]
	      ZOrder		      -1
	      ShowName		      off
	      OutputSignals	      "signal2"
	      Port {
		PortNumber		1
		Name			"<signal2>"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      SID		      "826"
	      Position		      [25, 152, 150, 188]
	      ZOrder		      -2
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "whSensors"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      SID		      "827"
	      Position		      [575, 149, 675, 191]
	      ZOrder		      -3
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbControl"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      SID		      "828"
	      Ports		      [3, 1]
	      Position		      [520, 30, 530, 310]
	      ZOrder		      -4
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "speed dependent"
	      SID		      "829"
	      Ports		      [1, 3]
	      Position		      [255, 27, 460, 313]
	      ZOrder		      -5
	      RequestExecContextInheritance off
	      System {
		Name			"speed dependent"
		Location		[194, 390, 1099, 858]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "v_req_limited"
		  SID			  "830"
		  Position		  [225, 143, 255, 157]
		  ZOrder		  -1
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  "831"
		  Ports			  [1, 2]
		  Position		  [490, 271, 495, 309]
		  ZOrder		  -2
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  From
		  Name			  "From <logic>2"
		  SID			  "832"
		  Position		  [145, 289, 250, 321]
		  ZOrder		  -3
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "v_req_limited"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility"
		  SID			  "833"
		  Position		  [420, 137, 537, 164]
		  ZOrder		  -4
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "v_req_limited"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto1"
		  SID			  "834"
		  Position		  [280, 137, 410, 163]
		  ZOrder		  -5
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "v_req_limited"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Speed Dependent Shifting"
		  SID			  "835"
		  Ports			  [1, 2]
		  Position		  [290, 277, 320, 328]
		  ZOrder		  -6
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "Speed Dependent Shifting"
		    Location		    [8, 44, 1035, 872]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "velocity\nrequired\n(limited)\n"
		    SID			    "836"
		    Position		    [25, 58, 55, 72]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up\nTable\n(gear for downshift)"
		    SID			    "837"
		    Position		    [110, 375, 140, 405]
		    ZOrder		    -2
		    InputValues		    "tx_spd_dep_dnshift(:,1)   % vector of speeds m/s"
		    Table		    "tx_spd_dep_dnshift(:,2)  % gear number--must be step function"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up\nTable\n(gear for upshift)"
		    SID			    "838"
		    Position		    [105, 50, 135, 80]
		    ZOrder		    -3
		    InputValues		    "tx_spd_dep_upshift(:,1)   % vector of speeds in m/s"
		    Table		    "tx_spd_dep_upshift(:,2)  % gear number--must be step function"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    SID			    "839"
		    Ports		    [2, 1]
		    Position		    [405, 102, 440, 138]
		    ZOrder		    -4
		    ForegroundColor	    "red"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    SID			    "840"
		    Ports		    [2, 1]
		    Position		    [450, 382, 485, 418]
		    ZOrder		    -5
		    ForegroundColor	    "red"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "New gear ratio"
		    SID			    "841"
		    Ports		    [1]
		    Position		    [725, 259, 810, 281]
		    ZOrder		    -6
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    VariableName	    "new_gear_ratio"
		    MaxDataPoints	    "50000"
		    }
		    Block {
		    BlockType		    Rounding
		    Name		    "Rounding\nFunction"
		    SID			    "842"
		    Position		    [190, 50, 220, 80]
		    ZOrder		    -7
		    Operator		    "round"
		    }
		    Block {
		    BlockType		    Rounding
		    Name		    "Rounding\nFunction1"
		    SID			    "843"
		    Position		    [195, 375, 225, 405]
		    ZOrder		    -8
		    Operator		    "round"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation4"
		    SID			    "844"
		    Position		    [280, 56, 300, 74]
		    ZOrder		    -9
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    UpperLimit		    "gb_gears_num"
		    LowerLimit		    "1"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation5"
		    SID			    "845"
		    Position		    [285, 381, 305, 399]
		    ZOrder		    -10
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    UpperLimit		    "gb_gears_num"
		    LowerLimit		    "1"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "delta\nspeed\n(\"+\" is acceleration)"
		    SID			    "846"
		    Ports		    [2, 1]
		    Position		    [215, 240, 240, 300]
		    ZOrder		    -11
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio6"
		    SID			    "847"
		    Position		    [345, 53, 375, 77]
		    ZOrder		    -12
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    Table		    "gb_ratio"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio8"
		    SID			    "848"
		    Position		    [380, 378, 410, 402]
		    ZOrder		    -13
		    ForegroundColor	    "red"
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    Table		    "gb_ratio"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "prev veh\nspeed"
		    SID			    "849"
		    Position		    [130, 245, 170, 265]
		    ZOrder		    -14
		    ForegroundColor	    "red"
		    NameLocation	    "top"
		    FontName		    "Arial"
		    InitialCondition	    "1"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "shifting"
		    SID			    "850"
		    Ports		    [1, 1]
		    Position		    [380, 444, 410, 476]
		    ZOrder		    -15
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "shifting"
		    Location		    [140, 76, 470, 445]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "gear\nnumber"
		    SID			    "851"
		    Position		    [15, 50, 35, 70]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "852"
		    Position		    [20, 131, 120, 159]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Value		    "gb_shift_delay-1e-6"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "853"
		    Ports		    [2, 1]
		    Position		    [185, 53, 215, 77]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "time since last shift"
		    SID			    "854"
		    Ports		    [1, 1]
		    Position		    [65, 43, 125, 77]
		    ZOrder		    -4
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    79
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('time since\\nlast shift')"
		    }
		    System {
		    Name		    "time since last shift"
		    Location		    [8, 268, 338, 585]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "855"
		    Position		    [10, 60, 30, 80]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just shifted"
		    SID			    "856"
		    Ports		    [1, 1]
		    Position		    [60, 57, 110, 83]
		    ZOrder		    -2
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    80
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('just\\nshifted')"
		    }
		    System {
		    Name		    "just shifted"
		    Location		    [104, 92, 467, 415]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "857"
		    Position		    [55, 55, 75, 75]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "858"
		    Position		    [120, 55, 155, 75]
		    ZOrder		    -2
		    FontName		    "Arial"
		    InitialCondition	    "1"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "859"
		    Ports		    [2, 1]
		    Position		    [190, 58, 220, 82]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "860"
		    Position		    [250, 60, 270, 80]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    2
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    3
		    Points		    [0, 30; 75, 0; 0, -20]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "timer"
		    SID			    "861"
		    Ports		    [1, 1]
		    Position		    [140, 55, 175, 85]
		    ZOrder		    -3
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    81
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('timer')"
		    }
		    System {
		    Name		    "timer"
		    Location		    [417, 59, 861, 452]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "trigger"
		    SID			    "862"
		    Position		    [15, 125, 35, 145]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "863"
		    Position		    [100, 100, 120, 120]
		    ZOrder		    -2
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "864"
		    Position		    [100, 150, 120, 170]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    "865"
		    Position		    [150, 5, 170, 25]
		    ZOrder		    -4
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "866"
		    Position		    [265, 59, 295, 91]
		    ZOrder		    -5
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "no-lag\nReset Integrator"
		    SID			    "867"
		    Ports		    [3, 1]
		    Position		    [155, 96, 205, 174]
		    ZOrder		    -6
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    82
		    $ClassName		    "Simulink.Mask"
		    Type		    "No-lag Reset Integrator"
		    Description		    "No-lag Reset Integrator"
		    Help		    "Integrates first input using Euler technique.\\nAt the time step that input 2 <> zero,\\noutput is re"
		    "set to input 3."
		    Display		    "disp('1/s\\nw/ reset\\nno lag')"
		    Object {
		    $PropName		    "Parameters"
		    $ObjectID		    83
		    $ClassName		    "Simulink.MaskParameter"
		    Type		    "edit"
		    Name		    "initval"
		    Prompt		    "Initial Value"
		    Value		    "15"
		    }
		    }
		    System {
		    Name		    "no-lag\nReset Integrator"
		    Location		    [220, 496, 782, 938]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "868"
		    Position		    [60, 100, 80, 120]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    SID			    "869"
		    Position		    [60, 140, 80, 160]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_3"
		    SID			    "870"
		    Position		    [45, 185, 65, 205]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "871"
		    Position		    [125, 205, 145, 225]
		    ZOrder		    -4
		    BlockRotation	    270
		    NameLocation	    "left"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "872"
		    Position		    [340, 55, 375, 75]
		    ZOrder		    -5
		    BlockMirror		    on
		    FontName		    "Arial"
		    InitialCondition	    "initval"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "873"
		    Ports		    [2, 1]
		    Position		    [160, 96, 180, 114]
		    ZOrder		    -6
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    "874"
		    Ports		    [2, 1]
		    Position		    [230, 90, 250, 110]
		    ZOrder		    -7
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "875"
		    Position		    [290, 139, 320, 171]
		    ZOrder		    -8
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    SID			    "876"
		    Ports		    [0, 1]
		    Position		    [112, 50, 138, 80]
		    ZOrder		    -9
		    BlockRotation	    270
		    BlockMirror		    on
		    NameLocation	    "right"
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "dt"
		    Location		    [42, 165, 431, 482]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    SID			    "877"
		    Position		    [65, 60, 85, 80]
		    ZOrder		    -1
		    FontName		    "Arial"
		    FontSize		    8
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    SID			    "878"
		    Position		    [125, 85, 160, 105]
		    ZOrder		    -2
		    FontName		    "Arial"
		    FontSize		    8
		    InitialCondition	    "-1"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    SID			    "879"
		    Ports		    [2, 1]
		    Position		    [205, 65, 225, 85]
		    ZOrder		    -3
		    FontName		    "Arial"
		    FontSize		    8
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "880"
		    Position		    [255, 65, 275, 85]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    4
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    5
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "in_2==0"
		    SID			    "881"
		    Ports		    [2, 1]
		    Position		    [160, 143, 190, 167]
		    ZOrder		    -10
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "882"
		    Position		    [455, 145, 475, 165]
		    ZOrder		    -11
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -40]
		    DstBlock		    "in_2==0"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "in_2==0"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    ZOrder		    4
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    5
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [10, 0; 0, 45]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-130, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "dt"
		    SrcPort		    1
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "in_2==0"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "in_3"
		    SrcPort		    1
		    Points		    [200, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "time"
		    SID			    "883"
		    Position		    [350, 65, 370, 85]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    Points		    [35, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [35, 0; 0, 50]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "trigger"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    6
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    7
		    Points		    [0, -60]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "time"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "884"
		    Position		    [225, 60, 245, 80]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "timer"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "just shifted"
		    SrcPort		    1
		    DstBlock		    "timer"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "just shifted"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "885"
		    Position		    [250, 55, 270, 75]
		    ZOrder		    -5
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "time since last shift"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [15, 0; 0, -75]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "time since last shift"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "shifting1"
		    SID			    "886"
		    Ports		    [1, 1]
		    Position		    [350, 114, 380, 146]
		    ZOrder		    -16
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "shifting1"
		    Location		    [140, 76, 470, 445]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "gear\nnumber"
		    SID			    "887"
		    Position		    [15, 50, 35, 70]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "888"
		    Position		    [20, 131, 120, 159]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Value		    "gb_shift_delay-1e-6"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "889"
		    Ports		    [2, 1]
		    Position		    [185, 53, 215, 77]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "time since last shift"
		    SID			    "890"
		    Ports		    [1, 1]
		    Position		    [65, 43, 125, 77]
		    ZOrder		    -4
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    84
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('time since\\nlast shift')"
		    }
		    System {
		    Name		    "time since last shift"
		    Location		    [8, 268, 338, 585]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "891"
		    Position		    [10, 60, 30, 80]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just shifted"
		    SID			    "892"
		    Ports		    [1, 1]
		    Position		    [60, 57, 110, 83]
		    ZOrder		    -2
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    85
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('just\\nshifted')"
		    }
		    System {
		    Name		    "just shifted"
		    Location		    [104, 92, 467, 415]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "893"
		    Position		    [55, 55, 75, 75]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "894"
		    Position		    [120, 55, 155, 75]
		    ZOrder		    -2
		    FontName		    "Arial"
		    InitialCondition	    "1"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "895"
		    Ports		    [2, 1]
		    Position		    [190, 58, 220, 82]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "896"
		    Position		    [250, 60, 270, 80]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    2
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    3
		    Points		    [0, 30; 75, 0; 0, -20]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "timer"
		    SID			    "897"
		    Ports		    [1, 1]
		    Position		    [140, 55, 175, 85]
		    ZOrder		    -3
		    ShowName		    off
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    86
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('timer')"
		    }
		    System {
		    Name		    "timer"
		    Location		    [417, 59, 861, 452]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "trigger"
		    SID			    "898"
		    Position		    [15, 125, 35, 145]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "899"
		    Position		    [100, 100, 120, 120]
		    ZOrder		    -2
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "900"
		    Position		    [100, 150, 120, 170]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    "901"
		    Position		    [150, 5, 170, 25]
		    ZOrder		    -4
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "902"
		    Position		    [265, 59, 295, 91]
		    ZOrder		    -5
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "no-lag\nReset Integrator"
		    SID			    "903"
		    Ports		    [3, 1]
		    Position		    [155, 96, 205, 174]
		    ZOrder		    -6
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    87
		    $ClassName		    "Simulink.Mask"
		    Type		    "No-lag Reset Integrator"
		    Description		    "No-lag Reset Integrator"
		    Help		    "Integrates first input using Euler technique.\\nAt the time step that input 2 <> zero,\\noutput is re"
		    "set to input 3."
		    Display		    "disp('1/s\\nw/ reset\\nno lag')"
		    Object {
		    $PropName		    "Parameters"
		    $ObjectID		    88
		    $ClassName		    "Simulink.MaskParameter"
		    Type		    "edit"
		    Name		    "initval"
		    Prompt		    "Initial Value"
		    Value		    "15"
		    }
		    }
		    System {
		    Name		    "no-lag\nReset Integrator"
		    Location		    [220, 496, 782, 938]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "904"
		    Position		    [60, 100, 80, 120]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    SID			    "905"
		    Position		    [60, 140, 80, 160]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_3"
		    SID			    "906"
		    Position		    [45, 185, 65, 205]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "907"
		    Position		    [125, 205, 145, 225]
		    ZOrder		    -4
		    BlockRotation	    270
		    NameLocation	    "left"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "908"
		    Position		    [340, 55, 375, 75]
		    ZOrder		    -5
		    BlockMirror		    on
		    FontName		    "Arial"
		    InitialCondition	    "initval"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "909"
		    Ports		    [2, 1]
		    Position		    [160, 96, 180, 114]
		    ZOrder		    -6
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    "910"
		    Ports		    [2, 1]
		    Position		    [230, 90, 250, 110]
		    ZOrder		    -7
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "911"
		    Position		    [290, 139, 320, 171]
		    ZOrder		    -8
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    SID			    "912"
		    Ports		    [0, 1]
		    Position		    [112, 50, 138, 80]
		    ZOrder		    -9
		    BlockRotation	    270
		    BlockMirror		    on
		    NameLocation	    "right"
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "dt"
		    Location		    [42, 165, 431, 482]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    SID			    "913"
		    Position		    [65, 60, 85, 80]
		    ZOrder		    -1
		    FontName		    "Arial"
		    FontSize		    8
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    SID			    "914"
		    Position		    [125, 85, 160, 105]
		    ZOrder		    -2
		    FontName		    "Arial"
		    FontSize		    8
		    InitialCondition	    "-1"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    SID			    "915"
		    Ports		    [2, 1]
		    Position		    [205, 65, 225, 85]
		    ZOrder		    -3
		    FontName		    "Arial"
		    FontSize		    8
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "916"
		    Position		    [255, 65, 275, 85]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    4
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    5
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "in_2==0"
		    SID			    "917"
		    Ports		    [2, 1]
		    Position		    [160, 143, 190, 167]
		    ZOrder		    -10
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "918"
		    Position		    [455, 145, 475, 165]
		    ZOrder		    -11
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -40]
		    DstBlock		    "in_2==0"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "in_2==0"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    ZOrder		    4
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    5
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [10, 0; 0, 45]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-130, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "dt"
		    SrcPort		    1
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "in_2==0"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "in_3"
		    SrcPort		    1
		    Points		    [200, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "time"
		    SID			    "919"
		    Position		    [350, 65, 370, 85]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    Points		    [35, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [35, 0; 0, 50]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "trigger"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    6
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    7
		    Points		    [0, -60]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "time"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "920"
		    Position		    [225, 60, 245, 80]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "timer"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "just shifted"
		    SrcPort		    1
		    DstBlock		    "timer"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "just shifted"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "921"
		    Position		    [250, 55, 270, 75]
		    ZOrder		    -5
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "time since last shift"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [15, 0; 0, -75]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "time since last shift"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "switch for gear\nnumber"
		    SID			    "922"
		    Position		    [580, 160, 610, 190]
		    ZOrder		    -17
		    ForegroundColor	    "red"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "switch for gear ratio\nand shifting (muxed)"
		    SID			    "923"
		    Position		    [580, 255, 610, 285]
		    ZOrder		    -18
		    ForegroundColor	    "red"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "total fuel used (gal)"
		    SID			    "924"
		    Ports		    [1]
		    Position		    [370, 339, 450, 361]
		    ZOrder		    -19
		    ForegroundColor	    "red"
		    NameLocation	    "top"
		    FontName		    "Arial"
		    VariableName	    "neg_gear_num"
		    MaxDataPoints	    "50000"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear ratio and shifting"
		    SID			    "925"
		    Position		    [650, 235, 680, 250]
		    ZOrder		    -20
		    BlockRotation	    270
		    NameLocation	    "right"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear number"
		    SID			    "926"
		    Position		    [665, 168, 695, 182]
		    ZOrder		    -21
		    Port		    "2"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Rounding\nFunction1"
		    SrcPort		    1
		    DstBlock		    "Saturation5"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Look-Up\nTable\n(gear for downshift)"
		    SrcPort		    1
		    DstBlock		    "Rounding\nFunction1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Rounding\nFunction"
		    SrcPort		    1
		    DstBlock		    "Saturation4"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Look-Up\nTable\n(gear for upshift)"
		    SrcPort		    1
		    DstBlock		    "Rounding\nFunction"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "delta\nspeed\n(\"+\" is acceleration)"
		    SrcPort		    1
		    Points		    [245, 0]
		    Branch {
		    ZOrder		    6
		    DstBlock		    "switch for gear ratio\nand shifting (muxed)"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    7
		    Points		    [0, -95]
		    DstBlock		    "switch for gear\nnumber"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "switch for gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "gear number"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "switch for gear ratio\nand shifting (muxed)"
		    SrcPort		    1
		    Points		    [50, 0]
		    Branch {
		    ZOrder		    10
		    DstBlock		    "gear ratio and shifting"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    11
		    DstBlock		    "New gear ratio"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "Saturation4"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    ZOrder		    13
		    DstBlock		    "gear ratio6"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    14
		    Points		    [0, 65]
		    Branch {
		    ZOrder		    15
		    DstBlock		    "shifting1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    16
		    Points		    [0, 35]
		    DstBlock		    "switch for gear\nnumber"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    ZOrder		    17
		    SrcBlock		    "shifting1"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    18
		    SrcBlock		    "gear ratio6"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    19
		    SrcBlock		    "Saturation5"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    ZOrder		    20
		    Points		    [0, 70]
		    DstBlock		    "shifting"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    21
		    Points		    [0, 0]
		    Branch {
		    ZOrder		    22
		    DstBlock		    "gear ratio8"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    23
		    Points		    [0, -40]
		    Branch {
		    ZOrder		    24
		    DstBlock		    "total fuel used (gal)"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    25
		    Points		    [0, -165]
		    DstBlock		    "switch for gear\nnumber"
		    DstPort		    3
		    }
		    }
		    }
		    }
		    Line {
		    ZOrder		    26
		    SrcBlock		    "gear ratio8"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    27
		    SrcBlock		    "shifting"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    28
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    Points		    [0, 140]
		    DstBlock		    "switch for gear ratio\nand shifting (muxed)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    29
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    Points		    [0, -120]
		    DstBlock		    "switch for gear ratio\nand shifting (muxed)"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    30
		    SrcBlock		    "prev veh\nspeed"
		    SrcPort		    1
		    DstBlock		    "delta\nspeed\n(\"+\" is acceleration)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    31
		    Labels		    [0, 0]
		    SrcBlock		    "velocity\nrequired\n(limited)\n"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    32
		    DstBlock		    "Look-Up\nTable\n(gear for upshift)"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    33
		    Points		    [0, 190]
		    Branch {
		    ZOrder		    34
		    Points		    [0, 30]
		    Branch {
		    ZOrder		    35
		    Points		    [0, 105]
		    DstBlock		    "Look-Up\nTable\n(gear for downshift)"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    36
		    DstBlock		    "delta\nspeed\n(\"+\" is acceleration)"
		    DstPort		    2
		    }
		    }
		    Branch {
		    ZOrder		    37
		    DstBlock		    "prev veh\nspeed"
		    DstPort		    1
		    }
		    }
		    }
		    Annotation {
		    SID			    "927"
		    Name		    "storing shifting and gear ratio\ninformation to workspace"
		    Position		    [740, 326, 870, 348]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -1
		    }
		    Annotation {
		    SID			    "928"
		    Name		    "decel case"
		    Position		    [361, 193, 410, 205]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -2
		    }
		    Annotation {
		    SID			    "929"
		    Name		    "accel case"
		    Position		    [525, 155, 574, 167]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -3
		    }
		    Annotation {
		    SID			    "930"
		    Name		    "accel\ncase"
		    Position		    [468, 222, 493, 244]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -4
		    }
		    Annotation {
		    SID			    "931"
		    Name		    "decel\ncase"
		    Position		    [510, 383, 535, 405]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -5
		    }
		    Annotation {
		    SID			    "932"
		    Name		    "delta speed"
		    Position		    [285, 260, 338, 272]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -6
		    }
		    Annotation {
		    SID			    "933"
		    Name		    "SPEED \nDEPENDENT \nSHIFT\nSIGNAL"
		    Position		    [709, 85, 775, 127]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -7
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear ratio"
		  SID			  "934"
		  Position		  [560, 255, 580, 275]
		  ZOrder		  -7
		  NameLocation		  "top"
		  FontName		  "Arial"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "shifting"
		  SID			  "935"
		  Position		  [560, 300, 580, 320]
		  ZOrder		  -8
		  FontName		  "Arial"
		  Port			  "2"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear number"
		  SID			  "936"
		  Position		  [560, 355, 580, 375]
		  ZOrder		  -9
		  FontName		  "Arial"
		  Port			  "3"
		  InitialOutput		  "0"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "Speed Dependent Shifting"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  ZOrder		  2
		  SrcBlock		  "Speed Dependent Shifting"
		  SrcPort		  2
		  Points		  [220, 0]
		  DstBlock		  "gear number"
		  DstPort		  1
		}
		Line {
		  ZOrder		  3
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [45, 0]
		  DstBlock		  "gear ratio"
		  DstPort		  1
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [45, 0]
		  DstBlock		  "shifting"
		  DstPort		  1
		}
		Line {
		  ZOrder		  5
		  SrcBlock		  "From <logic>2"
		  SrcPort		  1
		  DstBlock		  "Speed Dependent Shifting"
		  DstPort		  1
		}
		Line {
		  ZOrder		  6
		  SrcBlock		  "v_req_limited"
		  SrcPort		  1
		  DstBlock		  "Goto1"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "speed dependent"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "speed dependent"
	      SrcPort		      2
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      3
	      SrcBlock		      "speed dependent"
	      SrcPort		      3
	      DstBlock		      "Mux"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "From1"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<signal2>"
	      ZOrder		      6
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector"
	      SrcPort		      1
	      DstBlock		      "speed dependent"
	      DstPort		      1
	    }
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "SubLibraries"
      SID		      "937"
      Ports		      []
      Position		      [706, 582, 745, 613]
      ZOrder		      -3
      BackgroundColor	      "darkGreen"
      RequestExecContextInheritance off
      System {
	Name			"SubLibraries"
	Location		[44, 44, 871, 618]
	Open			off
	PortBlocksUseCompactNotation off
	SetExecutionDomain	off
	ExecutionDomainType	"Deduce"
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	SimulinkSubDomain	"Simulink"
	Block {
	  BlockType		  SubSystem
	  Name			  "3D discrete lookup\ntable"
	  SID			  "938"
	  Ports			  [3, 1]
	  Position		  [115, 254, 145, 306]
	  ZOrder		  -1
	  ShowPortLabels	  "none"
	  RequestExecContextInheritance	off
	  Object {
	    $PropName		    "MaskObject"
	    $ObjectID		    89
	    $ClassName		    "Simulink.Mask"
	    Array {
	      Type		      "Simulink.MaskParameter"
	      Dimension		      3
	      Object {
		$ObjectID		90
		Type			"edit"
		Name			"tx_map_spd"
		Prompt			"Row Lookup"
		Value			"tx_map_spd"
	      }
	      Object {
		$ObjectID		91
		Type			"edit"
		Name			"tx_map_trq"
		Prompt			"Column Lookup"
		Value			"tx_map_trq"
	      }
	      Object {
		$ObjectID		92
		Type			"edit"
		Name			"tx_eff_map"
		Prompt			"Lookup Matrix"
		Value			"tx_eff_map"
	      }
	      PropName		      "Parameters"
	    }
	  }
	  System {
	    Name		    "3D discrete lookup\ntable"
	    Location		    [93, 44, 741, 696]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Block {
	      BlockType		      Inport
	      Name		      "lookup speed (rad/s)"
	      SID		      "939"
	      Position		      [45, 68, 75, 82]
	      ZOrder		      -1
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "lookup trq (Nm)"
	      SID		      "940"
	      Position		      [40, 208, 70, 222]
	      ZOrder		      -2
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "gear_number \n(e.g., 1, 2, 3)"
	      SID		      "941"
	      Position		      [40, 348, 70, 362]
	      ZOrder		      -3
	      Port		      "3"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      SID		      "942"
	      Ports		      [3, 1]
	      Position		      [225, 3, 235, 427]
	      ZOrder		      -4
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation"
	      SID		      "943"
	      Position		      [125, 60, 155, 90]
	      ZOrder		      -5
	      UpperLimit	      "max(tx_map_spd)"
	      LowerLimit	      "min(tx_map_spd)"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation1"
	      SID		      "944"
	      Position		      [120, 200, 150, 230]
	      ZOrder		      -6
	      UpperLimit	      "max(tx_map_trq)"
	      LowerLimit	      "min(tx_map_trq)"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation2"
	      SID		      "945"
	      Position		      [120, 340, 150, 370]
	      ZOrder		      -7
	      UpperLimit	      "size(tx_eff_map,3)"
	      LowerLimit	      "1"
	    }
	    Block {
	      BlockType		      MATLABFcn
	      Name		      "interp2d"
	      SID		      "946"
	      Ports		      [1, 1]
	      Position		      [255, 200, 315, 230]
	      ZOrder		      -8
	      MATLABFcn		      "interp2(tx_map_trq, tx_map_spd, tx_eff_map(:,:,u(3)),u(2),u(1))"
	      OutputDimensions	      "1"
	      OutputSignalType	      "real"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "tx_eff"
	      SID		      "947"
	      Position		      [345, 208, 375, 222]
	      ZOrder		      -9
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "interp2d"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "interp2d"
	      SrcPort		      1
	      DstBlock		      "tx_eff"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      3
	      SrcBlock		      "lookup speed (rad/s)"
	      SrcPort		      1
	      DstBlock		      "Saturation"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "Saturation"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "lookup trq (Nm)"
	      SrcPort		      1
	      DstBlock		      "Saturation1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      6
	      SrcBlock		      "Saturation1"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      "gear_number \n(e.g., 1, 2, 3)"
	      SrcPort		      1
	      DstBlock		      "Saturation2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "Saturation2"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      3
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "3D discrete lookup\ntable (sfun)"
	  SID			  "948"
	  Ports			  [3, 1]
	  Position		  [465, 254, 495, 306]
	  ZOrder		  -2
	  ShowPortLabels	  "none"
	  RequestExecContextInheritance	off
	  Object {
	    $PropName		    "MaskObject"
	    $ObjectID		    93
	    $ClassName		    "Simulink.Mask"
	    Array {
	      Type		      "Simulink.MaskParameter"
	      Dimension		      3
	      Object {
		$ObjectID		94
		Type			"edit"
		Name			"tx_map_spd"
		Prompt			"Row Lookup"
		Value			"tx_map_spd"
	      }
	      Object {
		$ObjectID		95
		Type			"edit"
		Name			"tx_map_trq"
		Prompt			"Column Lookup"
		Value			"tx_map_trq"
	      }
	      Object {
		$ObjectID		96
		Type			"edit"
		Name			"tx_eff_map"
		Prompt			"Lookup Matrix"
		Value			"tx_eff_map"
	      }
	      PropName		      "Parameters"
	    }
	  }
	  System {
	    Name		    "3D discrete lookup\ntable (sfun)"
	    Location		    [97, 44, 745, 696]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Block {
	      BlockType		      Inport
	      Name		      "lookup speed (rad/s)"
	      SID		      "949"
	      Position		      [45, 68, 75, 82]
	      ZOrder		      -1
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "lookup trq (Nm)"
	      SID		      "950"
	      Position		      [40, 208, 70, 222]
	      ZOrder		      -2
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "gear_number \n(e.g., 1, 2, 3)"
	      SID		      "951"
	      Position		      [40, 348, 70, 362]
	      ZOrder		      -3
	      Port		      "3"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      SID		      "952"
	      Ports		      [3, 1]
	      Position		      [225, 3, 235, 427]
	      ZOrder		      -4
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation"
	      SID		      "953"
	      Position		      [125, 60, 155, 90]
	      ZOrder		      -5
	      UpperLimit	      "max(tx_map_spd)"
	      LowerLimit	      "min(tx_map_spd)"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation1"
	      SID		      "954"
	      Position		      [120, 200, 150, 230]
	      ZOrder		      -6
	      UpperLimit	      "max(tx_map_trq)"
	      LowerLimit	      "min(tx_map_trq)"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation2"
	      SID		      "955"
	      Position		      [120, 340, 150, 370]
	      ZOrder		      -7
	      UpperLimit	      "size(tx_eff_map,3)"
	      LowerLimit	      "1"
	    }
	    Block {
	      BlockType		      S-Function
	      Name		      "discrete interp2d"
	      SID		      "956"
	      Ports		      [1, 1]
	      Position		      [255, 199, 380, 231]
	      ZOrder		      -8
	      FunctionName	      "sfun_discreteLookup3d"
	      Parameters	      "tx_map_trq, tx_map_spd, tx_eff_map"
	      SFunctionDeploymentMode off
	      EnableBusSupport	      off
	      SFcnIsStateOwnerBlock   off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "tx_eff"
	      SID		      "957"
	      Position		      [405, 208, 435, 222]
	      ZOrder		      -9
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "Saturation2"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "gear_number \n(e.g., 1, 2, 3)"
	      SrcPort		      1
	      DstBlock		      "Saturation2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      3
	      SrcBlock		      "Saturation1"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "lookup trq (Nm)"
	      SrcPort		      1
	      DstBlock		      "Saturation1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "Saturation"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      6
	      SrcBlock		      "lookup speed (rad/s)"
	      SrcPort		      1
	      DstBlock		      "Saturation"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "discrete interp2d"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "discrete interp2d"
	      SrcPort		      1
	      DstBlock		      "tx_eff"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "gear determination\n(e.g., 1st gear, 2nd, etc.)"
	  SID			  "958"
	  Ports			  [1, 1]
	  Position		  [110, 144, 250, 186]
	  ZOrder		  -3
	  ShowPortLabels	  "none"
	  RequestExecContextInheritance	off
	  System {
	    Name		    "gear determination\n(e.g., 1st gear, 2nd, etc.)"
	    Location		    [8, 63, 624, 556]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Block {
	      BlockType		      Inport
	      Name		      "in_1"
	      SID		      "959"
	      Position		      [15, 75, 35, 95]
	      ZOrder		      -1
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "Look-Up\nTable"
	      SID		      "960"
	      Position		      [70, 73, 100, 97]
	      ZOrder		      -2
	      InputValues	      "fliplr([gb_ratio(1)+0.00001,gb_ratio(2:end)])"
	      Table		      "fliplr( [1:length(gb_ratio)] )"
	    }
	    Block {
	      BlockType		      Rounding
	      Name		      "Rounding\nFunction"
	      SID		      "961"
	      Position		      [150, 70, 180, 100]
	      ZOrder		      -3
	      Operator		      "round"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "index of\nlower bounding\nmap"
	      SID		      "962"
	      Position		      [245, 75, 265, 95]
	      ZOrder		      -4
	      InitialOutput	      "0"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "in_1"
	      SrcPort		      1
	      DstBlock		      "Look-Up\nTable"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "Look-Up\nTable"
	      SrcPort		      1
	      DstBlock		      "Rounding\nFunction"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      3
	      SrcBlock		      "Rounding\nFunction"
	      SrcPort		      1
	      DstBlock		      "index of\nlower bounding\nmap"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "loss\n(Nm)"
	  SID			  "963"
	  Ports			  [3, 1]
	  Position		  [150, 44, 185, 86]
	  ZOrder		  -4
	  ShowPortLabels	  "none"
	  RequestExecContextInheritance	off
	  Object {
	    $PropName		    "MaskObject"
	    $ObjectID		    97
	    $ClassName		    "Simulink.Mask"
	    Array {
	      Type		      "Simulink.MaskParameter"
	      Dimension		      5
	      Object {
		$ObjectID		98
		Type			"edit"
		Name			"tx_eff_map"
		Prompt			"table of efficiency values (spd rad/s, trq Nm)"
		Value			"tx_eff_map"
	      }
	      Object {
		$ObjectID		99
		Type			"edit"
		Name			"tx_map_trq"
		Prompt			"vector of output torque values for lookup table (Nm)"
		Value			"tx_map_trq"
	      }
	      Object {
		$ObjectID		100
		Type			"edit"
		Name			"tx_map_spd"
		Prompt			"vector of output speeds for lookup table (rad/s)"
		Value			"tx_map_spd"
	      }
	      Object {
		$ObjectID		101
		Type			"edit"
		Name			"gb_spd_scale"
		Prompt			"Speed scale for the transmission gear box"
		Value			"gb_spd_scale"
	      }
	      Object {
		$ObjectID		102
		Type			"edit"
		Name			"gb_trq_scale"
		Prompt			"Torque scale for the transmission gear box"
		Value			"gb_trq_scale"
	      }
	      PropName		      "Parameters"
	    }
	  }
	  System {
	    Name		    "loss\n(Nm)"
	    Location		    [8, 44, 1068, 904]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Block {
	      BlockType		      Inport
	      Name		      "output torque\nand speed\n(Nm), (rad/s)"
	      SID		      "964"
	      Position		      [50, 60, 70, 80]
	      ZOrder		      -1
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "gear ratio"
	      SID		      "965"
	      Position		      [45, 520, 65, 540]
	      ZOrder		      -2
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "gear_number"
	      SID		      "966"
	      Position		      [45, 445, 65, 465]
	      ZOrder		      -3
	      Port		      "3"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "3D discrete lookup\ntable (sfun)"
	      SID		      "967"
	      Ports		      [3, 1]
	      Position		      [285, 279, 315, 331]
	      ZOrder		      -4
	      SourceBlock	      "lib_transmission/SubLibraries/3D discrete lookup\ntable (sfun)"
	      SourceType	      "Unknown"
	      tx_map_spd	      "tx_map_spd"
	      tx_map_trq	      "tx_map_trq"
	      tx_eff_map	      "tx_eff_map"
	    }
	    Block {
	      BlockType		      Abs
	      Name		      "Abs"
	      SID		      "968"
	      Position		      [300, 16, 330, 34]
	      ZOrder		      -5
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Block NOTES"
	      SID		      "969"
	      Ports		      []
	      Position		      [885, 595, 941, 635]
	      ZOrder		      -6
	      BackgroundColor	      "green"
	      ShowName		      off
	      RequestExecContextInheritance off
	      Object {
		$PropName		"MaskObject"
		$ObjectID		103
		$ClassName		"Simulink.Mask"
		Display			"disp('Block\\nNOTES')"
	      }
	      System {
		Name			"Block NOTES"
		Location		[332, 281, 874, 641]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Annotation {
		  SID			  "970"
		  Name			  "Revision Notes:"
		  Position		  [247, 17, 318, 29]
		  InternalMargins	  [0, 0, 0, 0]
		  VerticalAlignment	  "top"
		  ZOrder		  -1
		}
		Annotation {
		  SID			  "971"
		  Name			  "09/20/02:tm modifed lower input to switch after T_loss_at_input to pass the \ntotal torque input as the "
		  "loss when tx_eff=0\n5 July 2001:mpo changing loss block to a lookup table methodology\n12/20/00:tm revised loss sa"
		  "turation block. lower limit changed \nfrom 1 to 0 and upper limit changed from 100 to inf to prevent over or under"
		  " penalties"
		  Position		  [252, 37, 629, 89]
		  InternalMargins	  [0, 0, 0, 0]
		  VerticalAlignment	  "top"
		  ZOrder		  -2
		}
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      SID		      "972"
	      Position		      [600, 305, 625, 325]
	      ZOrder		      -7
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      SID		      "973"
	      Position		      [350, 386, 375, 404]
	      ZOrder		      -8
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant2"
	      SID		      "974"
	      Position		      [620, 223, 645, 237]
	      ZOrder		      -9
	      ShowName		      off
	      Value		      "eps"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant3"
	      SID		      "975"
	      Position		      [915, 370, 940, 390]
	      ZOrder		      -10
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant4"
	      SID		      "976"
	      Position		      [1000, 420, 1025, 440]
	      ZOrder		      -11
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      SID		      "977"
	      Ports		      [1, 2]
	      Position		      [110, 41, 115, 99]
	      ZOrder		      -12
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "2"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From"
	      SID		      "978"
	      Position		      [525, 291, 590, 309]
	      ZOrder		      -13
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_out"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From10"
	      SID		      "979"
	      Position		      [500, 200, 605, 220]
	      ZOrder		      -14
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "tx_eff"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From11"
	      SID		      "980"
	      Position		      [870, 353, 955, 367]
	      ZOrder		      -15
	      NameLocation	      "top"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_out"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From4"
	      SID		      "981"
	      Position		      [500, 395, 640, 415]
	      ZOrder		      -16
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "one_minus_tx_eff"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From5"
	      SID		      "982"
	      Position		      [500, 444, 630, 466]
	      ZOrder		      -17
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_out_abs"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From6"
	      SID		      "983"
	      Position		      [500, 495, 605, 515]
	      ZOrder		      -18
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gear_ratio"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From7"
	      SID		      "984"
	      Position		      [500, 75, 640, 95]
	      ZOrder		      -19
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "one_minus_tx_eff"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From8"
	      SID		      "985"
	      Position		      [500, 119, 630, 141]
	      ZOrder		      -20
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_out_abs"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From9"
	      SID		      "986"
	      Position		      [500, 165, 605, 185]
	      ZOrder		      -21
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gear_ratio"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      SID		      "987"
	      Position		      [135, 439, 240, 471]
	      ZOrder		      -22
	      GotoTag		      "gear_number"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      SID		      "988"
	      Position		      [135, 516, 240, 544]
	      ZOrder		      -23
	      GotoTag		      "gear_ratio"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      SID		      "989"
	      Position		      [180, 45, 285, 65]
	      ZOrder		      -24
	      NameLocation	      "top"
	      GotoTag		      "T_out"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto3"
	      SID		      "990"
	      Position		      [180, 75, 285, 95]
	      ZOrder		      -25
	      GotoTag		      "w_out"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto4"
	      SID		      "991"
	      Position		      [415, 290, 455, 320]
	      ZOrder		      -26
	      GotoTag		      "tx_eff"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto5"
	      SID		      "992"
	      Position		      [430, 337, 550, 363]
	      ZOrder		      -27
	      GotoTag		      "one_minus_tx_eff"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto6"
	      SID		      "993"
	      Position		      [355, 15, 460, 35]
	      ZOrder		      -28
	      GotoTag		      "T_out_abs"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      SID		      "994"
	      Ports		      [4, 1]
	      Position		      [765, 63, 785, 242]
	      ZOrder		      -29
	      ShowName		      off
	      Inputs		      "**//"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product1"
	      SID		      "995"
	      Ports		      [3, 1]
	      Position		      [720, 382, 740, 528]
	      ZOrder		      -30
	      Inputs		      "**/"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator"
	      SID		      "996"
	      Ports		      [2, 1]
	      Position		      [715, 292, 745, 323]
	      ZOrder		      -31
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator1"
	      SID		      "997"
	      Ports		      [2, 1]
	      Position		      [975, 351, 990, 384]
	      ZOrder		      -32
	      Operator		      ">"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      SID		      "998"
	      Ports		      [2, 1]
	      Position		      [395, 340, 415, 360]
	      ZOrder		      -33
	      ShowName		      off
	      Inputs		      "|-+"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      SID		      "999"
	      Position		      [865, 294, 895, 326]
	      ZOrder		      -34
	      FontName		      "Arial"
	      Threshold		      "0.5"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch1"
	      SID		      "1000"
	      Position		      [1050, 304, 1080, 336]
	      ZOrder		      -35
	      FontName		      "Arial"
	      Threshold		      "0.5"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch2"
	      SID		      "1001"
	      Position		      [660, 204, 690, 236]
	      ZOrder		      -36
	      ShowName		      off
	      FontName		      "Arial"
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch3"
	      SID		      "1002"
	      Position		      [810, 229, 840, 261]
	      ZOrder		      -37
	      ShowName		      off
	      FontName		      "Arial"
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace"
	      SID		      "1003"
	      Ports		      [1]
	      Position		      [110, 564, 240, 586]
	      ZOrder		      -38
	      VariableName	      "current_gear_ratio"
	      MaxDataPoints	      "1"
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "ensure efficiency\nis between \n0% and 100%,\ninclusive"
	      SID		      "1004"
	      Position		      [340, 290, 370, 320]
	      ZOrder		      -39
	      NameLocation	      "top"
	      UpperLimit	      "1"
	      LowerLimit	      "0"
	    }
	    Block {
	      BlockType		      From
	      Name		      "gear number (1st, 2nd, 3rd, etc.)"
	      SID		      "1005"
	      Position		      [135, 356, 230, 374]
	      ZOrder		      -40
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gear_number"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "product1"
	      SID		      "1006"
	      Ports		      [2, 1]
	      Position		      [760, 251, 790, 284]
	      ZOrder		      -41
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "scaled trq_out"
	      SID		      "1007"
	      Ports		      [2, 1]
	      Position		      [185, 284, 200, 326]
	      ZOrder		      -42
	      Inputs		      "*/"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "scaled w_out"
	      SID		      "1008"
	      Ports		      [2, 1]
	      Position		      [205, 236, 220, 269]
	      ZOrder		      -43
	      NameLocation	      "top"
	      Inputs		      "/*"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "spd scale"
	      SID		      "1009"
	      Position		      [15, 237, 95, 253]
	      ZOrder		      -44
	      NameLocation	      "top"
	      Value		      "gb_spd_scale"
	    }
	    Block {
	      BlockType		      From
	      Name		      "spd_out"
	      SID		      "1010"
	      Position		      [105, 253, 190, 267]
	      ZOrder		      -45
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_out"
	    }
	    Block {
	      BlockType		      From
	      Name		      "trq out"
	      SID		      "1011"
	      Position		      [15, 286, 95, 304]
	      ZOrder		      -46
	      NameLocation	      "top"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_out"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "trq scale"
	      SID		      "1012"
	      Position		      [85, 307, 165, 323]
	      ZOrder		      -47
	      Value		      "gb_trq_scale"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "loss torque at\ninput shaft (Nm)"
	      SID		      "1013"
	      Position		      [1120, 310, 1140, 330]
	      ZOrder		      -48
	      InitialOutput	      "0"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "output torque\nand speed\n(Nm), (rad/s)"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      DstBlock		      "Goto3"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      3
	      SrcBlock		      "gear number (1st, 2nd, 3rd, etc.)"
	      SrcPort		      1
	      Points		      [0, -35; 35, 0]
	      DstBlock		      "3D discrete lookup\ntable (sfun)"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "Relational\nOperator"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      6
	      SrcBlock		      "From"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      "Product1"
	      SrcPort		      1
	      Points		      [45, 0; 0, -135]
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "From4"
	      SrcPort		      1
	      DstBlock		      "Product1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      9
	      SrcBlock		      "From6"
	      SrcPort		      1
	      DstBlock		      "Product1"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      10
	      SrcBlock		      "From5"
	      SrcPort		      1
	      DstBlock		      "Product1"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      11
	      SrcBlock		      "From7"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      12
	      SrcBlock		      "From8"
	      SrcPort		      1
	      Points		      [100, 0]
	      Branch {
		ZOrder			13
		DstBlock		"Product"
		DstPort			2
	      }
	      Branch {
		ZOrder			14
		Points			[0, 130]
		DstBlock		"product1"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      15
	      SrcBlock		      "From9"
	      SrcPort		      1
	      Points		      [105, 0]
	      Branch {
		ZOrder			16
		DstBlock		"Product"
		DstPort			3
	      }
	      Branch {
		ZOrder			17
		Points			[0, 100]
		DstBlock		"product1"
		DstPort			2
	      }
	    }
	    Line {
	      ZOrder		      18
	      SrcBlock		      "Switch1"
	      SrcPort		      1
	      DstBlock		      "loss torque at\ninput shaft (Nm)"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      19
	      SrcBlock		      "Constant4"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "Switch1"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      20
	      SrcBlock		      "From11"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      21
	      SrcBlock		      "Constant3"
	      SrcPort		      1
	      Points		      [15, 0]
	      DstBlock		      "Relational\nOperator1"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      22
	      SrcBlock		      "Relational\nOperator1"
	      SrcPort		      1
	      Points		      [5, 0; 0, -50]
	      DstBlock		      "Switch1"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      23
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      Points		      [35, 0]
	      Branch {
		ZOrder			24
		DstBlock		"Goto2"
		DstPort			1
	      }
	      Branch {
		ZOrder			25
		Points			[0, -30]
		DstBlock		"Abs"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      26
	      SrcBlock		      "Abs"
	      SrcPort		      1
	      DstBlock		      "Goto6"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      27
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "Switch1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      28
	      SrcBlock		      "3D discrete lookup\ntable (sfun)"
	      SrcPort		      1
	      DstBlock		      "ensure efficiency\nis between \n0% and 100%,\ninclusive"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      29
	      SrcBlock		      "ensure efficiency\nis between \n0% and 100%,\ninclusive"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		ZOrder			30
		DstBlock		"Goto4"
		DstPort			1
	      }
	      Branch {
		ZOrder			31
		DstBlock		"Sum"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      32
	      Labels		      [1, 0]
	      SrcBlock		      "scaled w_out"
	      SrcPort		      1
	      Points		      [0, 35]
	      DstBlock		      "3D discrete lookup\ntable (sfun)"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      33
	      SrcBlock		      "trq out"
	      SrcPort		      1
	      DstBlock		      "scaled trq_out"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      34
	      SrcBlock		      "scaled trq_out"
	      SrcPort		      1
	      DstBlock		      "3D discrete lookup\ntable (sfun)"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      35
	      SrcBlock		      "trq scale"
	      SrcPort		      1
	      DstBlock		      "scaled trq_out"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      36
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      Points		      [25, 0]
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      37
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "Goto5"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      38
	      SrcBlock		      "spd_out"
	      SrcPort		      1
	      DstBlock		      "scaled w_out"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      39
	      SrcBlock		      "spd scale"
	      SrcPort		      1
	      DstBlock		      "scaled w_out"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      40
	      SrcBlock		      "gear ratio"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		ZOrder			41
		DstBlock		"Goto1"
		DstPort			1
	      }
	      Branch {
		ZOrder			42
		Points			[0, 45]
		DstBlock		"To Workspace"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      43
	      SrcBlock		      "gear_number"
	      SrcPort		      1
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      44
	      SrcBlock		      "Switch2"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      4
	    }
	    Line {
	      ZOrder		      45
	      SrcBlock		      "From10"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		ZOrder			46
		DstBlock		"Switch2"
		DstPort			1
	      }
	      Branch {
		ZOrder			47
		Points			[0, 10; 0, 0]
		Branch {
		  ZOrder		  48
		  DstBlock		  "Switch2"
		  DstPort		  2
		}
		Branch {
		  ZOrder		  49
		  Points		  [0, 25]
		  DstBlock		  "Switch3"
		  DstPort		  2
		}
	      }
	    }
	    Line {
	      ZOrder		      50
	      SrcBlock		      "Constant2"
	      SrcPort		      1
	      DstBlock		      "Switch2"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      51
	      SrcBlock		      "Switch3"
	      SrcPort		      1
	      Points		      [0, 55]
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      52
	      SrcBlock		      "Product"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "Switch3"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      53
	      SrcBlock		      "product1"
	      SrcPort		      1
	      DstBlock		      "Switch3"
	      DstPort		      3
	    }
	    Annotation {
	      SID		      "1014"
	      Name		      "\nLOOKUP TABLE FOR TRANSMISSION EFFICIENCY\n"
	      Position		      [278, 191, 519, 223]
	      InternalMargins	      [0, 0, 0, 0]
	      ForegroundColor	      "white"
	      BackgroundColor	      "black"
	      ZOrder		      -1
	    }
	    Annotation {
	      SID		      "1015"
	      Name		      "T_loss_at_input"
	      Position		      [838, 414, 910, 426]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -2
	    }
	    Annotation {
	      SID		      "1016"
	      Name		      "\"Regen\" case\n(energy flowing from\nwheel side of transmission\nto engine side of transmission)"
	      Position		      [833, 488, 970, 530]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -3
	    }
	    Annotation {
	      SID		      "1017"
	      Name		      "T_loss_at_input"
	      Position		      [840, 198, 912, 210]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -4
	    }
	    Annotation {
	      SID		      "1018"
	      Name		      "Normal \"Powered\" case\n(energy flow from engine\nthrough transmission to wheels)"
	      Position		      [874, 121, 1016, 153]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -5
	    }
	    Annotation {
	      SID		      "1019"
	      Name		      "Switch to Determine \nif Gears are Turning\n--No loss if gears \nare not turning"
	      Position		      [1067, 275, 1161, 317]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -6
	    }
	    Annotation {
	      SID		      "1020"
	      Name		      "Switch for Powered\n or Regen Case"
	      Position		      [903, 278, 990, 300]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -7
	    }
	    Annotation {
	      SID		      "1021"
	      Name		      "Note: saturation block keeps\nloss positive-- for both powered\nand regen cases, a\npositive value"
	      " represents a \"loss\""
	      Position		      [1034, 501, 1182, 543]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -8
	    }
	    Annotation {
	      SID		      "1022"
	      Name		      "no_loss case"
	      Position		      [1069, 400, 1129, 412]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -9
	    }
	    Annotation {
	      SID		      "1023"
	      Name		      "speed at transmission output, rad/s"
	      Position		      [376, 87, 533, 99]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -10
	    }
	    Annotation {
	      SID		      "1024"
	      Name		      "torque at transmission output, Nm"
	      Position		      [371, 55, 522, 67]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -11
	    }
	    Annotation {
	      SID		      "1025"
	      Name		      "spd"
	      Position		      [269, 276, 287, 288]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -12
	    }
	    Annotation {
	      SID		      "1026"
	      Name		      "trq"
	      Position		      [263, 297, 276, 309]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -13
	    }
	    Annotation {
	      SID		      "1027"
	      Name		      "gear"
	      Position		      [254, 318, 275, 330]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -14
	    }
	    Annotation {
	      SID		      "1028"
	      Name		      "\nTORQUE LOSS CALCULATION\n"
	      Position		      [990, 198, 1135, 230]
	      InternalMargins	      [0, 0, 0, 0]
	      ForegroundColor	      "white"
	      BackgroundColor	      "black"
	      ZOrder		      -15
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "loss\n(Nm) old methodology"
	  SID			  "1029"
	  Ports			  [2, 1]
	  Position		  [600, 54, 635, 96]
	  ZOrder		  -5
	  ShowPortLabels	  "none"
	  RequestExecContextInheritance	off
	  System {
	    Name		    "loss\n(Nm) old methodology"
	    Location		    [8, 81, 1038, 578]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Block {
	      BlockType		      Inport
	      Name		      "output torque\nand speed\n(Nm), (rad/s)"
	      SID		      "1030"
	      Position		      [50, 25, 70, 45]
	      ZOrder		      -1
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "gear ratio"
	      SID		      "1031"
	      Position		      [65, 145, 85, 165]
	      ZOrder		      -2
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Abs
	      Name		      "Abs"
	      SID		      "1032"
	      Position		      [430, 10, 460, 40]
	      ZOrder		      -3
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Block NOTES"
	      SID		      "1033"
	      Ports		      []
	      Position		      [865, 20, 921, 60]
	      ZOrder		      -4
	      BackgroundColor	      "green"
	      ShowName		      off
	      RequestExecContextInheritance off
	      Object {
		$PropName		"MaskObject"
		$ObjectID		104
		$ClassName		"Simulink.Mask"
		Display			"disp('Block\\nNOTES')"
	      }
	      System {
		Name			"Block NOTES"
		Location		[326, 287, 868, 647]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Annotation {
		  SID			  "1034"
		  Name			  "Revision Notes:"
		  Position		  [247, 17, 318, 29]
		  InternalMargins	  [0, 0, 0, 0]
		  VerticalAlignment	  "top"
		  ZOrder		  -1
		}
		Annotation {
		  SID			  "1035"
		  Name			  "12/20/00:tm revised loss saturation block. lower limit changed \nfrom 1 to 0 and upper limit changed fro"
		  "m 100 to inf to prevent over or under penalties"
		  Position		  [252, 37, 629, 59]
		  InternalMargins	  [0, 0, 0, 0]
		  VerticalAlignment	  "top"
		  ZOrder		  -2
		}
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      SID		      "1036"
	      Position		      [750, 205, 770, 225]
	      ZOrder		      -5
	      BlockRotation	      270
	      NameLocation	      "right"
	      FontName		      "Arial"
	      Value		      "eps"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      SID		      "1037"
	      Position		      [145, 248, 335, 272]
	      ZOrder		      -6
	      Value		      "gb_loss_input_spd_coeff/gb_spd_scale"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant2"
	      SID		      "1038"
	      Position		      [140, 159, 330, 181]
	      ZOrder		      -7
	      Value		      "gb_loss_input_trq_coeff/gb_trq_scale"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant3"
	      SID		      "1039"
	      Position		      [140, 203, 335, 227]
	      ZOrder		      -8
	      Value		      "gb_loss_output_spd_coeff/gb_spd_scale"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant4"
	      SID		      "1040"
	      Position		      [140, 113, 330, 137]
	      ZOrder		      -9
	      Value		      "gb_loss_output_trq_coeff/gb_trq_scale"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant5"
	      SID		      "1041"
	      Position		      [537, 200, 663, 220]
	      ZOrder		      -10
	      BlockRotation	      270
	      NameLocation	      "left"
	      Value		      "gb_loss_const"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant6"
	      SID		      "1042"
	      Position		      [100, 74, 370, 96]
	      ZOrder		      -11
	      Value		      "gb_loss_output_pwr_coeff/gb_spd_scale/gb_trq_scale"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant7"
	      SID		      "1043"
	      Position		      [815, 180, 835, 200]
	      ZOrder		      -12
	      BlockRotation	      270
	      NameLocation	      "right"
	      FontName		      "Arial"
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      SID		      "1044"
	      Ports		      [1, 2]
	      Position		      [390, 16, 410, 49]
	      ZOrder		      -13
	      FontName		      "Arial"
	      Outputs		      "2"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      SID		      "1045"
	      Ports		      [2, 1]
	      Position		      [380, 237, 410, 268]
	      ZOrder		      -14
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product1"
	      SID		      "1046"
	      Ports		      [2, 1]
	      Position		      [350, 147, 380, 178]
	      ZOrder		      -15
	      Inputs		      "/*"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product2"
	      SID		      "1047"
	      Ports		      [2, 1]
	      Position		      [505, 17, 535, 48]
	      ZOrder		      -16
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product3"
	      SID		      "1048"
	      Ports		      [2, 1]
	      Position		      [505, 122, 535, 153]
	      ZOrder		      -17
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product4"
	      SID		      "1049"
	      Ports		      [3, 1]
	      Position		      [505, 69, 535, 101]
	      ZOrder		      -18
	      Inputs		      "3"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator"
	      SID		      "1050"
	      Ports		      [2, 1]
	      Position		      [775, 132, 805, 163]
	      ZOrder		      -19
	      Operator		      ">"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation"
	      SID		      "1051"
	      Position		      [775, 70, 805, 100]
	      ZOrder		      -20
	      UpperLimit	      "inf"
	      LowerLimit	      "0"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      SID		      "1052"
	      Ports		      [2, 1]
	      Position		      [415, 142, 445, 173]
	      ZOrder		      -21
	      IconShape		      "rectangular"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      SID		      "1053"
	      Ports		      [2, 1]
	      Position		      [440, 232, 470, 263]
	      ZOrder		      -22
	      IconShape		      "rectangular"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      SID		      "1054"
	      Ports		      [4, 1]
	      Position		      [620, 24, 650, 121]
	      ZOrder		      -23
	      IconShape		      "rectangular"
	      Inputs		      "++++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum3"
	      SID		      "1055"
	      Ports		      [2, 1]
	      Position		      [652, 140, 683, 155]
	      ZOrder		      -24
	      BlockRotation	      270
	      NameLocation	      "left"
	      IconShape		      "rectangular"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      SID		      "1056"
	      Position		      [840, 79, 870, 111]
	      ZOrder		      -25
	      FontName		      "Arial"
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "loss torque"
	      SID		      "1057"
	      Ports		      [3, 1]
	      Position		      [715, 69, 745, 101]
	      ZOrder		      -26
	      Inputs		      "*//"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "loss torque at\ninput shaft (Nm)"
	      SID		      "1058"
	      Position		      [905, 85, 925, 105]
	      ZOrder		      -27
	      InitialOutput	      "0"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "Abs"
	      SrcPort		      1
	      Points		      [15, 0]
	      Branch {
		ZOrder			2
		DstBlock		"Product2"
		DstPort			1
	      }
	      Branch {
		ZOrder			3
		Points			[0, 50]
		DstBlock		"Product4"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      DstBlock		      "Abs"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "Relational\nOperator"
	      SrcPort		      1
	      Points		      [5, 0; 0, -55]
	      DstBlock		      "Switch"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      6
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [0, -15]
	      Branch {
		ZOrder			7
		DstBlock		"Relational\nOperator"
		DstPort			2
	      }
	      Branch {
		ZOrder			8
		Points			[-85, 0]
		DstBlock		"Sum3"
		DstPort			2
	      }
	    }
	    Line {
	      ZOrder		      9
	      SrcBlock		      "Constant7"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      10
	      SrcBlock		      "Product3"
	      SrcPort		      1
	      Points		      [40, 0; 0, -55]
	      DstBlock		      "Sum2"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      11
	      SrcBlock		      "Product2"
	      SrcPort		      1
	      DstBlock		      "Sum2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      12
	      SrcBlock		      "output torque\nand speed\n(Nm), (rad/s)"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      13
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      14
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      15
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      Points		      [15, 0; 0, -120]
	      DstBlock		      "Product2"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      16
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      Points		      [5, 0; 0, -105]
	      DstBlock		      "Product3"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      17
	      SrcBlock		      "Constant5"
	      SrcPort		      1
	      Points		      [0, -85]
	      DstBlock		      "Sum2"
	      DstPort		      4
	    }
	    Line {
	      ZOrder		      18
	      SrcBlock		      "gear ratio"
	      SrcPort		      1
	      Points		      [25, 0]
	      Branch {
		ZOrder			19
		DstBlock		"Product1"
		DstPort			1
	      }
	      Branch {
		ZOrder			20
		Points			[0, 90]
		Branch {
		  ZOrder		  21
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Branch {
		  ZOrder		  22
		  Points		  [0, 45; 575, 0; 0, -195]
		  DstBlock		  "loss torque"
		  DstPort		  3
		}
	      }
	    }
	    Line {
	      ZOrder		      23
	      SrcBlock		      "Constant2"
	      SrcPort		      1
	      DstBlock		      "Product1"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      24
	      SrcBlock		      "Product1"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      25
	      SrcBlock		      "Constant4"
	      SrcPort		      1
	      Points		      [65, 0]
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      26
	      SrcBlock		      "Constant3"
	      SrcPort		      1
	      Points		      [85, 0]
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      27
	      SrcBlock		      "Constant6"
	      SrcPort		      1
	      DstBlock		      "Product4"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      28
	      SrcBlock		      "Product4"
	      SrcPort		      1
	      Points		      [30, 0; 0, -25]
	      DstBlock		      "Sum2"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      29
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "loss torque at\ninput shaft (Nm)"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      30
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      DstBlock		      "loss torque"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      31
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      Points		      [10, 0; 0, 90; 50, 0]
	      Branch {
		ZOrder			32
		Points			[5, 0]
		Branch {
		  ZOrder		  33
		  DstBlock		  "Product3"
		  DstPort		  1
		}
		Branch {
		  ZOrder		  34
		  Points		  [0, -35]
		  DstBlock		  "Product4"
		  DstPort		  3
		}
	      }
	      Branch {
		ZOrder			35
		Points			[0, 45; 185, 0]
		Branch {
		  ZOrder		  36
		  Points		  [90, 0; 0, -35]
		  DstBlock		  "Relational\nOperator"
		  DstPort		  1
		}
		Branch {
		  ZOrder		  37
		  Points		  [0, 0]
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      ZOrder		      38
	      SrcBlock		      "loss torque"
	      SrcPort		      1
	      DstBlock		      "Saturation"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      39
	      SrcBlock		      "Saturation"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      40
	      SrcBlock		      "Sum3"
	      SrcPort		      1
	      Points		      [0, -50]
	      DstBlock		      "loss torque"
	      DstPort		      2
	    }
	    Annotation {
	      SID		      "1059"
	      Name		      "Loss torque applied at input side is a function of\n output speed, output torque, and gear number."
	      "\nThere is no loss if the gears are not turning."
	      Position		      [832, 247, 1044, 279]
	      InternalMargins	      [0, 0, 0, 0]
	      VerticalAlignment	      "top"
	      ZOrder		      -1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "notes on \n3D discrete lookup\ntable"
	  SID			  "1060"
	  Ports			  []
	  Position		  [271, 262, 310, 293]
	  ZOrder		  -6
	  BackgroundColor	  "green"
	  ShowPortLabels	  "none"
	  RequestExecContextInheritance	off
	  System {
	    Name		    "notes on \n3D discrete lookup\ntable"
	    Location		    [442, 44, 980, 522]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Annotation {
	      SID		      "1061"
	      Name		      "performs a \"2D\" lookup\nfor the specified\nz height of the 3D lookup matrix\n(i.e., no interpola"
	      "tion on z, only discrete) "
	      Position		      [250, 58, 431, 100]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -1
	    }
	    Annotation {
	      SID		      "1062"
	      Name		      "created 5 July 2001 mpo\nRevision history:\n..."
	      Position		      [252, 235, 363, 267]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -2
	    }
	    Annotation {
	      SID		      "1063"
	      Name		      "3 inputs:\n(1) X lookup\n(2) Y lookup\n(3) discrete Z value (integer)\n\n1 output:\n(1) looked up value"
	      Position		      [99, 134, 226, 206]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -3
	    }
	    Annotation {
	      SID		      "1064"
	      Name		      "3 masked inputs:\n(1) array of X values in table\n(2) array of Y values in table\n(3) 3D lookup ta"
	      "ble (i.e., 2D tables for several Z values)"
	      Position		      [334, 136, 580, 178]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -4
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "notes on \nloss (Nm)"
	  SID			  "1065"
	  Ports			  []
	  Position		  [276, 47, 315, 78]
	  ZOrder		  -7
	  BackgroundColor	  "green"
	  ShowPortLabels	  "none"
	  RequestExecContextInheritance	off
	  System {
	    Name		    "notes on \nloss (Nm)"
	    Location		    [344, 52, 914, 530]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Annotation {
	      SID		      "1066"
	      Name		      "4 masked inputs:\n(1) map of efficiencies by spd and trq and gear number (discrete)\n(2) array of "
	      "trq values in efficiency map lookup table\n(3) array of spd values in efficiency map lookup table\n(4) the rati"
	      "os in the gear box "
	      Position		      [354, 141, 642, 193]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -1
	    }
	    Annotation {
	      SID		      "1067"
	      Name		      "2 inputs:\n(1) trq and spd at output (wheel side) \nof Transmission (muxxed)\n(2) current gear rat"
	      "io\n\n1 output:\n(1) trq loss at input (engine side) of\ntransmission"
	      Position		      [99, 144, 266, 226]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -2
	    }
	    Annotation {
	      SID		      "1068"
	      Name		      "created 5 July 2001 mpo\nRevision history:\n..."
	      Position		      [252, 235, 363, 267]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -3
	    }
	    Annotation {
	      SID		      "1069"
	      Name		      "Calculates the torque loss due to \ntransmission inefficiencies\n(torque lost at input to transmis"
	      "sion)"
	      Position		      [240, 43, 400, 75]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -4
	    }
	    Annotation {
	      SID		      "1070"
	      Name		      "note: tx_map_spd and tx_map_trq\n are output (wheelside) values"
	      Position		      [98, 251, 251, 273]
	      InternalMargins	      [0, 0, 0, 0]
	      ZOrder		      -5
	    }
	    Annotation {
	      SID		      "1071"
	      Name		      "data needs:\ntx_map_spd\ntx_map_trq\ntx_eff_map\ngb_ratio"
	      Position		      [408, 58, 464, 110]
	      InternalMargins	      [0, 0, 0, 0]
	      BackgroundColor	      "lightBlue"
	      ZOrder		      -6
	    }
	  }
	}
	Annotation {
	  SID			  "1072"
	  Name			  "Trq and Spd at Output\n(Nm) and (rad/s)"
	  Position		  [84, 34, 184, 56]
	  InternalMargins	  [0, 0, 0, 0]
	  ZOrder		  -1
	}
	Annotation {
	  SID			  "1073"
	  Name			  "Gear Ratio\n(input spd/output spd)"
	  Position		  [69, 87, 167, 109]
	  InternalMargins	  [0, 0, 0, 0]
	  ZOrder		  -2
	}
	Annotation {
	  SID			  "1074"
	  Name			  "Trq loss\nat input (Nm)"
	  Position		  [225, 64, 284, 86]
	  InternalMargins	  [0, 0, 0, 0]
	  ZOrder		  -3
	}
	Annotation {
	  SID			  "1075"
	  Name			  "gear ratio\n(input/output spd)"
	  Position		  [58, 165, 137, 187]
	  InternalMargins	  [0, 0, 0, 0]
	  ZOrder		  -4
	}
	Annotation {
	  SID			  "1076"
	  Name			  "gear (1st, 2nd, etc.)"
	  Position		  [321, 159, 409, 171]
	  InternalMargins	  [0, 0, 0, 0]
	  ZOrder		  -5
	}
	Annotation {
	  SID			  "1077"
	  Name			  "data needs:\ngb_ratio"
	  Position		  [289, 205, 343, 227]
	  InternalMargins	  [0, 0, 0, 0]
	  BackgroundColor	  "lightBlue"
	  ZOrder		  -6
	}
	Annotation {
	  SID			  "1078"
	  Name			  "Below is the loss block for a gear box based\non loss equation--used with ADVISOR v. 3.1 and below"
	  Position		  [616, 28, 861, 50]
	  InternalMargins	  [0, 0, 0, 0]
	  ZOrder		  -7
	}
	Annotation {
	  SID			  "1079"
	  Name			  "X_lookup"
	  Position		  [60, 259, 103, 271]
	  InternalMargins	  [0, 0, 0, 0]
	  ZOrder		  -8
	}
	Annotation {
	  SID			  "1080"
	  Name			  "Y_lookup"
	  Position		  [58, 282, 101, 294]
	  InternalMargins	  [0, 0, 0, 0]
	  ZOrder		  -9
	}
	Annotation {
	  SID			  "1081"
	  Name			  "Z_discrete value"
	  Position		  [55, 304, 130, 316]
	  InternalMargins	  [0, 0, 0, 0]
	  ZOrder		  -10
	}
	Annotation {
	  SID			  "1082"
	  Name			  "looked up value"
	  Position		  [203, 281, 274, 293]
	  InternalMargins	  [0, 0, 0, 0]
	  ZOrder		  -11
	}
	Annotation {
	  SID			  "1083"
	  Name			  "X_lookup"
	  Position		  [400, 254, 443, 266]
	  InternalMargins	  [0, 0, 0, 0]
	  ZOrder		  -12
	}
	Annotation {
	  SID			  "1084"
	  Name			  "Y_lookup"
	  Position		  [398, 277, 441, 289]
	  InternalMargins	  [0, 0, 0, 0]
	  ZOrder		  -13
	}
	Annotation {
	  SID			  "1085"
	  Name			  "Z_discrete value"
	  Position		  [395, 299, 470, 311]
	  InternalMargins	  [0, 0, 0, 0]
	  ZOrder		  -14
	}
	Annotation {
	  SID			  "1086"
	  Name			  "looked up value"
	  Position		  [553, 281, 624, 293]
	  InternalMargins	  [0, 0, 0, 0]
	  ZOrder		  -15
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Subsystem"
      SID		      "1087"
      Ports		      []
      Position		      [250, 525, 302, 546]
      ZOrder		      -4
      ShowName		      off
      RequestExecContextInheritance off
      Object {
	$PropName		"MaskObject"
	$ObjectID		105
	$ClassName		"Simulink.Mask"
	Display			"disp('GB Notes')"
      }
      System {
	Name			"Subsystem"
	Location		[395, 283, 933, 761]
	Open			off
	PortBlocksUseCompactNotation off
	SetExecutionDomain	off
	ExecutionDomainType	"Deduce"
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	SimulinkSubDomain	"Simulink"
	Annotation {
	  SID			  "1088"
	  Name			  "The gearbox old\nmodel uses transmission\nefficiency referenced from\nthe transmission output.\n\nThe new"
	  " file references from\nthe input."
	  Position		  [66, 63, 194, 135]
	  InternalMargins	  [0, 0, 0, 0]
	  HorizontalAlignment	  "left"
	  ZOrder		  -1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "clutch <cl>"
      SID		      "1089"
      Ports		      [2, 2]
      Position		      [350, 130, 395, 205]
      ZOrder		      -5
      BackgroundColor	      "yellow"
      ShowPortLabels	      "none"
      RequestExecContextInheritance off
      Object {
	$PropName		"MaskObject"
	$ObjectID		106
	$ClassName		"Simulink.Mask"
	Type			"Stand-Alone Clutch Mask"
	Description		"Clutch for use with ADVISOR 2"
	Help			"First input is req'd clutch output torque and speed, muxed together.\nSecond input is clutch state, with 1 =>"
	" disengaged, 2 => slipping, and 3=> engaged.\nThird input is available clutch input torque and limited clutch input s"
	"peed.\nFirst output is req'd clutch input torque and speed, muxed together.\nSecond output is available clutch output"
	" torque and limited clutch output speed.\nThe logic implemented by this block is as follows:\n          IF (clutch is"
	" disengaged) THEN (req'd input torque=0), (req'd input speed=req'd output speed (the engine control is responsible fo"
	"r computing correct engine spin-down speed)), (avail. output torque=0), (limited output speed=req'd output speed)\n  "
	"        IF (clutch is slipping) THEN (req'd input torque=req'd output torque), (req'd input speed=user-defined slip s"
	"peed), (avail. output torque=avail. input torque), (limited output speed=req'd output speed)\n          IF (clutch is"
	" engaged) THEN (req'd input torque=req'd output torque), (req'd input speed=req'd output speed), (avail. output torqu"
	"e=avail. input torque), (limited output speed=limited input speed) \n\nThe clutch will transmit no more than its maxi"
	"mum torque as driving or braking torque."
	Initialization		"% initialization via m-file script\nadvSACompMaskInit;"
	Display			"image(imread(imgFileName))"
	Array {
	  Type			  "Simulink.MaskParameter"
	  Dimension		  8
	  Object {
	    $ObjectID		    107
	    Type		    "edit"
	    Name		    "generalName"
	    Prompt		    "General Name of this Component [char--evaluated]"
	    Value		    "'cl'"
	  }
	  Object {
	    $ObjectID		    108
	    Type		    "popup"
	    Array {
	      Type		      "Cell"
	      Dimension		      2
	      Cell		      "Don't Log"
	      Cell		      "Log"
	      PropName		      "TypeOptions"
	    }
	    Name		    "logPick"
	    Prompt		    "Log Variables to Workspace?"
	    Value		    "Don't Log"
	  }
	  Object {
	    $ObjectID		    109
	    Type		    "edit"
	    Name		    "initFileName"
	    Prompt		    "Initialization File(s) [cell array of char]"
	    Value		    "{}"
	  }
	  Object {
	    $ObjectID		    110
	    Type		    "edit"
	    Name		    "modCell"
	    Prompt		    "Modification Cell [2 column cell array of param and val]"
	    Value		    "{}"
	  }
	  Object {
	    $ObjectID		    111
	    Type		    "edit"
	    Name		    "imgFileName"
	    Prompt		    "Icon image file name [char--evaluated]"
	    Value		    "'bdi_cl.jpg'"
	  }
	  Object {
	    $ObjectID		    112
	    Type		    "edit"
	    Name		    "slip_spd"
	    Prompt		    "Input shaft speed when clutch slips (rad/s):"
	    Value		    "vc_launch_spd"
	  }
	  Object {
	    $ObjectID		    113
	    Type		    "edit"
	    Name		    "maxtrq"
	    Prompt		    "Maximum torque clutch can transmit:"
	    Value		    "max(fc_max_trq)*fc_trq_scale"
	  }
	  Object {
	    $ObjectID		    114
	    Type		    "popup"
	    Array {
	      Type		      "Cell"
	      Dimension		      2
	      Cell		      "ON"
	      Cell		      "OFF"
	      PropName		      "TypeOptions"
	    }
	    Name		    "DEBUG"
	    Prompt		    "DEBUG"
	    Value		    "OFF"
	    Evaluate		    "off"
	  }
	  PropName		  "Parameters"
	}
      }
      System {
	Name			"clutch <cl>"
	Location		[168, 44, 968, 897]
	Open			off
	PortBlocksUseCompactNotation off
	SetExecutionDomain	off
	ExecutionDomainType	"Deduce"
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	SimulinkSubDomain	"Simulink"
	Block {
	  BlockType		  Inport
	  Name			  "T & w\noutput\nrequested"
	  SID			  "1090"
	  Position		  [105, 188, 135, 202]
	  ZOrder		  -1
	  NameLocation		  "top"
	}
	Block {
	  BlockType		  Inport
	  Name			  "T & w\ninput\nachieved"
	  SID			  "1091"
	  Position		  [105, 208, 135, 222]
	  ZOrder		  -2
	  Port			  "2"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "clutch model and interface"
	  SID			  "1092"
	  Ports			  [3, 4]
	  Position		  [230, 182, 270, 243]
	  ZOrder		  -3
	  ShowPortLabels	  "none"
	  RequestExecContextInheritance	off
	  System {
	    Name		    "clutch model and interface"
	    Location		    [168, 44, 968, 897]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Block {
	      BlockType		      Inport
	      Name		      "T & w\noutput\nrequested"
	      SID		      "1093"
	      Position		      [250, 68, 280, 82]
	      ZOrder		      -1
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "T & w\ninput\nachieved"
	      SID		      "1094"
	      Position		      [255, 143, 285, 157]
	      ZOrder		      -2
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      SID		      "1095"
	      Position		      [70, 298, 100, 312]
	      ZOrder		      -3
	      Port		      "3"
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      SID		      "1096"
	      Ports		      [2, 1]
	      Position		      [645, 274, 650, 341]
	      ZOrder		      -4
	      ShowName		      off
	      Inputs		      "2"
	      DisplayOption	      "bar"
	      InheritFromInputs	      on
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux2"
	      SID		      "1097"
	      Ports		      [1, 3]
	      Position		      [140, 258, 145, 352]
	      ZOrder		      -5
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "3"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      SID		      "1098"
	      Position		      [485, 277, 560, 303]
	      ZOrder		      -6
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_cl_out"
	      Port {
		PortNumber		1
		Name			"T_cl_out"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From2"
	      SID		      "1099"
	      Position		      [485, 312, 560, 338]
	      ZOrder		      -7
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_cl_out"
	      Port {
		PortNumber		1
		Name			"w_cl_out"
	      }
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      SID		      "1100"
	      Position		      [175, 249, 270, 271]
	      ZOrder		      -8
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "clutch_state"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      SID		      "1101"
	      Position		      [280, 247, 358, 275]
	      ZOrder		      -9
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "clutch_state"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      SID		      "1102"
	      Position		      [395, 277, 473, 305]
	      ZOrder		      -10
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "T_cl_out"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      SID		      "1103"
	      Position		      [395, 312, 473, 340]
	      ZOrder		      -11
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "w_cl_out"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility3"
	      SID		      "1104"
	      Position		      [280, 292, 358, 320]
	      ZOrder		      -12
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "launch_speed"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      SID		      "1105"
	      Position		      [280, 337, 358, 365]
	      ZOrder		      -13
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "launch_flag"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      SID		      "1106"
	      Position		      [175, 294, 270, 316]
	      ZOrder		      -14
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "launch_speed"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      SID		      "1107"
	      Position		      [175, 339, 270, 361]
	      ZOrder		      -15
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "launch_flag"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "clutch model"
	      SID		      "1108"
	      Ports		      [2, 2]
	      Position		      [350, 105, 390, 165]
	      ZOrder		      -16
	      ShowPortLabels	      "none"
	      RequestExecContextInheritance off
	      System {
		Name			"clutch model"
		Location		[271, 44, 1075, 889]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "T & w\noutput\nrequested"
		  SID			  "1109"
		  Position		  [30, 58, 60, 72]
		  ZOrder		  -1
		}
		Block {
		  BlockType		  Inport
		  Name			  "T & w\ninput\nachieved"
		  SID			  "1110"
		  Position		  [25, 483, 55, 497]
		  ZOrder		  -2
		  Port			  "2"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Adjust for\nPossible Launch\nSpeed Request"
		  SID			  "1111"
		  Ports			  [1, 1]
		  Position		  [470, 160, 510, 220]
		  ZOrder		  -3
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "Adjust for\nPossible Launch\nSpeed Request"
		    Location		    [176, 44, 984, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "Input\nSpeed Request"
		    SID			    "1112"
		    Position		    [55, 228, 85, 242]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant6"
		    SID			    "1113"
		    Position		    [105, 185, 125, 205]
		    ZOrder		    -2
		    ShowName		    off
		    }
		    Block {
		    BlockType		    From
		    Name		    "From1"
		    SID			    "1114"
		    Position		    [30, 53, 120, 77]
		    ZOrder		    -3
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "launch_speed"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From2"
		    SID			    "1115"
		    Position		    [30, 97, 105, 123]
		    ZOrder		    -4
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "launch_flag"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From4"
		    SID			    "1116"
		    Position		    [30, 167, 105, 193]
		    ZOrder		    -5
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "clutch_state"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    SID			    "1117"
		    Ports		    [2, 1]
		    Position		    [245, 132, 275, 163]
		    ZOrder		    -6
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch4"
		    SID			    "1118"
		    Position		    [315, 21, 345, 279]
		    ZOrder		    -7
		    ShowName		    off
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "clutch\ndisengaged"
		    SID			    "1119"
		    Ports		    [2, 1]
		    Position		    [160, 172, 190, 203]
		    ZOrder		    -8
		    NameLocation	    "top"
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Input Speed\nRequest\nAdjusted for\nLaunch Speed"
		    SID			    "1120"
		    Position		    [405, 143, 435, 157]
		    ZOrder		    -9
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "From1"
		    SrcPort		    1
		    DstBlock		    "Switch4"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Switch4"
		    SrcPort		    1
		    DstBlock		    "Input Speed\nRequest\nAdjusted for\nLaunch Speed"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Input\nSpeed Request"
		    SrcPort		    1
		    DstBlock		    "Switch4"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "From4"
		    SrcPort		    1
		    DstBlock		    "clutch\ndisengaged"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Constant6"
		    SrcPort		    1
		    DstBlock		    "clutch\ndisengaged"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "From2"
		    SrcPort		    1
		    Points		    [100, 0; 0, 30]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "clutch\ndisengaged"
		    SrcPort		    1
		    Points		    [15, 0; 0, -35]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "Switch4"
		    DstPort		    2
		    }
		    Annotation {
		    SID			    "1121"
		    Name		    "If the clutch is disengaged, under certain \ncircumstances, we will want to request that \nthe input "
		    "speed to the clutch be ramped up to a \ngiven launch speed (decided by the controller)\nso that the clutch can s"
		    "ubsequently slip and \nengage with a more realistic speed matching"
		    Position		    [372, 68, 647, 154]
		    InternalMargins	    [0, 0, 0, 0]
		    HorizontalAlignment	    "left"
		    BackgroundColor	    "yellow"
		    ZOrder		    -1
		    FontName		    "Arial"
		    FontSize		    12
		    FontWeight		    "bold"
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  SID			  "1122"
		  Position		  [140, 255, 160, 275]
		  ZOrder		  -4
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  SID			  "1123"
		  Position		  [140, 320, 160, 340]
		  ZOrder		  -5
		  Value			  "2"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  SID			  "1124"
		  Position		  [140, 390, 160, 410]
		  ZOrder		  -6
		  Value			  "3"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant3"
		  SID			  "1125"
		  Position		  [365, 135, 385, 155]
		  ZOrder		  -7
		  BlockRotation		  270
		  NameLocation		  "left"
		  Value			  "0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant4"
		  SID			  "1126"
		  Position		  [333, 270, 407, 290]
		  ZOrder		  -8
		  BlockRotation		  270
		  NameLocation		  "right"
		  Value			  "slip_spd"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant5"
		  SID			  "1127"
		  Position		  [315, 490, 335, 510]
		  ZOrder		  -9
		  Value			  "0"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  "1128"
		  Ports			  [1, 2]
		  Position		  [95, 47, 130, 83]
		  ZOrder		  -10
		  Outputs		  "2"
		  Port {
		    PortNumber		    1
		    Name		    "output torque"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "output\nspeed\nreq'd"
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  SID			  "1129"
		  Ports			  [1, 2]
		  Position		  [120, 472, 155, 508]
		  ZOrder		  -11
		  Outputs		  "2"
		}
		Block {
		  BlockType		  From
		  Name			  "From"
		  SID			  "1130"
		  Position		  [30, 212, 105, 238]
		  ZOrder		  -12
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "clutch_state"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <sdo>"
		  SID			  "1131"
		  Position		  [170, 99, 255, 121]
		  ZOrder		  -13
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "T_cl_out"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <sdo>1"
		  SID			  "1132"
		  Position		  [170, 139, 255, 161]
		  ZOrder		  -14
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "w_cl_out"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  SID			  "1133"
		  Ports			  [1, 1]
		  Position		  [320, 69, 350, 101]
		  ZOrder		  -15
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator1"
		  SID			  "1134"
		  Ports			  [1, 1]
		  Position		  [315, 199, 345, 231]
		  ZOrder		  -16
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator2"
		  SID			  "1135"
		  Ports			  [1, 1]
		  Position		  [315, 414, 345, 446]
		  ZOrder		  -17
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  "1136"
		  Ports			  [2, 1]
		  Position		  [545, 57, 580, 93]
		  ZOrder		  -18
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  SID			  "1137"
		  Ports			  [2, 1]
		  Position		  [495, 482, 530, 518]
		  ZOrder		  -19
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  SID			  "1138"
		  Ports			  [1, 1]
		  Position		  [85, 534, 115, 566]
		  ZOrder		  -20
		  Inputs		  "1"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  SID			  "1139"
		  Ports			  [1, 1]
		  Position		  [500, 554, 530, 586]
		  ZOrder		  -21
		  Inputs		  "1"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  SID			  "1140"
		  Position		  [430, 475, 460, 505]
		  ZOrder		  -22
		  UpperLimit		  "maxtrq"
		  LowerLimit		  "-maxtrq"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation1"
		  SID			  "1141"
		  Position		  [455, 50, 485, 80]
		  ZOrder		  -23
		  UpperLimit		  "maxtrq"
		  LowerLimit		  "-maxtrq"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  SID			  "1142"
		  Position		  [390, 50, 420, 80]
		  ZOrder		  -24
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  SID			  "1143"
		  Position		  [385, 175, 415, 205]
		  ZOrder		  -25
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  SID			  "1144"
		  Position		  [375, 475, 405, 505]
		  ZOrder		  -26
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch3"
		  SID			  "1145"
		  Position		  [375, 540, 405, 570]
		  ZOrder		  -27
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "clutch\ndisengaged"
		  SID			  "1146"
		  Ports			  [2, 1]
		  Position		  [190, 217, 220, 248]
		  ZOrder		  -28
		  Operator		  "=="
		  Port {
		    PortNumber		    1
		    Name		    "clutch\ndisengaged"
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "clutch\nengaged"
		  SID			  "1147"
		  Ports			  [2, 1]
		  Position		  [190, 352, 220, 383]
		  ZOrder		  -29
		  Operator		  "=="
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "clutch\nslipping"
		  SID			  "1148"
		  Ports			  [2, 1]
		  Position		  [190, 282, 220, 313]
		  ZOrder		  -30
		  Operator		  "=="
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  SID			  "1149"
		  Ports			  [1]
		  Position		  [550, 562, 645, 578]
		  ZOrder		  -31
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    115
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    116
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    117
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "pwr_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    118
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1149:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1149:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  SID			  "1150"
		  Ports			  [1]
		  Position		  [90, 597, 185, 613]
		  ZOrder		  -32
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    119
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    120
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    121
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "pwr_in_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    122
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1150:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1150:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  SID			  "1151"
		  Ports			  [1]
		  Position		  [245, 22, 340, 38]
		  ZOrder		  -33
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    123
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    124
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    125
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_out_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    126
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1151:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1151:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  SID			  "1152"
		  Ports			  [1]
		  Position		  [115, 177, 210, 193]
		  ZOrder		  -34
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    127
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    128
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    129
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_out_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    130
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1152:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1152:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  SID			  "1153"
		  Ports			  [1]
		  Position		  [580, 182, 675, 198]
		  ZOrder		  -35
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    131
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    132
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    133
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_in_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    134
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1153:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1153:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  SID			  "1154"
		  Ports			  [1]
		  Position		  [555, 27, 650, 43]
		  ZOrder		  -36
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    135
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    136
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    137
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_in_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    138
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1154:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1154:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  SID			  "1155"
		  Ports			  [1]
		  Position		  [515, 447, 610, 463]
		  ZOrder		  -37
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    139
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    140
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    141
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    142
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1155:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1155:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  SID			  "1156"
		  Ports			  [1]
		  Position		  [465, 607, 560, 623]
		  ZOrder		  -38
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    143
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    144
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    145
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    146
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1156:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1156:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace8"
		  SID			  "1157"
		  Ports			  [1]
		  Position		  [230, 597, 325, 613]
		  ZOrder		  -39
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    147
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    148
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    149
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_in_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    150
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1157:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1157:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace9"
		  SID			  "1158"
		  Ports			  [1]
		  Position		  [125, 437, 220, 453]
		  ZOrder		  -40
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    151
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    152
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    153
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_in_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    154
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace9"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1158:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1158:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  SID			  "1159"
		  Ports			  []
		  Position		  [590, 311, 629, 357]
		  ZOrder		  -41
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('clutch.htm')]);"
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    155
		    $ClassName		    "Simulink.Mask"
		    Display		    "image(imread('doc_man.jpg'))"
		  }
		  System {
		    Name		    "help"
		    Location		    [165, 211, 571, 596]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "T & w\ninput\nrequest"
		  SID			  "1160"
		  Position		  [605, 68, 635, 82]
		  ZOrder		  -42
		}
		Block {
		  BlockType		  Outport
		  Name			  "T & w\noutput\nachieved"
		  SID			  "1161"
		  Position		  [610, 493, 640, 507]
		  ZOrder		  -43
		  Port			  "2"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "Saturation1"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    ZOrder		    2
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    3
		    Points		    [0, -30]
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "Saturation1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  5
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    ZOrder		    6
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    7
		    Points		    [0, -35]
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  8
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  DstBlock		  "Saturation"
		  DstPort		  1
		}
		Line {
		  ZOrder		  9
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "clutch\ndisengaged"
		  DstPort		  2
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "clutch\nslipping"
		  DstPort		  2
		}
		Line {
		  ZOrder		  11
		  SrcBlock		  "From"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    ZOrder		    12
		    DstBlock		    "clutch\ndisengaged"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    13
		    Points		    [0, 65]
		    Branch {
		    ZOrder		    14
		    DstBlock		    "clutch\nslipping"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    15
		    Points		    [0, 70]
		    DstBlock		    "clutch\nengaged"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  16
		  SrcBlock		  "T & w\noutput\nrequested"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  ZOrder		  17
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "T & w\ninput\nrequest"
		  DstPort		  1
		}
		Line {
		  ZOrder		  18
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "clutch\nengaged"
		  DstPort		  2
		}
		Line {
		  ZOrder		  19
		  SrcBlock		  "clutch\nslipping"
		  SrcPort		  1
		  Points		  [75, 0]
		  DstBlock		  "Logical\nOperator1"
		  DstPort		  1
		}
		Line {
		  Name			  "clutch\ndisengaged"
		  ZOrder		  20
		  SrcBlock		  "clutch\ndisengaged"
		  SrcPort		  1
		  Points		  [0, 0; 50, 0]
		  Branch {
		    ZOrder		    21
		    Points		    [0, -150]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    22
		    Labels		    [1, 0]
		    Points		    [0, 195]
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  23
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  Points		  [10, 0; 0, -20]
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  ZOrder		  24
		  SrcBlock		  "Constant3"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  ZOrder		  25
		  SrcBlock		  "Logical\nOperator1"
		  SrcPort		  1
		  Points		  [0, -25]
		  DstBlock		  "Switch1"
		  DstPort		  2
		}
		Line {
		  ZOrder		  26
		  SrcBlock		  "Constant4"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
		Line {
		  ZOrder		  27
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    ZOrder		    28
		    DstBlock		    "Switch2"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    29
		    Points		    [0, -20; -50, 0]
		    DstBlock		    "enhancedToWorkspace9"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  30
		  SrcBlock		  "Logical\nOperator2"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "Switch2"
		  DstPort		  2
		}
		Line {
		  ZOrder		  31
		  SrcBlock		  "Constant5"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  3
		}
		Line {
		  ZOrder		  32
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [45, 0; 0, 45]
		  Branch {
		    ZOrder		    33
		    DstBlock		    "Switch3"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    34
		    Points		    [0, 60]
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  35
		  SrcBlock		  "Switch3"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    ZOrder		    36
		    Points		    [50, 0; 0, -45]
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    37
		    Points		    [0, 60]
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  38
		  SrcBlock		  "clutch\nengaged"
		  SrcPort		  1
		  Points		  [5, 0; 0, 185]
		  DstBlock		  "Switch3"
		  DstPort		  2
		}
		Line {
		  Name			  "output torque"
		  ZOrder		  39
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    ZOrder		    40
		    Points		    [0, 55]
		    DstBlock		    "Goto <sdo>"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    41
		    Points		    [70, 0]
		    Branch {
		    ZOrder		    42
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    43
		    Points		    [0, -25]
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  Name			  "output\nspeed\nreq'd"
		  ZOrder		  44
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [0, 0; 5, 0]
		  Branch {
		    ZOrder		    45
		    Points		    [100, 0; 0, 105]
		    Branch {
		    ZOrder		    46
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    47
		    Labels		    [1, 0]
		    Points		    [0, 385]
		    DstBlock		    "Switch3"
		    DstPort		    3
		    }
		  }
		  Branch {
		    ZOrder		    48
		    Points		    [0, 75]
		    Branch {
		    ZOrder		    49
		    DstBlock		    "Goto <sdo>1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    50
		    Points		    [-40, 0]
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  51
		  SrcBlock		  "T & w\ninput\nachieved"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    ZOrder		    52
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    53
		    DstBlock		    "Demux1"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  54
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [0, 35; -45, 0]
		  DstBlock		  "enhancedToWorkspace1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  55
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "enhancedToWorkspace"
		  DstPort		  1
		}
		Line {
		  ZOrder		  56
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    ZOrder		    57
		    DstBlock		    "T & w\noutput\nachieved"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    58
		    Points		    [0, 35; -75, 0]
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  59
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "Adjust for\nPossible Launch\nSpeed Request"
		  DstPort		  1
		}
		Line {
		  ZOrder		  60
		  SrcBlock		  "Adjust for\nPossible Launch\nSpeed Request"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    ZOrder		    61
		    DstBlock		    "Mux"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    62
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      SID		      "1162"
	      Ports		      [1, 1]
	      Position		      [325, 61, 370, 89]
	      ZOrder		      -17
	      NameLocation	      "top"
	      RequestExecContextInheritance off
	      System {
		Name			"signal\nannotator"
		Location		[164, 44, 968, 897]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  SID			  "1163"
		  Position		  [110, 103, 140, 117]
		  ZOrder		  -1
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  "1164"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  ZOrder		  -2
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  Port {
		    PortNumber		    1
		    Name		    "clutch_trq_out_r"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "clutch_spd_out_r"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  "1165"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ZOrder		  -3
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  SID			  "1166"
		  Position		  [430, 103, 460, 117]
		  ZOrder		  -4
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "clutch_trq_out_r"
		  ZOrder		  2
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "clutch_spd_out_r"
		  ZOrder		  3
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "required out"
	      SID		      "1167"
	      Position		      [390, 68, 420, 82]
	      ZOrder		      -18
	      NameLocation	      "top"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      SID		      "1168"
	      Position		      [445, 68, 475, 82]
	      ZOrder		      -19
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out2"
	      SID		      "1169"
	      Position		      [445, 143, 475, 157]
	      ZOrder		      -20
	      Port		      "3"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      SID		      "1170"
	      Position		      [680, 303, 710, 317]
	      ZOrder		      -21
	      Port		      "4"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Demux2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "Demux2"
	      SrcPort		      1
	      Points		      [5, 0; 0, -15]
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      3
	      SrcBlock		      "Demux2"
	      SrcPort		      2
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "Demux2"
	      SrcPort		      3
	      Points		      [5, 0; 0, 15]
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "T_cl_out"
	      ZOrder		      5
	      Labels		      [0, 0]
	      SrcBlock		      "From1"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      Name		      "w_cl_out"
	      ZOrder		      6
	      Labels		      [0, 0]
	      SrcBlock		      "From2"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      "T & w\noutput\nrequested"
	      SrcPort		      1
	      Points		      [0, 0; 25, 0]
	      Branch {
		ZOrder			8
		Points			[0, 45]
		DstBlock		"clutch model"
		DstPort			1
	      }
	      Branch {
		ZOrder			9
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      10
	      SrcBlock		      "clutch model"
	      SrcPort		      1
	      Points		      [35, 0]
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      11
	      SrcBlock		      "T & w\ninput\nachieved"
	      SrcPort		      1
	      DstBlock		      "clutch model"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      12
	      SrcBlock		      "clutch model"
	      SrcPort		      2
	      DstBlock		      "Out2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      13
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      14
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "required out"
	      DstPort		      1
	    }
	    Annotation {
	      SID		      "1171"
	      Name		      "Interface"
	      Position		      [367, 215, 460, 243]
	      InternalMargins	      [0, 0, 0, 0]
	      BackgroundColor	      "yellow"
	      ZOrder		      -1
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      SID		      "1172"
	      Name		      "Model"
	      Position		      [372, 20, 438, 48]
	      InternalMargins	      [0, 0, 0, 0]
	      BackgroundColor	      "yellow"
	      ZOrder		      -2
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  SID			  "1173"
	  Position		  [15, 270, 180, 310]
	  ZOrder		  -4
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "clControl"
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  SID			  "1174"
	  Position		  [325, 94, 515, 136]
	  ZOrder		  -5
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "clReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  SID			  "1175"
	  Position		  [340, 270, 540, 310]
	  ZOrder		  -6
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "clSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T & w\ninput\nrequest"
	  SID			  "1176"
	  Position		  [450, 198, 480, 212]
	  ZOrder		  -7
	  NameLocation		  "top"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T & w\noutput\nachieved"
	  SID			  "1177"
	  Position		  [450, 213, 480, 227]
	  ZOrder		  -8
	  Port			  "2"
	}
	Line {
	  ZOrder		  1
	  SrcBlock		  "T & w\noutput\nrequested"
	  SrcPort		  1
	  DstBlock		  "clutch model and interface"
	  DstPort		  1
	}
	Line {
	  ZOrder		  2
	  SrcBlock		  "clutch model and interface"
	  SrcPort		  2
	  DstBlock		  "T & w\ninput\nrequest"
	  DstPort		  1
	}
	Line {
	  ZOrder		  3
	  SrcBlock		  "T & w\ninput\nachieved"
	  SrcPort		  1
	  DstBlock		  "clutch model and interface"
	  DstPort		  2
	}
	Line {
	  ZOrder		  4
	  SrcBlock		  "clutch model and interface"
	  SrcPort		  3
	  DstBlock		  "T & w\noutput\nachieved"
	  DstPort		  1
	}
	Line {
	  ZOrder		  5
	  Labels		  [2, 0]
	  SrcBlock		  "clutch model and interface"
	  SrcPort		  4
	  Points		  [50, 0]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  ZOrder		  6
	  SrcBlock		  "clutch model and interface"
	  SrcPort		  1
	  Points		  [0, -75]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  ZOrder		  7
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [0, -55]
	  DstBlock		  "clutch model and interface"
	  DstPort		  3
	}
	Annotation {
	  SID			  "1178"
	  Name			  "Clutch\nInterface"
	  Position		  [242, 60, 335, 114]
	  InternalMargins	  [0, 0, 0, 0]
	  BackgroundColor	  "yellow"
	  ZOrder		  -1
	  FontName		  "Arial"
	  FontSize		  22
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "final drive <fd>"
      SID		      "1179"
      Ports		      [2, 2]
      Position		      [615, 437, 660, 488]
      ZOrder		      -6
      BackgroundColor	      "yellow"
      ShowPortLabels	      "none"
      RequestExecContextInheritance off
      Object {
	$PropName		"MaskObject"
	$ObjectID		156
	$ClassName		"Simulink.Mask"
	Type			"Stand-Alone Final Drive Mask"
	Initialization		"% initialization via m-file script\nadvSACompMaskInit;"
	Display			"image(imread(imgFileName))"
	Array {
	  Type			  "Simulink.MaskParameter"
	  Dimension		  6
	  Object {
	    $ObjectID		    157
	    Type		    "edit"
	    Name		    "generalName"
	    Prompt		    "General Name of this Component [char]"
	    Value		    "'fd'"
	  }
	  Object {
	    $ObjectID		    158
	    Type		    "popup"
	    Array {
	      Type		      "Cell"
	      Dimension		      2
	      Cell		      "Don't Log"
	      Cell		      "Log"
	      PropName		      "TypeOptions"
	    }
	    Name		    "logPick"
	    Prompt		    "Log Variables to Workspace?"
	    Value		    "Log"
	  }
	  Object {
	    $ObjectID		    159
	    Type		    "edit"
	    Name		    "initFileName"
	    Prompt		    "Initialization File(s) [cell array of char]"
	    Value		    "{}"
	  }
	  Object {
	    $ObjectID		    160
	    Type		    "edit"
	    Name		    "modCell"
	    Prompt		    "Modification Cell [2 column cell array of param and val]"
	    Value		    "{}"
	  }
	  Object {
	    $ObjectID		    161
	    Type		    "edit"
	    Name		    "imgFileName"
	    Prompt		    "Icon image file name [char--evaluated]"
	    Value		    "'bdi_fd.jpg'"
	  }
	  Object {
	    $ObjectID		    162
	    Type		    "popup"
	    Array {
	      Type		      "Cell"
	      Dimension		      2
	      Cell		      "ON"
	      Cell		      "OFF"
	      PropName		      "TypeOptions"
	    }
	    Name		    "DEBUG"
	    Prompt		    "DEBUG"
	    Value		    "OFF"
	    Evaluate		    "off"
	  }
	  PropName		  "Parameters"
	}
      }
      System {
	Name			"final drive <fd>"
	Location		[40, 84, 892, 715]
	Open			off
	PortBlocksUseCompactNotation off
	SetExecutionDomain	off
	ExecutionDomainType	"Deduce"
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	SimulinkSubDomain	"Simulink"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed req'd\nat output side of final drive\n(Nm), (rad/s)"
	  SID			  "1180"
	  Position		  [215, 190, 235, 210]
	  ZOrder		  -1
	  NameLocation		  "top"
	  FontName		  "Arial"
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nat input side of final drive\n(Nm), (rad/s)"
	  SID			  "1181"
	  Position		  [215, 275, 235, 295]
	  ZOrder		  -2
	  FontName		  "Arial"
	  Port			  "2"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Block NOTES"
	  SID			  "1182"
	  Ports			  []
	  Position		  [135, 60, 191, 100]
	  ZOrder		  -3
	  BackgroundColor	  "green"
	  ShowName		  off
	  RequestExecContextInheritance	off
	  Object {
	    $PropName		    "MaskObject"
	    $ObjectID		    163
	    $ClassName		    "Simulink.Mask"
	    Display		    "disp('Block\\nNOTES')"
	  }
	  System {
	    Name		    "Block NOTES"
	    Location		    [109, 211, 618, 506]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Annotation {
	      SID		      "1183"
	      Name		      "This final drive model includes loss data, rotational inertia, and a gear reduction."
	      Position		      [222, 17, 576, 29]
	      InternalMargins	      [0, 0, 0, 0]
	      VerticalAlignment	      "top"
	      ZOrder		      -1
	    }
	    Annotation {
	      SID		      "1184"
	      Name		      "The loss torque is zero when the gears are not turning,\nand is applied at the input side of the g"
	      "ear reduction."
	      Position		      [227, 37, 470, 59]
	      InternalMargins	      [0, 0, 0, 0]
	      VerticalAlignment	      "top"
	      ZOrder		      -2
	    }
	    Annotation {
	      SID		      "1185"
	      Name		      "The inertia torque is the input torque required to accelerate the\nfinal drive's inertia as measur"
	      "ed on the input side."
	      Position		      [227, 67, 505, 89]
	      InternalMargins	      [0, 0, 0, 0]
	      VerticalAlignment	      "top"
	      ZOrder		      -3
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  SID			  "1186"
	  Position		  [175, 381, 285, 419]
	  ZOrder		  -4
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fdControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "help"
	  SID			  "1187"
	  Ports			  []
	  Position		  [95, 60, 127, 102]
	  ZOrder		  -5
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowName		  off
	  OpenFcn		  "web(['file:\\\\\\' which('wheel_axle.htm')]);"
	  RequestExecContextInheritance	off
	  Object {
	    $PropName		    "MaskObject"
	    $ObjectID		    164
	    $ClassName		    "Simulink.Mask"
	    Display		    "image(imread('doc_man.jpg'))"
	  }
	  System {
	    Name		    "help"
	    Location		    [165, 211, 571, 596]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "model&interface"
	  SID			  "1188"
	  Ports			  [3, 4]
	  Position		  [340, 217, 380, 278]
	  ZOrder		  -6
	  ForegroundColor	  "red"
	  BackgroundColor	  "lightBlue"
	  ShowPortLabels	  "none"
	  RequestExecContextInheritance	off
	  System {
	    Name		    "model&interface"
	    Location		    [176, 44, 968, 889]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Block {
	      BlockType		      Inport
	      Name		      "T & w\noutput\nrequest"
	      SID		      "1189"
	      Position		      [155, 130, 175, 150]
	      ZOrder		      -1
	      NameLocation	      "top"
	      FontName		      "Arial"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "T & w\ninput\nachieved"
	      SID		      "1190"
	      Position		      [155, 160, 175, 180]
	      ZOrder		      -2
	      FontName		      "Arial"
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      SID		      "1191"
	      Position		      [160, 315, 180, 335]
	      ZOrder		      -3
	      FontName		      "Arial"
	      Port		      "3"
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "Ground"
	      SID		      "1192"
	      Position		      [330, 315, 350, 335]
	      ZOrder		      -4
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      SID		      "1193"
	      Position		      [220, 315, 240, 335]
	      ZOrder		      -5
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "model"
	      SID		      "1194"
	      Ports		      [2, 2]
	      Position		      [265, 125, 305, 185]
	      ZOrder		      -6
	      ShowPortLabels	      "none"
	      RequestExecContextInheritance off
	      System {
		Name			"model"
		Location		[183, 44, 940, 662]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"98"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed req'd\nat output side of final drive\n(Nm), (rad/s)"
		  SID			  "1195"
		  Position		  [30, 35, 50, 55]
		  ZOrder		  -1
		  FontName		  "Arial"
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed avail.\nat input side of final drive\n(Nm), (rad/s)"
		  SID			  "1196"
		  Position		  [25, 315, 45, 335]
		  ZOrder		  -2
		  FontName		  "Arial"
		  Port			  "2"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  SID			  "1197"
		  Ports			  []
		  Position		  [70, 195, 126, 235]
		  ZOrder		  -3
		  BackgroundColor	  "green"
		  ShowName		  off
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    165
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		  }
		  System {
		    Name		    "Block NOTES"
		    Location		    [109, 211, 618, 506]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "1198"
		    Name		    "This final drive model includes loss data, rotational inertia, and a gear reduction."
		    Position		    [222, 17, 576, 29]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		    Annotation {
		    SID			    "1199"
		    Name		    "The loss torque is zero when the gears are not turning,\nand is applied at the input side of the gear"
		    " reduction."
		    Position		    [227, 37, 470, 59]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -2
		    }
		    Annotation {
		    SID			    "1200"
		    Name		    "The inertia torque is the input torque required to accelerate the\nfinal drive's inertia as measured "
		    "on the input side."
		    Position		    [227, 67, 505, 89]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -3
		    }
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  "1201"
		  Ports			  [1, 2]
		  Position		  [115, 26, 135, 59]
		  ZOrder		  -4
		  FontName		  "Arial"
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  SID			  "1202"
		  Ports			  [1, 2]
		  Position		  [110, 306, 130, 339]
		  ZOrder		  -5
		  FontName		  "Arial"
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  "1203"
		  Position		  [200, 35, 270, 65]
		  ZOrder		  -6
		  FontName		  "Arial"
		  Gain			  "fd_ratio"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  SID			  "1204"
		  Position		  [265, 70, 335, 100]
		  ZOrder		  -7
		  FontName		  "Arial"
		  Gain			  "1/fd_ratio"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain2"
		  SID			  "1205"
		  Position		  [510, 285, 580, 315]
		  ZOrder		  -8
		  FontName		  "Arial"
		  Gain			  "fd_ratio"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain3"
		  SID			  "1206"
		  Position		  [510, 345, 580, 375]
		  ZOrder		  -9
		  FontName		  "Arial"
		  Gain			  "1/fd_ratio"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  "1207"
		  Ports			  [2, 1]
		  Position		  [565, 26, 585, 59]
		  ZOrder		  -10
		  FontName		  "Arial"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  SID			  "1208"
		  Ports			  [2, 1]
		  Position		  [620, 311, 640, 344]
		  ZOrder		  -11
		  ShowName		  off
		  FontName		  "Arial"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  SID			  "1209"
		  Ports			  [3, 1]
		  Position		  [470, 276, 490, 324]
		  ZOrder		  -12
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "--+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  SID			  "1210"
		  Ports			  [3, 1]
		  Position		  [480, 70, 500, 150]
		  ZOrder		  -13
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "effect of inertia\n(Nm)"
		  SID			  "1211"
		  Ports			  [1, 1]
		  Position		  [380, 167, 410, 203]
		  ZOrder		  -14
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [8, 279, 501, 620]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "fd input speed (rad/s)"
		    SID			    "1212"
		    Position		    [50, 25, 70, 45]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    SID			    "1213"
		    Position		    [210, 16, 280, 54]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Gain		    "fd_inertia"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Derivative
		    Name		    "d/dt"
		    SID			    "1214"
		    Position		    [135, 25, 165, 45]
		    ZOrder		    -3
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "drag torque\n(Nm)"
		    SID			    "1215"
		    Position		    [350, 25, 370, 45]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "drag torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "d/dt"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "fd input speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "d/dt"
		    DstPort		    1
		    }
		    Annotation {
		    SID			    "1216"
		    Name		    "The inertia torque is the input torque required to accelerate the\nfinal drive's inertia as measured "
		    "on the input side."
		    Position		    [212, 102, 490, 124]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  SID			  "1217"
		  Ports			  [1]
		  Position		  [180, 282, 275, 298]
		  ZOrder		  -15
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    166
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    167
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    168
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_in_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    169
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1217:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1217:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "fd_trq_in_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  SID			  "1218"
		  Ports			  [1]
		  Position		  [180, 347, 275, 363]
		  ZOrder		  -16
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    170
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    171
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    172
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_in_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    173
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1218:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1218:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "fd_spd_in_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  SID			  "1219"
		  Ports			  [1]
		  Position		  [615, 412, 710, 428]
		  ZOrder		  -17
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    174
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    175
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    176
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    177
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1219:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1219:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "fd_spd_out_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  SID			  "1220"
		  Ports			  [1]
		  Position		  [615, 232, 710, 248]
		  ZOrder		  -18
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    178
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    179
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    180
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    181
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1220:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1220:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "fd_trq_out_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  SID			  "1221"
		  Ports			  [1]
		  Position		  [555, 142, 650, 158]
		  ZOrder		  -19
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    182
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    183
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    184
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_in_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    185
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1221:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1221:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "fd_spd_in_r"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  SID			  "1222"
		  Ports			  [1]
		  Position		  [555, 102, 650, 118]
		  ZOrder		  -20
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    186
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    187
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    188
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_in_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    189
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1222:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1222:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "fd_trq_in_r"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  SID			  "1223"
		  Ports			  [1]
		  Position		  [180, 107, 275, 123]
		  ZOrder		  -21
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    190
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    191
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    192
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_out_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    193
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1223:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1223:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "fd_trq_out_r"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  SID			  "1224"
		  Ports			  [1]
		  Position		  [180, 137, 275, 153]
		  ZOrder		  -22
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    194
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    195
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    196
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_out_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    197
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1224:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1224:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "fd_spd_out_r"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  SID			  "1225"
		  Ports			  []
		  Position		  [30, 195, 62, 237]
		  ZOrder		  -23
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('wheel_axle.htm')]);"
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    198
		    $ClassName		    "Simulink.Mask"
		    Display		    "image(imread('doc_man.jpg'))"
		  }
		  System {
		    Name		    "help"
		    Location		    [165, 211, 571, 596]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "loss\n(Nm)"
		  SID			  "1226"
		  Ports			  [1, 1]
		  Position		  [380, 92, 410, 128]
		  ZOrder		  -24
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "loss\n(Nm)"
		    Location		    [671, 597, 1137, 969]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "fd output speed (rad/s)"
		    SID			    "1227"
		    Position		    [60, 55, 80, 75]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "1228"
		    Position		    [210, 95, 230, 115]
		    ZOrder		    -2
		    BlockRotation	    270
		    NameLocation	    "right"
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "1229"
		    Position		    [285, 49, 315, 81]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "final drive loss torque\n(Nm)"
		    SID			    "1230"
		    Position		    [115, 14, 195, 36]
		    ZOrder		    -4
		    FontName		    "Arial"
		    Value		    "fd_loss"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "drag torque\n(Nm)"
		    SID			    "1231"
		    Position		    [380, 55, 400, 75]
		    ZOrder		    -5
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "final drive loss torque\n(Nm)"
		    SrcPort		    1
		    Points		    [20, 0; 0, 30]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "drag torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "fd output speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -15]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Annotation {
		    SID			    "1232"
		    Name		    "The loss torque is zero when the gears are not turning,\nand is applied at the input side of the gear"
		    " reduction."
		    Position		    [232, 142, 475, 164]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed req'd\nat input side of final drive\n(Nm), (rad/s)"
		  SID			  "1233"
		  Position		  [695, 35, 715, 55]
		  ZOrder		  -25
		  FontName		  "Arial"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed avail.\nat output side of final drive\n(Nm), (rad/s)"
		  SID			  "1234"
		  Position		  [695, 320, 715, 340]
		  ZOrder		  -26
		  FontName		  "Arial"
		  Port			  "2"
		  InitialOutput		  "0"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Gain2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  2
		  SrcBlock		  "torque and speed avail.\nat input side of final drive\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  3
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "torque and speed avail.\nat output side of final drive\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "loss\n(Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 40, 0]
		  Branch {
		    ZOrder		    5
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    6
		    DstBlock		    "Sum2"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  "effect of inertia\n(Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 35, 0]
		  Branch {
		    ZOrder		    8
		    Points		    [0, 115]
		    DstBlock		    "Sum1"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    9
		    Points		    [0, -50]
		    DstBlock		    "Sum2"
		    DstPort		    3
		  }
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  Points		  [0, 0; 80, 0]
		  Branch {
		    ZOrder		    11
		    Points		    [0, 60]
		    Branch {
		    ZOrder		    12
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    13
		    Points		    [0, 75]
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		    }
		  }
		  Branch {
		    ZOrder		    14
		    Points		    [160, 0]
		    Branch {
		    ZOrder		    15
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    16
		    Points		    [0, 100]
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  17
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  18
		  SrcBlock		  "torque and speed req'd\nat output side of final drive\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  ZOrder		  19
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "torque and speed req'd\nat input side of final drive\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  20
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [25, 0; 0, 50]
		  Branch {
		    ZOrder		    21
		    DstBlock		    "Gain1"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    22
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  23
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [0, 0; 15, 0]
		  Branch {
		    ZOrder		    24
		    DstBlock		    "Gain"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    25
		    Points		    [0, 95]
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  26
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    ZOrder		    27
		    Points		    [0, -75]
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    28
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  29
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    ZOrder		    30
		    DstBlock		    "Sum1"
		    DstPort		    3
		  }
		  Branch {
		    ZOrder		    31
		    Points		    [0, -25]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  32
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [15, 0]
		  Branch {
		    ZOrder		    33
		    Points		    [130, 0; 0, 30]
		    DstBlock		    "Gain3"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    34
		    Points		    [0, 25]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  35
		  SrcBlock		  "Gain3"
		  SrcPort		  1
		  Points		  [15, 0; 0, 0]
		  Branch {
		    ZOrder		    36
		    Points		    [0, -25]
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    37
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  38
		  SrcBlock		  "Gain2"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    ZOrder		    39
		    Points		    [0, 20]
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    40
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      SID		      "1235"
	      Ports		      [1, 1]
	      Position		      [265, 66, 310, 94]
	      ZOrder		      -7
	      RequestExecContextInheritance off
	      System {
		Name			"signal\nannotator"
		Location		[164, 44, 968, 897]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  SID			  "1236"
		  Position		  [110, 103, 140, 117]
		  ZOrder		  -1
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  "1237"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  ZOrder		  -2
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  Port {
		    PortNumber		    1
		    Name		    "fd_trq_out_r"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "fd_spd_out_r"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  "1238"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ZOrder		  -3
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  SID			  "1239"
		  Position		  [430, 103, 460, 117]
		  ZOrder		  -4
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "fd_trq_out_r"
		  ZOrder		  2
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "fd_spd_out_r"
		  ZOrder		  3
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "out request"
	      SID		      "1240"
	      Position		      [390, 70, 410, 90]
	      ZOrder		      -8
	      NameLocation	      "top"
	      FontName		      "Arial"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "T & w input\nrequest"
	      SID		      "1241"
	      Position		      [385, 130, 405, 150]
	      ZOrder		      -9
	      NameLocation	      "top"
	      FontName		      "Arial"
	      Port		      "2"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "T & w\noutput achieved"
	      SID		      "1242"
	      Position		      [385, 160, 405, 180]
	      ZOrder		      -10
	      FontName		      "Arial"
	      Port		      "3"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      SID		      "1243"
	      Position		      [385, 315, 405, 335]
	      ZOrder		      -11
	      FontName		      "Arial"
	      Port		      "4"
	      InitialOutput	      "0"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "model"
	      SrcPort		      1
	      DstBlock		      "T & w input\nrequest"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "T & w\noutput\nrequest"
	      SrcPort		      1
	      Points		      [55, 0]
	      Branch {
		ZOrder			3
		DstBlock		"model"
		DstPort			1
	      }
	      Branch {
		ZOrder			4
		Points			[0, -60]
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "T & w\ninput\nachieved"
	      SrcPort		      1
	      DstBlock		      "model"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      6
	      SrcBlock		      "model"
	      SrcPort		      2
	      DstBlock		      "T & w\noutput achieved"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      "Ground"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      9
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "out request"
	      DstPort		      1
	    }
	    Annotation {
	      SID		      "1244"
	      Name		      "Interface"
	      Position		      [287, 275, 380, 303]
	      InternalMargins	      [0, 0, 0, 0]
	      BackgroundColor	      "yellow"
	      ZOrder		      -1
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      SID		      "1245"
	      Name		      "Model"
	      Position		      [287, 35, 353, 63]
	      InternalMargins	      [0, 0, 0, 0]
	      BackgroundColor	      "yellow"
	      ZOrder		      -2
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  SID			  "1246"
	  Position		  [445, 94, 545, 136]
	  ZOrder		  -7
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fdReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  SID			  "1247"
	  Position		  [450, 379, 550, 421]
	  ZOrder		  -8
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fdSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nat input side of final drive\n(Nm), (rad/s)"
	  SID			  "1248"
	  Position		  [495, 205, 515, 225]
	  ZOrder		  -9
	  NameLocation		  "top"
	  FontName		  "Arial"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed avail.\nat output side of final drive\n(Nm), (rad/s)"
	  SID			  "1249"
	  Position		  [495, 270, 515, 290]
	  ZOrder		  -10
	  FontName		  "Arial"
	  Port			  "2"
	  InitialOutput		  "0"
	}
	Line {
	  ZOrder		  1
	  SrcBlock		  "model&interface"
	  SrcPort		  1
	  Points		  [0, -110]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  ZOrder		  2
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [0, -130]
	  DstBlock		  "model&interface"
	  DstPort		  3
	}
	Line {
	  ZOrder		  3
	  SrcBlock		  "model&interface"
	  SrcPort		  4
	  Points		  [50, 0]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  ZOrder		  4
	  SrcBlock		  "torque and speed req'd\nat output side of final drive\n(Nm), (rad/s)"
	  SrcPort		  1
	  Points		  [0, 30]
	  DstBlock		  "model&interface"
	  DstPort		  1
	}
	Line {
	  ZOrder		  5
	  SrcBlock		  "torque and speed avail.\nat input side of final drive\n(Nm), (rad/s)"
	  SrcPort		  1
	  Points		  [0, -35]
	  DstBlock		  "model&interface"
	  DstPort		  2
	}
	Line {
	  ZOrder		  6
	  SrcBlock		  "model&interface"
	  SrcPort		  2
	  Points		  [95, 0]
	  DstBlock		  "torque and speed req'd\nat input side of final drive\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  ZOrder		  7
	  SrcBlock		  "model&interface"
	  SrcPort		  3
	  Points		  [95, 0]
	  DstBlock		  "torque and speed avail.\nat output side of final drive\n(Nm), (rad/s)"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "gearbox <gb>"
      SID		      "1250"
      Ports		      [2, 2]
      Position		      [345, 443, 410, 487]
      ZOrder		      -7
      BackgroundColor	      "yellow"
      ShowPortLabels	      "none"
      RequestExecContextInheritance off
      Object {
	$PropName		"MaskObject"
	$ObjectID		199
	$ClassName		"Simulink.Mask"
	Type			"Stand-Alone Gearbox Mask"
	Initialization		"% initialization via m-file script\nadvSACompMaskInit;"
	Display			"image(imread(imgFileName))"
	Array {
	  Type			  "Simulink.MaskParameter"
	  Dimension		  6
	  Object {
	    $ObjectID		    200
	    Type		    "edit"
	    Name		    "generalName"
	    Prompt		    "General Name of this Component [char]"
	    Value		    "'gb'"
	  }
	  Object {
	    $ObjectID		    201
	    Type		    "popup"
	    Array {
	      Type		      "Cell"
	      Dimension		      2
	      Cell		      "Don't Log"
	      Cell		      "Log"
	      PropName		      "TypeOptions"
	    }
	    Name		    "logPick"
	    Prompt		    "Log Variables to Workspace?"
	    Value		    "Log"
	  }
	  Object {
	    $ObjectID		    202
	    Type		    "edit"
	    Name		    "initFileName"
	    Prompt		    "Initialization File(s) [cell array of char]"
	    Value		    "{}"
	  }
	  Object {
	    $ObjectID		    203
	    Type		    "edit"
	    Name		    "modCell"
	    Prompt		    "Modification Cell [2 column cell array of param and val]"
	    Value		    "{}"
	  }
	  Object {
	    $ObjectID		    204
	    Type		    "edit"
	    Name		    "imgFileName"
	    Prompt		    "Icon image file name [char--evaluated]"
	    Value		    "'bdi_gb.jpg'"
	  }
	  Object {
	    $ObjectID		    205
	    Type		    "popup"
	    Array {
	      Type		      "Cell"
	      Dimension		      2
	      Cell		      "ON"
	      Cell		      "OFF"
	      PropName		      "TypeOptions"
	    }
	    Name		    "DEBUG"
	    Prompt		    "DEBUG"
	    Value		    "OFF"
	    Evaluate		    "off"
	  }
	  PropName		  "Parameters"
	}
      }
      System {
	Name			"gearbox <gb>"
	Location		[160, 44, 968, 889]
	Open			off
	PortBlocksUseCompactNotation off
	SetExecutionDomain	off
	ExecutionDomainType	"Deduce"
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	SimulinkSubDomain	"Simulink"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed req'd\nat output side of gearbox\n(Nm), (rad/s)"
	  SID			  "1251"
	  Position		  [125, 185, 145, 205]
	  ZOrder		  -1
	  NameLocation		  "top"
	  FontName		  "Arial"
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nat input side of gearbox\n(Nm), (rad/s)"
	  SID			  "1252"
	  Position		  [125, 210, 145, 230]
	  ZOrder		  -2
	  FontName		  "Arial"
	  Port			  "2"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Block NOTES"
	  SID			  "1253"
	  Ports			  []
	  Position		  [60, 95, 116, 135]
	  ZOrder		  -3
	  BackgroundColor	  "green"
	  ShowName		  off
	  RequestExecContextInheritance	off
	  Object {
	    $PropName		    "MaskObject"
	    $ObjectID		    206
	    $ClassName		    "Simulink.Mask"
	    Display		    "disp('Block\\nNOTES')"
	  }
	  System {
	    Name		    "Block NOTES"
	    Location		    [326, 287, 868, 647]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Annotation {
	      SID		      "1254"
	      Name		      "This gearbox model includes loss data, rotational inertia, and a gear reduction."
	      Position		      [247, 17, 595, 29]
	      InternalMargins	      [0, 0, 0, 0]
	      VerticalAlignment	      "top"
	      ZOrder		      -1
	    }
	    Annotation {
	      SID		      "1255"
	      Name		      "The loss torque is zero when the gears are not turning,\nand is applied at the input side of the g"
	      "ear reduction."
	      Position		      [252, 37, 495, 59]
	      InternalMargins	      [0, 0, 0, 0]
	      VerticalAlignment	      "top"
	      ZOrder		      -2
	    }
	    Annotation {
	      SID		      "1256"
	      Name		      "The inertia torque is the input torque required to accelerate the\nfinal drive's inertia as measur"
	      "ed on the input side."
	      Position		      [252, 72, 530, 94]
	      InternalMargins	      [0, 0, 0, 0]
	      VerticalAlignment	      "top"
	      ZOrder		      -3
	    }
	    Annotation {
	      SID		      "1257"
	      Name		      "Available output torque is estimated assuming that the gearbox efficiency for theavailable input\n"
	      "torque andspeed is the same as the gearbox efficiency for the REQUESTED input torque."
	      Position		      [252, 107, 671, 129]
	      InternalMargins	      [0, 0, 0, 0]
	      VerticalAlignment	      "top"
	      ZOrder		      -4
	    }
	    Annotation {
	      SID		      "1258"
	      Name		      "This is a good assumption, at least for the VW 4-speed manual transaxle of SAE 820741. \nIn the VW"
	      " transaxle, efficiency is fairly independent of torque and speed at high torques."
	      Position		      [252, 142, 650, 164]
	      InternalMargins	      [0, 0, 0, 0]
	      VerticalAlignment	      "top"
	      ZOrder		      -5
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  SID			  "1259"
	  Position		  [85, 291, 195, 329]
	  ZOrder		  -4
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "gearbox model & interface"
	  SID			  "1260"
	  Ports			  [3, 4]
	  Position		  [250, 183, 300, 257]
	  ZOrder		  -5
	  ShowPortLabels	  "none"
	  RequestExecContextInheritance	off
	  System {
	    Name		    "gearbox model & interface"
	    Location		    [160, 44, 968, 889]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\noutput\nrequest"
	      SID		      "1261"
	      Position		      [285, 148, 315, 162]
	      ZOrder		      -1
	      NameLocation	      "top"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\ninput\nachieved"
	      SID		      "1262"
	      Position		      [285, 178, 315, 192]
	      ZOrder		      -2
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "controls"
	      SID		      "1263"
	      Position		      [40, 378, 70, 392]
	      ZOrder		      -3
	      Port		      "3"
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      SID		      "1264"
	      Ports		      [6, 1]
	      Position		      [740, 284, 750, 501]
	      ZOrder		      -4
	      ShowName		      off
	      Inputs		      "6"
	      DisplayOption	      "bar"
	      InheritFromInputs	      on
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux2"
	      SID		      "1265"
	      Ports		      [1, 3]
	      Position		      [105, 303, 120, 467]
	      ZOrder		      -5
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "3"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>1"
	      SID		      "1266"
	      Position		      [520, 295, 620, 315]
	      ZOrder		      -6
	      BackgroundColor	      "lightBlue"
	      NameLocation	      "top"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gb_spd_in_a"
	      Port {
		PortNumber		1
		Name			"gb_spd_in_a"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>2"
	      SID		      "1267"
	      Position		      [520, 330, 620, 350]
	      ZOrder		      -7
	      BackgroundColor	      "lightBlue"
	      NameLocation	      "top"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_gb_out"
	      Port {
		PortNumber		1
		Name			"T_gb_out"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>3"
	      SID		      "1268"
	      Position		      [520, 365, 620, 385]
	      ZOrder		      -8
	      BackgroundColor	      "lightBlue"
	      NameLocation	      "top"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_gb_out"
	      Port {
		PortNumber		1
		Name			"w_gb_out"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>4"
	      SID		      "1269"
	      Position		      [520, 400, 620, 420]
	      ZOrder		      -9
	      BackgroundColor	      "lightBlue"
	      NameLocation	      "top"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "eta_gb"
	      Port {
		PortNumber		1
		Name			"eta_gb"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>5"
	      SID		      "1270"
	      Position		      [520, 435, 620, 455]
	      ZOrder		      -10
	      BackgroundColor	      "lightBlue"
	      NameLocation	      "top"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gb_trq_out_a"
	      Port {
		PortNumber		1
		Name			"gb_trq_out_a"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>6"
	      SID		      "1271"
	      Position		      [520, 470, 620, 490]
	      ZOrder		      -11
	      BackgroundColor	      "lightBlue"
	      NameLocation	      "top"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gb_spd_out_a"
	      Port {
		PortNumber		1
		Name			"gb_spd_out_a"
	      }
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      SID		      "1272"
	      Position		      [290, 427, 379, 455]
	      ZOrder		      -12
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_number"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      SID		      "1273"
	      Position		      [425, 292, 514, 320]
	      ZOrder		      -13
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gb_spd_in_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      SID		      "1274"
	      Position		      [290, 317, 379, 345]
	      ZOrder		      -14
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility3"
	      SID		      "1275"
	      Position		      [290, 372, 379, 400]
	      ZOrder		      -15
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      SID		      "1276"
	      Position		      [425, 327, 514, 355]
	      ZOrder		      -16
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "T_gb_out"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility5"
	      SID		      "1277"
	      Position		      [425, 362, 514, 390]
	      ZOrder		      -17
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "w_gb_out"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility6"
	      SID		      "1278"
	      Position		      [425, 397, 514, 425]
	      ZOrder		      -18
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "eta_gb"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility7"
	      SID		      "1279"
	      Position		      [425, 432, 514, 460]
	      ZOrder		      -19
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gb_trq_out_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility8"
	      SID		      "1280"
	      Position		      [425, 467, 514, 495]
	      ZOrder		      -20
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gb_spd_out_a"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      SID		      "1281"
	      Position		      [180, 429, 280, 451]
	      ZOrder		      -21
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_number"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      SID		      "1282"
	      Position		      [180, 319, 280, 341]
	      ZOrder		      -22
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto3"
	      SID		      "1283"
	      Position		      [180, 374, 280, 396]
	      ZOrder		      -23
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "gearbox\nmodel"
	      SID		      "1284"
	      Ports		      [2, 2]
	      Position		      [400, 140, 440, 200]
	      ZOrder		      -24
	      ShowPortLabels	      "none"
	      RequestExecContextInheritance off
	      System {
		Name			"gearbox\nmodel"
		Location		[160, 44, 968, 889]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed req'd\nat output side of gearbox\n(Nm), (rad/s)"
		  SID			  "1285"
		  Position		  [25, 25, 45, 45]
		  ZOrder		  -1
		  FontName		  "Arial"
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed avail.\nat input side of gearbox\n(Nm), (rad/s)"
		  SID			  "1286"
		  Position		  [30, 460, 50, 480]
		  ZOrder		  -2
		  FontName		  "Arial"
		  Port			  "2"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  SID			  "1287"
		  Ports			  []
		  Position		  [730, 565, 786, 605]
		  ZOrder		  -3
		  BackgroundColor	  "green"
		  ShowName		  off
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    207
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		  }
		  System {
		    Name		    "Block NOTES"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "1288"
		    Name		    "This gearbox model includes loss data, rotational inertia, and a gear reduction."
		    Position		    [247, 17, 595, 29]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		    Annotation {
		    SID			    "1289"
		    Name		    "The loss torque is zero when the gears are not turning,\nand is applied at the input side of the gear"
		    " reduction."
		    Position		    [252, 37, 495, 59]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -2
		    }
		    Annotation {
		    SID			    "1290"
		    Name		    "The inertia torque is the input torque required to accelerate the\nfinal drive's inertia as measured "
		    "on the input side."
		    Position		    [252, 72, 530, 94]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -3
		    }
		    Annotation {
		    SID			    "1291"
		    Name		    "Available output torque is estimated assuming that the gearbox efficiency for theavailable input\ntor"
		    "que andspeed is the same as the gearbox efficiency for the REQUESTED input torque."
		    Position		    [252, 107, 671, 129]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -4
		    }
		    Annotation {
		    SID			    "1292"
		    Name		    "This is a good assumption, at least for the VW 4-speed manual transaxle of SAE 820741. \nIn the VW tr"
		    "ansaxle, efficiency is fairly independent of torque and speed at high torques."
		    Position		    [252, 142, 650, 164]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -5
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  SID			  "1293"
		  Position		  [510, 150, 530, 170]
		  ZOrder		  -4
		  BlockMirror		  on
		  Value			  "0"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  "1294"
		  Ports			  [1, 2]
		  Position		  [110, 219, 130, 261]
		  ZOrder		  -5
		  FontName		  "Arial"
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  SID			  "1295"
		  Ports			  [1, 2]
		  Position		  [115, 451, 135, 484]
		  ZOrder		  -6
		  FontName		  "Arial"
		  Outputs		  "2"
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc>"
		  SID			  "1296"
		  Position		  [105, 111, 190, 129]
		  ZOrder		  -7
		  BackgroundColor	  "lightBlue"
		  NameLocation		  "top"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "gear_number"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  SID			  "1297"
		  Position		  [290, 489, 385, 521]
		  ZOrder		  -8
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_spd_in_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto1"
		  SID			  "1298"
		  Position		  [590, 563, 675, 587]
		  ZOrder		  -9
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_spd_out_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto4"
		  SID			  "1299"
		  Position		  [645, 403, 730, 427]
		  ZOrder		  -10
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_trq_out_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  SID			  "1300"
		  Ports			  [1, 1]
		  Position		  [425, 174, 455, 206]
		  ZOrder		  -11
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  "1301"
		  Ports			  [2, 1]
		  Position		  [660, 36, 680, 69]
		  ZOrder		  -12
		  FontName		  "Arial"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  SID			  "1302"
		  Ports			  [2, 1]
		  Position		  [640, 443, 660, 512]
		  ZOrder		  -13
		  FontName		  "Arial"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Pout/Pin neglecting inertia"
		  SID			  "1303"
		  Ports			  [4, 1]
		  Position		  [515, 266, 545, 319]
		  ZOrder		  -14
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "Pout/Pin neglecting inertia"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "Tin"
		    SID			    "1304"
		    Position		    [25, 85, 45, 105]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Tinertia"
		    SID			    "1305"
		    Position		    [25, 140, 45, 160]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Tout"
		    SID			    "1306"
		    Position		    [25, 5, 45, 25]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    SID			    "1307"
		    Position		    [25, 40, 45, 60]
		    ZOrder		    -4
		    Port		    "4"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "1308"
		    Position		    [320, 225, 340, 245]
		    ZOrder		    -5
		    BlockRotation	    270
		    NameLocation	    "right"
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Pout/Pin\n(neglecting\ninertia)"
		    SID			    "1309"
		    Ports		    [2, 1]
		    Position		    [295, 89, 320, 116]
		    ZOrder		    -6
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    208
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('/')"
		    }
		    System {
		    Name		    "Pout/Pin\n(neglecting\ninertia)"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "1310"
		    Position		    [30, 50, 50, 70]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    SID			    "1311"
		    Position		    [10, 80, 30, 100]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn"
		    SID			    "1312"
		    Position		    [60, 79, 90, 101]
		    ZOrder		    -3
		    FontName		    "Arial"
		    FontSize		    8
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "1313"
		    Ports		    [2, 1]
		    Position		    [130, 56, 150, 74]
		    ZOrder		    -4
		    FontName		    "Arial"
		    FontSize		    8
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "1314"
		    Position		    [180, 55, 200, 75]
		    ZOrder		    -5
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "Fcn"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Fcn"
		    SrcPort		    1
		    Points		    [15, 0; 0, -20]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "1315"
		    Ports		    [2, 1]
		    Position		    [215, 101, 235, 119]
		    ZOrder		    -7
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "1316"
		    Ports		    [2, 1]
		    Position		    [285, 158, 315, 182]
		    ZOrder		    -8
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    SID			    "1317"
		    Position		    [425, 135, 455, 165]
		    ZOrder		    -9
		    UpperLimit		    "inf"
		    LowerLimit		    "0"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "1318"
		    Position		    [365, 134, 395, 166]
		    ZOrder		    -10
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Tin-Tinertia"
		    SID			    "1319"
		    Ports		    [2, 1]
		    Position		    [75, 85, 95, 120]
		    ZOrder		    -11
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "make division\nbombproof"
		    SID			    "1320"
		    Ports		    [1, 1]
		    Position		    [145, 83, 175, 137]
		    ZOrder		    -12
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "make division\nbombproof"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "Tin-Tinertia"
		    SID			    "1321"
		    Position		    [55, 168, 85, 182]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    SID			    "1322"
		    Ports		    []
		    Position		    [325, 275, 381, 315]
		    ZOrder		    -2
		    BackgroundColor	    "green"
		    ShowName		    off
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    209
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		    }
		    System {
		    Name		    "Block NOTES"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "1323"
		    Name		    "this block added 10 July 2001 by mpo:\noriginally a -eps was added to the denominator by default. \nH"
		    "owever, cases were ecountered where Tin-Tineratia was equal to -eps causing\nthe denominator to be zero. This ad"
		    "ded checking is more rhobust"
		    Position		    [250, 64, 605, 106]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -1
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "1324"
		    Position		    [190, 265, 210, 285]
		    ZOrder		    -3
		    BlockRotation	    270
		    NameLocation	    "right"
		    FontName		    "Arial"
		    Value		    "eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "1325"
		    Position		    [105, 265, 125, 285]
		    ZOrder		    -4
		    BlockRotation	    270
		    NameLocation	    "right"
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "1326"
		    Ports		    [2, 1]
		    Position		    [235, 217, 245, 248]
		    ZOrder		    -5
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    SID			    "1327"
		    Ports		    [2, 1]
		    Position		    [145, 213, 175, 237]
		    ZOrder		    -6
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "make division\nbombproof"
		    SID			    "1328"
		    Ports		    [2, 1]
		    Position		    [315, 165, 335, 200]
		    ZOrder		    -7
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    SID			    "1329"
		    Position		    [385, 178, 415, 192]
		    ZOrder		    -8
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "make division\nbombproof"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -20]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [15, 0; 0, -45]
		    DstBlock		    "make division\nbombproof"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [0, -30]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Tin-Tinertia"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    ZOrder		    7
		    Points		    [0, 45]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    8
		    DstBlock		    "make division\nbombproof"
		    DstPort		    1
		    }
		    }
		    Annotation {
		    SID			    "1330"
		    Name		    "only add eps if Tin-Tinertia is == 0 (this avoids problems when Tin-Tineratia == -eps \nwhich happens"
		    " from time to time"
		    Position		    [332, 112, 704, 134]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Pout/Pin"
		    SID			    "1331"
		    Position		    [490, 140, 510, 160]
		    ZOrder		    -13
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [0, -5]
		    Branch {
		    ZOrder		    2
		    Points		    [20, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Branch {
		    ZOrder		    3
		    Points		    [-75, 0; 0, -40]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "make division\nbombproof"
		    SrcPort		    1
		    Points		    [0, 5]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Tinertia"
		    SrcPort		    1
		    Points		    [5, 0; 0, -40]
		    DstBlock		    "Tin-Tinertia"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Tin"
		    SrcPort		    1
		    DstBlock		    "Tin-Tinertia"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "Pout/Pin\n(neglecting\ninertia)"
		    SrcPort		    1
		    Points		    [10, 0; 0, 35]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [15, 0; 0, -20]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "Pout/Pin"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "Tin-Tinertia"
		    SrcPort		    1
		    Points		    [20, 0; 0, 5]
		    Branch {
		    ZOrder		    12
		    Points		    [0, 55]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    13
		    DstBlock		    "make division\nbombproof"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "Tout"
		    SrcPort		    1
		    Points		    [225, 0; 0, 80]
		    DstBlock		    "Pout/Pin\n(neglecting\ninertia)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Pout/Pin\n(neglecting\ninertia)"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [140, 0; 0, 55]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Annotation {
		    SID			    "1332"
		    Name		    "Pout/Pin, neglecting inertia, is used to estimate the output torque given the\ninput torque in a very"
		    " simple forward-facing calculation."
		    Position		    [242, 292, 572, 314]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  SID			  "1333"
		  Ports			  [2, 1]
		  Position		  [350, 446, 370, 464]
		  ZOrder		  -15
		  ShowName		  off
		  FontName		  "Arial"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  SID			  "1334"
		  Ports			  [2, 1]
		  Position		  [515, 356, 535, 374]
		  ZOrder		  -16
		  ShowName		  off
		  FontName		  "Arial"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  SID			  "1335"
		  Ports			  [3, 1]
		  Position		  [430, 65, 450, 145]
		  ZOrder		  -17
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  SID			  "1336"
		  Ports			  [2, 1]
		  Position		  [460, 430, 480, 465]
		  ZOrder		  -18
		  ShowName		  off
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  SID			  "1337"
		  Position		  [505, 100, 535, 130]
		  ZOrder		  -19
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "effect of inertia\n(Nm)"
		  SID			  "1338"
		  Ports			  [1, 1]
		  Position		  [345, 162, 375, 198]
		  ZOrder		  -20
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "gb input speed (rad/s)"
		    SID			    "1339"
		    Position		    [50, 25, 70, 45]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    SID			    "1340"
		    Position		    [195, 15, 300, 55]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Gain		    "gb_inertia"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Derivative
		    Name		    "d/dt"
		    SID			    "1341"
		    Position		    [125, 25, 155, 45]
		    ZOrder		    -3
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "drag torque\n(Nm)"
		    SID			    "1342"
		    Position		    [350, 25, 370, 45]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "drag torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "d/dt"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "gb input speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "d/dt"
		    DstPort		    1
		    }
		    Annotation {
		    SID			    "1343"
		    Name		    "The inertia torque is the input torque required to accelerate the\ngearbox's inertia as measured on t"
		    "he input side."
		    Position		    [212, 102, 490, 124]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  SID			  "1344"
		  Ports			  [1]
		  Position		  [180, 517, 275, 533]
		  ZOrder		  -21
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    210
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    211
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    212
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_in_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    213
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1344:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1344:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_spd_in_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  SID			  "1345"
		  Ports			  [1]
		  Position		  [180, 427, 275, 443]
		  ZOrder		  -22
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    214
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    215
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    216
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_in_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    217
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1345:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1345:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_trq_in_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  SID			  "1346"
		  Ports			  [1]
		  Position		  [635, 542, 730, 558]
		  ZOrder		  -23
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    218
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    219
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    220
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    221
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1346:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1346:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_spd_out_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  SID			  "1347"
		  Ports			  [1]
		  Position		  [635, 367, 730, 383]
		  ZOrder		  -24
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    222
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    223
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    224
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    225
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1347:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1347:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_trq_out_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  SID			  "1348"
		  Ports			  [1]
		  Position		  [635, 327, 730, 343]
		  ZOrder		  -25
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    226
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    227
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    228
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "ni_trq_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    229
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1348:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1348:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_ni_trq_out_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  SID			  "1349"
		  Ports			  [1]
		  Position		  [610, 157, 705, 173]
		  ZOrder		  -26
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    230
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    231
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    232
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_in_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    233
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1349:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1349:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_spd_in_r"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  SID			  "1350"
		  Ports			  [1]
		  Position		  [610, 107, 705, 123]
		  ZOrder		  -27
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    234
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    235
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    236
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_in_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    237
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1350:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1350:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_trq_in_r"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  SID			  "1351"
		  Ports			  [1]
		  Position		  [145, 187, 240, 203]
		  ZOrder		  -28
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    238
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    239
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    240
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_out_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    241
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1351:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1351:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_spd_out_r"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace8"
		  SID			  "1352"
		  Ports			  [1]
		  Position		  [145, 162, 240, 178]
		  ZOrder		  -29
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    242
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    243
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    244
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_out_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    245
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1352:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1352:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_trq_out_r"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace9"
		  SID			  "1353"
		  Ports			  [1]
		  Position		  [145, 142, 240, 158]
		  ZOrder		  -30
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    246
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    247
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    248
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "gear_number"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    249
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace9"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1353:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1353:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_gear_number"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearbox controller interface"
		  SID			  "1354"
		  Ports			  [3, 2]
		  Position		  [190, 219, 295, 281]
		  ZOrder		  -31
		  RequestExecContextInheritance	off
		  System {
		    Name		    "gearbox controller interface"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "T_gb_out"
		    SID			    "1355"
		    Position		    [40, 45, 60, 65]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w_gb_out"
		    SID			    "1356"
		    Position		    [40, 105, 60, 125]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "eta_gb"
		    SID			    "1357"
		    Position		    [40, 170, 60, 190]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    SID			    "1358"
		    Position		    [205, 79, 310, 111]
		    ZOrder		    -4
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>1"
		    SID			    "1359"
		    Position		    [205, 134, 310, 166]
		    ZOrder		    -5
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>"
		    SID			    "1360"
		    Position		    [95, 39, 165, 71]
		    ZOrder		    -6
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "T_gb_out"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>1"
		    SID			    "1361"
		    Position		    [95, 99, 170, 131]
		    ZOrder		    -7
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "w_gb_out"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>2"
		    SID			    "1362"
		    Position		    [95, 164, 170, 196]
		    ZOrder		    -8
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "eta_gb"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace1"
		    SID			    "1363"
		    Ports		    [1]
		    Position		    [360, 32, 455, 48]
		    ZOrder		    -9
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    250
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    251
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    252
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "gear_ratio"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    253
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1363:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1363:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_gear_ratio"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace8"
		    SID			    "1364"
		    Ports		    [1]
		    Position		    [360, 207, 455, 223]
		    ZOrder		    -10
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    254
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    255
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    256
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "shifting"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    257
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1364:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1364:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_shifting"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear_ratio"
		    SID			    "1365"
		    Position		    [345, 85, 365, 105]
		    ZOrder		    -11
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "shifting"
		    SID			    "1366"
		    Position		    [345, 140, 365, 160]
		    ZOrder		    -12
		    Port		    "2"
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    ZOrder		    2
		    DstBlock		    "gear_ratio"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    3
		    Points		    [0, -55]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "eta_gb"
		    SrcPort		    1
		    DstBlock		    "Goto <vc>2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "w_gb_out"
		    SrcPort		    1
		    DstBlock		    "Goto <vc>1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "T_gb_out"
		    SrcPort		    1
		    DstBlock		    "Goto <vc>"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "From <vc>1"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    ZOrder		    8
		    DstBlock		    "shifting"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    9
		    Points		    [0, 65]
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearing\n(Nm) (rad/s)"
		  SID			  "1367"
		  Ports			  [2, 2]
		  Position		  [265, 22, 300, 73]
		  ZOrder		  -32
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "gearing\n(Nm) (rad/s)"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "output shaft\ntorque and speed\n (Nm), (rad/s)"
		    SID			    "1368"
		    Position		    [55, 25, 75, 45]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    SID			    "1369"
		    Position		    [55, 120, 75, 140]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    SID			    "1370"
		    Ports		    [1, 2]
		    Position		    [140, 16, 160, 49]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Outputs		    "2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    SID			    "1371"
		    Position		    [300, 69, 330, 91]
		    ZOrder		    -4
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    SID			    "1372"
		    Ports		    [2, 1]
		    Position		    [355, 21, 375, 39]
		    ZOrder		    -5
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    SID			    "1373"
		    Ports		    [2, 1]
		    Position		    [355, 116, 375, 134]
		    ZOrder		    -6
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "input shaft torque (Nm)"
		    SID			    "1374"
		    Position		    [455, 20, 475, 40]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "input shaft speed (rad/s)"
		    SID			    "1375"
		    Position		    [455, 115, 475, 135]
		    ZOrder		    -8
		    Port		    "2"
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "input shaft speed (rad/s)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "input shaft torque (Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    Points		    [0, -45]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "output shaft\ntorque and speed\n (Nm), (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [190, 0]
		    Branch {
		    ZOrder		    6
		    Points		    [0, -50]
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    7
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    Points		    [60, 0; 0, 80]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearing (Nm) (rad/s)1"
		  SID			  "1376"
		  Ports			  [3, 2]
		  Position		  [520, 438, 555, 512]
		  ZOrder		  -33
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "gearing (Nm) (rad/s)1"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "input shaft torque (Nm)"
		    SID			    "1377"
		    Position		    [75, 15, 95, 35]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "input shaft speed (rad/s)"
		    SID			    "1378"
		    Position		    [75, 120, 95, 140]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    SID			    "1379"
		    Position		    [75, 70, 95, 90]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    SID			    "1380"
		    Position		    [175, 69, 205, 91]
		    ZOrder		    -4
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    SID			    "1381"
		    Ports		    [2, 1]
		    Position		    [275, 21, 295, 39]
		    ZOrder		    -5
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    SID			    "1382"
		    Ports		    [2, 1]
		    Position		    [275, 116, 295, 134]
		    ZOrder		    -6
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "output shaft torque (Nm)"
		    SID			    "1383"
		    Position		    [375, 20, 395, 40]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "output shaft speed (rad/s)"
		    SID			    "1384"
		    Position		    [375, 115, 395, 135]
		    ZOrder		    -8
		    Port		    "2"
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    Points		    [25, 0; 0, 40]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [45, 0]
		    Branch {
		    ZOrder		    3
		    Points		    [0, -45]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    4
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "output shaft speed (rad/s)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "output shaft torque (Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "input shaft torque (Nm)"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "input shaft speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  SID			  "1385"
		  Ports			  []
		  Position		  [684, 564, 717, 607]
		  ZOrder		  -34
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('gearbox.htm')]);"
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    258
		    $ClassName		    "Simulink.Mask"
		    Display		    "image(imread('doc_man.jpg'))"
		  }
		  System {
		    Name		    "help"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "loss\n(Nm)"
		  SID			  "1386"
		  Ports			  [3, 1]
		  Position		  [340, 84, 375, 126]
		  ZOrder		  -35
		  ForegroundColor	  "orange"
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    259
		    $ClassName		    "Simulink.Mask"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    5
		    Object {
		    $ObjectID		    260
		    Type		    "edit"
		    Name		    "tx_eff_map"
		    Prompt		    "table of efficiency values (spd rad/s, trq Nm)"
		    Value		    "tx_eff_map"
		    }
		    Object {
		    $ObjectID		    261
		    Type		    "edit"
		    Name		    "tx_map_trq"
		    Prompt		    "vector of output torque values for lookup table (Nm)"
		    Value		    "tx_map_trq"
		    }
		    Object {
		    $ObjectID		    262
		    Type		    "edit"
		    Name		    "tx_map_spd"
		    Prompt		    "vector of output speeds for lookup table (rad/s)"
		    Value		    "tx_map_spd"
		    }
		    Object {
		    $ObjectID		    263
		    Type		    "edit"
		    Name		    "gb_spd_scale"
		    Prompt		    "Speed scale for the transmission gear box"
		    Value		    "gb_spd_scale"
		    }
		    Object {
		    $ObjectID		    264
		    Type		    "edit"
		    Name		    "gb_trq_scale"
		    Prompt		    "Torque scale for the transmission gear box"
		    Value		    "gb_trq_scale"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "loss\n(Nm)"
		    Location		    [160, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "output torque\nand speed\n(Nm), (rad/s)"
		    SID			    "1387"
		    Position		    [50, 60, 70, 80]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    SID			    "1388"
		    Position		    [45, 520, 65, 540]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear_number"
		    SID			    "1389"
		    Position		    [45, 445, 65, 465]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "3D discrete lookup\ntable (sfun)"
		    SID			    "1390"
		    Ports		    [3, 1]
		    Position		    [285, 279, 315, 331]
		    ZOrder		    -4
		    ForegroundColor	    "orange"
		    AncestorBlock	    "lib_transmission/SubLibraries/3D discrete lookup\ntable (sfun)"
		    LibraryVersion	    "*"
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    265
		    $ClassName		    "Simulink.Mask"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    266
		    Type		    "edit"
		    Name		    "tx_map_spd"
		    Prompt		    "Row Lookup"
		    Value		    "tx_map_spd"
		    }
		    Object {
		    $ObjectID		    267
		    Type		    "edit"
		    Name		    "tx_map_trq"
		    Prompt		    "Column Lookup"
		    Value		    "tx_map_trq"
		    }
		    Object {
		    $ObjectID		    268
		    Type		    "edit"
		    Name		    "tx_eff_map"
		    Prompt		    "Lookup Matrix"
		    Value		    "tx_eff_map"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "3D discrete lookup\ntable (sfun)"
		    Location		    [97, 44, 745, 696]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "9"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "lookup speed (rad/s)"
		    SID			    "1390:1"
		    Position		    [45, 68, 75, 82]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "lookup trq (Nm)"
		    SID			    "1390:2"
		    Position		    [40, 208, 70, 222]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear_number \n(e.g., 1, 2, 3)"
		    SID			    "1390:3"
		    Position		    [40, 348, 70, 362]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    SID			    "1390:4"
		    Ports		    [3, 1]
		    Position		    [225, 3, 235, 427]
		    ZOrder		    -4
		    ShowName		    off
		    Inputs		    "3"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    SID			    "1390:5"
		    Position		    [125, 60, 155, 90]
		    ZOrder		    -5
		    UpperLimit		    "max(tx_map_spd)"
		    LowerLimit		    "min(tx_map_spd)"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    SID			    "1390:6"
		    Position		    [120, 200, 150, 230]
		    ZOrder		    -6
		    UpperLimit		    "max(tx_map_trq)"
		    LowerLimit		    "min(tx_map_trq)"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    SID			    "1390:7"
		    Position		    [120, 340, 150, 370]
		    ZOrder		    -7
		    UpperLimit		    "size(tx_eff_map,3)"
		    LowerLimit		    "1"
		    }
		    Block {
		    BlockType		    S-Function
		    Name		    "discrete interp2d"
		    SID			    "1390:8"
		    Ports		    [1, 1]
		    Position		    [255, 199, 380, 231]
		    ZOrder		    -8
		    FunctionName	    "sfun_discreteLookup3d"
		    Parameters		    "tx_map_trq, tx_map_spd, tx_eff_map"
		    SFunctionDeploymentMode off
		    EnableBusSupport	    off
		    SFcnIsStateOwnerBlock   off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "tx_eff"
		    SID			    "1390:9"
		    Position		    [405, 208, 435, 222]
		    ZOrder		    -9
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "discrete interp2d"
		    SrcPort		    1
		    DstBlock		    "tx_eff"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "discrete interp2d"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "lookup speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "lookup trq (Nm)"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "gear_number \n(e.g., 1, 2, 3)"
		    SrcPort		    1
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Abs
		    Name		    "Abs"
		    SID			    "1391"
		    Position		    [300, 16, 330, 34]
		    ZOrder		    -5
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    SID			    "1392"
		    Ports		    []
		    Position		    [885, 595, 941, 635]
		    ZOrder		    -6
		    BackgroundColor	    "green"
		    ShowName		    off
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    269
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		    }
		    System {
		    Name		    "Block NOTES"
		    Location		    [332, 281, 874, 641]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "1393"
		    Name		    "5 July 2001:mpo changing loss block to a lookup table methodology\n12/20/00:tm revised loss saturatio"
		    "n block. lower limit changed \nfrom 1 to 0 and upper limit changed from 100 to inf to prevent over or under pena"
		    "lties"
		    Position		    [252, 37, 629, 69]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		    Annotation {
		    SID			    "1394"
		    Name		    "Revision Notes:"
		    Position		    [247, 17, 318, 29]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -2
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "1395"
		    Position		    [600, 305, 625, 325]
		    ZOrder		    -7
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "1396"
		    Position		    [350, 391, 375, 409]
		    ZOrder		    -8
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    "1397"
		    Position		    [575, 241, 605, 259]
		    ZOrder		    -9
		    Value		    "eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    SID			    "1398"
		    Position		    [830, 370, 855, 390]
		    ZOrder		    -10
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant4"
		    SID			    "1399"
		    Position		    [905, 425, 930, 445]
		    ZOrder		    -11
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    SID			    "1400"
		    Ports		    [1, 2]
		    Position		    [110, 41, 115, 99]
		    ZOrder		    -12
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "2"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    SID			    "1401"
		    Position		    [525, 291, 590, 309]
		    ZOrder		    -13
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "T_out"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From10"
		    SID			    "1402"
		    Position		    [500, 210, 605, 230]
		    ZOrder		    -14
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "tx_eff"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From11"
		    SID			    "1403"
		    Position		    [785, 353, 870, 367]
		    ZOrder		    -15
		    NameLocation	    "top"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "w_out"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From4"
		    SID			    "1404"
		    Position		    [500, 395, 640, 415]
		    ZOrder		    -16
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "one_minus_tx_eff"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From5"
		    SID			    "1405"
		    Position		    [500, 444, 630, 466]
		    ZOrder		    -17
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "T_out_abs"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From6"
		    SID			    "1406"
		    Position		    [500, 495, 605, 515]
		    ZOrder		    -18
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From7"
		    SID			    "1407"
		    Position		    [500, 75, 640, 95]
		    ZOrder		    -19
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "one_minus_tx_eff"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From8"
		    SID			    "1408"
		    Position		    [500, 119, 630, 141]
		    ZOrder		    -20
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "T_out_abs"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From9"
		    SID			    "1409"
		    Position		    [500, 165, 605, 185]
		    ZOrder		    -21
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto"
		    SID			    "1410"
		    Position		    [135, 439, 240, 471]
		    ZOrder		    -22
		    GotoTag		    "gear_number"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto1"
		    SID			    "1411"
		    Position		    [135, 516, 240, 544]
		    ZOrder		    -23
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto2"
		    SID			    "1412"
		    Position		    [180, 45, 285, 65]
		    ZOrder		    -24
		    NameLocation	    "top"
		    GotoTag		    "T_out"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto3"
		    SID			    "1413"
		    Position		    [180, 75, 285, 95]
		    ZOrder		    -25
		    GotoTag		    "w_out"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto4"
		    SID			    "1414"
		    Position		    [415, 290, 455, 320]
		    ZOrder		    -26
		    GotoTag		    "tx_eff"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto5"
		    SID			    "1415"
		    Position		    [430, 337, 550, 363]
		    ZOrder		    -27
		    GotoTag		    "one_minus_tx_eff"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto6"
		    SID			    "1416"
		    Position		    [355, 15, 460, 35]
		    ZOrder		    -28
		    GotoTag		    "T_out_abs"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "1417"
		    Ports		    [4, 1]
		    Position		    [655, 63, 675, 242]
		    ZOrder		    -29
		    Inputs		    "**//"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    SID			    "1418"
		    Ports		    [3, 1]
		    Position		    [660, 382, 680, 528]
		    ZOrder		    -30
		    Inputs		    "**/"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "1419"
		    Ports		    [2, 1]
		    Position		    [655, 292, 685, 323]
		    ZOrder		    -31
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    SID			    "1420"
		    Ports		    [2, 1]
		    Position		    [890, 351, 905, 384]
		    ZOrder		    -32
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    "1421"
		    Ports		    [2, 1]
		    Position		    [395, 340, 415, 360]
		    ZOrder		    -33
		    ShowName		    off
		    Inputs		    "|-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    SID			    "1422"
		    Ports		    [2, 1]
		    Position		    [620, 210, 640, 230]
		    ZOrder		    -34
		    ShowName		    off
		    Inputs		    "|++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "1423"
		    Position		    [765, 294, 795, 326]
		    ZOrder		    -35
		    FontName		    "Arial"
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    SID			    "1424"
		    Position		    [955, 304, 985, 336]
		    ZOrder		    -36
		    FontName		    "Arial"
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    SID			    "1425"
		    Ports		    [1]
		    Position		    [145, 567, 240, 583]
		    ZOrder		    -37
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    TreatAsAtomicUnit	    on
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    270
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    271
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    272
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "current_gear_ratio"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    273
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1425:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1425:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_current_gear_ratio"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace1"
		    SID			    "1426"
		    Ports		    [1]
		    Position		    [945, 187, 1040, 203]
		    ZOrder		    -38
		    ForegroundColor	    "orange"
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    TreatAsAtomicUnit	    on
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    274
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    275
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    276
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spin_loss_trq"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    277
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1426:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1426:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_spin_loss_trq"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "ensure efficiency\nis between \n0% and 100%,\ninclusive"
		    SID			    "1427"
		    Position		    [340, 290, 370, 320]
		    ZOrder		    -39
		    NameLocation	    "top"
		    UpperLimit		    "1"
		    LowerLimit		    "0"
		    }
		    Block {
		    BlockType		    From
		    Name		    "gear number (1st, 2nd, 3rd, etc.)"
		    SID			    "1428"
		    Position		    [135, 376, 230, 394]
		    ZOrder		    -40
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_number"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "scaled trq_out"
		    SID			    "1429"
		    Ports		    [3, 1]
		    Position		    [185, 277, 200, 333]
		    ZOrder		    -41
		    ForegroundColor	    "orange"
		    Inputs		    "*//"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "scaled w_in"
		    SID			    "1430"
		    Ports		    [3, 1]
		    Position		    [230, 215, 245, 265]
		    ZOrder		    -42
		    ForegroundColor	    "orange"
		    NameLocation	    "top"
		    Inputs		    "/**"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "spd scale"
		    SID			    "1431"
		    Position		    [40, 217, 120, 233]
		    ZOrder		    -43
		    NameLocation	    "top"
		    Value		    "gb_spd_scale"
		    }
		    Block {
		    BlockType		    From
		    Name		    "spd_out"
		    SID			    "1432"
		    Position		    [130, 233, 215, 247]
		    ZOrder		    -44
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "w_out"
		    }
		    Block {
		    BlockType		    From
		    Name		    "trq out"
		    SID			    "1433"
		    Position		    [15, 276, 95, 294]
		    ZOrder		    -45
		    NameLocation	    "top"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "T_out"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "trq scale"
		    SID			    "1434"
		    Position		    [95, 297, 165, 313]
		    ZOrder		    -46
		    Value		    "gb_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "loss torque at\ninput shaft (Nm)"
		    SID			    "1435"
		    Position		    [1060, 310, 1080, 330]
		    ZOrder		    -47
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "gear_number"
		    SrcPort		    1
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    ZOrder		    3
		    DstBlock		    "Goto1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    4
		    Points		    [0, -165; 70, 0]
		    Branch {
		    ZOrder		    5
		    Points		    [55, 0]
		    DstBlock		    "scaled w_in"
		    DstPort		    3
		    }
		    Branch {
		    ZOrder		    6
		    Points		    [0, -40]
		    DstBlock		    "scaled trq_out"
		    DstPort		    3
		    }
		    }
		    Branch {
		    ZOrder		    7
		    Points		    [0, 45]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "spd scale"
		    SrcPort		    1
		    DstBlock		    "scaled w_in"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "spd_out"
		    SrcPort		    1
		    DstBlock		    "scaled w_in"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Goto5"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "trq scale"
		    SrcPort		    1
		    DstBlock		    "scaled trq_out"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    13
		    SrcBlock		    "scaled trq_out"
		    SrcPort		    1
		    DstBlock		    "3D discrete lookup\ntable (sfun)"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "trq out"
		    SrcPort		    1
		    DstBlock		    "scaled trq_out"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    15
		    Labels		    [2, 0]
		    SrcBlock		    "scaled w_in"
		    SrcPort		    1
		    Points		    [5, 0; 0, 50]
		    DstBlock		    "3D discrete lookup\ntable (sfun)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    "ensure efficiency\nis between \n0% and 100%,\ninclusive"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    ZOrder		    17
		    Points		    [0, 40]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    18
		    DstBlock		    "Goto4"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    19
		    SrcBlock		    "3D discrete lookup\ntable (sfun)"
		    SrcPort		    1
		    DstBlock		    "ensure efficiency\nis between \n0% and 100%,\ninclusive"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    20
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    21
		    SrcBlock		    "Abs"
		    SrcPort		    1
		    DstBlock		    "Goto6"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    22
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    ZOrder		    23
		    Points		    [0, -30]
		    DstBlock		    "Abs"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    24
		    DstBlock		    "Goto2"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    25
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [15, 0; 0, -50]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    26
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    27
		    SrcBlock		    "From11"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    28
		    SrcBlock		    "Constant4"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    29
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    ZOrder		    30
		    DstBlock		    "loss torque at\ninput shaft (Nm)"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    31
		    Points		    [0, -105; -95, 0]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    32
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    33
		    SrcBlock		    "From10"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    34
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    4
		    }
		    Line {
		    ZOrder		    35
		    SrcBlock		    "From9"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    36
		    SrcBlock		    "From8"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    37
		    SrcBlock		    "From7"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    38
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [50, 0; 0, 145]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    39
		    SrcBlock		    "From5"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    40
		    SrcBlock		    "From6"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    41
		    SrcBlock		    "From4"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    42
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [45, 0; 0, -135]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    43
		    SrcBlock		    "From"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    44
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    45
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    46
		    SrcBlock		    "gear number (1st, 2nd, 3rd, etc.)"
		    SrcPort		    1
		    Points		    [0, -65]
		    DstBlock		    "3D discrete lookup\ntable (sfun)"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    47
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    DstBlock		    "Goto3"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    48
		    SrcBlock		    "output torque\nand speed\n(Nm), (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Annotation {
		    SID			    "1436"
		    Name		    "\nTORQUE LOSS CALCULATION\n"
		    Position		    [945, 153, 1090, 185]
		    InternalMargins	    [0, 0, 0, 0]
		    ForegroundColor	    "white"
		    BackgroundColor	    "black"
		    ZOrder		    -1
		    }
		    Annotation {
		    SID			    "1437"
		    Name		    "gear"
		    Position		    [254, 313, 275, 325]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -2
		    }
		    Annotation {
		    SID			    "1438"
		    Name		    "trq"
		    Position		    [263, 297, 276, 309]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -3
		    }
		    Annotation {
		    SID			    "1439"
		    Name		    "spd"
		    Position		    [269, 276, 287, 288]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -4
		    }
		    Annotation {
		    SID			    "1440"
		    Name		    "torque at transmission output, Nm"
		    Position		    [371, 55, 522, 67]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -5
		    }
		    Annotation {
		    SID			    "1441"
		    Name		    "speed at transmission output, rad/s"
		    Position		    [376, 87, 533, 99]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -6
		    }
		    Annotation {
		    SID			    "1442"
		    Name		    "no_loss case"
		    Position		    [994, 415, 1054, 427]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -7
		    }
		    Annotation {
		    SID			    "1443"
		    Name		    "Note: saturation block keeps\nloss positive-- for both powered\nand regen cases, a\npositive value re"
		    "presents a \"loss\""
		    Position		    [954, 496, 1102, 538]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -8
		    }
		    Annotation {
		    SID			    "1444"
		    Name		    "Switch for Powered\n or Regen Case"
		    Position		    [783, 278, 870, 300]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -9
		    }
		    Annotation {
		    SID			    "1445"
		    Name		    "Switch to Determine \nif Gears are Turning\n--No loss if gears \nare not turning"
		    Position		    [952, 270, 1046, 312]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -10
		    }
		    Annotation {
		    SID			    "1446"
		    Name		    "Normal \"Powered\" case\n(energy flow from engine\nthrough transmission to wheels)"
		    Position		    [774, 126, 916, 158]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -11
		    }
		    Annotation {
		    SID			    "1447"
		    Name		    "T_loss_at_input"
		    Position		    [785, 208, 857, 220]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -12
		    }
		    Annotation {
		    SID			    "1448"
		    Name		    "\"Regen\" case\n(energy flowing from\nwheel side of transmission\nto engine side of transmission)"
		    Position		    [773, 488, 910, 530]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -13
		    }
		    Annotation {
		    SID			    "1449"
		    Name		    "T_loss_at_input"
		    Position		    [778, 414, 850, 426]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -14
		    }
		    Annotation {
		    SID			    "1450"
		    Name		    "\nLOOKUP TABLE FOR TRANSMISSION EFFICIENCY\n"
		    Position		    [278, 156, 519, 188]
		    InternalMargins	    [0, 0, 0, 0]
		    ForegroundColor	    "white"
		    BackgroundColor	    "black"
		    ZOrder		    -15
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed req'd\nat input side of gearbox\n(Nm), (rad/s)"
		  SID			  "1451"
		  Position		  [745, 45, 765, 65]
		  ZOrder		  -36
		  FontName		  "Arial"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed avail.\nat output side of gearbox\n(Nm), (rad/s)"
		  SID			  "1452"
		  Position		  [735, 470, 755, 490]
		  ZOrder		  -37
		  FontName		  "Arial"
		  Port			  "2"
		  InitialOutput		  "0"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "gearbox controller interface"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    ZOrder		    2
		    Points		    [0, 80; 170, 0]
		    Branch {
		    ZOrder		    3
		    Points		    [0, 45]
		    Branch {
		    ZOrder		    4
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    5
		    Points		    [0, 140]
		    DstBlock		    "gearing (Nm) (rad/s)1"
		    DstPort		    3
		    }
		    }
		    Branch {
		    ZOrder		    6
		    DstBlock		    "Pout/Pin neglecting inertia"
		    DstPort		    4
		    }
		  }
		  Branch {
		    ZOrder		    7
		    Points		    [0, -25; -65, 0; 0, -105; -45, 0]
		    Branch {
		    ZOrder		    8
		    Points		    [0, -45]
		    DstBlock		    "gearing\n(Nm) (rad/s)"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    9
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  "loss\n(Nm)"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  ZOrder		  11
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [-15, 0]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  ZOrder		  12
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  Points		  [0, 0; 45, 0]
		  Branch {
		    ZOrder		    13
		    Points		    [0, -70]
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    14
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  15
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  Points		  [25, 0; 0, -75]
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  ZOrder		  16
		  SrcBlock		  "gearbox controller interface"
		  SrcPort		  2
		  Points		  [110, 0]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  1
		}
		Line {
		  ZOrder		  17
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    ZOrder		    18
		    DstBlock		    "Switch"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    19
		    Points		    [0, 165]
		    DstBlock		    "Pout/Pin neglecting inertia"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  20
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [0, 0; 15, 0]
		  Branch {
		    ZOrder		    21
		    Points		    [0, 30]
		    Branch {
		    ZOrder		    22
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    23
		    Points		    [0, 20]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		  }
		  Branch {
		    ZOrder		    24
		    DstBlock		    "gearing (Nm) (rad/s)1"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  25
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    ZOrder		    26
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    27
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  28
		  SrcBlock		  "gearing (Nm) (rad/s)1"
		  SrcPort		  1
		  Points		  [0, 0; 50, 0]
		  Branch {
		    ZOrder		    29
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    30
		    Points		    [0, -45]
		    Branch {
		    ZOrder		    31
		    Points		    [0, -40]
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    32
		    DstBlock		    "Goto4"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  33
		  SrcBlock		  "gearing (Nm) (rad/s)1"
		  SrcPort		  2
		  Points		  [35, 0]
		  Branch {
		    ZOrder		    34
		    Points		    [0, 65; -20, 0]
		    DstBlock		    "Goto1"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    35
		    Points		    [25, 0]
		    Branch {
		    ZOrder		    36
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    37
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  38
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    ZOrder		    39
		    Points		    [35, 0]
		    Branch {
		    ZOrder		    40
		    DstBlock		    "gearbox controller interface"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    41
		    Points		    [0, 70]
		    DstBlock		    "Pout/Pin neglecting inertia"
		    DstPort		    3
		    }
		  }
		  Branch {
		    ZOrder		    42
		    Points		    [0, -15; -30, 0; 0, -45]
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  43
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [0, 0; 10, 0]
		  Branch {
		    ZOrder		    44
		    DstBlock		    "gearbox controller interface"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    45
		    Points		    [0, -40; -20, 0; 0, -15]
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  46
		  SrcBlock		  "torque and speed req'd\nat output side of gearbox\n(Nm), (rad/s)"
		  SrcPort		  1
		  Points		  [0, 0; 45, 0]
		  Branch {
		    ZOrder		    47
		    DstBlock		    "gearing\n(Nm) (rad/s)"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    48
		    Labels		    [1, 0]
		    Points		    [0, 55]
		    Branch {
		    ZOrder		    49
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    50
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  51
		  SrcBlock		  "effect of inertia\n(Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    ZOrder		    52
		    Points		    [0, 105]
		    Branch {
		    ZOrder		    53
		    Points		    [0, 155]
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    54
		    DstBlock		    "Pout/Pin neglecting inertia"
		    DstPort		    2
		    }
		  }
		  Branch {
		    ZOrder		    55
		    Points		    [0, -50]
		    DstBlock		    "Sum2"
		    DstPort		    3
		  }
		}
		Line {
		  ZOrder		  56
		  SrcBlock		  "gearing\n(Nm) (rad/s)"
		  SrcPort		  2
		  Points		  [0, 0; 15, 0]
		  Branch {
		    ZOrder		    57
		    Points		    [235, 0]
		    Branch {
		    ZOrder		    58
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    59
		    Points		    [0, 105]
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		    }
		  }
		  Branch {
		    ZOrder		    60
		    Points		    [0, 120]
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  61
		  SrcBlock		  "gearing\n(Nm) (rad/s)"
		  SrcPort		  1
		  Points		  [100, 0; 0, 45]
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  62
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "torque and speed req'd\nat input side of gearbox\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  63
		  SrcBlock		  "Pout/Pin neglecting inertia"
		  SrcPort		  1
		  Points		  [35, 0; 0, 55; -255, 0]
		  Branch {
		    ZOrder		    64
		    Points		    [0, 100]
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    65
		    Points		    [-155, 0]
		    DstBlock		    "gearbox controller interface"
		    DstPort		    3
		  }
		}
		Line {
		  ZOrder		  66
		  SrcBlock		  "torque and speed avail.\nat input side of gearbox\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  67
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "gearing (Nm) (rad/s)1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  68
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "torque and speed avail.\nat output side of gearbox\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  69
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [0, 0; 60, 0]
		  Branch {
		    ZOrder		    70
		    DstBlock		    "Sum3"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    71
		    Points		    [0, -85]
		    DstBlock		    "Product1"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  72
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  Points		  [80, 0]
		  DstBlock		  "enhancedToWorkspace4"
		  DstPort		  1
		}
		Line {
		  ZOrder		  73
		  SrcBlock		  "From <vc>"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    ZOrder		    74
		    Points		    [0, 15; -90, 0; 0, 15]
		    DstBlock		    "enhancedToWorkspace9"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    75
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    3
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      SID		      "1453"
	      Ports		      [1, 1]
	      Position		      [390, 76, 445, 104]
	      ZOrder		      -25
	      NameLocation	      "top"
	      RequestExecContextInheritance off
	      System {
		Name			"signal\nannotator"
		Location		[164, 44, 968, 889]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  SID			  "1454"
		  Position		  [110, 103, 140, 117]
		  ZOrder		  -1
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  "1455"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  ZOrder		  -2
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  Port {
		    PortNumber		    1
		    Name		    "gb_trq_out_r"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "gb_spd_out_r"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  "1456"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ZOrder		  -3
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  SID			  "1457"
		  Position		  [430, 103, 460, 117]
		  ZOrder		  -4
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "gb_trq_out_r"
		  ZOrder		  2
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "gb_spd_out_r"
		  ZOrder		  3
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "requested\noutput"
	      SID		      "1458"
	      Position		      [475, 83, 505, 97]
	      ZOrder		      -26
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\ninput\nrequest"
	      SID		      "1459"
	      Position		      [530, 148, 560, 162]
	      ZOrder		      -27
	      NameLocation	      "top"
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\noutput\nachieved"
	      SID		      "1460"
	      Position		      [530, 178, 560, 192]
	      ZOrder		      -28
	      Port		      "3"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      SID		      "1461"
	      Position		      [780, 388, 810, 402]
	      ZOrder		      -29
	      Port		      "4"
	    }
	    Line {
	      Name		      "gb_spd_out_a"
	      ZOrder		      1
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>6"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      6
	    }
	    Line {
	      Name		      "gb_spd_in_a"
	      ZOrder		      2
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>1"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      Name		      "T_gb_out"
	      ZOrder		      3
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>2"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "w_gb_out"
	      ZOrder		      4
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>3"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "eta_gb"
	      ZOrder		      5
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>4"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      4
	    }
	    Line {
	      ZOrder		      6
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      "controls"
	      SrcPort		      1
	      DstBlock		      "Demux2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "Demux2"
	      SrcPort		      1
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      9
	      SrcBlock		      "Demux2"
	      SrcPort		      2
	      DstBlock		      "Goto3"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      10
	      SrcBlock		      "Demux2"
	      SrcPort		      3
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      11
	      SrcBlock		      "trq and spd\noutput\nrequest"
	      SrcPort		      1
	      Points		      [55, 0]
	      Branch {
		ZOrder			12
		DstBlock		"gearbox\nmodel"
		DstPort			1
	      }
	      Branch {
		ZOrder			13
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      14
	      SrcBlock		      "gearbox\nmodel"
	      SrcPort		      1
	      DstBlock		      "trq and spd\ninput\nrequest"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      15
	      SrcBlock		      "trq and spd\ninput\nachieved"
	      SrcPort		      1
	      DstBlock		      "gearbox\nmodel"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      16
	      SrcBlock		      "gearbox\nmodel"
	      SrcPort		      2
	      DstBlock		      "trq and spd\noutput\nachieved"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      17
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "requested\noutput"
	      DstPort		      1
	    }
	    Line {
	      Name		      "gb_trq_out_a"
	      ZOrder		      18
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>5"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      5
	    }
	    Annotation {
	      SID		      "1462"
	      Name		      "Model"
	      Position		      [422, 25, 488, 53]
	      InternalMargins	      [0, 0, 0, 0]
	      BackgroundColor	      "yellow"
	      ZOrder		      -1
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      SID		      "1463"
	      Name		      "Interface"
	      Position		      [422, 260, 515, 288]
	      InternalMargins	      [0, 0, 0, 0]
	      BackgroundColor	      "yellow"
	      ZOrder		      -2
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "help"
	  SID			  "1464"
	  Ports			  []
	  Position		  [64, 39, 97, 82]
	  ZOrder		  -6
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowName		  off
	  OpenFcn		  "web(['file:\\\\\\' which('gearbox.htm')]);"
	  RequestExecContextInheritance	off
	  Object {
	    $PropName		    "MaskObject"
	    $ObjectID		    278
	    $ClassName		    "Simulink.Mask"
	    Display		    "image(imread('doc_man.jpg'))"
	  }
	  System {
	    Name		    "help"
	    Location		    [165, 211, 571, 596]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  SID			  "1465"
	  Position		  [355, 84, 455, 126]
	  ZOrder		  -7
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  SID			  "1466"
	  Position		  [360, 289, 460, 331]
	  ZOrder		  -8
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nat input side of gearbox\n(Nm), (rad/s)"
	  SID			  "1467"
	  Position		  [400, 200, 420, 220]
	  ZOrder		  -9
	  NameLocation		  "top"
	  FontName		  "Arial"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed avail.\nat output side of gearbox\n(Nm), (rad/s)"
	  SID			  "1468"
	  Position		  [400, 220, 420, 240]
	  ZOrder		  -10
	  FontName		  "Arial"
	  Port			  "2"
	  InitialOutput		  "0"
	}
	Line {
	  ZOrder		  1
	  SrcBlock		  "gearbox model & interface"
	  SrcPort		  1
	  Points		  [0, -85]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  ZOrder		  2
	  SrcBlock		  "gearbox model & interface"
	  SrcPort		  2
	  DstBlock		  "torque and speed req'd\nat input side of gearbox\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  ZOrder		  3
	  SrcBlock		  "torque and speed req'd\nat output side of gearbox\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "gearbox model & interface"
	  DstPort		  1
	}
	Line {
	  ZOrder		  4
	  SrcBlock		  "torque and speed avail.\nat input side of gearbox\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "gearbox model & interface"
	  DstPort		  2
	}
	Line {
	  ZOrder		  5
	  SrcBlock		  "gearbox model & interface"
	  SrcPort		  3
	  DstBlock		  "torque and speed avail.\nat output side of gearbox\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  ZOrder		  6
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [0, -65]
	  DstBlock		  "gearbox model & interface"
	  DstPort		  3
	}
	Line {
	  ZOrder		  7
	  SrcBlock		  "gearbox model & interface"
	  SrcPort		  4
	  Points		  [40, 0]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Annotation {
	  SID			  "1469"
	  Name			  "Gearbox"
	  Position		  [282, 55, 356, 78]
	  InternalMargins	  [0, 0, 0, 0]
	  BackgroundColor	  "yellow"
	  ZOrder		  -1
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "gearbox <gb>\nCVT"
      SID		      "1470"
      Ports		      [2, 2]
      Position		      [345, 513, 410, 557]
      ZOrder		      -8
      BackgroundColor	      "yellow"
      ShowPortLabels	      "none"
      RequestExecContextInheritance off
      Object {
	$PropName		"MaskObject"
	$ObjectID		279
	$ClassName		"Simulink.Mask"
	Type			"Stand-Alone Gearbox Mask"
	Initialization		"% initialization via m-file script\nadvSACompMaskInit;"
	Display			"image(imread(imgFileName))"
	Array {
	  Type			  "Simulink.MaskParameter"
	  Dimension		  6
	  Object {
	    $ObjectID		    280
	    Type		    "edit"
	    Name		    "generalName"
	    Prompt		    "General Name of this Component [char]"
	    Value		    "'gb'"
	  }
	  Object {
	    $ObjectID		    281
	    Type		    "popup"
	    Array {
	      Type		      "Cell"
	      Dimension		      2
	      Cell		      "Don't Log"
	      Cell		      "Log"
	      PropName		      "TypeOptions"
	    }
	    Name		    "logPick"
	    Prompt		    "Log Variables to Workspace?"
	    Value		    "Log"
	  }
	  Object {
	    $ObjectID		    282
	    Type		    "edit"
	    Name		    "initFileName"
	    Prompt		    "Initialization File(s) [cell array of char]"
	    Value		    "{}"
	  }
	  Object {
	    $ObjectID		    283
	    Type		    "edit"
	    Name		    "modCell"
	    Prompt		    "Modification Cell [2 column cell array of param and val]"
	    Value		    "{}"
	  }
	  Object {
	    $ObjectID		    284
	    Type		    "edit"
	    Name		    "imgFileName"
	    Prompt		    "Icon image file name [char--evaluated]"
	    Value		    "'bdi_gb.jpg'"
	  }
	  Object {
	    $ObjectID		    285
	    Type		    "popup"
	    Array {
	      Type		      "Cell"
	      Dimension		      2
	      Cell		      "ON"
	      Cell		      "OFF"
	      PropName		      "TypeOptions"
	    }
	    Name		    "DEBUG"
	    Prompt		    "DEBUG"
	    Value		    "OFF"
	    Evaluate		    "off"
	  }
	  PropName		  "Parameters"
	}
      }
      System {
	Name			"gearbox <gb>\nCVT"
	Location		[164, 44, 968, 889]
	Open			off
	PortBlocksUseCompactNotation off
	SetExecutionDomain	off
	ExecutionDomainType	"Deduce"
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	SimulinkSubDomain	"Simulink"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed req'd\nat output side of gearbox\n(Nm), (rad/s)"
	  SID			  "1471"
	  Position		  [125, 185, 145, 205]
	  ZOrder		  -1
	  NameLocation		  "top"
	  FontName		  "Arial"
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nat input side of gearbox\n(Nm), (rad/s)"
	  SID			  "1472"
	  Position		  [125, 210, 145, 230]
	  ZOrder		  -2
	  FontName		  "Arial"
	  Port			  "2"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Block NOTES"
	  SID			  "1473"
	  Ports			  []
	  Position		  [60, 95, 116, 135]
	  ZOrder		  -3
	  BackgroundColor	  "green"
	  ShowName		  off
	  RequestExecContextInheritance	off
	  Object {
	    $PropName		    "MaskObject"
	    $ObjectID		    286
	    $ClassName		    "Simulink.Mask"
	    Display		    "disp('Block\\nNOTES')"
	  }
	  System {
	    Name		    "Block NOTES"
	    Location		    [326, 287, 868, 647]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Annotation {
	      SID		      "1474"
	      Name		      "This gearbox model includes loss data, rotational inertia, and a gear reduction."
	      Position		      [247, 17, 595, 29]
	      InternalMargins	      [0, 0, 0, 0]
	      VerticalAlignment	      "top"
	      ZOrder		      -1
	    }
	    Annotation {
	      SID		      "1475"
	      Name		      "The loss torque is zero when the gears are not turning,\nand is applied at the input side of the g"
	      "ear reduction."
	      Position		      [252, 37, 495, 59]
	      InternalMargins	      [0, 0, 0, 0]
	      VerticalAlignment	      "top"
	      ZOrder		      -2
	    }
	    Annotation {
	      SID		      "1476"
	      Name		      "The inertia torque is the input torque required to accelerate the\nfinal drive's inertia as measur"
	      "ed on the input side."
	      Position		      [252, 72, 530, 94]
	      InternalMargins	      [0, 0, 0, 0]
	      VerticalAlignment	      "top"
	      ZOrder		      -3
	    }
	    Annotation {
	      SID		      "1477"
	      Name		      "Available output torque is estimated assuming that the gearbox efficiency for theavailable input\n"
	      "torque andspeed is the same as the gearbox efficiency for the REQUESTED input torque."
	      Position		      [252, 107, 671, 129]
	      InternalMargins	      [0, 0, 0, 0]
	      VerticalAlignment	      "top"
	      ZOrder		      -4
	    }
	    Annotation {
	      SID		      "1478"
	      Name		      "This is a good assumption, at least for the VW 4-speed manual transaxle of SAE 820741. \nIn the VW"
	      " transaxle, efficiency is fairly independent of torque and speed at high torques."
	      Position		      [252, 142, 650, 164]
	      InternalMargins	      [0, 0, 0, 0]
	      VerticalAlignment	      "top"
	      ZOrder		      -5
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "CVT model & interface"
	  SID			  "1479"
	  Ports			  [3, 4]
	  Position		  [245, 183, 295, 257]
	  ZOrder		  -4
	  ShowPortLabels	  "none"
	  RequestExecContextInheritance	off
	  System {
	    Name		    "CVT model & interface"
	    Location		    [259, 333, 509, 643]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\noutput\nrequest"
	      SID		      "1480"
	      Position		      [330, 258, 360, 272]
	      ZOrder		      -1
	      NameLocation	      "top"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\ninput\nachieved"
	      SID		      "1481"
	      Position		      [330, 288, 360, 302]
	      ZOrder		      -2
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "controls"
	      SID		      "1482"
	      Position		      [85, 458, 115, 472]
	      ZOrder		      -3
	      Port		      "3"
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      SID		      "1483"
	      Ports		      [3, 1]
	      Position		      [785, 394, 795, 546]
	      ZOrder		      -4
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	      InheritFromInputs	      on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "CVT gearbox \n<gb>"
	      SID		      "1484"
	      Ports		      [2, 2]
	      Position		      [440, 249, 485, 311]
	      ZOrder		      -5
	      BackgroundColor	      "yellow"
	      ShowPortLabels	      "none"
	      RequestExecContextInheritance off
	      System {
		Name			"CVT gearbox \n<gb>"
		Location		[80, 44, 972, 817]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed req'd\nat output side of cvt\n(Nm), (rad/s)"
		  SID			  "1485"
		  Position		  [50, 15, 70, 35]
		  ZOrder		  -1
		  FontName		  "Arial"
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed avail.\nat input side of cvt\n(Nm), (rad/s)"
		  SID			  "1486"
		  Position		  [55, 450, 75, 470]
		  ZOrder		  -2
		  FontName		  "Arial"
		  Port			  "2"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES1"
		  SID			  "1487"
		  Ports			  []
		  Position		  [415, 515, 471, 555]
		  ZOrder		  -3
		  BackgroundColor	  "green"
		  ShowName		  off
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    287
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		  }
		  System {
		    Name		    "Block NOTES1"
		    Location		    [580, 192, 1122, 552]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "1488"
		    Name		    "This gearbox model includes loss data, rotational inertia, and a gear reduction."
		    Position		    [247, 17, 595, 29]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		    Annotation {
		    SID			    "1489"
		    Name		    "The loss torque is zero when the gears are not turning,\nand is applied at the input side of the gear"
		    " reduction."
		    Position		    [252, 37, 495, 59]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -2
		    }
		    Annotation {
		    SID			    "1490"
		    Name		    "The inertia torque is the input torque required to accelerate the\nfinal drive's inertia as measured "
		    "on the input side."
		    Position		    [252, 72, 530, 94]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -3
		    }
		    Annotation {
		    SID			    "1491"
		    Name		    "Available output torque is estimated assuming that the gearbox efficiency for theavailable input\ntor"
		    "que andspeed is the same as the gearbox efficiency for the REQUESTED input torque."
		    Position		    [252, 107, 671, 129]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -4
		    }
		    Annotation {
		    SID			    "1492"
		    Name		    "This is a good assumption, at least for the VW 4-speed manual transaxle of SAE 820741. \nIn the VW tr"
		    "ansaxle, efficiency is fairly independent of torque and speed at high torques."
		    Position		    [252, 142, 650, 164]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -5
		    }
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  "1493"
		  Ports			  [1, 2]
		  Position		  [135, 209, 155, 251]
		  ZOrder		  -4
		  FontName		  "Arial"
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  SID			  "1494"
		  Ports			  [1, 2]
		  Position		  [140, 441, 160, 474]
		  ZOrder		  -5
		  FontName		  "Arial"
		  Outputs		  "2"
		}
		Block {
		  BlockType		  InitialCondition
		  Name			  "IC"
		  SID			  "1495"
		  Position		  [320, 325, 350, 355]
		  ZOrder		  -6
		  BlockMirror		  on
		  Value			  "0.9"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  "1496"
		  Ports			  [2, 1]
		  Position		  [685, 26, 705, 59]
		  ZOrder		  -7
		  FontName		  "Arial"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  SID			  "1497"
		  Ports			  [2, 1]
		  Position		  [665, 433, 685, 502]
		  ZOrder		  -8
		  FontName		  "Arial"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Pout/Pin,\nneglecting inertia"
		  SID			  "1498"
		  Ports			  [4, 1]
		  Position		  [545, 256, 575, 309]
		  ZOrder		  -9
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "Pout/Pin,\nneglecting inertia"
		    Location		    [141, 221, 689, 688]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "Tin"
		    SID			    "1499"
		    Position		    [25, 85, 45, 105]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Tinertia"
		    SID			    "1500"
		    Position		    [25, 140, 45, 160]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Tout"
		    SID			    "1501"
		    Position		    [25, 5, 45, 25]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    SID			    "1502"
		    Position		    [25, 40, 45, 60]
		    ZOrder		    -4
		    Port		    "4"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "1503"
		    Position		    [115, 155, 135, 175]
		    ZOrder		    -5
		    BlockRotation	    270
		    NameLocation	    "right"
		    FontName		    "Arial"
		    Value		    "eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    "1504"
		    Position		    [370, 140, 390, 160]
		    ZOrder		    -6
		    BlockMirror		    on
		    FontName		    "Arial"
		    Value		    "0.5"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Pout/Pin\n(neglecting\ninertia)"
		    SID			    "1505"
		    Ports		    [2, 1]
		    Position		    [295, 88, 315, 117]
		    ZOrder		    -7
		    FontName		    "Arial"
		    Inputs		    "*/"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "1506"
		    Ports		    [2, 1]
		    Position		    [215, 101, 235, 119]
		    ZOrder		    -8
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "1507"
		    Position		    [365, 89, 395, 121]
		    ZOrder		    -9
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Tin-Tinertia"
		    SID			    "1508"
		    Ports		    [2, 1]
		    Position		    [75, 85, 95, 120]
		    ZOrder		    -10
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "make division\nbombproof"
		    SID			    "1509"
		    Ports		    [2, 1]
		    Position		    [160, 95, 180, 130]
		    ZOrder		    -11
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Pout/Pin"
		    SID			    "1510"
		    Position		    [435, 95, 455, 115]
		    ZOrder		    -12
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Pout/Pin"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Pout/Pin\n(neglecting\ninertia)"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    3
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    4
		    Points		    [0, -10]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Pout/Pin\n(neglecting\ninertia)"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [140, 0; 0, 55]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "make division\nbombproof"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "Tinertia"
		    SrcPort		    1
		    Points		    [5, 0; 0, -40]
		    DstBlock		    "Tin-Tinertia"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "Tout"
		    SrcPort		    1
		    Points		    [225, 0; 0, 80]
		    DstBlock		    "Pout/Pin\n(neglecting\ninertia)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "Tin"
		    SrcPort		    1
		    DstBlock		    "Tin-Tinertia"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "Tin-Tinertia"
		    SrcPort		    1
		    DstBlock		    "make division\nbombproof"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    13
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -30]
		    DstBlock		    "make division\nbombproof"
		    DstPort		    2
		    }
		    Annotation {
		    SID			    "1511"
		    Name		    "Pout/Pin, neglecting inertia, is used to estimate the output torque given the\ninput torque in a very"
		    " simple forward-facing calculation."
		    Position		    [252, 207, 582, 229]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  SID			  "1512"
		  Ports			  [2, 1]
		  Position		  [410, 436, 430, 454]
		  ZOrder		  -10
		  FontName		  "Arial"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  SID			  "1513"
		  Ports			  [2, 1]
		  Position		  [535, 351, 555, 369]
		  ZOrder		  -11
		  FontName		  "Arial"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  SID			  "1514"
		  Ports			  [3, 1]
		  Position		  [455, 60, 475, 140]
		  ZOrder		  -12
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  SID			  "1515"
		  Ports			  [2, 1]
		  Position		  [485, 420, 505, 455]
		  ZOrder		  -13
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  SID			  "1516"
		  Position		  [510, 94, 540, 126]
		  ZOrder		  -14
		  FontName		  "Arial"
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "cvt controller interface"
		  SID			  "1517"
		  Ports			  [3, 1]
		  Position		  [215, 209, 320, 271]
		  ZOrder		  -15
		  RequestExecContextInheritance	off
		  System {
		    Name		    "cvt controller interface"
		    Location		    [611, 560, 1067, 969]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "T_gb_out"
		    SID			    "1518"
		    Position		    [40, 45, 60, 65]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w_gb_out"
		    SID			    "1519"
		    Position		    [40, 105, 60, 125]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "eta_gb"
		    SID			    "1520"
		    Position		    [40, 170, 60, 190]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    SID			    "1521"
		    Position		    [185, 34, 290, 66]
		    ZOrder		    -4
		    BackgroundColor	    "lightBlue"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>"
		    SID			    "1522"
		    Position		    [95, 39, 165, 71]
		    ZOrder		    -5
		    BackgroundColor	    "lightBlue"
		    GotoTag		    "T_gb_out"
		    TagVisibility	    "global"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>1"
		    SID			    "1523"
		    Position		    [95, 99, 170, 131]
		    ZOrder		    -6
		    BackgroundColor	    "lightBlue"
		    GotoTag		    "w_gb_out"
		    TagVisibility	    "global"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>2"
		    SID			    "1524"
		    Position		    [95, 164, 170, 196]
		    ZOrder		    -7
		    BackgroundColor	    "lightBlue"
		    GotoTag		    "eta_gb"
		    TagVisibility	    "global"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear_ratio"
		    SID			    "1525"
		    Position		    [325, 40, 345, 60]
		    ZOrder		    -8
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "T_gb_out"
		    SrcPort		    1
		    DstBlock		    "Goto <vc>"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "w_gb_out"
		    SrcPort		    1
		    DstBlock		    "Goto <vc>1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "eta_gb"
		    SrcPort		    1
		    DstBlock		    "Goto <vc>2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    DstBlock		    "gear_ratio"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "effect of inertia\n(Nm)"
		  SID			  "1526"
		  Ports			  [1, 1]
		  Position		  [370, 152, 400, 188]
		  ZOrder		  -16
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [8, 279, 501, 652]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "gb input speed (rad/s)"
		    SID			    "1527"
		    Position		    [50, 25, 70, 45]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    SID			    "1528"
		    Position		    [195, 15, 300, 55]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Gain		    "gb_inertia"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Derivative
		    Name		    "d/dt"
		    SID			    "1529"
		    Position		    [125, 25, 155, 45]
		    ZOrder		    -3
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "drag torque\n(Nm)"
		    SID			    "1530"
		    Position		    [350, 25, 370, 45]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "drag torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "gb input speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "d/dt"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "d/dt"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Annotation {
		    SID			    "1531"
		    Name		    "The inertia torque is the input torque required to accelerate the\ngearbox's inertia as measured on t"
		    "he input side."
		    Position		    [212, 102, 490, 124]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  SID			  "1532"
		  Ports			  [1]
		  Position		  [205, 517, 300, 533]
		  ZOrder		  -17
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    288
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    289
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    290
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_in_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    291
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1532:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1532:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  SID			  "1533"
		  Ports			  [1]
		  Position		  [205, 477, 300, 493]
		  ZOrder		  -18
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    292
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    293
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    294
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_in_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    295
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1533:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1533:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  SID			  "1534"
		  Ports			  [1]
		  Position		  [180, 132, 260, 148]
		  ZOrder		  -19
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    296
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    297
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    298
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_out_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    299
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1534:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1534:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  SID			  "1535"
		  Ports			  [1]
		  Position		  [185, 161, 265, 179]
		  ZOrder		  -20
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    300
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    301
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    302
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_out_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    303
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1535:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1535:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  SID			  "1536"
		  Ports			  [1]
		  Position		  [635, 147, 730, 163]
		  ZOrder		  -21
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    304
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    305
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    306
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_in_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    307
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1536:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1536:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  SID			  "1537"
		  Ports			  [1]
		  Position		  [635, 102, 730, 118]
		  ZOrder		  -22
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    308
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    309
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    310
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_in_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    311
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1537:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1537:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  SID			  "1538"
		  Ports			  [1]
		  Position		  [522, 390, 618, 410]
		  ZOrder		  -23
		  BlockRotation		  270
		  BlockMirror		  on
		  NameLocation		  "left"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    312
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    313
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    314
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "ni_trq_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    315
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1538:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1538:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  SID			  "1539"
		  Ports			  [1]
		  Position		  [660, 352, 755, 368]
		  ZOrder		  -24
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    316
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    317
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    318
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    319
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1539:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1539:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace8"
		  SID			  "1540"
		  Ports			  [1]
		  Position		  [660, 387, 755, 403]
		  ZOrder		  -25
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    320
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    321
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    322
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    323
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1540:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1540:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearbox \nefficiency"
		  SID			  "1541"
		  Ports			  [1]
		  Position		  [640, 260, 670, 310]
		  ZOrder		  -26
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "gearbox \nefficiency"
		    Location		    [511, 140, 951, 538]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1542"
		    Position		    [25, 128, 55, 142]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "1543"
		    Position		    [90, 85, 110, 105]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Value		    "eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "1544"
		    Position		    [90, 35, 110, 55]
		    ZOrder		    -3
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "1545"
		    Ports		    [2, 1]
		    Position		    [205, 68, 225, 97]
		    ZOrder		    -4
		    FontName		    "Arial"
		    Inputs		    "*/"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "1546"
		    Position		    [270, 119, 300, 151]
		    ZOrder		    -5
		    FontName		    "Arial"
		    Threshold		    "1"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    SID			    "1547"
		    Ports		    [1]
		    Position		    [325, 127, 420, 143]
		    ZOrder		    -6
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    TreatAsAtomicUnit	    on
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    324
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    325
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    326
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "eta_gb"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    327
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1547:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1547:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "make division\nbombproof"
		    SID			    "1548"
		    Ports		    [2, 1]
		    Position		    [155, 70, 175, 105]
		    ZOrder		    -7
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [20, 0; 0, 40]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [75, 0]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "make division\nbombproof"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "In1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    5
		    Points		    [175, 0]
		    Branch {
		    ZOrder		    6
		    Points		    [0, 10]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Branch {
		    ZOrder		    7
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Branch {
		    ZOrder		    8
		    Points		    [0, -55]
		    DstBlock		    "make division\nbombproof"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "make division\nbombproof"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearing\n(Nm), (rad/s)"
		  SID			  "1549"
		  Ports			  [2, 2]
		  Position		  [285, 12, 320, 63]
		  ZOrder		  -27
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "gearing\n(Nm), (rad/s)"
		    Location		    [237, 308, 833, 681]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "output shaft\ntorque and speed\n (Nm), (rad/s)"
		    SID			    "1550"
		    Position		    [55, 25, 75, 45]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    SID			    "1551"
		    Position		    [55, 120, 75, 140]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    SID			    "1552"
		    Ports		    [1, 2]
		    Position		    [140, 16, 160, 49]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Outputs		    "2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    SID			    "1553"
		    Position		    [300, 69, 330, 91]
		    ZOrder		    -4
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    SID			    "1554"
		    Ports		    [2, 1]
		    Position		    [355, 21, 375, 39]
		    ZOrder		    -5
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    SID			    "1555"
		    Ports		    [2, 1]
		    Position		    [355, 116, 375, 134]
		    ZOrder		    -6
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "input shaft torque (Nm)"
		    SID			    "1556"
		    Position		    [455, 20, 475, 40]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "input shaft speed (rad/s)"
		    SID			    "1557"
		    Position		    [455, 115, 475, 135]
		    ZOrder		    -8
		    Port		    "2"
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "input shaft speed (rad/s)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "input shaft torque (Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    Points		    [0, -45]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "output shaft\ntorque and speed\n (Nm), (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [190, 0]
		    Branch {
		    ZOrder		    6
		    Points		    [0, -50]
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    7
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    Points		    [60, 0; 0, 80]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearing\n(Nm), (rad/s)1"
		  SID			  "1558"
		  Ports			  [3, 2]
		  Position		  [545, 428, 580, 502]
		  ZOrder		  -28
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "gearing\n(Nm), (rad/s)1"
		    Location		    [239, 306, 748, 670]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "input shaft torque (Nm)"
		    SID			    "1559"
		    Position		    [75, 15, 95, 35]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "input shaft speed (rad/s)"
		    SID			    "1560"
		    Position		    [75, 120, 95, 140]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    SID			    "1561"
		    Position		    [75, 70, 95, 90]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    SID			    "1562"
		    Position		    [175, 69, 205, 91]
		    ZOrder		    -4
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    SID			    "1563"
		    Ports		    [2, 1]
		    Position		    [275, 21, 295, 39]
		    ZOrder		    -5
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    SID			    "1564"
		    Ports		    [2, 1]
		    Position		    [275, 116, 295, 134]
		    ZOrder		    -6
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "output shaft torque (Nm)"
		    SID			    "1565"
		    Position		    [375, 20, 395, 40]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "output shaft speed (rad/s)"
		    SID			    "1566"
		    Position		    [375, 115, 395, 135]
		    ZOrder		    -8
		    Port		    "2"
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "input shaft speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "input shaft torque (Nm)"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "output shaft torque (Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "output shaft speed (rad/s)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [45, 0]
		    Branch {
		    ZOrder		    6
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    7
		    Points		    [0, -45]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    Points		    [25, 0; 0, 40]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help1"
		  SID			  "1567"
		  Ports			  []
		  Position		  [371, 514, 402, 557]
		  ZOrder		  -29
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('cvt.htm')]);"
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    328
		    $ClassName		    "Simulink.Mask"
		    Display		    "image(imread('doc_man.jpg'))"
		  }
		  System {
		    Name		    "help1"
		    Location		    [165, 211, 571, 596]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "loss\n(Nm)"
		  SID			  "1568"
		  Ports			  [2, 1]
		  Position		  [370, 79, 405, 121]
		  ZOrder		  -30
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "loss\n(Nm)"
		    Location		    [67, 136, 730, 612]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "output torque\nand speed\n(Nm), (rad/s)"
		    SID			    "1569"
		    Position		    [50, 65, 70, 85]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "pulley ratio"
		    SID			    "1570"
		    Position		    [50, 185, 70, 205]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Abs
		    Name		    "Abs2"
		    SID			    "1571"
		    Position		    [440, 110, 470, 140]
		    ZOrder		    -3
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux1"
		    SID			    "1572"
		    Ports		    [1, 2]
		    Position		    [115, 54, 135, 96]
		    ZOrder		    -4
		    FontName		    "Arial"
		    Outputs		    "2"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Input Torque:\n3-D interpolation"
		    SID			    "1573"
		    Ports		    [3, 1]
		    Position		    [195, 35, 240, 225]
		    ZOrder		    -5
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "Input Torque:\n3-D interpolation"
		    Location		    [13, 73, 967, 596]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "output\ntorque (N*m)"
		    SID			    "1574"
		    Position		    [145, 30, 165, 50]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "output\nspeed (rad/s)"
		    SID			    "1575"
		    Position		    [195, 65, 215, 85]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "pulley\nratio"
		    SID			    "1576"
		    Position		    [35, 210, 55, 230]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    SID			    "1577"
		    Position		    [485, 95, 505, 115]
		    ZOrder		    -4
		    FontName		    "Arial"
		    Value		    "eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant4"
		    SID			    "1578"
		    Position		    [725, 265, 745, 285]
		    ZOrder		    -5
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux2"
		    SID			    "1579"
		    Ports		    [1, 2]
		    Position		    [415, 159, 435, 201]
		    ZOrder		    -6
		    FontName		    "Arial"
		    Outputs		    "2"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up\nTable1"
		    SID			    "1580"
		    Position		    [265, 198, 295, 222]
		    ZOrder		    -7
		    InputValues		    "[1:max(size(gb_ratio))]"
		    Table		    "gb_ratio"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up\nTable2"
		    SID			    "1581"
		    Position		    [320, 218, 350, 242]
		    ZOrder		    -8
		    InputValues		    "[1:max(size(gb_ratio))]"
		    Table		    "gb_ratio"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    SID			    "1582"
		    Ports		    [4, 1]
		    Position		    [455, 162, 475, 238]
		    ZOrder		    -9
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    SID			    "1583"
		    Ports		    [3, 1]
		    Position		    [590, 167, 610, 233]
		    ZOrder		    -10
		    Inputs		    "3"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    SID			    "1584"
		    Ports		    [2, 1]
		    Position		    [325, 150, 345, 185]
		    ZOrder		    -11
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux4"
		    SID			    "1585"
		    Ports		    [2, 1]
		    Position		    [320, 15, 340, 50]
		    ZOrder		    -12
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux7"
		    SID			    "1586"
		    Ports		    [4, 1]
		    Position		    [265, 19, 285, 166]
		    ZOrder		    -13
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    SID			    "1587"
		    Ports		    [3, 1]
		    Position		    [370, 77, 390, 113]
		    ZOrder		    -14
		    FontName		    "Arial"
		    Inputs		    "3"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    SID			    "1588"
		    Ports		    [3, 1]
		    Position		    [710, 192, 730, 228]
		    ZOrder		    -15
		    FontName		    "Arial"
		    Inputs		    "*//"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    SID			    "1589"
		    Ports		    [2, 1]
		    Position		    [535, 72, 565, 103]
		    ZOrder		    -16
		    IconShape		    "rectangular"
		    Inputs		    "2"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    SID			    "1590"
		    Position		    [765, 204, 795, 236]
		    ZOrder		    -17
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "indices of nearest\npulley ratios for which\nthere exist maps"
		    SID			    "1591"
		    Ports		    [1, 2]
		    Position		    [90, 199, 230, 241]
		    ZOrder		    -18
		    RequestExecContextInheritance off
		    System {
		    Name		    "indices of nearest\npulley ratios for which\nthere exist maps"
		    Location		    [42, 175, 543, 562]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "1592"
		    Position		    [15, 60, 35, 80]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "1593"
		    Position		    [190, 5, 210, 25]
		    ZOrder		    -2
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up\nTable"
		    SID			    "1594"
		    Position		    [70, 58, 100, 82]
		    ZOrder		    -3
		    InputValues		    "fliplr(gb_ratio)"
		    Table		    "fliplr([1:max(size(gb_ratio))])"
		    }
		    Block {
		    BlockType		    Rounding
		    Name		    "Rounding\nFunction"
		    SID			    "1595"
		    Position		    [150, 55, 180, 85]
		    ZOrder		    -4
		    Operator		    "fix"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    SID			    "1596"
		    Position		    [290, 56, 320, 74]
		    ZOrder		    -5
		    UpperLimit		    "max(size(gb_ratio))"
		    LowerLimit		    "1"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    "1597"
		    Ports		    [2, 1]
		    Position		    [245, 55, 265, 75]
		    ZOrder		    -6
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "index of\nupper bounding\nmap"
		    SID			    "1598"
		    Position		    [355, 55, 375, 75]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "index of\nlower bounding\nmap"
		    SID			    "1599"
		    Position		    [355, 130, 375, 150]
		    ZOrder		    -8
		    Port		    "2"
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Look-Up\nTable"
		    SrcPort		    1
		    DstBlock		    "Rounding\nFunction"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Look-Up\nTable"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [5, 0; 0, 45]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Rounding\nFunction"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    ZOrder		    5
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    6
		    Points		    [0, 70]
		    DstBlock		    "index of\nlower bounding\nmap"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "index of\nupper bounding\nmap"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "linear eqn\nfor power"
		    SID			    "1600"
		    Position		    [640, 189, 670, 211]
		    ZOrder		    -19
		    Expr		    "u[5]*(u[6]-u[3])+u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "slope for\nlinear interp."
		    SID			    "1601"
		    Position		    [525, 189, 555, 211]
		    ZOrder		    -20
		    Expr		    "(u[1]-u[2])/(u[3]-u[4]+eps)"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "trq in \nlook-up"
		    SID			    "1602"
		    Ports		    [1, 1]
		    Position		    [315, 70, 345, 120]
		    ZOrder		    -21
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    329
		    $ClassName		    "Simulink.Mask"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    4
		    Object {
		    $ObjectID		    330
		    Type		    "edit"
		    Name		    "P1"
		    Prompt		    "Vector of output speeds"
		    Value		    "gb_map_spd_out*gb_spd_scale"
		    }
		    Object {
		    $ObjectID		    331
		    Type		    "edit"
		    Name		    "P2"
		    Prompt		    "Vector of input torques"
		    Value		    "gb_map_trq_in*gb_trq_scale"
		    }
		    Object {
		    $ObjectID		    332
		    Type		    "edit"
		    Name		    "P3"
		    Prompt		    "Table of output torques"
		    Value		    "gb_map_trq_out*gb_trq_scale"
		    }
		    Object {
		    $ObjectID		    333
		    Type		    "edit"
		    Name		    "P4"
		    Prompt		    "Vector of gear ratios"
		    Value		    "gb_ratio"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "trq in \nlook-up"
		    Location		    [93, 448, 363, 702]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1603"
		    Position		    [25, 33, 55, 47]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    S-Function
		    Name		    "S-Function5"
		    SID			    "1604"
		    Ports		    [1, 1]
		    Position		    [80, 28, 150, 52]
		    ZOrder		    -2
		    FunctionName	    "sfun_gb_loss"
		    Parameters		    "P1,P2,P3,P4"
		    SFunctionDeploymentMode off
		    EnableBusSupport	    off
		    SFcnIsStateOwnerBlock   off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    SID			    "1605"
		    Position		    [175, 33, 205, 47]
		    ZOrder		    -3
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "S-Function5"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function5"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "input\ntorque (Nm)"
		    SID			    "1606"
		    Position		    [835, 210, 855, 230]
		    ZOrder		    -22
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "pulley\nratio"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    ZOrder		    2
		    DstBlock		    "indices of nearest\npulley ratios for which\nthere exist maps"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    3
		    Points		    [0, 70; 505, 0]
		    Branch {
		    ZOrder		    4
		    DstBlock		    "Mux2"
		    DstPort		    3
		    }
		    Branch {
		    ZOrder		    5
		    Points		    [120, 0]
		    DstBlock		    "Product2"
		    DstPort		    3
		    }
		    }
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "indices of nearest\npulley ratios for which\nthere exist maps"
		    SrcPort		    1
		    Points		    [5, 0; 0, 0]
		    Branch {
		    ZOrder		    7
		    DstBlock		    "Look-Up\nTable1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    8
		    Points		    [0, -100]
		    DstBlock		    "Mux7"
		    DstPort		    3
		    }
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "indices of nearest\npulley ratios for which\nthere exist maps"
		    SrcPort		    2
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    10
		    DstBlock		    "Look-Up\nTable2"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    11
		    DstBlock		    "Mux7"
		    DstPort		    4
		    }
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "Mux7"
		    SrcPort		    1
		    DstBlock		    "trq in \nlook-up"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    13
		    SrcBlock		    "slope for\nlinear interp."
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "linear eqn\nfor power"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    ZOrder		    16
		    Points		    [0, -20]
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    17
		    DstBlock		    "slope for\nlinear interp."
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    18
		    SrcBlock		    "Demux2"
		    SrcPort		    2
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    19
		    SrcBlock		    "output\ntorque (N*m)"
		    SrcPort		    1
		    DstBlock		    "Mux7"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    20
		    SrcBlock		    "Demux2"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    21
		    SrcBlock		    "Look-Up\nTable1"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    ZOrder		    22
		    DstBlock		    "Mux1"
		    DstPort		    3
		    }
		    Branch {
		    ZOrder		    23
		    Points		    [0, -50]
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    24
		    SrcBlock		    "Look-Up\nTable2"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    ZOrder		    25
		    DstBlock		    "Mux1"
		    DstPort		    4
		    }
		    Branch {
		    ZOrder		    26
		    Points		    [0, -30; -50, 0]
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    27
		    SrcBlock		    "output\nspeed (rad/s)"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    28
		    DstBlock		    "Mux7"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    29
		    Points		    [0, -65; 65, 0]
		    Branch {
		    ZOrder		    30
		    Points		    [0, 15]
		    Branch {
		    ZOrder		    31
		    DstBlock		    "Mux4"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    32
		    Points		    [0, 15]
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    }
		    Branch {
		    ZOrder		    33
		    Points		    [220, 0]
		    Branch {
		    ZOrder		    34
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    35
		    Points		    [230, 0]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    }
		    }
		    }
		    Line {
		    ZOrder		    36
		    SrcBlock		    "trq in \nlook-up"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    37
		    SrcBlock		    "Mux4"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    38
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Product1"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    39
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Demux2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    40
		    SrcBlock		    "linear eqn\nfor power"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    41
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    Points		    [125, 0]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    42
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    43
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "input\ntorque (Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    44
		    SrcBlock		    "Constant4"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    45
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    SID			    "1607"
		    Ports		    [2, 1]
		    Position		    [290, 21, 320, 54]
		    ZOrder		    -6
		    Inputs		    "*/"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    SID			    "1608"
		    Ports		    [2, 1]
		    Position		    [375, 107, 405, 138]
		    ZOrder		    -7
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "loss torque at\ninput shaft (Nm)"
		    SID			    "1609"
		    Position		    [525, 115, 545, 135]
		    ZOrder		    -8
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Demux1"
		    SrcPort		    2
		    Points		    [40, 0]
		    DstBlock		    "Input Torque:\n3-D interpolation"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "output torque\nand speed\n(Nm), (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Demux1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "pulley ratio"
		    SrcPort		    1
		    Points		    [75, 0]
		    Branch {
		    ZOrder		    4
		    DstBlock		    "Input Torque:\n3-D interpolation"
		    DstPort		    3
		    }
		    Branch {
		    ZOrder		    5
		    Points		    [0, 65; 125, 0]
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Demux1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    7
		    DstBlock		    "Input Torque:\n3-D interpolation"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    8
		    Points		    [0, -35]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    Points		    [15, 0; 0, 75]
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "Abs2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "Abs2"
		    SrcPort		    1
		    DstBlock		    "loss torque at\ninput shaft (Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "Input Torque:\n3-D interpolation"
		    SrcPort		    1
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed req'd\nat input side of cvt\n(Nm), (rad/s)"
		  SID			  "1610"
		  Position		  [755, 35, 775, 55]
		  ZOrder		  -31
		  FontName		  "Arial"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed avail.\nat output side of cvt\n(Nm), (rad/s)"
		  SID			  "1611"
		  Position		  [760, 460, 780, 480]
		  ZOrder		  -32
		  FontName		  "Arial"
		  Port			  "2"
		  InitialOutput		  "0"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "Pout/Pin,\nneglecting inertia"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    ZOrder		    2
		    DstBlock		    "gearbox \nefficiency"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    3
		    Points		    [0, 55; -185, 0]
		    Branch {
		    ZOrder		    4
		    Points		    [0, 85; -25, 0]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    5
		    DstBlock		    "IC"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  6
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    ZOrder		    7
		    Points		    [0, 135; -25, 0]
		    DstBlock		    "Pout/Pin,\nneglecting inertia"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    8
		    Points		    [0, -75]
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    9
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  11
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "torque and speed avail.\nat output side of cvt\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  12
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "gearing\n(Nm), (rad/s)1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  13
		  SrcBlock		  "torque and speed avail.\nat input side of cvt\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  14
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "torque and speed req'd\nat input side of cvt\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  15
		  SrcBlock		  "gearing\n(Nm), (rad/s)"
		  SrcPort		  1
		  Points		  [105, 0; 0, 50]
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  16
		  SrcBlock		  "gearing\n(Nm), (rad/s)"
		  SrcPort		  2
		  Points		  [20, 0]
		  Branch {
		    ZOrder		    17
		    Points		    [140, 0]
		    Branch {
		    ZOrder		    18
		    Points		    [0, 60]
		    DstBlock		    "Switch2"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    19
		    Points		    [95, 0]
		    Branch {
		    ZOrder		    20
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    21
		    Points		    [0, 105]
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		    }
		    }
		  }
		  Branch {
		    ZOrder		    22
		    Points		    [0, 120]
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  23
		  SrcBlock		  "effect of inertia\n(Nm)"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    ZOrder		    24
		    Points		    [0, 0]
		    Branch {
		    ZOrder		    25
		    Points		    [60, 0; 0, -50]
		    DstBlock		    "Switch2"
		    DstPort		    3
		    }
		    Branch {
		    ZOrder		    26
		    Points		    [0, -45]
		    DstBlock		    "Sum2"
		    DstPort		    3
		    }
		  }
		  Branch {
		    ZOrder		    27
		    Points		    [0, 105]
		    Branch {
		    ZOrder		    28
		    Points		    [0, 155]
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    29
		    DstBlock		    "Pout/Pin,\nneglecting inertia"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  ZOrder		  30
		  SrcBlock		  "torque and speed req'd\nat output side of cvt\n(Nm), (rad/s)"
		  SrcPort		  1
		  Points		  [45, 0]
		  Branch {
		    ZOrder		    31
		    DstBlock		    "gearing\n(Nm), (rad/s)"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    32
		    Points		    [0, 65]
		    Branch {
		    ZOrder		    33
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    34
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  35
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [10, 0]
		  Branch {
		    ZOrder		    36
		    DstBlock		    "cvt controller interface"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    37
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  38
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    ZOrder		    39
		    Points		    [30, 0]
		    Branch {
		    ZOrder		    40
		    DstBlock		    "cvt controller interface"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    41
		    Points		    [0, 70]
		    DstBlock		    "Pout/Pin,\nneglecting inertia"
		    DstPort		    3
		    }
		  }
		  Branch {
		    ZOrder		    42
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  43
		  SrcBlock		  "gearing\n(Nm), (rad/s)1"
		  SrcPort		  2
		  Points		  [50, 0]
		  Branch {
		    ZOrder		    44
		    Points		    [0, 0]
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    45
		    Points		    [0, -90]
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  46
		  SrcBlock		  "gearing\n(Nm), (rad/s)1"
		  SrcPort		  1
		  Points		  [40, 0]
		  Branch {
		    ZOrder		    47
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    48
		    Points		    [0, -90]
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  49
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    ZOrder		    50
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    51
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  52
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [15, 0]
		  Branch {
		    ZOrder		    53
		    DstBlock		    "gearing\n(Nm), (rad/s)1"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    54
		    Points		    [0, 60]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  55
		  SrcBlock		  "loss\n(Nm)"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  ZOrder		  56
		  SrcBlock		  "cvt controller interface"
		  SrcPort		  1
		  Points		  [55, 0]
		  Branch {
		    ZOrder		    57
		    Points		    [0, -40; -110, 0; 0, -90]
		    Branch {
		    ZOrder		    58
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    59
		    DstBlock		    "gearing\n(Nm), (rad/s)"
		    DstPort		    2
		    }
		  }
		  Branch {
		    ZOrder		    60
		    Points		    [0, 65; 135, 0]
		    Branch {
		    ZOrder		    61
		    DstBlock		    "Pout/Pin,\nneglecting inertia"
		    DstPort		    4
		    }
		    Branch {
		    ZOrder		    62
		    Points		    [0, 50]
		    Branch {
		    ZOrder		    63
		    Points		    [0, 135]
		    DstBlock		    "gearing\n(Nm), (rad/s)1"
		    DstPort		    3
		    }
		    Branch {
		    ZOrder		    64
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    }
		  }
		}
		Line {
		  ZOrder		  65
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "enhancedToWorkspace6"
		  DstPort		  1
		}
		Line {
		  ZOrder		  66
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    ZOrder		    67
		    DstBlock		    "Sum3"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    68
		    Points		    [0, -80]
		    DstBlock		    "Product1"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  69
		  SrcBlock		  "IC"
		  SrcPort		  1
		  Points		  [-115, 0]
		  DstBlock		  "cvt controller interface"
		  DstPort		  3
		}
		Annotation {
		  SID			  "1612"
		  Name			  "delay/memory for\nthis signal will be\nhandled elsewhere"
		  Position		  [248, 364, 333, 396]
		  InternalMargins	  [0, 0, 0, 0]
		  ZOrder		  -1
		}
	      }
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux2"
	      SID		      "1613"
	      Ports		      [1, 1]
	      Position		      [150, 383, 165, 547]
	      ZOrder		      -6
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "1"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>2"
	      SID		      "1614"
	      Position		      [565, 410, 665, 430]
	      ZOrder		      -7
	      BackgroundColor	      "lightBlue"
	      NameLocation	      "top"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_gb_out"
	      Port {
		PortNumber		1
		Name			"T_gb_out"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>3"
	      SID		      "1615"
	      Position		      [565, 460, 665, 480]
	      ZOrder		      -8
	      BackgroundColor	      "lightBlue"
	      NameLocation	      "top"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_gb_out"
	      Port {
		PortNumber		1
		Name			"w_gb_out"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>4"
	      SID		      "1616"
	      Position		      [565, 510, 665, 530]
	      ZOrder		      -9
	      BackgroundColor	      "lightBlue"
	      NameLocation	      "top"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "eta_gb"
	      Port {
		PortNumber		1
		Name			"eta_gb"
	      }
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      SID		      "1617"
	      Position		      [335, 452, 424, 480]
	      ZOrder		      -10
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      SID		      "1618"
	      Position		      [470, 407, 559, 435]
	      ZOrder		      -11
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "T_gb_out"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility5"
	      SID		      "1619"
	      Position		      [470, 457, 559, 485]
	      ZOrder		      -12
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "w_gb_out"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility6"
	      SID		      "1620"
	      Position		      [470, 507, 559, 535]
	      ZOrder		      -13
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "eta_gb"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      SID		      "1621"
	      Position		      [225, 454, 325, 476]
	      ZOrder		      -14
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      SID		      "1622"
	      Ports		      [1, 1]
	      Position		      [435, 186, 490, 214]
	      ZOrder		      -15
	      NameLocation	      "top"
	      RequestExecContextInheritance off
	      System {
		Name			"signal\nannotator"
		Location		[164, 44, 968, 889]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  SID			  "1623"
		  Position		  [110, 103, 140, 117]
		  ZOrder		  -1
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  "1624"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  ZOrder		  -2
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  Port {
		    PortNumber		    1
		    Name		    "gb_trq_out_r"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "gb_spd_out_r"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  "1625"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ZOrder		  -3
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  SID			  "1626"
		  Position		  [430, 103, 460, 117]
		  ZOrder		  -4
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "gb_trq_out_r"
		  ZOrder		  2
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "gb_spd_out_r"
		  ZOrder		  3
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "requested\noutput"
	      SID		      "1627"
	      Position		      [520, 193, 550, 207]
	      ZOrder		      -16
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\ninput\nrequest"
	      SID		      "1628"
	      Position		      [575, 258, 605, 272]
	      ZOrder		      -17
	      NameLocation	      "top"
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\noutput\nachieved"
	      SID		      "1629"
	      Position		      [575, 288, 605, 302]
	      ZOrder		      -18
	      Port		      "3"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      SID		      "1630"
	      Position		      [825, 463, 855, 477]
	      ZOrder		      -19
	      Port		      "4"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "controls"
	      SrcPort		      1
	      DstBlock		      "Demux2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      3
	      SrcBlock		      "Demux2"
	      SrcPort		      1
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "trq and spd\noutput\nrequest"
	      SrcPort		      1
	      Points		      [0, 0; 55, 0]
	      Branch {
		ZOrder			5
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	      Branch {
		ZOrder			6
		DstBlock		"CVT gearbox \n<gb>"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      "CVT gearbox \n<gb>"
	      SrcPort		      1
	      DstBlock		      "trq and spd\ninput\nrequest"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "trq and spd\ninput\nachieved"
	      SrcPort		      1
	      DstBlock		      "CVT gearbox \n<gb>"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      9
	      SrcBlock		      "CVT gearbox \n<gb>"
	      SrcPort		      2
	      DstBlock		      "trq and spd\noutput\nachieved"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      10
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "requested\noutput"
	      DstPort		      1
	    }
	    Line {
	      Name		      "T_gb_out"
	      ZOrder		      11
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>2"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      Name		      "w_gb_out"
	      ZOrder		      12
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>3"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "eta_gb"
	      ZOrder		      13
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>4"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Annotation {
	      SID		      "1631"
	      Name		      "Model"
	      Position		      [467, 135, 533, 163]
	      InternalMargins	      [0, 0, 0, 0]
	      BackgroundColor	      "yellow"
	      ZOrder		      -1
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      SID		      "1632"
	      Name		      "Interface"
	      Position		      [467, 370, 560, 398]
	      InternalMargins	      [0, 0, 0, 0]
	      BackgroundColor	      "yellow"
	      ZOrder		      -2
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  SID			  "1633"
	  Position		  [85, 291, 195, 329]
	  ZOrder		  -5
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "help"
	  SID			  "1634"
	  Ports			  []
	  Position		  [64, 39, 97, 82]
	  ZOrder		  -6
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowName		  off
	  OpenFcn		  "web(['file:\\\\\\' which('gearbox.htm')]);"
	  RequestExecContextInheritance	off
	  Object {
	    $PropName		    "MaskObject"
	    $ObjectID		    334
	    $ClassName		    "Simulink.Mask"
	    Display		    "image(imread('doc_man.jpg'))"
	  }
	  System {
	    Name		    "help"
	    Location		    [165, 211, 571, 596]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  SID			  "1635"
	  Position		  [330, 94, 430, 136]
	  ZOrder		  -7
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  SID			  "1636"
	  Position		  [360, 289, 460, 331]
	  ZOrder		  -8
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nat input side of gearbox\n(Nm), (rad/s)"
	  SID			  "1637"
	  Position		  [400, 200, 420, 220]
	  ZOrder		  -9
	  NameLocation		  "top"
	  FontName		  "Arial"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed avail.\nat output side of gearbox\n(Nm), (rad/s)"
	  SID			  "1638"
	  Position		  [400, 220, 420, 240]
	  ZOrder		  -10
	  FontName		  "Arial"
	  Port			  "2"
	  InitialOutput		  "0"
	}
	Line {
	  ZOrder		  1
	  SrcBlock		  "CVT model & interface"
	  SrcPort		  1
	  Points		  [0, -75]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  ZOrder		  2
	  SrcBlock		  "CVT model & interface"
	  SrcPort		  2
	  DstBlock		  "torque and speed req'd\nat input side of gearbox\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  ZOrder		  3
	  SrcBlock		  "torque and speed req'd\nat output side of gearbox\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "CVT model & interface"
	  DstPort		  1
	}
	Line {
	  ZOrder		  4
	  SrcBlock		  "torque and speed avail.\nat input side of gearbox\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "CVT model & interface"
	  DstPort		  2
	}
	Line {
	  ZOrder		  5
	  SrcBlock		  "CVT model & interface"
	  SrcPort		  3
	  DstBlock		  "torque and speed avail.\nat output side of gearbox\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  ZOrder		  6
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [5, 0; 0, -65]
	  DstBlock		  "CVT model & interface"
	  DstPort		  3
	}
	Line {
	  ZOrder		  7
	  SrcBlock		  "CVT model & interface"
	  SrcPort		  4
	  Points		  [45, 0]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Annotation {
	  SID			  "1639"
	  Name			  "Gearbox"
	  Position		  [282, 55, 356, 78]
	  InternalMargins	  [0, 0, 0, 0]
	  BackgroundColor	  "yellow"
	  ZOrder		  -1
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "gearbox <gb>\nold"
      SID		      "1640"
      Ports		      [2, 2]
      Position		      [245, 443, 310, 487]
      ZOrder		      -9
      BackgroundColor	      "yellow"
      ShowPortLabels	      "none"
      RequestExecContextInheritance off
      Object {
	$PropName		"MaskObject"
	$ObjectID		335
	$ClassName		"Simulink.Mask"
	Type			"Stand-Alone Gearbox Mask"
	Initialization		"% initialization via m-file script\nadvSACompMaskInit;"
	Display			"image(imread(imgFileName))"
	Array {
	  Type			  "Simulink.MaskParameter"
	  Dimension		  6
	  Object {
	    $ObjectID		    336
	    Type		    "edit"
	    Name		    "generalName"
	    Prompt		    "General Name of this Component [char]"
	    Value		    "'gb'"
	  }
	  Object {
	    $ObjectID		    337
	    Type		    "popup"
	    Array {
	      Type		      "Cell"
	      Dimension		      2
	      Cell		      "Don't Log"
	      Cell		      "Log"
	      PropName		      "TypeOptions"
	    }
	    Name		    "logPick"
	    Prompt		    "Log Variables to Workspace?"
	    Value		    "Log"
	  }
	  Object {
	    $ObjectID		    338
	    Type		    "edit"
	    Name		    "initFileName"
	    Prompt		    "Initialization File(s) [cell array of char]"
	    Value		    "{}"
	  }
	  Object {
	    $ObjectID		    339
	    Type		    "edit"
	    Name		    "modCell"
	    Prompt		    "Modification Cell [2 column cell array of param and val]"
	    Value		    "{}"
	  }
	  Object {
	    $ObjectID		    340
	    Type		    "edit"
	    Name		    "imgFileName"
	    Prompt		    "Icon image file name [char--evaluated]"
	    Value		    "'bdi_gb.jpg'"
	  }
	  Object {
	    $ObjectID		    341
	    Type		    "popup"
	    Array {
	      Type		      "Cell"
	      Dimension		      2
	      Cell		      "ON"
	      Cell		      "OFF"
	      PropName		      "TypeOptions"
	    }
	    Name		    "DEBUG"
	    Prompt		    "DEBUG"
	    Value		    "OFF"
	    Evaluate		    "off"
	  }
	  PropName		  "Parameters"
	}
      }
      System {
	Name			"gearbox <gb>\nold"
	Location		[160, 44, 968, 889]
	Open			off
	PortBlocksUseCompactNotation off
	SetExecutionDomain	off
	ExecutionDomainType	"Deduce"
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	SimulinkSubDomain	"Simulink"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed req'd\nat output side of gearbox\n(Nm), (rad/s)"
	  SID			  "1641"
	  Position		  [125, 185, 145, 205]
	  ZOrder		  -1
	  NameLocation		  "top"
	  FontName		  "Arial"
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nat input side of gearbox\n(Nm), (rad/s)"
	  SID			  "1642"
	  Position		  [125, 210, 145, 230]
	  ZOrder		  -2
	  FontName		  "Arial"
	  Port			  "2"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Block NOTES"
	  SID			  "1643"
	  Ports			  []
	  Position		  [60, 95, 116, 135]
	  ZOrder		  -3
	  BackgroundColor	  "green"
	  ShowName		  off
	  RequestExecContextInheritance	off
	  Object {
	    $PropName		    "MaskObject"
	    $ObjectID		    342
	    $ClassName		    "Simulink.Mask"
	    Display		    "disp('Block\\nNOTES')"
	  }
	  System {
	    Name		    "Block NOTES"
	    Location		    [326, 287, 868, 647]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Annotation {
	      SID		      "1644"
	      Name		      "This gearbox model includes loss data, rotational inertia, and a gear reduction."
	      Position		      [247, 17, 595, 29]
	      InternalMargins	      [0, 0, 0, 0]
	      VerticalAlignment	      "top"
	      ZOrder		      -1
	    }
	    Annotation {
	      SID		      "1645"
	      Name		      "The loss torque is zero when the gears are not turning,\nand is applied at the input side of the g"
	      "ear reduction."
	      Position		      [252, 37, 495, 59]
	      InternalMargins	      [0, 0, 0, 0]
	      VerticalAlignment	      "top"
	      ZOrder		      -2
	    }
	    Annotation {
	      SID		      "1646"
	      Name		      "The inertia torque is the input torque required to accelerate the\nfinal drive's inertia as measur"
	      "ed on the input side."
	      Position		      [252, 72, 530, 94]
	      InternalMargins	      [0, 0, 0, 0]
	      VerticalAlignment	      "top"
	      ZOrder		      -3
	    }
	    Annotation {
	      SID		      "1647"
	      Name		      "Available output torque is estimated assuming that the gearbox efficiency for theavailable input\n"
	      "torque andspeed is the same as the gearbox efficiency for the REQUESTED input torque."
	      Position		      [252, 107, 671, 129]
	      InternalMargins	      [0, 0, 0, 0]
	      VerticalAlignment	      "top"
	      ZOrder		      -4
	    }
	    Annotation {
	      SID		      "1648"
	      Name		      "This is a good assumption, at least for the VW 4-speed manual transaxle of SAE 820741. \nIn the VW"
	      " transaxle, efficiency is fairly independent of torque and speed at high torques."
	      Position		      [252, 142, 650, 164]
	      InternalMargins	      [0, 0, 0, 0]
	      VerticalAlignment	      "top"
	      ZOrder		      -5
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  SID			  "1649"
	  Position		  [85, 291, 195, 329]
	  ZOrder		  -4
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "gearbox model & interface"
	  SID			  "1650"
	  Ports			  [3, 4]
	  Position		  [250, 183, 300, 257]
	  ZOrder		  -5
	  ShowPortLabels	  "none"
	  RequestExecContextInheritance	off
	  System {
	    Name		    "gearbox model & interface"
	    Location		    [160, 44, 968, 889]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "94"
	    SimulinkSubDomain	    "Simulink"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\noutput\nrequest"
	      SID		      "1651"
	      Position		      [285, 148, 315, 162]
	      ZOrder		      -1
	      NameLocation	      "top"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\ninput\nachieved"
	      SID		      "1652"
	      Position		      [285, 178, 315, 192]
	      ZOrder		      -2
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "controls"
	      SID		      "1653"
	      Position		      [40, 348, 70, 362]
	      ZOrder		      -3
	      Port		      "3"
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      SID		      "1654"
	      Ports		      [5, 1]
	      Position		      [740, 284, 750, 466]
	      ZOrder		      -4
	      ShowName		      off
	      Inputs		      "5"
	      DisplayOption	      "bar"
	      InheritFromInputs	      on
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux2"
	      SID		      "1655"
	      Ports		      [1, 3]
	      Position		      [105, 273, 120, 437]
	      ZOrder		      -5
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "3"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>1"
	      SID		      "1656"
	      Position		      [520, 295, 620, 315]
	      ZOrder		      -6
	      BackgroundColor	      "lightBlue"
	      NameLocation	      "top"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gb_spd_in_a"
	      Port {
		PortNumber		1
		Name			"gb_spd_in_a"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>2"
	      SID		      "1657"
	      Position		      [520, 330, 620, 350]
	      ZOrder		      -7
	      BackgroundColor	      "lightBlue"
	      NameLocation	      "top"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_gb_out"
	      Port {
		PortNumber		1
		Name			"T_gb_out"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>3"
	      SID		      "1658"
	      Position		      [520, 365, 620, 385]
	      ZOrder		      -8
	      BackgroundColor	      "lightBlue"
	      NameLocation	      "top"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_gb_out"
	      Port {
		PortNumber		1
		Name			"w_gb_out"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>4"
	      SID		      "1659"
	      Position		      [520, 400, 620, 420]
	      ZOrder		      -9
	      BackgroundColor	      "lightBlue"
	      NameLocation	      "top"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "eta_gb"
	      Port {
		PortNumber		1
		Name			"eta_gb"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>5"
	      SID		      "1660"
	      Position		      [520, 435, 620, 455]
	      ZOrder		      -10
	      BackgroundColor	      "lightBlue"
	      NameLocation	      "top"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gb_trq_out_a"
	      Port {
		PortNumber		1
		Name			"gb_trq_out_a"
	      }
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      SID		      "1661"
	      Position		      [290, 397, 379, 425]
	      ZOrder		      -11
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_number"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      SID		      "1662"
	      Position		      [425, 292, 514, 320]
	      ZOrder		      -12
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gb_spd_in_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      SID		      "1663"
	      Position		      [290, 287, 379, 315]
	      ZOrder		      -13
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility3"
	      SID		      "1664"
	      Position		      [290, 342, 379, 370]
	      ZOrder		      -14
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      SID		      "1665"
	      Position		      [425, 327, 514, 355]
	      ZOrder		      -15
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "T_gb_out"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility5"
	      SID		      "1666"
	      Position		      [425, 362, 514, 390]
	      ZOrder		      -16
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "w_gb_out"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility6"
	      SID		      "1667"
	      Position		      [425, 397, 514, 425]
	      ZOrder		      -17
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "eta_gb"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility7"
	      SID		      "1668"
	      Position		      [425, 432, 514, 460]
	      ZOrder		      -18
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gb_trq_out_a"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      SID		      "1669"
	      Position		      [180, 399, 280, 421]
	      ZOrder		      -19
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_number"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      SID		      "1670"
	      Position		      [180, 289, 280, 311]
	      ZOrder		      -20
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto3"
	      SID		      "1671"
	      Position		      [180, 344, 280, 366]
	      ZOrder		      -21
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "gearbox\nmodel"
	      SID		      "1672"
	      Ports		      [2, 2]
	      Position		      [400, 140, 440, 200]
	      ZOrder		      -22
	      ShowPortLabels	      "none"
	      RequestExecContextInheritance off
	      System {
		Name			"gearbox\nmodel"
		Location		[160, 44, 968, 889]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"94"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed req'd\nat output side of gearbox\n(Nm), (rad/s)"
		  SID			  "1673"
		  Position		  [25, 25, 45, 45]
		  ZOrder		  -1
		  FontName		  "Arial"
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed avail.\nat input side of gearbox\n(Nm), (rad/s)"
		  SID			  "1674"
		  Position		  [30, 460, 50, 480]
		  ZOrder		  -2
		  FontName		  "Arial"
		  Port			  "2"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  SID			  "1675"
		  Ports			  []
		  Position		  [730, 565, 786, 605]
		  ZOrder		  -3
		  BackgroundColor	  "green"
		  ShowName		  off
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    343
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		  }
		  System {
		    Name		    "Block NOTES"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "1676"
		    Name		    "This gearbox model includes loss data, rotational inertia, and a gear reduction."
		    Position		    [247, 17, 595, 29]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		    Annotation {
		    SID			    "1677"
		    Name		    "The loss torque is zero when the gears are not turning,\nand is applied at the input side of the gear"
		    " reduction."
		    Position		    [252, 37, 495, 59]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -2
		    }
		    Annotation {
		    SID			    "1678"
		    Name		    "The inertia torque is the input torque required to accelerate the\nfinal drive's inertia as measured "
		    "on the input side."
		    Position		    [252, 72, 530, 94]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -3
		    }
		    Annotation {
		    SID			    "1679"
		    Name		    "Available output torque is estimated assuming that the gearbox efficiency for theavailable input\ntor"
		    "que andspeed is the same as the gearbox efficiency for the REQUESTED input torque."
		    Position		    [252, 107, 671, 129]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -4
		    }
		    Annotation {
		    SID			    "1680"
		    Name		    "This is a good assumption, at least for the VW 4-speed manual transaxle of SAE 820741. \nIn the VW tr"
		    "ansaxle, efficiency is fairly independent of torque and speed at high torques."
		    Position		    [252, 142, 650, 164]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -5
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  SID			  "1681"
		  Position		  [510, 150, 530, 170]
		  ZOrder		  -4
		  BlockMirror		  on
		  Value			  "0"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  "1682"
		  Ports			  [1, 2]
		  Position		  [110, 219, 130, 261]
		  ZOrder		  -5
		  FontName		  "Arial"
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  SID			  "1683"
		  Ports			  [1, 2]
		  Position		  [115, 451, 135, 484]
		  ZOrder		  -6
		  FontName		  "Arial"
		  Outputs		  "2"
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc>"
		  SID			  "1684"
		  Position		  [105, 111, 190, 129]
		  ZOrder		  -7
		  BackgroundColor	  "lightBlue"
		  NameLocation		  "top"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "gear_number"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  SID			  "1685"
		  Position		  [290, 489, 385, 521]
		  ZOrder		  -8
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_spd_in_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto4"
		  SID			  "1686"
		  Position		  [645, 403, 730, 427]
		  ZOrder		  -9
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_trq_out_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  SID			  "1687"
		  Ports			  [1, 1]
		  Position		  [425, 174, 455, 206]
		  ZOrder		  -10
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  "1688"
		  Ports			  [2, 1]
		  Position		  [660, 36, 680, 69]
		  ZOrder		  -11
		  FontName		  "Arial"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  SID			  "1689"
		  Ports			  [2, 1]
		  Position		  [640, 443, 660, 512]
		  ZOrder		  -12
		  FontName		  "Arial"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Pout/Pin neglecting inertia"
		  SID			  "1690"
		  Ports			  [4, 1]
		  Position		  [515, 266, 545, 319]
		  ZOrder		  -13
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "Pout/Pin neglecting inertia"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "Tin"
		    SID			    "1691"
		    Position		    [25, 85, 45, 105]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Tinertia"
		    SID			    "1692"
		    Position		    [25, 140, 45, 160]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Tout"
		    SID			    "1693"
		    Position		    [25, 5, 45, 25]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    SID			    "1694"
		    Position		    [25, 40, 45, 60]
		    ZOrder		    -4
		    Port		    "4"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "1695"
		    Position		    [320, 225, 340, 245]
		    ZOrder		    -5
		    BlockRotation	    270
		    NameLocation	    "right"
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Pout/Pin\n(neglecting\ninertia)"
		    SID			    "1696"
		    Ports		    [2, 1]
		    Position		    [295, 89, 320, 116]
		    ZOrder		    -6
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    344
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('/')"
		    }
		    System {
		    Name		    "Pout/Pin\n(neglecting\ninertia)"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    SID			    "1697"
		    Position		    [30, 50, 50, 70]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    SID			    "1698"
		    Position		    [10, 80, 30, 100]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn"
		    SID			    "1699"
		    Position		    [60, 79, 90, 101]
		    ZOrder		    -3
		    FontName		    "Arial"
		    FontSize		    8
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "1700"
		    Ports		    [2, 1]
		    Position		    [130, 56, 150, 74]
		    ZOrder		    -4
		    FontName		    "Arial"
		    FontSize		    8
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    SID			    "1701"
		    Position		    [180, 55, 200, 75]
		    ZOrder		    -5
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "Fcn"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Fcn"
		    SrcPort		    1
		    Points		    [15, 0; 0, -20]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "1702"
		    Ports		    [2, 1]
		    Position		    [215, 101, 235, 119]
		    ZOrder		    -7
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "1703"
		    Ports		    [2, 1]
		    Position		    [285, 158, 315, 182]
		    ZOrder		    -8
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    SID			    "1704"
		    Position		    [425, 135, 455, 165]
		    ZOrder		    -9
		    UpperLimit		    "inf"
		    LowerLimit		    "0"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "1705"
		    Position		    [365, 134, 395, 166]
		    ZOrder		    -10
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Tin-Tinertia"
		    SID			    "1706"
		    Ports		    [2, 1]
		    Position		    [75, 85, 95, 120]
		    ZOrder		    -11
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "make division\nbombproof"
		    SID			    "1707"
		    Ports		    [1, 1]
		    Position		    [145, 83, 175, 137]
		    ZOrder		    -12
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "make division\nbombproof"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "Tin-Tinertia"
		    SID			    "1708"
		    Position		    [55, 168, 85, 182]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    SID			    "1709"
		    Ports		    []
		    Position		    [325, 275, 381, 315]
		    ZOrder		    -2
		    BackgroundColor	    "green"
		    ShowName		    off
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    345
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		    }
		    System {
		    Name		    "Block NOTES"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "1710"
		    Name		    "this block added 10 July 2001 by mpo:\noriginally a -eps was added to the denominator by default. \nH"
		    "owever, cases were ecountered where Tin-Tineratia was equal to -eps causing\nthe denominator to be zero. This ad"
		    "ded checking is more rhobust"
		    Position		    [250, 64, 605, 106]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -1
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "1711"
		    Position		    [190, 265, 210, 285]
		    ZOrder		    -3
		    BlockRotation	    270
		    NameLocation	    "right"
		    FontName		    "Arial"
		    Value		    "eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "1712"
		    Position		    [105, 265, 125, 285]
		    ZOrder		    -4
		    BlockRotation	    270
		    NameLocation	    "right"
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "1713"
		    Ports		    [2, 1]
		    Position		    [235, 217, 245, 248]
		    ZOrder		    -5
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    SID			    "1714"
		    Ports		    [2, 1]
		    Position		    [145, 213, 175, 237]
		    ZOrder		    -6
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "make division\nbombproof"
		    SID			    "1715"
		    Ports		    [2, 1]
		    Position		    [315, 165, 335, 200]
		    ZOrder		    -7
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    SID			    "1716"
		    Position		    [385, 178, 415, 192]
		    ZOrder		    -8
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "make division\nbombproof"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -20]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [15, 0; 0, -45]
		    DstBlock		    "make division\nbombproof"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [0, -30]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Tin-Tinertia"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    ZOrder		    7
		    Points		    [0, 45]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    8
		    DstBlock		    "make division\nbombproof"
		    DstPort		    1
		    }
		    }
		    Annotation {
		    SID			    "1717"
		    Name		    "only add eps if Tin-Tinertia is == 0 (this avoids problems when Tin-Tineratia == -eps \nwhich happens"
		    " from time to time"
		    Position		    [332, 112, 704, 134]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Pout/Pin"
		    SID			    "1718"
		    Position		    [490, 140, 510, 160]
		    ZOrder		    -13
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [0, -5]
		    Branch {
		    ZOrder		    2
		    Points		    [20, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Branch {
		    ZOrder		    3
		    Points		    [-75, 0; 0, -40]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "make division\nbombproof"
		    SrcPort		    1
		    Points		    [0, 5]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Tinertia"
		    SrcPort		    1
		    Points		    [5, 0; 0, -40]
		    DstBlock		    "Tin-Tinertia"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Tin"
		    SrcPort		    1
		    DstBlock		    "Tin-Tinertia"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "Pout/Pin\n(neglecting\ninertia)"
		    SrcPort		    1
		    Points		    [10, 0; 0, 35]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [15, 0; 0, -20]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "Pout/Pin"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "Tin-Tinertia"
		    SrcPort		    1
		    Points		    [20, 0; 0, 5]
		    Branch {
		    ZOrder		    12
		    Points		    [0, 55]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    13
		    DstBlock		    "make division\nbombproof"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "Tout"
		    SrcPort		    1
		    Points		    [225, 0; 0, 80]
		    DstBlock		    "Pout/Pin\n(neglecting\ninertia)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Pout/Pin\n(neglecting\ninertia)"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [140, 0; 0, 55]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Annotation {
		    SID			    "1719"
		    Name		    "Pout/Pin, neglecting inertia, is used to estimate the output torque given the\ninput torque in a very"
		    " simple forward-facing calculation."
		    Position		    [242, 292, 572, 314]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  SID			  "1720"
		  Ports			  [2, 1]
		  Position		  [350, 446, 370, 464]
		  ZOrder		  -14
		  ShowName		  off
		  FontName		  "Arial"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  SID			  "1721"
		  Ports			  [2, 1]
		  Position		  [515, 356, 535, 374]
		  ZOrder		  -15
		  ShowName		  off
		  FontName		  "Arial"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  SID			  "1722"
		  Ports			  [3, 1]
		  Position		  [430, 65, 450, 145]
		  ZOrder		  -16
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  SID			  "1723"
		  Ports			  [2, 1]
		  Position		  [460, 430, 480, 465]
		  ZOrder		  -17
		  ShowName		  off
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  SID			  "1724"
		  Position		  [505, 100, 535, 130]
		  ZOrder		  -18
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "effect of inertia\n(Nm)"
		  SID			  "1725"
		  Ports			  [1, 1]
		  Position		  [345, 162, 375, 198]
		  ZOrder		  -19
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "gb input speed (rad/s)"
		    SID			    "1726"
		    Position		    [50, 25, 70, 45]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    SID			    "1727"
		    Position		    [195, 15, 300, 55]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Gain		    "gb_inertia"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Derivative
		    Name		    "d/dt"
		    SID			    "1728"
		    Position		    [125, 25, 155, 45]
		    ZOrder		    -3
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "drag torque\n(Nm)"
		    SID			    "1729"
		    Position		    [350, 25, 370, 45]
		    ZOrder		    -4
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "drag torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "d/dt"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "gb input speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "d/dt"
		    DstPort		    1
		    }
		    Annotation {
		    SID			    "1730"
		    Name		    "The inertia torque is the input torque required to accelerate the\ngearbox's inertia as measured on t"
		    "he input side."
		    Position		    [212, 102, 490, 124]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  SID			  "1731"
		  Ports			  [1]
		  Position		  [180, 517, 275, 533]
		  ZOrder		  -20
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    346
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    347
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    348
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_in_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    349
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1731:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1731:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_spd_in_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  SID			  "1732"
		  Ports			  [1]
		  Position		  [180, 427, 275, 443]
		  ZOrder		  -21
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    350
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    351
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    352
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_in_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    353
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1732:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1732:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_trq_in_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  SID			  "1733"
		  Ports			  [1]
		  Position		  [635, 542, 730, 558]
		  ZOrder		  -22
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    354
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    355
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    356
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    357
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1733:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1733:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_spd_out_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  SID			  "1734"
		  Ports			  [1]
		  Position		  [635, 367, 730, 383]
		  ZOrder		  -23
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    358
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    359
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    360
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    361
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1734:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1734:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_trq_out_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  SID			  "1735"
		  Ports			  [1]
		  Position		  [635, 327, 730, 343]
		  ZOrder		  -24
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    362
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    363
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    364
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "ni_trq_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    365
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1735:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1735:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_ni_trq_out_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  SID			  "1736"
		  Ports			  [1]
		  Position		  [610, 157, 705, 173]
		  ZOrder		  -25
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    366
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    367
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    368
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_in_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    369
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1736:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1736:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_spd_in_r"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  SID			  "1737"
		  Ports			  [1]
		  Position		  [610, 107, 705, 123]
		  ZOrder		  -26
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    370
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    371
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    372
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_in_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    373
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1737:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1737:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_trq_in_r"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  SID			  "1738"
		  Ports			  [1]
		  Position		  [145, 187, 240, 203]
		  ZOrder		  -27
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    374
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    375
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    376
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_out_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    377
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1738:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1738:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_spd_out_r"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace8"
		  SID			  "1739"
		  Ports			  [1]
		  Position		  [145, 162, 240, 178]
		  ZOrder		  -28
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    378
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    379
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    380
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_out_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    381
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1739:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1739:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_trq_out_r"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace9"
		  SID			  "1740"
		  Ports			  [1]
		  Position		  [145, 142, 240, 158]
		  ZOrder		  -29
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    382
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    383
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    384
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "gear_number"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    385
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace9"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1740:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1740:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "gb_gear_number"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearbox controller interface"
		  SID			  "1741"
		  Ports			  [3, 2]
		  Position		  [190, 219, 295, 281]
		  ZOrder		  -30
		  RequestExecContextInheritance	off
		  System {
		    Name		    "gearbox controller interface"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "T_gb_out"
		    SID			    "1742"
		    Position		    [40, 45, 60, 65]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w_gb_out"
		    SID			    "1743"
		    Position		    [40, 105, 60, 125]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "eta_gb"
		    SID			    "1744"
		    Position		    [40, 170, 60, 190]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    SID			    "1745"
		    Position		    [205, 79, 310, 111]
		    ZOrder		    -4
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>1"
		    SID			    "1746"
		    Position		    [205, 134, 310, 166]
		    ZOrder		    -5
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>"
		    SID			    "1747"
		    Position		    [95, 39, 165, 71]
		    ZOrder		    -6
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "T_gb_out"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>1"
		    SID			    "1748"
		    Position		    [95, 99, 170, 131]
		    ZOrder		    -7
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "w_gb_out"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>2"
		    SID			    "1749"
		    Position		    [95, 164, 170, 196]
		    ZOrder		    -8
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "eta_gb"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace1"
		    SID			    "1750"
		    Ports		    [1]
		    Position		    [360, 32, 455, 48]
		    ZOrder		    -9
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    386
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    387
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    388
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "gear_ratio"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    389
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1750:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1750:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace8"
		    SID			    "1751"
		    Ports		    [1]
		    Position		    [360, 207, 455, 223]
		    ZOrder		    -10
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    390
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    391
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    392
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "shifting"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    393
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1751:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1751:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear_ratio"
		    SID			    "1752"
		    Position		    [345, 85, 365, 105]
		    ZOrder		    -11
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "shifting"
		    SID			    "1753"
		    Position		    [345, 140, 365, 160]
		    ZOrder		    -12
		    Port		    "2"
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    ZOrder		    2
		    DstBlock		    "gear_ratio"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    3
		    Points		    [0, -55]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "eta_gb"
		    SrcPort		    1
		    DstBlock		    "Goto <vc>2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "w_gb_out"
		    SrcPort		    1
		    DstBlock		    "Goto <vc>1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "T_gb_out"
		    SrcPort		    1
		    DstBlock		    "Goto <vc>"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "From <vc>1"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    ZOrder		    8
		    DstBlock		    "shifting"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    9
		    Points		    [0, 65]
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearing\n(Nm) (rad/s)"
		  SID			  "1754"
		  Ports			  [2, 2]
		  Position		  [265, 22, 300, 73]
		  ZOrder		  -31
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "gearing\n(Nm) (rad/s)"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "output shaft\ntorque and speed\n (Nm), (rad/s)"
		    SID			    "1755"
		    Position		    [55, 25, 75, 45]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    SID			    "1756"
		    Position		    [55, 120, 75, 140]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    SID			    "1757"
		    Ports		    [1, 2]
		    Position		    [140, 16, 160, 49]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Outputs		    "2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    SID			    "1758"
		    Position		    [300, 69, 330, 91]
		    ZOrder		    -4
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    SID			    "1759"
		    Ports		    [2, 1]
		    Position		    [355, 21, 375, 39]
		    ZOrder		    -5
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    SID			    "1760"
		    Ports		    [2, 1]
		    Position		    [355, 116, 375, 134]
		    ZOrder		    -6
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "input shaft torque (Nm)"
		    SID			    "1761"
		    Position		    [455, 20, 475, 40]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "input shaft speed (rad/s)"
		    SID			    "1762"
		    Position		    [455, 115, 475, 135]
		    ZOrder		    -8
		    Port		    "2"
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "input shaft speed (rad/s)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "input shaft torque (Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    Points		    [0, -45]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "output shaft\ntorque and speed\n (Nm), (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [190, 0]
		    Branch {
		    ZOrder		    6
		    Points		    [0, -50]
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    7
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    Points		    [60, 0; 0, 80]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearing (Nm) (rad/s)1"
		  SID			  "1763"
		  Ports			  [3, 2]
		  Position		  [520, 438, 555, 512]
		  ZOrder		  -32
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "gearing (Nm) (rad/s)1"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "input shaft torque (Nm)"
		    SID			    "1764"
		    Position		    [75, 15, 95, 35]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "input shaft speed (rad/s)"
		    SID			    "1765"
		    Position		    [75, 120, 95, 140]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    SID			    "1766"
		    Position		    [75, 70, 95, 90]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    SID			    "1767"
		    Position		    [175, 69, 205, 91]
		    ZOrder		    -4
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    SID			    "1768"
		    Ports		    [2, 1]
		    Position		    [275, 21, 295, 39]
		    ZOrder		    -5
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    SID			    "1769"
		    Ports		    [2, 1]
		    Position		    [275, 116, 295, 134]
		    ZOrder		    -6
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "output shaft torque (Nm)"
		    SID			    "1770"
		    Position		    [375, 20, 395, 40]
		    ZOrder		    -7
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "output shaft speed (rad/s)"
		    SID			    "1771"
		    Position		    [375, 115, 395, 135]
		    ZOrder		    -8
		    Port		    "2"
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    Points		    [25, 0; 0, 40]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [45, 0]
		    Branch {
		    ZOrder		    3
		    Points		    [0, -45]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    4
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "output shaft speed (rad/s)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "output shaft torque (Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "input shaft torque (Nm)"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "input shaft speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  SID			  "1772"
		  Ports			  []
		  Position		  [684, 564, 717, 607]
		  ZOrder		  -33
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('gearbox.htm')]);"
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    394
		    $ClassName		    "Simulink.Mask"
		    Display		    "image(imread('doc_man.jpg'))"
		  }
		  System {
		    Name		    "help"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "loss\n(Nm)"
		  SID			  "1773"
		  Ports			  [3, 1]
		  Position		  [340, 84, 375, 126]
		  ZOrder		  -34
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    395
		    $ClassName		    "Simulink.Mask"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    5
		    Object {
		    $ObjectID		    396
		    Type		    "edit"
		    Name		    "tx_eff_map"
		    Prompt		    "table of efficiency values (spd rad/s, trq Nm)"
		    Value		    "tx_eff_map"
		    }
		    Object {
		    $ObjectID		    397
		    Type		    "edit"
		    Name		    "tx_map_trq"
		    Prompt		    "vector of output torque values for lookup table (Nm)"
		    Value		    "tx_map_trq"
		    }
		    Object {
		    $ObjectID		    398
		    Type		    "edit"
		    Name		    "tx_map_spd"
		    Prompt		    "vector of output speeds for lookup table (rad/s)"
		    Value		    "tx_map_spd"
		    }
		    Object {
		    $ObjectID		    399
		    Type		    "edit"
		    Name		    "gb_spd_scale"
		    Prompt		    "Speed scale for the transmission gear box"
		    Value		    "gb_spd_scale"
		    }
		    Object {
		    $ObjectID		    400
		    Type		    "edit"
		    Name		    "gb_trq_scale"
		    Prompt		    "Torque scale for the transmission gear box"
		    Value		    "gb_trq_scale"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "loss\n(Nm)"
		    Location		    [160, 44, 968, 873]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "output torque\nand speed\n(Nm), (rad/s)"
		    SID			    "1774"
		    Position		    [50, 60, 70, 80]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    SID			    "1775"
		    Position		    [45, 520, 65, 540]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear_number"
		    SID			    "1776"
		    Position		    [45, 445, 65, 465]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "3D discrete lookup\ntable (sfun)"
		    SID			    "1777"
		    Ports		    [3, 1]
		    Position		    [285, 279, 315, 331]
		    ZOrder		    -4
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    401
		    $ClassName		    "Simulink.Mask"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    402
		    Type		    "edit"
		    Name		    "tx_map_spd"
		    Prompt		    "Row Lookup"
		    Value		    "tx_map_spd"
		    }
		    Object {
		    $ObjectID		    403
		    Type		    "edit"
		    Name		    "tx_map_trq"
		    Prompt		    "Column Lookup"
		    Value		    "tx_map_trq"
		    }
		    Object {
		    $ObjectID		    404
		    Type		    "edit"
		    Name		    "tx_eff_map"
		    Prompt		    "Lookup Matrix"
		    Value		    "tx_eff_map"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "3D discrete lookup\ntable (sfun)"
		    Location		    [97, 44, 745, 696]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "lookup speed (rad/s)"
		    SID			    "1778"
		    Position		    [45, 68, 75, 82]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "lookup trq (Nm)"
		    SID			    "1779"
		    Position		    [40, 208, 70, 222]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear_number \n(e.g., 1, 2, 3)"
		    SID			    "1780"
		    Position		    [40, 348, 70, 362]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    SID			    "1781"
		    Ports		    [3, 1]
		    Position		    [225, 3, 235, 427]
		    ZOrder		    -4
		    ShowName		    off
		    Inputs		    "3"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    SID			    "1782"
		    Position		    [125, 60, 155, 90]
		    ZOrder		    -5
		    UpperLimit		    "max(tx_map_spd)"
		    LowerLimit		    "min(tx_map_spd)"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    SID			    "1783"
		    Position		    [120, 200, 150, 230]
		    ZOrder		    -6
		    UpperLimit		    "max(tx_map_trq)"
		    LowerLimit		    "min(tx_map_trq)"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    SID			    "1784"
		    Position		    [120, 340, 150, 370]
		    ZOrder		    -7
		    UpperLimit		    "size(tx_eff_map,3)"
		    LowerLimit		    "1"
		    }
		    Block {
		    BlockType		    S-Function
		    Name		    "discrete interp2d"
		    SID			    "1785"
		    Ports		    [1, 1]
		    Position		    [255, 199, 380, 231]
		    ZOrder		    -8
		    FunctionName	    "sfun_discreteLookup3d"
		    Parameters		    "tx_map_trq, tx_map_spd, tx_eff_map"
		    SFunctionDeploymentMode off
		    EnableBusSupport	    off
		    SFcnIsStateOwnerBlock   off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "tx_eff"
		    SID			    "1786"
		    Position		    [405, 208, 435, 222]
		    ZOrder		    -9
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "discrete interp2d"
		    SrcPort		    1
		    DstBlock		    "tx_eff"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "discrete interp2d"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "lookup speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "lookup trq (Nm)"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "gear_number \n(e.g., 1, 2, 3)"
		    SrcPort		    1
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Abs
		    Name		    "Abs"
		    SID			    "1787"
		    Position		    [300, 16, 330, 34]
		    ZOrder		    -5
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    SID			    "1788"
		    Ports		    []
		    Position		    [885, 595, 941, 635]
		    ZOrder		    -6
		    BackgroundColor	    "green"
		    ShowName		    off
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    405
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		    }
		    System {
		    Name		    "Block NOTES"
		    Location		    [332, 281, 874, 641]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "1789"
		    Name		    "09/20/02:tm modifed lower input to switch after T_loss_at_input to pass the \ntotal torque input as t"
		    "he loss when tx_eff=0\n5 July 2001:mpo changing loss block to a lookup table methodology\n12/20/00:tm revised lo"
		    "ss saturation block. lower limit changed \nfrom 1 to 0 and upper limit changed from 100 to inf to prevent over o"
		    "r under penalties"
		    Position		    [252, 37, 629, 89]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		    Annotation {
		    SID			    "1790"
		    Name		    "Revision Notes:"
		    Position		    [247, 17, 318, 29]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -2
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "1791"
		    Position		    [600, 305, 625, 325]
		    ZOrder		    -7
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "1792"
		    Position		    [350, 386, 375, 404]
		    ZOrder		    -8
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    "1793"
		    Position		    [620, 223, 645, 237]
		    ZOrder		    -9
		    ShowName		    off
		    Value		    "eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    SID			    "1794"
		    Position		    [915, 370, 940, 390]
		    ZOrder		    -10
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant4"
		    SID			    "1795"
		    Position		    [1000, 420, 1025, 440]
		    ZOrder		    -11
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    SID			    "1796"
		    Ports		    [1, 2]
		    Position		    [110, 41, 115, 99]
		    ZOrder		    -12
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "2"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    SID			    "1797"
		    Position		    [525, 291, 590, 309]
		    ZOrder		    -13
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "T_out"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From10"
		    SID			    "1798"
		    Position		    [500, 200, 605, 220]
		    ZOrder		    -14
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "tx_eff"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From11"
		    SID			    "1799"
		    Position		    [870, 353, 955, 367]
		    ZOrder		    -15
		    NameLocation	    "top"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "w_out"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From4"
		    SID			    "1800"
		    Position		    [500, 395, 640, 415]
		    ZOrder		    -16
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "one_minus_tx_eff"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From5"
		    SID			    "1801"
		    Position		    [500, 444, 630, 466]
		    ZOrder		    -17
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "T_out_abs"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From6"
		    SID			    "1802"
		    Position		    [500, 495, 605, 515]
		    ZOrder		    -18
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From7"
		    SID			    "1803"
		    Position		    [500, 75, 640, 95]
		    ZOrder		    -19
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "one_minus_tx_eff"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From8"
		    SID			    "1804"
		    Position		    [500, 119, 630, 141]
		    ZOrder		    -20
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "T_out_abs"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From9"
		    SID			    "1805"
		    Position		    [500, 165, 605, 185]
		    ZOrder		    -21
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto"
		    SID			    "1806"
		    Position		    [135, 439, 240, 471]
		    ZOrder		    -22
		    GotoTag		    "gear_number"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto1"
		    SID			    "1807"
		    Position		    [135, 516, 240, 544]
		    ZOrder		    -23
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto2"
		    SID			    "1808"
		    Position		    [180, 45, 285, 65]
		    ZOrder		    -24
		    NameLocation	    "top"
		    GotoTag		    "T_out"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto3"
		    SID			    "1809"
		    Position		    [180, 75, 285, 95]
		    ZOrder		    -25
		    GotoTag		    "w_out"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto4"
		    SID			    "1810"
		    Position		    [415, 290, 455, 320]
		    ZOrder		    -26
		    GotoTag		    "tx_eff"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto5"
		    SID			    "1811"
		    Position		    [430, 337, 550, 363]
		    ZOrder		    -27
		    GotoTag		    "one_minus_tx_eff"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto6"
		    SID			    "1812"
		    Position		    [355, 15, 460, 35]
		    ZOrder		    -28
		    GotoTag		    "T_out_abs"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "1813"
		    Ports		    [4, 1]
		    Position		    [765, 63, 785, 242]
		    ZOrder		    -29
		    ShowName		    off
		    Inputs		    "**//"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    SID			    "1814"
		    Ports		    [3, 1]
		    Position		    [720, 382, 740, 528]
		    ZOrder		    -30
		    Inputs		    "**/"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "1815"
		    Ports		    [2, 1]
		    Position		    [715, 292, 745, 323]
		    ZOrder		    -31
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    SID			    "1816"
		    Ports		    [2, 1]
		    Position		    [975, 351, 990, 384]
		    ZOrder		    -32
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    "1817"
		    Ports		    [2, 1]
		    Position		    [395, 340, 415, 360]
		    ZOrder		    -33
		    ShowName		    off
		    Inputs		    "|-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "1818"
		    Position		    [865, 294, 895, 326]
		    ZOrder		    -34
		    FontName		    "Arial"
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    SID			    "1819"
		    Position		    [1050, 304, 1080, 336]
		    ZOrder		    -35
		    FontName		    "Arial"
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch2"
		    SID			    "1820"
		    Position		    [660, 204, 690, 236]
		    ZOrder		    -36
		    ShowName		    off
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch3"
		    SID			    "1821"
		    Position		    [810, 229, 840, 261]
		    ZOrder		    -37
		    ShowName		    off
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    SID			    "1822"
		    Ports		    [1]
		    Position		    [140, 567, 235, 583]
		    ZOrder		    -38
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    TreatAsAtomicUnit	    on
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    406
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    407
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    408
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "current_gear_ratio"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    409
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1822:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "1822:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "ensure efficiency\nis between \n0% and 100%,\ninclusive"
		    SID			    "1823"
		    Position		    [340, 290, 370, 320]
		    ZOrder		    -39
		    NameLocation	    "top"
		    UpperLimit		    "1"
		    LowerLimit		    "0"
		    }
		    Block {
		    BlockType		    From
		    Name		    "gear number (1st, 2nd, 3rd, etc.)"
		    SID			    "1824"
		    Position		    [135, 356, 230, 374]
		    ZOrder		    -40
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_number"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "product1"
		    SID			    "1825"
		    Ports		    [2, 1]
		    Position		    [760, 251, 790, 284]
		    ZOrder		    -41
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "scaled trq_out"
		    SID			    "1826"
		    Ports		    [2, 1]
		    Position		    [185, 284, 200, 326]
		    ZOrder		    -42
		    Inputs		    "*/"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "scaled w_out"
		    SID			    "1827"
		    Ports		    [2, 1]
		    Position		    [205, 236, 220, 269]
		    ZOrder		    -43
		    NameLocation	    "top"
		    Inputs		    "/*"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "spd scale"
		    SID			    "1828"
		    Position		    [15, 237, 95, 253]
		    ZOrder		    -44
		    NameLocation	    "top"
		    Value		    "gb_spd_scale"
		    }
		    Block {
		    BlockType		    From
		    Name		    "spd_out"
		    SID			    "1829"
		    Position		    [105, 253, 190, 267]
		    ZOrder		    -45
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "w_out"
		    }
		    Block {
		    BlockType		    From
		    Name		    "trq out"
		    SID			    "1830"
		    Position		    [15, 286, 95, 304]
		    ZOrder		    -46
		    NameLocation	    "top"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "T_out"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "trq scale"
		    SID			    "1831"
		    Position		    [85, 307, 165, 323]
		    ZOrder		    -47
		    Value		    "gb_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "loss torque at\ninput shaft (Nm)"
		    SID			    "1832"
		    Position		    [1120, 310, 1140, 330]
		    ZOrder		    -48
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "product1"
		    SrcPort		    1
		    DstBlock		    "Switch3"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Switch3"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Switch3"
		    SrcPort		    1
		    Points		    [0, 55]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    DstBlock		    "Switch2"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "From10"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    ZOrder		    6
		    Points		    [0, 10; 0, 0]
		    Branch {
		    ZOrder		    7
		    Points		    [0, 25]
		    DstBlock		    "Switch3"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    8
		    DstBlock		    "Switch2"
		    DstPort		    2
		    }
		    }
		    Branch {
		    ZOrder		    9
		    DstBlock		    "Switch2"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "Switch2"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    4
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "gear_number"
		    SrcPort		    1
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    ZOrder		    13
		    DstBlock		    "Goto1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    14
		    Points		    [0, 45]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    "spd scale"
		    SrcPort		    1
		    DstBlock		    "scaled w_out"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    "spd_out"
		    SrcPort		    1
		    DstBlock		    "scaled w_out"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    17
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Goto5"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    18
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    19
		    SrcBlock		    "trq scale"
		    SrcPort		    1
		    DstBlock		    "scaled trq_out"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    20
		    SrcBlock		    "scaled trq_out"
		    SrcPort		    1
		    DstBlock		    "3D discrete lookup\ntable (sfun)"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    21
		    SrcBlock		    "trq out"
		    SrcPort		    1
		    DstBlock		    "scaled trq_out"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    22
		    Labels		    [1, 0]
		    SrcBlock		    "scaled w_out"
		    SrcPort		    1
		    Points		    [0, 35]
		    DstBlock		    "3D discrete lookup\ntable (sfun)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    23
		    SrcBlock		    "ensure efficiency\nis between \n0% and 100%,\ninclusive"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    ZOrder		    24
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    25
		    DstBlock		    "Goto4"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    26
		    SrcBlock		    "3D discrete lookup\ntable (sfun)"
		    SrcPort		    1
		    DstBlock		    "ensure efficiency\nis between \n0% and 100%,\ninclusive"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    27
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    28
		    SrcBlock		    "Abs"
		    SrcPort		    1
		    DstBlock		    "Goto6"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    29
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    ZOrder		    30
		    Points		    [0, -30]
		    DstBlock		    "Abs"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    31
		    DstBlock		    "Goto2"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    32
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [5, 0; 0, -50]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    33
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    34
		    SrcBlock		    "From11"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    35
		    SrcBlock		    "Constant4"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    36
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "loss torque at\ninput shaft (Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    37
		    SrcBlock		    "From9"
		    SrcPort		    1
		    Points		    [105, 0]
		    Branch {
		    ZOrder		    38
		    Points		    [0, 100]
		    DstBlock		    "product1"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    39
		    DstBlock		    "Product"
		    DstPort		    3
		    }
		    }
		    Line {
		    ZOrder		    40
		    SrcBlock		    "From8"
		    SrcPort		    1
		    Points		    [100, 0]
		    Branch {
		    ZOrder		    41
		    Points		    [0, 130]
		    DstBlock		    "product1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    42
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    43
		    SrcBlock		    "From7"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    44
		    SrcBlock		    "From5"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    45
		    SrcBlock		    "From6"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    46
		    SrcBlock		    "From4"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    47
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [45, 0; 0, -135]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    48
		    SrcBlock		    "From"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    49
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    50
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    51
		    SrcBlock		    "gear number (1st, 2nd, 3rd, etc.)"
		    SrcPort		    1
		    Points		    [0, -35; 35, 0]
		    DstBlock		    "3D discrete lookup\ntable (sfun)"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    52
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    DstBlock		    "Goto3"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    53
		    SrcBlock		    "output torque\nand speed\n(Nm), (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Annotation {
		    SID			    "1833"
		    Name		    "\nTORQUE LOSS CALCULATION\n"
		    Position		    [990, 198, 1135, 230]
		    InternalMargins	    [0, 0, 0, 0]
		    ForegroundColor	    "white"
		    BackgroundColor	    "black"
		    ZOrder		    -1
		    }
		    Annotation {
		    SID			    "1834"
		    Name		    "gear"
		    Position		    [254, 318, 275, 330]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -2
		    }
		    Annotation {
		    SID			    "1835"
		    Name		    "trq"
		    Position		    [263, 297, 276, 309]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -3
		    }
		    Annotation {
		    SID			    "1836"
		    Name		    "spd"
		    Position		    [269, 276, 287, 288]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -4
		    }
		    Annotation {
		    SID			    "1837"
		    Name		    "torque at transmission output, Nm"
		    Position		    [371, 55, 522, 67]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -5
		    }
		    Annotation {
		    SID			    "1838"
		    Name		    "speed at transmission output, rad/s"
		    Position		    [376, 87, 533, 99]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -6
		    }
		    Annotation {
		    SID			    "1839"
		    Name		    "no_loss case"
		    Position		    [1069, 400, 1129, 412]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -7
		    }
		    Annotation {
		    SID			    "1840"
		    Name		    "Note: saturation block keeps\nloss positive-- for both powered\nand regen cases, a\npositive value re"
		    "presents a \"loss\""
		    Position		    [1034, 501, 1182, 543]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -8
		    }
		    Annotation {
		    SID			    "1841"
		    Name		    "Switch for Powered\n or Regen Case"
		    Position		    [903, 278, 990, 300]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -9
		    }
		    Annotation {
		    SID			    "1842"
		    Name		    "Switch to Determine \nif Gears are Turning\n--No loss if gears \nare not turning"
		    Position		    [1067, 275, 1161, 317]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -10
		    }
		    Annotation {
		    SID			    "1843"
		    Name		    "Normal \"Powered\" case\n(energy flow from engine\nthrough transmission to wheels)"
		    Position		    [874, 121, 1016, 153]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -11
		    }
		    Annotation {
		    SID			    "1844"
		    Name		    "T_loss_at_input"
		    Position		    [840, 198, 912, 210]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -12
		    }
		    Annotation {
		    SID			    "1845"
		    Name		    "\"Regen\" case\n(energy flowing from\nwheel side of transmission\nto engine side of transmission)"
		    Position		    [833, 488, 970, 530]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -13
		    }
		    Annotation {
		    SID			    "1846"
		    Name		    "T_loss_at_input"
		    Position		    [838, 414, 910, 426]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -14
		    }
		    Annotation {
		    SID			    "1847"
		    Name		    "\nLOOKUP TABLE FOR TRANSMISSION EFFICIENCY\n"
		    Position		    [278, 191, 519, 223]
		    InternalMargins	    [0, 0, 0, 0]
		    ForegroundColor	    "white"
		    BackgroundColor	    "black"
		    ZOrder		    -15
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed req'd\nat input side of gearbox\n(Nm), (rad/s)"
		  SID			  "1848"
		  Position		  [745, 45, 765, 65]
		  ZOrder		  -35
		  FontName		  "Arial"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed avail.\nat output side of gearbox\n(Nm), (rad/s)"
		  SID			  "1849"
		  Position		  [735, 470, 755, 490]
		  ZOrder		  -36
		  FontName		  "Arial"
		  Port			  "2"
		  InitialOutput		  "0"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "gearbox controller interface"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    ZOrder		    2
		    Points		    [0, 80; 170, 0]
		    Branch {
		    ZOrder		    3
		    Points		    [0, 45]
		    Branch {
		    ZOrder		    4
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    5
		    Points		    [0, 140]
		    DstBlock		    "gearing (Nm) (rad/s)1"
		    DstPort		    3
		    }
		    }
		    Branch {
		    ZOrder		    6
		    DstBlock		    "Pout/Pin neglecting inertia"
		    DstPort		    4
		    }
		  }
		  Branch {
		    ZOrder		    7
		    Points		    [0, -25; -65, 0; 0, -105; -45, 0]
		    Branch {
		    ZOrder		    8
		    Points		    [0, -45]
		    DstBlock		    "gearing\n(Nm) (rad/s)"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    9
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  "loss\n(Nm)"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  ZOrder		  11
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [-15, 0]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  ZOrder		  12
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  Points		  [0, 0; 45, 0]
		  Branch {
		    ZOrder		    13
		    Points		    [0, -70]
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    14
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  15
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  Points		  [25, 0; 0, -75]
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  ZOrder		  16
		  SrcBlock		  "gearbox controller interface"
		  SrcPort		  2
		  Points		  [110, 0]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  1
		}
		Line {
		  ZOrder		  17
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    ZOrder		    18
		    DstBlock		    "Switch"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    19
		    Points		    [0, 165]
		    DstBlock		    "Pout/Pin neglecting inertia"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  20
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [0, 0; 15, 0]
		  Branch {
		    ZOrder		    21
		    Points		    [0, 30]
		    Branch {
		    ZOrder		    22
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    23
		    Points		    [0, 20]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		  }
		  Branch {
		    ZOrder		    24
		    DstBlock		    "gearing (Nm) (rad/s)1"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  25
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    ZOrder		    26
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    27
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  28
		  SrcBlock		  "gearing (Nm) (rad/s)1"
		  SrcPort		  1
		  Points		  [0, 0; 50, 0]
		  Branch {
		    ZOrder		    29
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    30
		    Points		    [0, -45]
		    Branch {
		    ZOrder		    31
		    Points		    [0, -40]
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    32
		    DstBlock		    "Goto4"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  33
		  SrcBlock		  "gearing (Nm) (rad/s)1"
		  SrcPort		  2
		  Points		  [0, 0; 60, 0]
		  Branch {
		    ZOrder		    34
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    35
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  36
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    ZOrder		    37
		    Points		    [35, 0]
		    Branch {
		    ZOrder		    38
		    DstBlock		    "gearbox controller interface"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    39
		    Points		    [0, 70]
		    DstBlock		    "Pout/Pin neglecting inertia"
		    DstPort		    3
		    }
		  }
		  Branch {
		    ZOrder		    40
		    Points		    [0, -15; -30, 0; 0, -45]
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  41
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [0, 0; 10, 0]
		  Branch {
		    ZOrder		    42
		    DstBlock		    "gearbox controller interface"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    43
		    Points		    [0, -40; -20, 0; 0, -15]
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  44
		  SrcBlock		  "torque and speed req'd\nat output side of gearbox\n(Nm), (rad/s)"
		  SrcPort		  1
		  Points		  [0, 0; 45, 0]
		  Branch {
		    ZOrder		    45
		    DstBlock		    "gearing\n(Nm) (rad/s)"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    46
		    Labels		    [1, 0]
		    Points		    [0, 55]
		    Branch {
		    ZOrder		    47
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    48
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  49
		  SrcBlock		  "effect of inertia\n(Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    ZOrder		    50
		    Points		    [0, 105]
		    Branch {
		    ZOrder		    51
		    Points		    [0, 155]
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    52
		    DstBlock		    "Pout/Pin neglecting inertia"
		    DstPort		    2
		    }
		  }
		  Branch {
		    ZOrder		    53
		    Points		    [0, -50]
		    DstBlock		    "Sum2"
		    DstPort		    3
		  }
		}
		Line {
		  ZOrder		  54
		  SrcBlock		  "gearing\n(Nm) (rad/s)"
		  SrcPort		  2
		  Points		  [0, 0; 15, 0]
		  Branch {
		    ZOrder		    55
		    Points		    [235, 0]
		    Branch {
		    ZOrder		    56
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    57
		    Points		    [0, 105]
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		    }
		  }
		  Branch {
		    ZOrder		    58
		    Points		    [0, 120]
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  59
		  SrcBlock		  "gearing\n(Nm) (rad/s)"
		  SrcPort		  1
		  Points		  [100, 0; 0, 45]
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  60
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "torque and speed req'd\nat input side of gearbox\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  61
		  SrcBlock		  "Pout/Pin neglecting inertia"
		  SrcPort		  1
		  Points		  [35, 0; 0, 55; -255, 0]
		  Branch {
		    ZOrder		    62
		    Points		    [0, 100]
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    63
		    Points		    [-155, 0]
		    DstBlock		    "gearbox controller interface"
		    DstPort		    3
		  }
		}
		Line {
		  ZOrder		  64
		  SrcBlock		  "torque and speed avail.\nat input side of gearbox\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  65
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "gearing (Nm) (rad/s)1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  66
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "torque and speed avail.\nat output side of gearbox\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  67
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [0, 0; 60, 0]
		  Branch {
		    ZOrder		    68
		    DstBlock		    "Sum3"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    69
		    Points		    [0, -85]
		    DstBlock		    "Product1"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  70
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  Points		  [80, 0]
		  DstBlock		  "enhancedToWorkspace4"
		  DstPort		  1
		}
		Line {
		  ZOrder		  71
		  SrcBlock		  "From <vc>"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    ZOrder		    72
		    Points		    [0, 15; -90, 0; 0, 15]
		    DstBlock		    "enhancedToWorkspace9"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    73
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    3
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      SID		      "1850"
	      Ports		      [1, 1]
	      Position		      [390, 76, 445, 104]
	      ZOrder		      -23
	      NameLocation	      "top"
	      RequestExecContextInheritance off
	      System {
		Name			"signal\nannotator"
		Location		[164, 44, 968, 889]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  SID			  "1851"
		  Position		  [110, 103, 140, 117]
		  ZOrder		  -1
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  "1852"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  ZOrder		  -2
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  Port {
		    PortNumber		    1
		    Name		    "gb_trq_out_r"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "gb_spd_out_r"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  "1853"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ZOrder		  -3
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  SID			  "1854"
		  Position		  [430, 103, 460, 117]
		  ZOrder		  -4
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "gb_trq_out_r"
		  ZOrder		  2
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "gb_spd_out_r"
		  ZOrder		  3
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "requested\noutput"
	      SID		      "1855"
	      Position		      [475, 83, 505, 97]
	      ZOrder		      -24
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\ninput\nrequest"
	      SID		      "1856"
	      Position		      [530, 148, 560, 162]
	      ZOrder		      -25
	      NameLocation	      "top"
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\noutput\nachieved"
	      SID		      "1857"
	      Position		      [530, 178, 560, 192]
	      ZOrder		      -26
	      Port		      "3"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      SID		      "1858"
	      Position		      [780, 368, 810, 382]
	      ZOrder		      -27
	      Port		      "4"
	    }
	    Line {
	      Name		      "gb_spd_in_a"
	      ZOrder		      1
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>1"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      Name		      "T_gb_out"
	      ZOrder		      2
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>2"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "w_gb_out"
	      ZOrder		      3
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>3"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "eta_gb"
	      ZOrder		      4
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>4"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      4
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      6
	      SrcBlock		      "controls"
	      SrcPort		      1
	      DstBlock		      "Demux2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      "Demux2"
	      SrcPort		      1
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "Demux2"
	      SrcPort		      2
	      DstBlock		      "Goto3"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      9
	      SrcBlock		      "Demux2"
	      SrcPort		      3
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      10
	      SrcBlock		      "trq and spd\noutput\nrequest"
	      SrcPort		      1
	      Points		      [55, 0]
	      Branch {
		ZOrder			11
		DstBlock		"gearbox\nmodel"
		DstPort			1
	      }
	      Branch {
		ZOrder			12
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      13
	      SrcBlock		      "gearbox\nmodel"
	      SrcPort		      1
	      DstBlock		      "trq and spd\ninput\nrequest"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      14
	      SrcBlock		      "trq and spd\ninput\nachieved"
	      SrcPort		      1
	      DstBlock		      "gearbox\nmodel"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      15
	      SrcBlock		      "gearbox\nmodel"
	      SrcPort		      2
	      DstBlock		      "trq and spd\noutput\nachieved"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      16
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "requested\noutput"
	      DstPort		      1
	    }
	    Line {
	      Name		      "gb_trq_out_a"
	      ZOrder		      17
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>5"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      5
	    }
	    Annotation {
	      SID		      "1859"
	      Name		      "Model"
	      Position		      [422, 25, 488, 53]
	      InternalMargins	      [0, 0, 0, 0]
	      BackgroundColor	      "yellow"
	      ZOrder		      -1
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      SID		      "1860"
	      Name		      "Interface"
	      Position		      [422, 260, 515, 288]
	      InternalMargins	      [0, 0, 0, 0]
	      BackgroundColor	      "yellow"
	      ZOrder		      -2
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "help"
	  SID			  "1861"
	  Ports			  []
	  Position		  [64, 39, 97, 82]
	  ZOrder		  -6
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowName		  off
	  OpenFcn		  "web(['file:\\\\\\' which('gearbox.htm')]);"
	  RequestExecContextInheritance	off
	  Object {
	    $PropName		    "MaskObject"
	    $ObjectID		    410
	    $ClassName		    "Simulink.Mask"
	    Display		    "image(imread('doc_man.jpg'))"
	  }
	  System {
	    Name		    "help"
	    Location		    [165, 211, 571, 596]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  SID			  "1862"
	  Position		  [355, 84, 455, 126]
	  ZOrder		  -7
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  SID			  "1863"
	  Position		  [360, 289, 460, 331]
	  ZOrder		  -8
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nat input side of gearbox\n(Nm), (rad/s)"
	  SID			  "1864"
	  Position		  [400, 200, 420, 220]
	  ZOrder		  -9
	  NameLocation		  "top"
	  FontName		  "Arial"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed avail.\nat output side of gearbox\n(Nm), (rad/s)"
	  SID			  "1865"
	  Position		  [400, 220, 420, 240]
	  ZOrder		  -10
	  FontName		  "Arial"
	  Port			  "2"
	  InitialOutput		  "0"
	}
	Line {
	  ZOrder		  1
	  SrcBlock		  "gearbox model & interface"
	  SrcPort		  1
	  Points		  [0, -85]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  ZOrder		  2
	  SrcBlock		  "gearbox model & interface"
	  SrcPort		  2
	  DstBlock		  "torque and speed req'd\nat input side of gearbox\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  ZOrder		  3
	  SrcBlock		  "torque and speed req'd\nat output side of gearbox\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "gearbox model & interface"
	  DstPort		  1
	}
	Line {
	  ZOrder		  4
	  SrcBlock		  "torque and speed avail.\nat input side of gearbox\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "gearbox model & interface"
	  DstPort		  2
	}
	Line {
	  ZOrder		  5
	  SrcBlock		  "gearbox model & interface"
	  SrcPort		  3
	  DstBlock		  "torque and speed avail.\nat output side of gearbox\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  ZOrder		  6
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [0, -65]
	  DstBlock		  "gearbox model & interface"
	  DstPort		  3
	}
	Line {
	  ZOrder		  7
	  SrcBlock		  "gearbox model & interface"
	  SrcPort		  4
	  Points		  [40, 0]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Annotation {
	  SID			  "1866"
	  Name			  "Gearbox"
	  Position		  [282, 55, 356, 78]
	  InternalMargins	  [0, 0, 0, 0]
	  BackgroundColor	  "yellow"
	  ZOrder		  -1
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "hydraulic\ntorque\nconverter <htc>"
      SID		      "1867"
      Ports		      [2, 2]
      Position		      [610, 138, 660, 202]
      ZOrder		      -10
      BackgroundColor	      "yellow"
      ShowPortLabels	      "none"
      RequestExecContextInheritance off
      Object {
	$PropName		"MaskObject"
	$ObjectID		411
	$ClassName		"Simulink.Mask"
	Type			"Stand-Alone HTC Mask"
	Initialization		"% initialization via m-file script\nadvSACompMaskInit;"
	Display			"image(imread(imgFileName))"
	Array {
	  Type			  "Simulink.MaskParameter"
	  Dimension		  6
	  Object {
	    $ObjectID		    412
	    Type		    "edit"
	    Name		    "generalName"
	    Prompt		    "General Name of this Component [char]"
	    Value		    "'htc'"
	  }
	  Object {
	    $ObjectID		    413
	    Type		    "popup"
	    Array {
	      Type		      "Cell"
	      Dimension		      2
	      Cell		      "Don't Log"
	      Cell		      "Log"
	      PropName		      "TypeOptions"
	    }
	    Name		    "logPick"
	    Prompt		    "Log Variables to Workspace?"
	    Value		    "Log"
	  }
	  Object {
	    $ObjectID		    414
	    Type		    "edit"
	    Name		    "initFileName"
	    Prompt		    "Initialization File(s) [cell array of char]"
	    Value		    "{}"
	  }
	  Object {
	    $ObjectID		    415
	    Type		    "edit"
	    Name		    "modCell"
	    Prompt		    "Modification Cell [2 column cell array of param and val]"
	    Value		    "{}"
	  }
	  Object {
	    $ObjectID		    416
	    Type		    "edit"
	    Name		    "imgFileName"
	    Prompt		    "Icon image file name [char--evaluated]"
	    Value		    "'bdi_htc.jpg'"
	  }
	  Object {
	    $ObjectID		    417
	    Type		    "popup"
	    Array {
	      Type		      "Cell"
	      Dimension		      2
	      Cell		      "ON"
	      Cell		      "OFF"
	      PropName		      "TypeOptions"
	    }
	    Name		    "DEBUG"
	    Prompt		    "DEBUG"
	    Value		    "OFF"
	    Evaluate		    "off"
	  }
	  PropName		  "Parameters"
	}
      }
      System {
	Name			"hydraulic\ntorque\nconverter <htc>"
	Location		[164, 44, 968, 889]
	Open			off
	PortBlocksUseCompactNotation off
	SetExecutionDomain	off
	ExecutionDomainType	"Deduce"
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	SimulinkSubDomain	"Simulink"
	Block {
	  BlockType		  Inport
	  Name			  "T & w output\nrequested"
	  SID			  "1868"
	  Position		  [40, 128, 70, 142]
	  ZOrder		  -1
	  NameLocation		  "top"
	}
	Block {
	  BlockType		  Inport
	  Name			  "T & w input\navailable"
	  SID			  "1869"
	  Position		  [40, 148, 70, 162]
	  ZOrder		  -2
	  Port			  "2"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  SID			  "1870"
	  Position		  [15, 211, 125, 249]
	  ZOrder		  -3
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "htcControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "conventional HTC \nand Interface"
	  SID			  "1871"
	  Ports			  [3, 4]
	  Position		  [190, 122, 230, 183]
	  ZOrder		  -4
	  ShowPortLabels	  "none"
	  RequestExecContextInheritance	off
	  System {
	    Name		    "conventional HTC \nand Interface"
	    Location		    [164, 44, 968, 889]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\noutput\nrequest"
	      SID		      "1872"
	      Position		      [195, 138, 225, 152]
	      ZOrder		      -1
	      NameLocation	      "top"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\ninput\nachieved"
	      SID		      "1873"
	      Position		      [195, 168, 225, 182]
	      ZOrder		      -2
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      SID		      "1874"
	      Position		      [40, 333, 70, 347]
	      ZOrder		      -3
	      Port		      "3"
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      SID		      "1875"
	      Ports		      [1, 1]
	      Position		      [630, 321, 635, 359]
	      ZOrder		      -4
	      ShowName		      off
	      Inputs		      "1"
	      DisplayOption	      "bar"
	      InheritFromInputs	      on
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      SID		      "1876"
	      Ports		      [1, 2]
	      Position		      [85, 321, 90, 359]
	      ZOrder		      -5
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "2"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>"
	      SID		      "1877"
	      Position		      [430, 329, 525, 351]
	      ZOrder		      -6
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "htc_efficiency"
	      Port {
		PortNumber		1
		Name			"htc_efficiency"
	      }
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      SID		      "1878"
	      Position		      [115, 303, 230, 327]
	      ZOrder		      -7
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      SID		      "1879"
	      Position		      [235, 303, 324, 326]
	      ZOrder		      -8
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      SID		      "1880"
	      Position		      [335, 328, 424, 351]
	      ZOrder		      -9
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "htc_efficiency"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      SID		      "1881"
	      Position		      [235, 353, 324, 376]
	      ZOrder		      -10
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "locked_up"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      SID		      "1882"
	      Position		      [115, 353, 230, 377]
	      ZOrder		      -11
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "locked_up"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "htc model"
	      SID		      "1883"
	      Ports		      [2, 2]
	      Position		      [330, 130, 370, 190]
	      ZOrder		      -12
	      ShowPortLabels	      "none"
	      RequestExecContextInheritance off
	      System {
		Name			"htc model"
		Location		[164, 44, 968, 889]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "req'd output\ntrq and spd\n(Nm), (rad/s)"
		  SID			  "1884"
		  Position		  [25, 228, 55, 242]
		  ZOrder		  -1
		}
		Block {
		  BlockType		  Inport
		  Name			  "trq and spd\navailable at\ninput (Nm), (rad/s)"
		  SID			  "1885"
		  Position		  [50, 538, 80, 552]
		  ZOrder		  -2
		  Port			  "2"
		}
		Block {
		  BlockType		  Saturate
		  Name			  ">0\n"
		  SID			  "1886"
		  Position		  [625, 305, 655, 335]
		  ZOrder		  -3
		  UpperLimit		  "inf"
		  LowerLimit		  "0"
		}
		Block {
		  BlockType		  Saturate
		  Name			  ">0."
		  SID			  "1887"
		  Position		  [640, 575, 670, 605]
		  ZOrder		  -4
		  UpperLimit		  "inf"
		  LowerLimit		  "0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  SID			  "1888"
		  Position		  [610, 120, 630, 140]
		  ZOrder		  -5
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux2"
		  SID			  "1889"
		  Ports			  [1, 2]
		  Position		  [80, 196, 90, 274]
		  ZOrder		  -6
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux3"
		  SID			  "1890"
		  Ports			  [1, 2]
		  Position		  [170, 516, 205, 569]
		  ZOrder		  -7
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc>"
		  SID			  "1891"
		  Position		  [530, 185, 605, 205]
		  ZOrder		  -8
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "shifting"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  SID			  "1892"
		  Ports			  [2, 1]
		  Position		  [870, 222, 905, 258]
		  ZOrder		  -9
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  SID			  "1893"
		  Ports			  [2, 1]
		  Position		  [750, 507, 785, 543]
		  ZOrder		  -10
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  SID			  "1894"
		  Ports			  [2, 1]
		  Position		  [195, 311, 205, 349]
		  ZOrder		  -11
		  ShowName		  off
		  Inputs		  "2"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "SR"
		  SID			  "1895"
		  Ports			  [2, 2]
		  Position		  [285, 322, 315, 358]
		  ZOrder		  -12
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "SR"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "T,w\nreq out"
		    SID			    "1896"
		    Position		    [50, 30, 70, 50]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w in"
		    SID			    "1897"
		    Position		    [415, 45, 435, 65]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">0"
		    SID			    "1898"
		    Position		    [665, 235, 695, 265]
		    ZOrder		    -3
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "1899"
		    Position		    [245, 270, 265, 290]
		    ZOrder		    -4
		    BlockMirror		    on
		    ShowName		    off
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "1900"
		    Position		    [250, 542, 350, 568]
		    ZOrder		    -5
		    ShowName		    off
		    Value		    "vc_idle_spd+eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    SID			    "1901"
		    Position		    [355, 195, 385, 215]
		    ZOrder		    -6
		    ShowName		    off
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    SID			    "1902"
		    Position		    [170, 153, 235, 177]
		    ZOrder		    -7
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "locked_up"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "K_adv"
		    SID			    "1903"
		    Ports		    [1, 1]
		    Position		    [170, 75, 200, 105]
		    ZOrder		    -8
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "K_adv"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq and spd\n(Nm), (rad/s)"
		    SID			    "1904"
		    Position		    [20, 58, 50, 72]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">0"
		    SID			    "1905"
		    Position		    [95, 50, 125, 80]
		    ZOrder		    -2
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "K_adv=wout/(Tout)^0.5"
		    SID			    "1906"
		    Position		    [155, 51, 275, 79]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Expr		    "u[2]/u[1]^0.5"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    SID			    "1907"
		    Position		    [315, 50, 345, 80]
		    ZOrder		    -4
		    UpperLimit		    "max(htc_k_adv)"
		    LowerLimit		    "min(htc_k_adv)"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "K_adv"
		    SID			    "1908"
		    Position		    [400, 58, 430, 72]
		    ZOrder		    -5
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    ">0"
		    SrcPort		    1
		    DstBlock		    "K_adv=wout/(Tout)^0.5"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Req'd output\ntrq and spd\n(Nm), (rad/s)"
		    SrcPort		    1
		    DstBlock		    ">0"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "K_adv=wout/(Tout)^0.5"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "K_adv_coast"
		    SID			    "1909"
		    Ports		    [1, 1]
		    Position		    [215, 355, 245, 385]
		    ZOrder		    -9
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "K_adv_coast"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq and spd\n(Nm), (rad/s)"
		    SID			    "1910"
		    Position		    [20, 58, 50, 72]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "K_adv=wout/(abs(Tout))^0.5"
		    SID			    "1911"
		    Position		    [125, 51, 245, 79]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Expr		    "u[2]/abs(u[1]+eps)^0.5"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    SID			    "1912"
		    Position		    [310, 50, 340, 80]
		    ZOrder		    -3
		    UpperLimit		    "max(htc_k_adv_coast)"
		    LowerLimit		    "min(htc_k_adv_coast)"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "K_adv_coast"
		    SID			    "1913"
		    Position		    [400, 58, 430, 72]
		    ZOrder		    -4
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "K_adv=wout/(abs(Tout))^0.5"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "K_adv_coast"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Req'd output\ntrq and spd\n(Nm), (rad/s)"
		    SrcPort		    1
		    DstBlock		    "K_adv=wout/(abs(Tout))^0.5"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    SID			    "1914"
		    Ports		    [1, 1]
		    Position		    [355, 149, 385, 181]
		    ZOrder		    -10
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    SID			    "1915"
		    Ports		    [1, 1]
		    Position		    [345, 261, 375, 289]
		    ZOrder		    -11
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    SID			    "1916"
		    Ports		    [2, 1]
		    Position		    [500, 427, 530, 458]
		    ZOrder		    -12
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "1917"
		    Ports		    [2, 1]
		    Position		    [250, 232, 280, 263]
		    ZOrder		    -13
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "SR Look-Up\nTable\nSR=wout/win"
		    SID			    "1918"
		    Position		    [335, 75, 365, 105]
		    ZOrder		    -14
		    InputValues		    "htc_k_adv"
		    Table		    "htc_sr"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "SR Look-Up\nTable\nSR=wout/win\ncoast"
		    SID			    "1919"
		    Position		    [335, 355, 365, 385]
		    ZOrder		    -15
		    InputValues		    "fliplr(htc_k_adv_coast)"
		    Table		    "fliplr(htc_sr_coast)"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "SRmax=\nwout/win,min"
		    SID			    "1920"
		    Ports		    [2, 1]
		    Position		    [435, 525, 455, 565]
		    ZOrder		    -16
		    Inputs		    "*/"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "T"
		    SID			    "1921"
		    Ports		    [1, 1]
		    Position		    [175, 225, 205, 255]
		    ZOrder		    -17
		    InputPortWidth	    "2"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "1"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace1"
		    SID			    "1922"
		    Ports		    [1]
		    Position		    [395, 267, 490, 283]
		    ZOrder		    -18
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    TreatAsAtomicUnit	    on
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    418
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    419
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    420
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "coasting"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    421
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1922:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1922:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_coasting"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace2"
		    SID			    "1923"
		    Ports		    [1]
		    Position		    [260, 182, 335, 198]
		    ZOrder		    -19
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    TreatAsAtomicUnit	    on
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    422
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    423
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    424
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "locked"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    425
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1923:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1923:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_locked"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if coasting"
		    SID			    "1924"
		    Position		    [595, 235, 625, 265]
		    ZOrder		    -20
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "locked up,\nthen SR=1"
		    SID			    "1925"
		    Position		    [420, 150, 450, 180]
		    ZOrder		    -21
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "min,max"
		    SID			    "1926"
		    Position		    [425, 355, 455, 385]
		    ZOrder		    -22
		    UpperLimit		    "inf"
		    LowerLimit		    "1"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "shifting SR"
		    SID			    "1927"
		    Ports		    [3, 1]
		    Position		    [510, 35, 540, 75]
		    ZOrder		    -23
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "shifting SR"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "T,w\nreq out"
		    SID			    "1928"
		    Position		    [35, 35, 55, 55]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w in"
		    SID			    "1929"
		    Position		    [35, 85, 55, 105]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "SR"
		    SID			    "1930"
		    Position		    [50, 330, 70, 350]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "-3200 rpm/second\nallowable in engine\nspeed"
		    SID			    "1931"
		    Position		    [220, 153, 310, 187]
		    ZOrder		    -4
		    Gain		    "-3200*pi/30"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">0"
		    SID			    "1932"
		    Position		    [90, 80, 120, 110]
		    ZOrder		    -5
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    }
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    SID			    "1933"
		    Position		    [40, 150, 60, 170]
		    ZOrder		    -6
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>1"
		    SID			    "1934"
		    Position		    [555, 280, 630, 300]
		    ZOrder		    -7
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory3"
		    SID			    "1935"
		    Position		    [160, 80, 190, 110]
		    ZOrder		    -8
		    ShowName		    off
		    InitialCondition	    "eps"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory4"
		    SID			    "1936"
		    Position		    [95, 165, 125, 195]
		    ZOrder		    -9
		    ShowName		    off
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    SID			    "1937"
		    Ports		    [2, 1]
		    Position		    [580, 157, 610, 188]
		    ZOrder		    -10
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "SRmax=\nwout/win,min"
		    SID			    "1938"
		    Ports		    [2, 1]
		    Position		    [510, 40, 530, 80]
		    ZOrder		    -11
		    Inputs		    "*/"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "dt=t-(t-1)"
		    SID			    "1939"
		    Ports		    [2, 1]
		    Position		    [155, 153, 185, 182]
		    ZOrder		    -12
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "shifting,\nthen limit \nengine speed\nchange"
		    SID			    "1940"
		    Position		    [665, 275, 695, 305]
		    ZOrder		    -13
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "win,min=\nwin,prev+rate*dt"
		    SID			    "1941"
		    Ports		    [2, 1]
		    Position		    [345, 92, 375, 123]
		    ZOrder		    -14
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "wout,req"
		    SID			    "1942"
		    Ports		    [1, 1]
		    Position		    [345, 30, 375, 60]
		    ZOrder		    -15
		    InputPortWidth	    "2"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "2"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "SR\nlimited"
		    SID			    "1943"
		    Position		    [790, 280, 810, 300]
		    ZOrder		    -16
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "-3200 rpm/second\nallowable in engine\nspeed"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "win,min=\nwin,prev+rate*dt"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    ">0"
		    SrcPort		    1
		    DstBlock		    "Memory3"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "w in"
		    SrcPort		    1
		    DstBlock		    ">0"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "shifting,\nthen limit \nengine speed\nchange"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "shifting,\nthen limit \nengine speed\nchange"
		    SrcPort		    1
		    DstBlock		    "SR\nlimited"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "SR"
		    SrcPort		    1
		    Points		    [375, 0]
		    Branch {
		    ZOrder		    7
		    Points		    [0, -160]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    8
		    Points		    [195, 0; 0, -40]
		    DstBlock		    "shifting,\nthen limit \nengine speed\nchange"
		    DstPort		    3
		    }
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "SRmax=\nwout/win,min"
		    SrcPort		    1
		    Points		    [30, 0; 0, 95]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "From <vc>1"
		    SrcPort		    1
		    DstBlock		    "shifting,\nthen limit \nengine speed\nchange"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "T,w\nreq out"
		    SrcPort		    1
		    DstBlock		    "wout,req"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "wout,req"
		    SrcPort		    1
		    Points		    [115, 0]
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    13
		    SrcBlock		    "win,min=\nwin,prev+rate*dt"
		    SrcPort		    1
		    Points		    [115, 0]
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "Memory3"
		    SrcPort		    1
		    Points		    [135, 0]
		    DstBlock		    "win,min=\nwin,prev+rate*dt"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    "dt=t-(t-1)"
		    SrcPort		    1
		    DstBlock		    "-3200 rpm/second\nallowable in engine\nspeed"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    ZOrder		    17
		    DstBlock		    "dt=t-(t-1)"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    18
		    Points		    [0, 20]
		    DstBlock		    "Memory4"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    19
		    SrcBlock		    "Memory4"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "dt=t-(t-1)"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "wout,req"
		    SID			    "1944"
		    Ports		    [1, 1]
		    Position		    [285, 490, 315, 520]
		    ZOrder		    -24
		    InputPortWidth	    "2"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "2"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "SR"
		    SID			    "1945"
		    Position		    [730, 240, 750, 260]
		    ZOrder		    -25
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "coasting"
		    SID			    "1946"
		    Position		    [730, 325, 750, 345]
		    ZOrder		    -26
		    Port		    "2"
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "K_adv"
		    SrcPort		    1
		    DstBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    ZOrder		    3
		    Points		    [0, 60]
		    DstBlock		    "coasting"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    4
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    ">0"
		    SrcPort		    1
		    DstBlock		    "SR"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "if coasting"
		    SrcPort		    1
		    DstBlock		    ">0"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "K_adv_coast"
		    SrcPort		    1
		    DstBlock		    "SR Look-Up\nTable\nSR=wout/win\ncoast"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    Points		    [45, 0]
		    DstBlock		    "if coasting"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "min,max"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "wout,req"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "SRmax=\nwout/win,min"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    13
		    SrcBlock		    "shifting SR"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "if coasting"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "locked up,\nthen SR=1"
		    SrcPort		    1
		    Points		    [15, 0; 0, -95]
		    DstBlock		    "shifting SR"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    "w in"
		    SrcPort		    1
		    DstBlock		    "shifting SR"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "locked up,\nthen SR=1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    17
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "locked up,\nthen SR=1"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    18
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "locked up,\nthen SR=1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    19
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    ZOrder		    20
		    Points		    [0, 25]
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    21
		    DstBlock		    "if coasting"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    22
		    SrcBlock		    "T"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    23
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-5, 0]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    24
		    SrcBlock		    "SR Look-Up\nTable\nSR=wout/win\ncoast"
		    SrcPort		    1
		    DstBlock		    "min,max"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    25
		    SrcBlock		    "T,w\nreq out"
		    SrcPort		    1
		    Points		    [55, 0]
		    Branch {
		    ZOrder		    26
		    Points		    [25, 0]
		    Branch {
		    ZOrder		    27
		    DstBlock		    "shifting SR"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    28
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    29
		    Points		    [0, 200]
		    Branch {
		    ZOrder		    30
		    Points		    [0, 130]
		    Branch {
		    ZOrder		    31
		    Points		    [0, 135]
		    DstBlock		    "wout,req"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    32
		    DstBlock		    "K_adv_coast"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    33
		    DstBlock		    "T"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    ZOrder		    34
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    ZOrder		    35
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    36
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "T, shifting"
		  SID			  "1947"
		  Ports			  [5, 1]
		  Position		  [135, 128, 165, 192]
		  ZOrder		  -13
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "T, shifting"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "TR"
		    SID			    "1948"
		    Position		    [40, 83, 70, 97]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd \ninput trq"
		    SID			    "1949"
		    Position		    [35, 28, 65, 42]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq"
		    SID			    "1950"
		    Position		    [35, 213, 65, 227]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "htc_spd_in_a"
		    SID			    "1951"
		    Position		    [45, 288, 75, 302]
		    ZOrder		    -4
		    Port		    "4"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "SR"
		    SID			    "1952"
		    Position		    [60, 388, 90, 402]
		    ZOrder		    -5
		    Port		    "5"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>2"
		    SID			    "1953"
		    Position		    [155, 180, 230, 200]
		    ZOrder		    -6
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "1954"
		    Position		    [200, 50, 230, 80]
		    ZOrder		    -7
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    SID			    "1955"
		    Position		    [170, 380, 200, 410]
		    ZOrder		    -8
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    SID			    "1956"
		    Ports		    [2, 1]
		    Position		    [440, 202, 470, 233]
		    ZOrder		    -9
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SID			    "1957"
		    Position		    [235, 380, 265, 410]
		    ZOrder		    -10
		    InputValues		    "htc_sr"
		    Table		    "htc_tr"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "T_max"
		    SID			    "1958"
		    Ports		    [2, 1]
		    Position		    [425, 252, 455, 283]
		    ZOrder		    -11
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "T_max"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    SID			    "1959"
		    Position		    [20, 45, 40, 65]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "TR"
		    SID			    "1960"
		    Position		    [20, 95, 40, 115]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    SID			    "1961"
		    Position		    [85, 46, 115, 64]
		    ZOrder		    -3
		    FontName		    "Arial"
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "min(fc_map_spd)*fc_spd_scale"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Tin*TR=\nTout"
		    SID			    "1962"
		    Ports		    [2, 1]
		    Position		    [275, 45, 295, 85]
		    ZOrder		    -4
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max_torque lookup"
		    SID			    "1963"
		    Position		    [180, 43, 210, 67]
		    ZOrder		    -5
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    Table		    "fc_max_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_max\nmax gain from htc"
		    SID			    "1964"
		    Position		    [360, 55, 380, 75]
		    ZOrder		    -6
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "max_torque lookup"
		    SrcPort		    1
		    DstBlock		    "Tin*TR=\nTout"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "TR"
		    SrcPort		    1
		    Points		    [215, 0]
		    DstBlock		    "Tin*TR=\nTout"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Tin*TR=\nTout"
		    SrcPort		    1
		    DstBlock		    "T_max\nmax gain from htc"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    DstBlock		    "max_torque lookup"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Tin*TR=\nTout,req"
		    SID			    "1965"
		    Ports		    [2, 1]
		    Position		    [145, 45, 165, 85]
		    ZOrder		    -12
		    ShowName		    off
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "engine speed\nestimator"
		    SID			    "1966"
		    Ports		    [1, 1]
		    Position		    [360, 280, 390, 310]
		    ZOrder		    -13
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "engine speed\nestimator"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "htc_spd_in_a"
		    SID			    "1967"
		    Position		    [40, 38, 70, 52]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory2"
		    SID			    "1968"
		    Position		    [120, 30, 150, 60]
		    ZOrder		    -2
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    SID			    "1969"
		    Position		    [190, 38, 220, 52]
		    ZOrder		    -3
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Memory2"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "htc_spd_in_a"
		    SrcPort		    1
		    DstBlock		    "Memory2"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "shifting,\noverride zero\nTrequest"
		    SID			    "1970"
		    Position		    [305, 195, 335, 225]
		    ZOrder		    -14
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T req"
		    SID			    "1971"
		    Position		    [500, 213, 530, 227]
		    ZOrder		    -15
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Tin*TR=\nTout,req"
		    SrcPort		    1
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "TR"
		    SrcPort		    1
		    Points		    [55, 0]
		    DstBlock		    "Tin*TR=\nTout,req"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Req'd \ninput trq"
		    SrcPort		    1
		    Points		    [60, 0]
		    DstBlock		    "Tin*TR=\nTout,req"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [40, 0; 0, 135]
		    DstBlock		    "shifting,\noverride zero\nTrequest"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "T_max"
		    SrcPort		    1
		    Points		    [10, 0; 0, -25; -45, 0]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "shifting,\noverride zero\nTrequest"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SrcPort		    1
		    Points		    [140, 0]
		    DstBlock		    "T_max"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    DstBlock		    "T req"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "engine speed\nestimator"
		    SrcPort		    1
		    Points		    [5, 0; 0, -35]
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "SR"
		    SrcPort		    1
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "htc_spd_in_a"
		    SrcPort		    1
		    DstBlock		    "engine speed\nestimator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    13
		    SrcBlock		    "Req'd output\ntrq"
		    SrcPort		    1
		    DstBlock		    "shifting,\noverride zero\nTrequest"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "From <vc>2"
		    SrcPort		    1
		    Points		    [0, 20]
		    DstBlock		    "shifting,\noverride zero\nTrequest"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "TR"
		  SID			  "1972"
		  Ports			  [2, 1]
		  Position		  [360, 77, 390, 113]
		  ZOrder		  -14
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "TR"
		    Location		    [164, 44, 968, 873]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "SR"
		    SID			    "1973"
		    Position		    [60, 80, 80, 100]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "coasting"
		    SID			    "1974"
		    Position		    [230, 265, 250, 285]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "1/SR*TR \nfor coast"
		    SID			    "1975"
		    Position		    [555, 94, 580, 116]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    SID			    "1976"
		    Position		    [250, 195, 280, 215]
		    ZOrder		    -4
		    ShowName		    off
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    SID			    "1977"
		    Position		    [155, 153, 220, 177]
		    ZOrder		    -5
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "locked_up"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto"
		    SID			    "1978"
		    Position		    [705, 83, 820, 107]
		    ZOrder		    -6
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "htc_efficiency"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    SID			    "1979"
		    Ports		    [1, 1]
		    Position		    [250, 149, 280, 181]
		    ZOrder		    -7
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    SID			    "1980"
		    Ports		    [1, 1]
		    Position		    [290, 259, 320, 291]
		    ZOrder		    -8
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SID			    "1981"
		    Position		    [230, 75, 260, 105]
		    ZOrder		    -9
		    InputValues		    "htc_sr"
		    Table		    "htc_tr"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin\ncoast"
		    SID			    "1982"
		    Position		    [245, 380, 275, 410]
		    ZOrder		    -10
		    InputValues		    "htc_sr_coast"
		    Table		    "htc_tr_coast"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "effic=SR*TR"
		    SID			    "1983"
		    Ports		    [2, 1]
		    Position		    [480, 45, 500, 85]
		    ZOrder		    -11
		    Inputs		    "**"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace2"
		    SID			    "1984"
		    Ports		    [1]
		    Position		    [725, 122, 820, 138]
		    ZOrder		    -12
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    TreatAsAtomicUnit	    on
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    426
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    427
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    428
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "efficiency"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    429
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "1984:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "1984:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_efficiency"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if coasting"
		    SID			    "1985"
		    Position		    [400, 260, 430, 290]
		    ZOrder		    -13
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if coasting1"
		    SID			    "1986"
		    Position		    [640, 80, 670, 110]
		    ZOrder		    -14
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "locked up,\nthen TR=1"
		    SID			    "1987"
		    Position		    [315, 150, 345, 180]
		    ZOrder		    -15
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "min,max"
		    SID			    "1988"
		    Position		    [320, 380, 350, 410]
		    ZOrder		    -16
		    UpperLimit		    "htc_max_coast_tr"
		    LowerLimit		    "htc_min_coast_tr"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "TR"
		    SID			    "1989"
		    Position		    [620, 265, 640, 285]
		    ZOrder		    -17
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "if coasting1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    ZOrder		    2
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    3
		    Points		    [0, 35]
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "1/SR*TR \nfor coast"
		    SrcPort		    1
		    DstBlock		    "if coasting1"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "effic=SR*TR"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    ZOrder		    6
		    Points		    [0, 40]
		    DstBlock		    "1/SR*TR \nfor coast"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    7
		    Points		    [90, 0]
		    DstBlock		    "if coasting1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    9
		    Points		    [0, -45; 280, 0; 0, -135]
		    DstBlock		    "if coasting1"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    10
		    DstBlock		    "if coasting"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "if coasting"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    ZOrder		    12
		    DstBlock		    "effic=SR*TR"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    13
		    DstBlock		    "TR"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "coasting"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    "SR"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    ZOrder		    16
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    17
		    Points		    [0, -35]
		    DstBlock		    "effic=SR*TR"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    18
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    19
		    Points		    [0, 305]
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin\ncoast"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    20
		    SrcBlock		    "min,max"
		    SrcPort		    1
		    Points		    [30, 0]
		    DstBlock		    "if coasting"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    21
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin\ncoast"
		    SrcPort		    1
		    DstBlock		    "min,max"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    22
		    SrcBlock		    "locked up,\nthen TR=1"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "if coasting"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    23
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "locked up,\nthen TR=1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    24
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    25
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "locked up,\nthen TR=1"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    26
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "locked up,\nthen TR=1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Tin=\nTout,req/TR"
		  SID			  "1990"
		  Ports			  [2, 1]
		  Position		  [495, 85, 515, 125]
		  ZOrder		  -15
		  Inputs		  "/*"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Tout=\nTin*TR"
		  SID			  "1991"
		  Ports			  [2, 1]
		  Position		  [435, 500, 455, 540]
		  ZOrder		  -16
		  Inputs		  "**"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Tout_a = \nTout-\nTinertia"
		  SID			  "1992"
		  Ports			  [2, 1]
		  Position		  [625, 497, 680, 528]
		  ZOrder		  -17
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Treq, in = \nTin+\nTinertia"
		  SID			  "1993"
		  Ports			  [2, 1]
		  Position		  [760, 127, 815, 158]
		  ZOrder		  -18
		  IconShape		  "rectangular"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "effect of inertia\n(Nm)"
		  SID			  "1994"
		  Ports			  [1, 1]
		  Position		  [495, 232, 525, 268]
		  ZOrder		  -19
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "turbine/output\nspeed (rad/s)"
		    SID			    "1995"
		    Position		    [50, 15, 70, 35]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "1996"
		    Position		    [30, 74, 135, 96]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Value		    "htc_inertia"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "1997"
		    Ports		    [2, 1]
		    Position		    [290, 13, 310, 57]
		    ZOrder		    -3
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Derivative
		    Name		    "d/dt"
		    SID			    "1998"
		    Position		    [155, 15, 185, 35]
		    ZOrder		    -4
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "inertia torque\n(Nm)"
		    SID			    "1999"
		    Position		    [380, 25, 400, 45]
		    ZOrder		    -5
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "inertia torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [70, 0; 0, -40]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "turbine/output\nspeed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "d/dt"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "d/dt"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Annotation {
		    SID			    "2000"
		    Name		    "This block computes the torque required to overcome the inertia of the\nturbine (plus 1/2 fluid in ht"
		    "c)."
		    Position		    [247, 117, 558, 139]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  SID			  "2001"
		  Ports			  [1]
		  Position		  [260, 502, 355, 518]
		  ZOrder		  -20
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    430
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    431
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    432
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_in_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    433
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2001:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2001:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_trq_in_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  SID			  "2002"
		  Ports			  [1]
		  Position		  [260, 547, 355, 563]
		  ZOrder		  -21
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    434
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    435
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    436
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_in_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    437
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2002:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2002:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_spd_in_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace10"
		  SID			  "2003"
		  Ports			  [1]
		  Position		  [750, 582, 845, 598]
		  ZOrder		  -22
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    438
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    439
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    440
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    441
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace10"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2003:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2003:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_spd_out_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  SID			  "2004"
		  Ports			  [1]
		  Position		  [210, 192, 305, 208]
		  ZOrder		  -23
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    442
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    443
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    444
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_out_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    445
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2004:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2004:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_trq_out_r"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  SID			  "2005"
		  Ports			  [1]
		  Position		  [210, 92, 305, 108]
		  ZOrder		  -24
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    446
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    447
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    448
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_out_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    449
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2005:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2005:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_spd_out_r"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  SID			  "2006"
		  Ports			  [1]
		  Position		  [450, 467, 545, 483]
		  ZOrder		  -25
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    450
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    451
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    452
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "sr_hist"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    453
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2006:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2006:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_sr_hist"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  SID			  "2007"
		  Ports			  [1]
		  Position		  [450, 397, 545, 413]
		  ZOrder		  -26
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    454
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    455
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    456
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "tr_hist"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    457
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2007:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2007:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_tr_hist"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  SID			  "2008"
		  Ports			  [1]
		  Position		  [880, 312, 975, 328]
		  ZOrder		  -27
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    458
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    459
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    460
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_in_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    461
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2008:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2008:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_spd_in_r"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  SID			  "2009"
		  Ports			  [1]
		  Position		  [875, 182, 970, 198]
		  ZOrder		  -28
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    462
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    463
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    464
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_in_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    465
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2009:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2009:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_trq_in_r"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace8"
		  SID			  "2010"
		  Ports			  [1]
		  Position		  [645, 442, 740, 458]
		  ZOrder		  -29
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    466
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    467
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    468
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_inertia"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    469
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2010:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2010:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_trq_inertia"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace9"
		  SID			  "2011"
		  Ports			  [1]
		  Position		  [750, 472, 845, 488]
		  ZOrder		  -30
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    470
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    471
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    472
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    473
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace9"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2011:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2011:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_trq_out_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Switch
		  Name			  "shifting,\nignore inertia\ntorque in request"
		  SID			  "2012"
		  Position		  [675, 180, 705, 210]
		  ZOrder		  -31
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Product
		  Name			  "win=\nwout/SR"
		  SID			  "2013"
		  Ports			  [2, 1]
		  Position		  [435, 300, 455, 340]
		  ZOrder		  -32
		  Inputs		  "*/"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "wout=\nwin*SR"
		  SID			  "2014"
		  Ports			  [2, 1]
		  Position		  [425, 570, 445, 610]
		  ZOrder		  -33
		  Inputs		  "**"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "req'd input\ntrq and spd\n(Nm), (rad/s)"
		  SID			  "2015"
		  Position		  [965, 233, 995, 247]
		  ZOrder		  -34
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "trq and spd\navailable at\noutput (Nm), (rad/s)"
		  SID			  "2016"
		  Position		  [885, 518, 915, 532]
		  ZOrder		  -35
		  Port			  "2"
		  InitialOutput		  "0"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  ">0."
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    ZOrder		    2
		    Points		    [0, -55]
		    DstBlock		    "Mux3"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    3
		    DstBlock		    "enhancedToWorkspace10"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "wout=\nwin*SR"
		  SrcPort		  1
		  DstBlock		  ">0."
		  DstPort		  1
		}
		Line {
		  ZOrder		  5
		  SrcBlock		  "Demux3"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    ZOrder		    6
		    DstBlock		    "Tout=\nTin*TR"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    7
		    Points		    [0, -20]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  8
		  SrcBlock		  "trq and spd\navailable at\ninput (Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux3"
		  DstPort		  1
		}
		Line {
		  ZOrder		  9
		  SrcBlock		  "Tout=\nTin*TR"
		  SrcPort		  1
		  DstBlock		  "Tout_a = \nTout-\nTinertia"
		  DstPort		  2
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "trq and spd\navailable at\noutput (Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  11
		  SrcBlock		  "win=\nwout/SR"
		  SrcPort		  1
		  DstBlock		  ">0\n"
		  DstPort		  1
		}
		Line {
		  ZOrder		  12
		  SrcBlock		  "T, shifting"
		  SrcPort		  1
		  Points		  [0, 60]
		  Branch {
		    ZOrder		    13
		    Points		    [0, 100]
		    DstBlock		    "Mux4"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    14
		    Points		    [25, 0]
		    Branch {
		    ZOrder		    15
		    Points		    [210, 0; 0, -105]
		    DstBlock		    "Tin=\nTout,req/TR"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    16
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  17
		  SrcBlock		  "Demux2"
		  SrcPort		  1
		  Points		  [5, 0; 0, -55]
		  DstBlock		  "T, shifting"
		  DstPort		  3
		}
		Line {
		  ZOrder		  18
		  SrcBlock		  "Demux3"
		  SrcPort		  2
		  Points		  [0, 0; 10, 0]
		  Branch {
		    ZOrder		    19
		    Points		    [20, 0]
		    Branch {
		    ZOrder		    20
		    Points		    [0, 45]
		    DstBlock		    "wout=\nwin*SR"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    21
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		  }
		  Branch {
		    ZOrder		    22
		    Points		    [0, -55]
		    Branch {
		    ZOrder		    23
		    Points		    [-110, 0; 0, -330]
		    DstBlock		    "T, shifting"
		    DstPort		    4
		    }
		    Branch {
		    ZOrder		    24
		    Points		    [0, -150]
		    DstBlock		    "SR"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  ZOrder		  25
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "SR"
		  DstPort		  1
		}
		Line {
		  ZOrder		  26
		  SrcBlock		  "SR"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    ZOrder		    27
		    Points		    [55, 0]
		    Branch {
		    ZOrder		    28
		    DstBlock		    "win=\nwout/SR"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    29
		    Points		    [0, 80]
		    Branch {
		    ZOrder		    30
		    Points		    [0, 65]
		    Branch {
		    ZOrder		    31
		    Points		    [0, 105]
		    DstBlock		    "wout=\nwin*SR"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    32
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    33
		    Points		    [-270, 0]
		    DstBlock		    "T, shifting"
		    DstPort		    5
		    }
		    }
		  }
		  Branch {
		    ZOrder		    34
		    Points		    [0, -245]
		    DstBlock		    "TR"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  35
		  SrcBlock		  "Tout_a = \nTout-\nTinertia"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    ZOrder		    36
		    DstBlock		    "Mux3"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    37
		    Points		    [0, -35]
		    DstBlock		    "enhancedToWorkspace9"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  38
		  SrcBlock		  "Demux2"
		  SrcPort		  2
		  Points		  [0, 0; 85, 0]
		  Branch {
		    ZOrder		    39
		    Points		    [0, -10]
		    Branch {
		    ZOrder		    40
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    41
		    Points		    [240, 0; 0, 5]
		    Branch {
		    ZOrder		    42
		    DstBlock		    "win=\nwout/SR"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    43
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		    }
		    }
		  }
		  Branch {
		    ZOrder		    44
		    Points		    [0, -155]
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  45
		  SrcBlock		  ">0\n"
		  SrcPort		  1
		  Points		  [175, 0; 0, 0]
		  Branch {
		    ZOrder		    46
		    Points		    [0, -70]
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    47
		    Points		    [0, 0]
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  48
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [25, 0]
		  DstBlock		  "shifting,\nignore inertia\ntorque in request"
		  DstPort		  1
		}
		Line {
		  ZOrder		  49
		  SrcBlock		  "effect of inertia\n(Nm)"
		  SrcPort		  1
		  Points		  [70, 0]
		  Branch {
		    ZOrder		    50
		    Points		    [0, 200]
		    Branch {
		    ZOrder		    51
		    Points		    [0, 55]
		    DstBlock		    "Tout_a = \nTout-\nTinertia"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    52
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		    }
		  }
		  Branch {
		    ZOrder		    53
		    Points		    [20, 0; 0, -45]
		    DstBlock		    "shifting,\nignore inertia\ntorque in request"
		    DstPort		    3
		  }
		}
		Line {
		  ZOrder		  54
		  SrcBlock		  "TR"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    ZOrder		    55
		    Points		    [0, 310]
		    Branch {
		    ZOrder		    56
		    Points		    [0, 105]
		    DstBlock		    "Tout=\nTin*TR"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    57
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		    }
		  }
		  Branch {
		    ZOrder		    58
		    Points		    [55, 0]
		    Branch {
		    ZOrder		    59
		    DstBlock		    "Tin=\nTout,req/TR"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    60
		    Points		    [0, -35; -350, 0]
		    DstBlock		    "T, shifting"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  61
		  SrcBlock		  "SR"
		  SrcPort		  2
		  Points		  [25, 0]
		  DstBlock		  "TR"
		  DstPort		  2
		}
		Line {
		  ZOrder		  62
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "req'd input\ntrq and spd\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  63
		  SrcBlock		  "Treq, in = \nTin+\nTinertia"
		  SrcPort		  1
		  Points		  [0, 45; 15, 0]
		  Branch {
		    ZOrder		    64
		    Points		    [20, 0]
		    Branch {
		    ZOrder		    65
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    66
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		    }
		  }
		  Branch {
		    ZOrder		    67
		    Points		    [0, -160; -725, 0; 0, 120]
		    DstBlock		    "T, shifting"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  68
		  SrcBlock		  "shifting,\nignore inertia\ntorque in request"
		  SrcPort		  1
		  Points		  [35, 0]
		  DstBlock		  "Treq, in = \nTin+\nTinertia"
		  DstPort		  2
		}
		Line {
		  ZOrder		  69
		  SrcBlock		  "Tin=\nTout,req/TR"
		  SrcPort		  1
		  Points		  [225, 0]
		  DstBlock		  "Treq, in = \nTin+\nTinertia"
		  DstPort		  1
		}
		Line {
		  ZOrder		  70
		  SrcBlock		  "req'd output\ntrq and spd\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  71
		  SrcBlock		  "From <vc>"
		  SrcPort		  1
		  DstBlock		  "shifting,\nignore inertia\ntorque in request"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      SID		      "2017"
	      Ports		      [1, 1]
	      Position		      [325, 66, 380, 94]
	      ZOrder		      -13
	      RequestExecContextInheritance off
	      System {
		Name			"signal\nannotator"
		Location		[164, 44, 968, 889]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  SID			  "2018"
		  Position		  [110, 103, 140, 117]
		  ZOrder		  -1
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  "2019"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  ZOrder		  -2
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  Port {
		    PortNumber		    1
		    Name		    "htc_trq_out_r"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "htc_spd_out_r"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  "2020"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ZOrder		  -3
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  SID			  "2021"
		  Position		  [430, 103, 460, 117]
		  ZOrder		  -4
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "htc_trq_out_r"
		  ZOrder		  2
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "htc_spd_out_r"
		  ZOrder		  3
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "requested\noutput"
	      SID		      "2022"
	      Position		      [475, 73, 505, 87]
	      ZOrder		      -14
	      NameLocation	      "top"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\ninput\nrequest"
	      SID		      "2023"
	      Position		      [475, 138, 505, 152]
	      ZOrder		      -15
	      NameLocation	      "top"
	      Port		      "2"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\noutput\nachieved"
	      SID		      "2024"
	      Position		      [475, 168, 505, 182]
	      ZOrder		      -16
	      Port		      "3"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      SID		      "2025"
	      Position		      [675, 333, 705, 347]
	      ZOrder		      -17
	      Port		      "4"
	      InitialOutput	      "0"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "trq and spd\noutput\nrequest"
	      SrcPort		      1
	      Points		      [0, 0; 50, 0]
	      Branch {
		ZOrder			2
		DstBlock		"htc model"
		DstPort			1
	      }
	      Branch {
		ZOrder			3
		Points			[0, -65]
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "htc model"
	      SrcPort		      1
	      DstBlock		      "trq and spd\ninput\nrequest"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "htc model"
	      SrcPort		      2
	      DstBlock		      "trq and spd\noutput\nachieved"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      6
	      SrcBlock		      "trq and spd\ninput\nachieved"
	      SrcPort		      1
	      DstBlock		      "htc model"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "requested\noutput"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      9
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      Points		      [0, -15]
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      10
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      Points		      [5, 0]
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "htc_efficiency"
	      ZOrder		      11
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      12
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Annotation {
	      SID		      "2026"
	      Name		      "Model"
	      Position		      [352, 35, 406, 58]
	      InternalMargins	      [0, 0, 0, 0]
	      BackgroundColor	      "yellow"
	      ZOrder		      -1
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      SID		      "2027"
	      Name		      "Interface"
	      Position		      [357, 260, 433, 283]
	      InternalMargins	      [0, 0, 0, 0]
	      BackgroundColor	      "yellow"
	      ZOrder		      -2
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  SID			  "2028"
	  Position		  [390, 44, 490, 86]
	  ZOrder		  -5
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "htcReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  SID			  "2029"
	  Position		  [390, 209, 490, 251]
	  ZOrder		  -6
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "htcSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T & w input\nrequested"
	  SID			  "2030"
	  Position		  [410, 138, 440, 152]
	  ZOrder		  -7
	  NameLocation		  "top"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T & w output\navailable"
	  SID			  "2031"
	  Position		  [350, 153, 380, 167]
	  ZOrder		  -8
	  Port			  "2"
	  InitialOutput		  "0"
	}
	Line {
	  ZOrder		  1
	  SrcBlock		  "conventional HTC \nand Interface"
	  SrcPort		  1
	  Points		  [85, 0; 0, -65]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  ZOrder		  2
	  SrcBlock		  "conventional HTC \nand Interface"
	  SrcPort		  4
	  Points		  [85, 0; 0, 55]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  ZOrder		  3
	  SrcBlock		  "conventional HTC \nand Interface"
	  SrcPort		  2
	  DstBlock		  "T & w input\nrequested"
	  DstPort		  1
	}
	Line {
	  ZOrder		  4
	  SrcBlock		  "conventional HTC \nand Interface"
	  SrcPort		  3
	  DstBlock		  "T & w output\navailable"
	  DstPort		  1
	}
	Line {
	  ZOrder		  5
	  SrcBlock		  "T & w output\nrequested"
	  SrcPort		  1
	  DstBlock		  "conventional HTC \nand Interface"
	  DstPort		  1
	}
	Line {
	  ZOrder		  6
	  SrcBlock		  "T & w input\navailable"
	  SrcPort		  1
	  DstBlock		  "conventional HTC \nand Interface"
	  DstPort		  2
	}
	Line {
	  ZOrder		  7
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [5, 0; 0, -55]
	  DstBlock		  "conventional HTC \nand Interface"
	  DstPort		  3
	}
	Annotation {
	  SID			  "2032"
	  Name			  "Hydraulic Torque Converter"
	  Position		  [222, 35, 460, 58]
	  InternalMargins	  [0, 0, 0, 0]
	  BackgroundColor	  "yellow"
	  ZOrder		  -1
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "hydraulic\ntorque\nconverter <htc>\nHEV"
      SID		      "2033"
      Ports		      [2, 2]
      Position		      [695, 138, 745, 202]
      ZOrder		      -11
      BackgroundColor	      "yellow"
      ShowPortLabels	      "none"
      RequestExecContextInheritance off
      Object {
	$PropName		"MaskObject"
	$ObjectID		474
	$ClassName		"Simulink.Mask"
	Type			"Stand-Alone HTC Mask"
	Initialization		"% initialization via m-file script\nadvSACompMaskInit;"
	Display			"image(imread(imgFileName))"
	Array {
	  Type			  "Simulink.MaskParameter"
	  Dimension		  6
	  Object {
	    $ObjectID		    475
	    Type		    "edit"
	    Name		    "generalName"
	    Prompt		    "General Name of this Component [char]"
	    Value		    "'htc'"
	  }
	  Object {
	    $ObjectID		    476
	    Type		    "popup"
	    Array {
	      Type		      "Cell"
	      Dimension		      2
	      Cell		      "Don't Log"
	      Cell		      "Log"
	      PropName		      "TypeOptions"
	    }
	    Name		    "logPick"
	    Prompt		    "Log Variables to Workspace?"
	    Value		    "Log"
	  }
	  Object {
	    $ObjectID		    477
	    Type		    "edit"
	    Name		    "initFileName"
	    Prompt		    "Initialization File(s) [cell array of char]"
	    Value		    "{}"
	  }
	  Object {
	    $ObjectID		    478
	    Type		    "edit"
	    Name		    "modCell"
	    Prompt		    "Modification Cell [2 column cell array of param and val]"
	    Value		    "{}"
	  }
	  Object {
	    $ObjectID		    479
	    Type		    "edit"
	    Name		    "imgFileName"
	    Prompt		    "Icon image file name [char--evaluated]"
	    Value		    "'bdi_htc.jpg'"
	  }
	  Object {
	    $ObjectID		    480
	    Type		    "popup"
	    Array {
	      Type		      "Cell"
	      Dimension		      2
	      Cell		      "ON"
	      Cell		      "OFF"
	      PropName		      "TypeOptions"
	    }
	    Name		    "DEBUG"
	    Prompt		    "DEBUG"
	    Value		    "OFF"
	    Evaluate		    "off"
	  }
	  PropName		  "Parameters"
	}
      }
      System {
	Name			"hydraulic\ntorque\nconverter <htc>\nHEV"
	Location		[176, 44, 968, 889]
	Open			off
	PortBlocksUseCompactNotation off
	SetExecutionDomain	off
	ExecutionDomainType	"Deduce"
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	SimulinkSubDomain	"Simulink"
	Block {
	  BlockType		  Inport
	  Name			  "T & w output\nrequested"
	  SID			  "2034"
	  Position		  [40, 128, 70, 142]
	  ZOrder		  -1
	  NameLocation		  "top"
	}
	Block {
	  BlockType		  Inport
	  Name			  "T & w input\navailable"
	  SID			  "2035"
	  Position		  [40, 148, 70, 162]
	  ZOrder		  -2
	  Port			  "2"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "HTC for parallel\nHEV and Interface"
	  SID			  "2036"
	  Ports			  [3, 4]
	  Position		  [190, 120, 230, 185]
	  ZOrder		  -3
	  ShowPortLabels	  "none"
	  RequestExecContextInheritance	off
	  System {
	    Name		    "HTC for parallel\nHEV and Interface"
	    Location		    [280, 44, 1084, 889]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\noutput\nrequest"
	      SID		      "2037"
	      Position		      [220, 213, 250, 227]
	      ZOrder		      -1
	      NameLocation	      "top"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\ninput\nachieved"
	      SID		      "2038"
	      Position		      [220, 243, 250, 257]
	      ZOrder		      -2
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      SID		      "2039"
	      Position		      [70, 408, 100, 422]
	      ZOrder		      -3
	      Port		      "3"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      SID		      "2040"
	      Ports		      [1, 2]
	      Position		      [115, 396, 120, 434]
	      ZOrder		      -4
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "2"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      SID		      "2041"
	      Position		      [145, 378, 260, 402]
	      ZOrder		      -5
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      SID		      "2042"
	      Position		      [265, 378, 354, 401]
	      ZOrder		      -6
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      SID		      "2043"
	      Position		      [265, 428, 354, 451]
	      ZOrder		      -7
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "locked_up"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      SID		      "2044"
	      Position		      [145, 428, 260, 452]
	      ZOrder		      -8
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "locked_up"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "Ground"
	      SID		      "2045"
	      Position		      [485, 410, 505, 430]
	      ZOrder		      -9
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "model for parallel HEV"
	      SID		      "2046"
	      Ports		      [2, 2]
	      Position		      [360, 203, 400, 267]
	      ZOrder		      -10
	      ShowPortLabels	      "none"
	      RequestExecContextInheritance off
	      System {
		Name			"model for parallel HEV"
		Location		[401, 369, 923, 831]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "req'd output\ntrq and spd\n(Nm), (rad/s)"
		  SID			  "2047"
		  Position		  [40, 188, 70, 202]
		  ZOrder		  -1
		}
		Block {
		  BlockType		  Inport
		  Name			  "trq and spd\navailable at\ninput (Nm), (rad/s)"
		  SID			  "2048"
		  Position		  [65, 498, 95, 512]
		  ZOrder		  -2
		  Port			  "2"
		}
		Block {
		  BlockType		  Saturate
		  Name			  ">0\n"
		  SID			  "2049"
		  Position		  [640, 265, 670, 295]
		  ZOrder		  -3
		  UpperLimit		  "inf"
		  LowerLimit		  "0"
		}
		Block {
		  BlockType		  Saturate
		  Name			  ">0."
		  SID			  "2050"
		  Position		  [655, 535, 685, 565]
		  ZOrder		  -4
		  UpperLimit		  "inf"
		  LowerLimit		  "0"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  SID			  "2051"
		  Ports			  []
		  Position		  [895, 540, 951, 580]
		  ZOrder		  -5
		  BackgroundColor	  "green"
		  ShowName		  off
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    481
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		  }
		  System {
		    Name		    "Block NOTES"
		    Location		    [395, 408, 894, 736]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "2052"
		    Name		    "This block predicts the relative speed of the HTC input (pump) and output\n(turbine).  Torque convert"
		    "er lockup is modeled.\n"
		    Position		    [227, 12, 552, 44]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  SID			  "2053"
		  Position		  [625, 80, 645, 100]
		  ZOrder		  -6
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux2"
		  SID			  "2054"
		  Ports			  [1, 2]
		  Position		  [95, 156, 105, 234]
		  ZOrder		  -7
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux3"
		  SID			  "2055"
		  Ports			  [1, 2]
		  Position		  [185, 476, 220, 529]
		  ZOrder		  -8
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc>"
		  SID			  "2056"
		  Position		  [560, 130, 635, 150]
		  ZOrder		  -9
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "shifting"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  SID			  "2057"
		  Ports			  [2, 1]
		  Position		  [885, 182, 920, 218]
		  ZOrder		  -10
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  SID			  "2058"
		  Ports			  [2, 1]
		  Position		  [765, 467, 800, 503]
		  ZOrder		  -11
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  SID			  "2059"
		  Ports			  [2, 1]
		  Position		  [210, 271, 220, 309]
		  ZOrder		  -12
		  ShowName		  off
		  Inputs		  "2"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "SR"
		  SID			  "2060"
		  Ports			  [2, 2]
		  Position		  [300, 282, 330, 318]
		  ZOrder		  -13
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "SR"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "T,w\nreq out"
		    SID			    "2061"
		    Position		    [50, 30, 70, 50]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w in"
		    SID			    "2062"
		    Position		    [415, 45, 435, 65]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">0"
		    SID			    "2063"
		    Position		    [665, 235, 695, 265]
		    ZOrder		    -3
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "2064"
		    Position		    [245, 270, 265, 290]
		    ZOrder		    -4
		    BlockMirror		    on
		    ShowName		    off
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "2065"
		    Position		    [250, 542, 350, 568]
		    ZOrder		    -5
		    ShowName		    off
		    Value		    "vc_idle_spd+eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    SID			    "2066"
		    Position		    [355, 195, 385, 215]
		    ZOrder		    -6
		    ShowName		    off
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    SID			    "2067"
		    Position		    [170, 153, 235, 177]
		    ZOrder		    -7
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "locked_up"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "K_adv"
		    SID			    "2068"
		    Ports		    [1, 1]
		    Position		    [170, 80, 200, 110]
		    ZOrder		    -8
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "K_adv"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq and spd\n(Nm), (rad/s)"
		    SID			    "2069"
		    Position		    [20, 58, 50, 72]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">0"
		    SID			    "2070"
		    Position		    [95, 50, 125, 80]
		    ZOrder		    -2
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "K_adv=wout/(Tout)^0.5"
		    SID			    "2071"
		    Position		    [155, 51, 275, 79]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Expr		    "u[2]/u[1]^0.5"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    SID			    "2072"
		    Position		    [315, 50, 345, 80]
		    ZOrder		    -4
		    UpperLimit		    "max(htc_k_adv)"
		    LowerLimit		    "min(htc_k_adv)"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "K_adv"
		    SID			    "2073"
		    Position		    [400, 58, 430, 72]
		    ZOrder		    -5
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    ">0"
		    SrcPort		    1
		    DstBlock		    "K_adv=wout/(Tout)^0.5"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Req'd output\ntrq and spd\n(Nm), (rad/s)"
		    SrcPort		    1
		    DstBlock		    ">0"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "K_adv=wout/(Tout)^0.5"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "K_adv_coast"
		    SID			    "2074"
		    Ports		    [1, 1]
		    Position		    [215, 355, 245, 385]
		    ZOrder		    -9
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "K_adv_coast"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq and spd\n(Nm), (rad/s)"
		    SID			    "2075"
		    Position		    [20, 58, 50, 72]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "K_adv=wout/(abs(Tout))^0.5"
		    SID			    "2076"
		    Position		    [125, 51, 245, 79]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Expr		    "u[2]/abs(u[1]+eps)^0.5"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    SID			    "2077"
		    Position		    [310, 50, 340, 80]
		    ZOrder		    -3
		    ForegroundColor	    "red"
		    UpperLimit		    "max(htc_k_adv_coast)"
		    LowerLimit		    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "K_adv_coast"
		    SID			    "2078"
		    Position		    [400, 58, 430, 72]
		    ZOrder		    -4
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "K_adv=wout/(abs(Tout))^0.5"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "K_adv_coast"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Req'd output\ntrq and spd\n(Nm), (rad/s)"
		    SrcPort		    1
		    DstBlock		    "K_adv=wout/(abs(Tout))^0.5"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    SID			    "2079"
		    Ports		    [1, 1]
		    Position		    [355, 149, 385, 181]
		    ZOrder		    -10
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    SID			    "2080"
		    Ports		    [1, 1]
		    Position		    [345, 261, 375, 289]
		    ZOrder		    -11
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    SID			    "2081"
		    Ports		    [2, 1]
		    Position		    [500, 427, 530, 458]
		    ZOrder		    -12
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "2082"
		    Ports		    [2, 1]
		    Position		    [250, 232, 280, 263]
		    ZOrder		    -13
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "SR Look-Up\nTable\nSR=wout/win"
		    SID			    "2083"
		    Position		    [335, 75, 365, 105]
		    ZOrder		    -14
		    InputValues		    "htc_k_adv"
		    Table		    "htc_sr"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "SR Look-Up\nTable\nSR=wout/win\ncoast"
		    SID			    "2084"
		    Position		    [335, 355, 365, 385]
		    ZOrder		    -15
		    InputValues		    "fliplr(htc_k_adv_coast)"
		    Table		    "fliplr(htc_sr_coast)"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "SRmax=\nwout/win,min"
		    SID			    "2085"
		    Ports		    [2, 1]
		    Position		    [435, 525, 455, 565]
		    ZOrder		    -16
		    Inputs		    "*/"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "T"
		    SID			    "2086"
		    Ports		    [1, 1]
		    Position		    [175, 225, 205, 255]
		    ZOrder		    -17
		    InputPortWidth	    "2"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "1"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    SID			    "2087"
		    Ports		    [1]
		    Position		    [255, 192, 350, 208]
		    ZOrder		    -18
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    TreatAsAtomicUnit	    on
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    482
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    483
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    484
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "locked"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    485
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2087:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2087:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace1"
		    SID			    "2088"
		    Ports		    [1]
		    Position		    [395, 267, 490, 283]
		    ZOrder		    -19
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    TreatAsAtomicUnit	    on
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    486
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    487
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    488
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "coasting"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    489
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2088:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2088:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if coasting"
		    SID			    "2089"
		    Position		    [595, 235, 625, 265]
		    ZOrder		    -20
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "locked up,\nthen SR=1"
		    SID			    "2090"
		    Position		    [420, 150, 450, 180]
		    ZOrder		    -21
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "min,max"
		    SID			    "2091"
		    Position		    [425, 355, 455, 385]
		    ZOrder		    -22
		    UpperLimit		    "inf"
		    LowerLimit		    "1"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "shifting SR"
		    SID			    "2092"
		    Ports		    [3, 1]
		    Position		    [510, 35, 540, 75]
		    ZOrder		    -23
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "shifting SR"
		    Location		    [45, 136, 976, 700]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "T,w\nreq out"
		    SID			    "2093"
		    Position		    [35, 35, 55, 55]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w in"
		    SID			    "2094"
		    Position		    [35, 85, 55, 105]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "SR"
		    SID			    "2095"
		    Position		    [50, 330, 70, 350]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "-3200 rpm/second\nallowable in engine\nspeed"
		    SID			    "2096"
		    Position		    [220, 153, 310, 187]
		    ZOrder		    -4
		    Gain		    "-3200*pi/30"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">0"
		    SID			    "2097"
		    Position		    [90, 80, 120, 110]
		    ZOrder		    -5
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    }
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    SID			    "2098"
		    Position		    [40, 150, 60, 170]
		    ZOrder		    -6
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>1"
		    SID			    "2099"
		    Position		    [555, 280, 630, 300]
		    ZOrder		    -7
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory3"
		    SID			    "2100"
		    Position		    [160, 80, 190, 110]
		    ZOrder		    -8
		    ShowName		    off
		    InitialCondition	    "eps"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory4"
		    SID			    "2101"
		    Position		    [95, 165, 125, 195]
		    ZOrder		    -9
		    ShowName		    off
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    SID			    "2102"
		    Ports		    [2, 1]
		    Position		    [580, 157, 610, 188]
		    ZOrder		    -10
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "SRmax=\nwout/win,min"
		    SID			    "2103"
		    Ports		    [2, 1]
		    Position		    [510, 40, 530, 80]
		    ZOrder		    -11
		    Inputs		    "*/"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "dt=t-(t-1)"
		    SID			    "2104"
		    Ports		    [2, 1]
		    Position		    [155, 153, 185, 182]
		    ZOrder		    -12
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "shifting,\nthen limit \nengine speed\nchange"
		    SID			    "2105"
		    Position		    [665, 275, 695, 305]
		    ZOrder		    -13
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "win,min=\nwin,prev+rate*dt"
		    SID			    "2106"
		    Ports		    [2, 1]
		    Position		    [345, 92, 375, 123]
		    ZOrder		    -14
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "wout,req"
		    SID			    "2107"
		    Ports		    [1, 1]
		    Position		    [345, 30, 375, 60]
		    ZOrder		    -15
		    InputPortWidth	    "2"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "2"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "SR\nlimited"
		    SID			    "2108"
		    Position		    [790, 280, 810, 300]
		    ZOrder		    -16
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "-3200 rpm/second\nallowable in engine\nspeed"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "win,min=\nwin,prev+rate*dt"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    ">0"
		    SrcPort		    1
		    DstBlock		    "Memory3"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "w in"
		    SrcPort		    1
		    DstBlock		    ">0"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "shifting,\nthen limit \nengine speed\nchange"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "shifting,\nthen limit \nengine speed\nchange"
		    SrcPort		    1
		    DstBlock		    "SR\nlimited"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "SR"
		    SrcPort		    1
		    Points		    [375, 0]
		    Branch {
		    ZOrder		    7
		    Points		    [0, -160]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    8
		    Points		    [195, 0; 0, -40]
		    DstBlock		    "shifting,\nthen limit \nengine speed\nchange"
		    DstPort		    3
		    }
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "SRmax=\nwout/win,min"
		    SrcPort		    1
		    Points		    [30, 0; 0, 95]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "From <vc>1"
		    SrcPort		    1
		    DstBlock		    "shifting,\nthen limit \nengine speed\nchange"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "T,w\nreq out"
		    SrcPort		    1
		    DstBlock		    "wout,req"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "wout,req"
		    SrcPort		    1
		    Points		    [115, 0]
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    13
		    SrcBlock		    "win,min=\nwin,prev+rate*dt"
		    SrcPort		    1
		    Points		    [115, 0]
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "Memory3"
		    SrcPort		    1
		    Points		    [135, 0]
		    DstBlock		    "win,min=\nwin,prev+rate*dt"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    "dt=t-(t-1)"
		    SrcPort		    1
		    DstBlock		    "-3200 rpm/second\nallowable in engine\nspeed"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    ZOrder		    17
		    DstBlock		    "dt=t-(t-1)"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    18
		    Points		    [0, 20]
		    DstBlock		    "Memory4"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    19
		    SrcBlock		    "Memory4"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "dt=t-(t-1)"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "wout,req"
		    SID			    "2109"
		    Ports		    [1, 1]
		    Position		    [285, 490, 315, 520]
		    ZOrder		    -24
		    InputPortWidth	    "2"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "2"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "SR"
		    SID			    "2110"
		    Position		    [730, 240, 750, 260]
		    ZOrder		    -25
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "coasting"
		    SID			    "2111"
		    Position		    [730, 325, 750, 345]
		    ZOrder		    -26
		    Port		    "2"
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "K_adv"
		    SrcPort		    1
		    Points		    [115, 0]
		    DstBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    ZOrder		    3
		    Points		    [0, 60]
		    DstBlock		    "coasting"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    4
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    ">0"
		    SrcPort		    1
		    DstBlock		    "SR"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "if coasting"
		    SrcPort		    1
		    DstBlock		    ">0"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "K_adv_coast"
		    SrcPort		    1
		    DstBlock		    "SR Look-Up\nTable\nSR=wout/win\ncoast"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    Points		    [45, 0]
		    DstBlock		    "if coasting"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "min,max"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "wout,req"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "SRmax=\nwout/win,min"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    13
		    SrcBlock		    "shifting SR"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "if coasting"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "locked up,\nthen SR=1"
		    SrcPort		    1
		    Points		    [15, 0; 0, -95]
		    DstBlock		    "shifting SR"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    "w in"
		    SrcPort		    1
		    DstBlock		    "shifting SR"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "locked up,\nthen SR=1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    17
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "locked up,\nthen SR=1"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    18
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "locked up,\nthen SR=1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    19
		    SrcBlock		    "T"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    20
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-5, 0]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    21
		    SrcBlock		    "SR Look-Up\nTable\nSR=wout/win\ncoast"
		    SrcPort		    1
		    DstBlock		    "min,max"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    22
		    SrcBlock		    "T,w\nreq out"
		    SrcPort		    1
		    Points		    [55, 0]
		    Branch {
		    ZOrder		    23
		    Points		    [25, 0]
		    Branch {
		    ZOrder		    24
		    DstBlock		    "shifting SR"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    25
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    26
		    Points		    [0, 200]
		    Branch {
		    ZOrder		    27
		    Points		    [0, 130]
		    Branch {
		    ZOrder		    28
		    Points		    [0, 135]
		    DstBlock		    "wout,req"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    29
		    DstBlock		    "K_adv_coast"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    30
		    DstBlock		    "T"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    ZOrder		    31
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    32
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    33
		    Points		    [0, 20; -20, 0; 0, 15]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    34
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [0, 5; 45, 0]
		    Branch {
		    ZOrder		    35
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    36
		    Points		    [250, 0]
		    DstBlock		    "if coasting"
		    DstPort		    2
		    }
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "T, shifting"
		  SID			  "2112"
		  Ports			  [5, 1]
		  Position		  [150, 88, 180, 152]
		  ZOrder		  -14
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "T, shifting"
		    Location		    [197, 52, 801, 718]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "TR"
		    SID			    "2113"
		    Position		    [40, 83, 70, 97]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd \ninput trq"
		    SID			    "2114"
		    Position		    [35, 28, 65, 42]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq"
		    SID			    "2115"
		    Position		    [35, 213, 65, 227]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "htc_spd_in_a"
		    SID			    "2116"
		    Position		    [45, 288, 75, 302]
		    ZOrder		    -4
		    Port		    "4"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "SR"
		    SID			    "2117"
		    Position		    [60, 388, 90, 402]
		    ZOrder		    -5
		    Port		    "5"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>2"
		    SID			    "2118"
		    Position		    [140, 170, 215, 190]
		    ZOrder		    -6
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "2119"
		    Position		    [200, 50, 230, 80]
		    ZOrder		    -7
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    SID			    "2120"
		    Position		    [170, 380, 200, 410]
		    ZOrder		    -8
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    SID			    "2121"
		    Ports		    [2, 1]
		    Position		    [440, 202, 470, 233]
		    ZOrder		    -9
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SID			    "2122"
		    Position		    [235, 380, 265, 410]
		    ZOrder		    -10
		    InputValues		    "htc_sr"
		    Table		    "htc_tr"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "T_max"
		    SID			    "2123"
		    Ports		    [2, 1]
		    Position		    [425, 252, 455, 283]
		    ZOrder		    -11
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "T_max"
		    Location		    [251, 207, 862, 641]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    SID			    "2124"
		    Position		    [20, 45, 40, 65]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "TR"
		    SID			    "2125"
		    Position		    [25, 180, 45, 200]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    SID			    "2126"
		    Ports		    []
		    Position		    [505, 195, 561, 235]
		    ZOrder		    -3
		    BackgroundColor	    "green"
		    ShowName		    off
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    490
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		    }
		    System {
		    Name		    "Block NOTES"
		    Location		    [397, 406, 821, 686]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "2127"
		    Name		    "Notes: engine_on flag causes algebric loop. Is it necessary? \nDoesn't seem to be. Disabled 10/31/00:tm"
		    Position		    [192, 36, 462, 58]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -1
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "2128"
		    Position		    [225, 140, 255, 170]
		    ZOrder		    -4
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    SID			    "2129"
		    Position		    [135, 85, 165, 115]
		    ZOrder		    -5
		    Gain		    "tc_mc_to_fc_ratio"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain1"
		    SID			    "2130"
		    Position		    [255, 85, 285, 115]
		    ZOrder		    -6
		    Gain		    "tc_mc_to_fc_ratio"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    SID			    "2131"
		    Position		    [75, 46, 105, 64]
		    ZOrder		    -7
		    FontName		    "Arial"
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "min(fc_map_spd)*fc_spd_scale"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    "2132"
		    Ports		    [2, 1]
		    Position		    [310, 46, 330, 79]
		    ZOrder		    -8
		    ShowName		    off
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "2133"
		    Position		    [365, 60, 395, 90]
		    ZOrder		    -9
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Tin*TR=\nTout"
		    SID			    "2134"
		    Ports		    [2, 1]
		    Position		    [435, 65, 455, 105]
		    ZOrder		    -10
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max_torque \nmc lookup1"
		    SID			    "2135"
		    Position		    [195, 88, 225, 112]
		    ZOrder		    -11
		    InputValues		    "mc_map_spd*mc_spd_scale"
		    Table		    "mc_max_trq*mc_overtrq_factor*mc_trq_scale"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max_torque lookup"
		    SID			    "2136"
		    Position		    [195, 43, 225, 67]
		    ZOrder		    -12
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    Table		    "fc_max_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_max\nmax gain from htc"
		    SID			    "2137"
		    Position		    [510, 75, 530, 95]
		    ZOrder		    -13
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Tin*TR=\nTout"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Gain1"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    ZOrder		    3
		    Points		    [55, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Branch {
		    ZOrder		    4
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [80, 0; 0, -80]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "max_torque \nmc lookup1"
		    SrcPort		    1
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "max_torque \nmc lookup1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    ZOrder		    10
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    11
		    DstBlock		    "max_torque lookup"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "max_torque lookup"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    13
		    SrcBlock		    "TR"
		    SrcPort		    1
		    Points		    [370, 0]
		    DstBlock		    "Tin*TR=\nTout"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "Tin*TR=\nTout"
		    SrcPort		    1
		    DstBlock		    "T_max\nmax gain from htc"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Tin*TR=\nTout,req"
		    SID			    "2138"
		    Ports		    [2, 1]
		    Position		    [145, 45, 165, 85]
		    ZOrder		    -12
		    ShowName		    off
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "engine speed\nestimator"
		    SID			    "2139"
		    Ports		    [1, 1]
		    Position		    [360, 280, 390, 310]
		    ZOrder		    -13
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "engine speed\nestimator"
		    Location		    [316, 101, 715, 433]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "htc_spd_in_a"
		    SID			    "2140"
		    Position		    [40, 38, 70, 52]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory2"
		    SID			    "2141"
		    Position		    [120, 30, 150, 60]
		    ZOrder		    -2
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    SID			    "2142"
		    Position		    [190, 38, 220, 52]
		    ZOrder		    -3
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Memory2"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "htc_spd_in_a"
		    SrcPort		    1
		    DstBlock		    "Memory2"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "shifting,\noverride zero\nTrequest"
		    SID			    "2143"
		    Position		    [305, 195, 335, 225]
		    ZOrder		    -14
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T req"
		    SID			    "2144"
		    Position		    [500, 213, 530, 227]
		    ZOrder		    -15
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Tin*TR=\nTout,req"
		    SrcPort		    1
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "TR"
		    SrcPort		    1
		    Points		    [55, 0]
		    DstBlock		    "Tin*TR=\nTout,req"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Req'd \ninput trq"
		    SrcPort		    1
		    Points		    [60, 0]
		    DstBlock		    "Tin*TR=\nTout,req"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [40, 0; 0, 135]
		    DstBlock		    "shifting,\noverride zero\nTrequest"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "T_max"
		    SrcPort		    1
		    Points		    [10, 0; 0, -25; -45, 0]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "shifting,\noverride zero\nTrequest"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SrcPort		    1
		    Points		    [140, 0]
		    DstBlock		    "T_max"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    DstBlock		    "T req"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "engine speed\nestimator"
		    SrcPort		    1
		    Points		    [5, 0; 0, -35]
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "SR"
		    SrcPort		    1
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "htc_spd_in_a"
		    SrcPort		    1
		    DstBlock		    "engine speed\nestimator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    13
		    SrcBlock		    "Req'd output\ntrq"
		    SrcPort		    1
		    DstBlock		    "shifting,\noverride zero\nTrequest"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "From <vc>2"
		    SrcPort		    1
		    Points		    [15, 0; 0, 30]
		    DstBlock		    "shifting,\noverride zero\nTrequest"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "TR"
		  SID			  "2145"
		  Ports			  [2, 1]
		  Position		  [375, 37, 405, 73]
		  ZOrder		  -15
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "TR"
		    Location		    [74, 93, 912, 750]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "SR"
		    SID			    "2146"
		    Position		    [60, 80, 80, 100]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "coasting"
		    SID			    "2147"
		    Position		    [230, 265, 250, 285]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "1/SR*TR \nfor coast"
		    SID			    "2148"
		    Position		    [555, 89, 580, 111]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    SID			    "2149"
		    Position		    [250, 195, 280, 215]
		    ZOrder		    -4
		    ShowName		    off
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    SID			    "2150"
		    Position		    [155, 153, 220, 177]
		    ZOrder		    -5
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "locked_up"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    SID			    "2151"
		    Ports		    [1, 1]
		    Position		    [250, 149, 280, 181]
		    ZOrder		    -6
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    SID			    "2152"
		    Ports		    [1, 1]
		    Position		    [290, 259, 320, 291]
		    ZOrder		    -7
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SID			    "2153"
		    Position		    [230, 75, 260, 105]
		    ZOrder		    -8
		    InputValues		    "htc_sr"
		    Table		    "htc_tr"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin\ncoast"
		    SID			    "2154"
		    Position		    [245, 380, 275, 410]
		    ZOrder		    -9
		    InputValues		    "htc_sr_coast"
		    Table		    "htc_tr_coast"
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace11"
		    SID			    "2155"
		    Ports		    [1]
		    Position		    [700, 85, 770, 105]
		    ZOrder		    -10
		    ShowName		    off
		    VariableName	    "htc_efficiency"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "effic=SR*TR"
		    SID			    "2156"
		    Ports		    [2, 1]
		    Position		    [480, 45, 500, 85]
		    ZOrder		    -11
		    Inputs		    "**"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if coasting"
		    SID			    "2157"
		    Position		    [400, 260, 430, 290]
		    ZOrder		    -12
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if coasting1"
		    SID			    "2158"
		    Position		    [640, 80, 670, 110]
		    ZOrder		    -13
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "locked up,\nthen TR=1"
		    SID			    "2159"
		    Position		    [315, 150, 345, 180]
		    ZOrder		    -14
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "min,max"
		    SID			    "2160"
		    Position		    [320, 380, 350, 410]
		    ZOrder		    -15
		    UpperLimit		    "htc_max_coast_tr"
		    LowerLimit		    "htc_min_coast_tr"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "TR"
		    SID			    "2161"
		    Position		    [620, 265, 640, 285]
		    ZOrder		    -16
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "if coasting1"
		    SrcPort		    1
		    DstBlock		    "To Workspace11"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "1/SR*TR \nfor coast"
		    SrcPort		    1
		    Points		    [40, 0]
		    DstBlock		    "if coasting1"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "effic=SR*TR"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    ZOrder		    4
		    Points		    [0, 35]
		    DstBlock		    "1/SR*TR \nfor coast"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    5
		    Points		    [90, 0]
		    DstBlock		    "if coasting1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    7
		    Points		    [0, -45; 280, 0; 0, -135]
		    DstBlock		    "if coasting1"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    8
		    DstBlock		    "if coasting"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "if coasting"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    ZOrder		    10
		    DstBlock		    "effic=SR*TR"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    11
		    DstBlock		    "TR"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "coasting"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    13
		    SrcBlock		    "SR"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    ZOrder		    14
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    15
		    Points		    [0, -35]
		    DstBlock		    "effic=SR*TR"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    16
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    17
		    Points		    [0, 305]
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin\ncoast"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    18
		    SrcBlock		    "min,max"
		    SrcPort		    1
		    Points		    [30, 0]
		    DstBlock		    "if coasting"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    19
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin\ncoast"
		    SrcPort		    1
		    DstBlock		    "min,max"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    20
		    SrcBlock		    "locked up,\nthen TR=1"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "if coasting"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    21
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "locked up,\nthen TR=1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    22
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    23
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "locked up,\nthen TR=1"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    24
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "locked up,\nthen TR=1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Tin=\nTout,req/TR"
		  SID			  "2162"
		  Ports			  [2, 1]
		  Position		  [510, 45, 530, 85]
		  ZOrder		  -16
		  Inputs		  "/*"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Tout=\nTin*TR"
		  SID			  "2163"
		  Ports			  [2, 1]
		  Position		  [450, 460, 470, 500]
		  ZOrder		  -17
		  Inputs		  "**"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Tout_a = \nTout-\nTinertia"
		  SID			  "2164"
		  Ports			  [2, 1]
		  Position		  [640, 457, 695, 488]
		  ZOrder		  -18
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Treq, in = \nTin+\nTinertia"
		  SID			  "2165"
		  Ports			  [2, 1]
		  Position		  [775, 87, 830, 118]
		  ZOrder		  -19
		  IconShape		  "rectangular"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "effect of inertia\n(Nm)"
		  SID			  "2166"
		  Ports			  [1, 1]
		  Position		  [505, 192, 535, 228]
		  ZOrder		  -20
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [294, 196, 825, 527]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "turbine/output\nspeed (rad/s)"
		    SID			    "2167"
		    Position		    [50, 15, 70, 35]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "2168"
		    Position		    [30, 74, 135, 96]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Value		    "htc_inertia"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "2169"
		    Ports		    [2, 1]
		    Position		    [290, 13, 310, 57]
		    ZOrder		    -3
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Derivative
		    Name		    "d/dt"
		    SID			    "2170"
		    Position		    [155, 15, 185, 35]
		    ZOrder		    -4
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "inertia torque\n(Nm)"
		    SID			    "2171"
		    Position		    [380, 25, 400, 45]
		    ZOrder		    -5
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "inertia torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [70, 0; 0, -40]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "turbine/output\nspeed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "d/dt"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "d/dt"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Annotation {
		    SID			    "2172"
		    Name		    "This block computes the torque required to overcome the inertia of the\nturbine (plus 1/2 fluid in ht"
		    "c)."
		    Position		    [247, 117, 558, 139]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  SID			  "2173"
		  Ports			  [1]
		  Position		  [275, 507, 370, 523]
		  ZOrder		  -21
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    491
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    492
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    493
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_in_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    494
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2173:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2173:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  SID			  "2174"
		  Ports			  [1]
		  Position		  [275, 462, 370, 478]
		  ZOrder		  -22
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    495
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    496
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    497
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_in_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    498
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2174:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2174:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace10"
		  SID			  "2175"
		  Ports			  [1]
		  Position		  [895, 142, 990, 158]
		  ZOrder		  -23
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    499
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    500
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    501
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_in_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    502
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace10"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2175:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2175:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  SID			  "2176"
		  Ports			  [1]
		  Position		  [465, 427, 560, 443]
		  ZOrder		  -24
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    503
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    504
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    505
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "sr_hist"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    506
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2176:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2176:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  SID			  "2177"
		  Ports			  [1]
		  Position		  [465, 357, 560, 373]
		  ZOrder		  -25
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    507
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    508
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    509
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "tr_hist"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    510
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2177:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2177:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  SID			  "2178"
		  Ports			  [1]
		  Position		  [660, 402, 755, 418]
		  ZOrder		  -26
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    511
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    512
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    513
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_inertia"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    514
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2178:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2178:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  SID			  "2179"
		  Ports			  [1]
		  Position		  [770, 432, 865, 448]
		  ZOrder		  -27
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    515
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    516
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    517
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    518
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2179:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2179:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  SID			  "2180"
		  Ports			  [1]
		  Position		  [770, 542, 865, 558]
		  ZOrder		  -28
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    519
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    520
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    521
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    522
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2180:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2180:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  SID			  "2181"
		  Ports			  [1]
		  Position		  [230, 152, 325, 168]
		  ZOrder		  -29
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    523
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    524
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    525
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_out_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    526
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2181:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2181:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace8"
		  SID			  "2182"
		  Ports			  [1]
		  Position		  [230, 52, 325, 68]
		  ZOrder		  -30
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    527
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    528
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    529
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_out_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    530
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2182:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2182:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace9"
		  SID			  "2183"
		  Ports			  [1]
		  Position		  [895, 272, 990, 288]
		  ZOrder		  -31
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    531
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    532
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    533
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_in_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    534
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace9"
		    Location		    [164, 44, 968, 897]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2183:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2183:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Switch
		  Name			  "shifting,\nignore inertia\ntorque in request"
		  SID			  "2184"
		  Position		  [690, 140, 720, 170]
		  ZOrder		  -32
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Product
		  Name			  "win=\nwout/SR"
		  SID			  "2185"
		  Ports			  [2, 1]
		  Position		  [450, 260, 470, 300]
		  ZOrder		  -33
		  Inputs		  "*/"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "wout=\nwin*SR"
		  SID			  "2186"
		  Ports			  [2, 1]
		  Position		  [440, 530, 460, 570]
		  ZOrder		  -34
		  Inputs		  "**"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "req'd input\ntrq and spd\n(Nm), (rad/s)"
		  SID			  "2187"
		  Position		  [980, 193, 1010, 207]
		  ZOrder		  -35
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "trq and spd\navailable at\noutput (Nm), (rad/s)"
		  SID			  "2188"
		  Position		  [900, 478, 930, 492]
		  ZOrder		  -36
		  Port			  "2"
		  InitialOutput		  "0"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "req'd output\ntrq and spd\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  2
		  SrcBlock		  "Tin=\nTout,req/TR"
		  SrcPort		  1
		  Points		  [225, 0]
		  DstBlock		  "Treq, in = \nTin+\nTinertia"
		  DstPort		  1
		}
		Line {
		  ZOrder		  3
		  SrcBlock		  "shifting,\nignore inertia\ntorque in request"
		  SrcPort		  1
		  Points		  [35, 0]
		  DstBlock		  "Treq, in = \nTin+\nTinertia"
		  DstPort		  2
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "Treq, in = \nTin+\nTinertia"
		  SrcPort		  1
		  Points		  [0, 45; 15, 0]
		  Branch {
		    ZOrder		    5
		    Points		    [0, -135; -725, 0; 0, 105]
		    DstBlock		    "T, shifting"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    6
		    Points		    [20, 0]
		    Branch {
		    ZOrder		    7
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    8
		    DstBlock		    "enhancedToWorkspace10"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  9
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "req'd input\ntrq and spd\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  "SR"
		  SrcPort		  2
		  Points		  [25, 0]
		  DstBlock		  "TR"
		  DstPort		  2
		}
		Line {
		  ZOrder		  11
		  SrcBlock		  "TR"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    ZOrder		    12
		    Points		    [55, 0]
		    Branch {
		    ZOrder		    13
		    Points		    [0, -25; -350, 0]
		    DstBlock		    "T, shifting"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    14
		    DstBlock		    "Tin=\nTout,req/TR"
		    DstPort		    1
		    }
		  }
		  Branch {
		    ZOrder		    15
		    Points		    [0, 310]
		    Branch {
		    ZOrder		    16
		    Points		    [0, 105]
		    DstBlock		    "Tout=\nTin*TR"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    17
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  18
		  SrcBlock		  "effect of inertia\n(Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 75, 0]
		  Branch {
		    ZOrder		    19
		    Points		    [20, 0; 0, -45]
		    DstBlock		    "shifting,\nignore inertia\ntorque in request"
		    DstPort		    3
		  }
		  Branch {
		    ZOrder		    20
		    Points		    [0, 200]
		    Branch {
		    ZOrder		    21
		    Points		    [0, 55]
		    DstBlock		    "Tout_a = \nTout-\nTinertia"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    22
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  23
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [25, 0]
		  DstBlock		  "shifting,\nignore inertia\ntorque in request"
		  DstPort		  1
		}
		Line {
		  ZOrder		  24
		  SrcBlock		  ">0\n"
		  SrcPort		  1
		  Points		  [175, 0; 0, 0]
		  Branch {
		    ZOrder		    25
		    Points		    [0, -70]
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    26
		    DstBlock		    "enhancedToWorkspace9"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  27
		  SrcBlock		  "Demux2"
		  SrcPort		  2
		  Points		  [0, 0; 85, 0]
		  Branch {
		    ZOrder		    28
		    Points		    [0, -10]
		    Branch {
		    ZOrder		    29
		    Points		    [240, 0; 0, 5]
		    Branch {
		    ZOrder		    30
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    31
		    DstBlock		    "win=\nwout/SR"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    32
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		  }
		  Branch {
		    ZOrder		    33
		    Points		    [0, -155]
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  34
		  SrcBlock		  "Tout_a = \nTout-\nTinertia"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    ZOrder		    35
		    DstBlock		    "Mux3"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    36
		    Points		    [0, -35]
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  37
		  SrcBlock		  "SR"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    ZOrder		    38
		    Points		    [0, -245]
		    DstBlock		    "TR"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    39
		    Points		    [55, 0]
		    Branch {
		    ZOrder		    40
		    Points		    [0, 80]
		    Branch {
		    ZOrder		    41
		    Points		    [-270, 0]
		    DstBlock		    "T, shifting"
		    DstPort		    5
		    }
		    Branch {
		    ZOrder		    42
		    Points		    [0, 65]
		    Branch {
		    ZOrder		    43
		    Points		    [0, 105]
		    DstBlock		    "wout=\nwin*SR"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    44
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    ZOrder		    45
		    DstBlock		    "win=\nwout/SR"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  ZOrder		  46
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "SR"
		  DstPort		  1
		}
		Line {
		  ZOrder		  47
		  SrcBlock		  "Demux3"
		  SrcPort		  2
		  Points		  [0, 0; 10, 0]
		  Branch {
		    ZOrder		    48
		    Points		    [0, -55]
		    Branch {
		    ZOrder		    49
		    Points		    [-110, 0; 0, -330]
		    DstBlock		    "T, shifting"
		    DstPort		    4
		    }
		    Branch {
		    ZOrder		    50
		    Points		    [0, -150]
		    DstBlock		    "SR"
		    DstPort		    2
		    }
		  }
		  Branch {
		    ZOrder		    51
		    Points		    [20, 0]
		    Branch {
		    ZOrder		    52
		    Points		    [0, 45]
		    DstBlock		    "wout=\nwin*SR"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    53
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  54
		  SrcBlock		  "Demux2"
		  SrcPort		  1
		  Points		  [5, 0; 0, -55]
		  DstBlock		  "T, shifting"
		  DstPort		  3
		}
		Line {
		  ZOrder		  55
		  SrcBlock		  "T, shifting"
		  SrcPort		  1
		  Points		  [0, 0; 0, 60]
		  Branch {
		    ZOrder		    56
		    Points		    [25, 0]
		    Branch {
		    ZOrder		    57
		    Points		    [210, 0; 0, -105]
		    DstBlock		    "Tin=\nTout,req/TR"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    58
		    Points		    [0, -20]
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		    }
		  }
		  Branch {
		    ZOrder		    59
		    Points		    [0, 100]
		    DstBlock		    "Mux4"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  60
		  SrcBlock		  "win=\nwout/SR"
		  SrcPort		  1
		  DstBlock		  ">0\n"
		  DstPort		  1
		}
		Line {
		  ZOrder		  61
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "trq and spd\navailable at\noutput (Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  62
		  SrcBlock		  "Tout=\nTin*TR"
		  SrcPort		  1
		  DstBlock		  "Tout_a = \nTout-\nTinertia"
		  DstPort		  2
		}
		Line {
		  ZOrder		  63
		  SrcBlock		  "trq and spd\navailable at\ninput (Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux3"
		  DstPort		  1
		}
		Line {
		  ZOrder		  64
		  SrcBlock		  "Demux3"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    ZOrder		    65
		    DstBlock		    "Tout=\nTin*TR"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    66
		    Points		    [0, -20]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  67
		  SrcBlock		  "wout=\nwin*SR"
		  SrcPort		  1
		  DstBlock		  ">0."
		  DstPort		  1
		}
		Line {
		  ZOrder		  68
		  SrcBlock		  ">0."
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    ZOrder		    69
		    Points		    [0, -55]
		    DstBlock		    "Mux3"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    70
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  71
		  SrcBlock		  "From <vc>"
		  SrcPort		  1
		  Points		  [25, 0; 0, 15]
		  DstBlock		  "shifting,\nignore inertia\ntorque in request"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      SID		      "2189"
	      Ports		      [1, 1]
	      Position		      [350, 141, 405, 169]
	      ZOrder		      -11
	      RequestExecContextInheritance off
	      System {
		Name			"signal\nannotator"
		Location		[164, 44, 968, 897]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  SID			  "2190"
		  Position		  [110, 103, 140, 117]
		  ZOrder		  -1
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  "2191"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  ZOrder		  -2
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  Port {
		    PortNumber		    1
		    Name		    "htc_trq_out_r"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "htc_spd_out_r"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  "2192"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ZOrder		  -3
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  SID			  "2193"
		  Position		  [430, 103, 460, 117]
		  ZOrder		  -4
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "htc_trq_out_r"
		  ZOrder		  2
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "htc_spd_out_r"
		  ZOrder		  3
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "requested\noutput"
	      SID		      "2194"
	      Position		      [500, 148, 530, 162]
	      ZOrder		      -12
	      NameLocation	      "top"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\ninput\nrequest"
	      SID		      "2195"
	      Position		      [500, 213, 530, 227]
	      ZOrder		      -13
	      NameLocation	      "top"
	      Port		      "2"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\noutput\nachieved"
	      SID		      "2196"
	      Position		      [500, 243, 530, 257]
	      ZOrder		      -14
	      Port		      "3"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      SID		      "2197"
	      Position		      [640, 413, 670, 427]
	      ZOrder		      -15
	      Port		      "4"
	      InitialOutput	      "0"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "trq and spd\noutput\nrequest"
	      SrcPort		      1
	      Points		      [0, 0; 50, 0]
	      Branch {
		ZOrder			2
		Points			[0, -65]
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	      Branch {
		ZOrder			3
		DstBlock		"model for parallel HEV"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "model for parallel HEV"
	      SrcPort		      1
	      DstBlock		      "trq and spd\ninput\nrequest"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "model for parallel HEV"
	      SrcPort		      2
	      DstBlock		      "trq and spd\noutput\nachieved"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      6
	      SrcBlock		      "trq and spd\ninput\nachieved"
	      SrcPort		      1
	      DstBlock		      "model for parallel HEV"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "requested\noutput"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      9
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      Points		      [0, -15]
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      10
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      Points		      [5, 0]
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      11
	      SrcBlock		      "Ground"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Annotation {
	      SID		      "2198"
	      Name		      "Model"
	      Position		      [377, 110, 431, 133]
	      InternalMargins	      [0, 0, 0, 0]
	      BackgroundColor	      "yellow"
	      ZOrder		      -1
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      SID		      "2199"
	      Name		      "Interface"
	      Position		      [382, 335, 458, 358]
	      InternalMargins	      [0, 0, 0, 0]
	      BackgroundColor	      "yellow"
	      ZOrder		      -2
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  SID			  "2200"
	  Position		  [15, 211, 125, 249]
	  ZOrder		  -4
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "htcControl"
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  SID			  "2201"
	  Position		  [390, 44, 490, 86]
	  ZOrder		  -5
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "htcReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  SID			  "2202"
	  Position		  [390, 209, 490, 251]
	  ZOrder		  -6
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "htcSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T & w input\nrequested"
	  SID			  "2203"
	  Position		  [410, 138, 440, 152]
	  ZOrder		  -7
	  NameLocation		  "top"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T & w output\navailable"
	  SID			  "2204"
	  Position		  [350, 153, 380, 167]
	  ZOrder		  -8
	  Port			  "2"
	  InitialOutput		  "0"
	}
	Line {
	  ZOrder		  1
	  SrcBlock		  "HTC for parallel\nHEV and Interface"
	  SrcPort		  1
	  Points		  [85, 0; 0, -65]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  ZOrder		  2
	  SrcBlock		  "HTC for parallel\nHEV and Interface"
	  SrcPort		  4
	  Points		  [85, 0; 0, 55]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  ZOrder		  3
	  SrcBlock		  "HTC for parallel\nHEV and Interface"
	  SrcPort		  2
	  DstBlock		  "T & w input\nrequested"
	  DstPort		  1
	}
	Line {
	  ZOrder		  4
	  SrcBlock		  "HTC for parallel\nHEV and Interface"
	  SrcPort		  3
	  DstBlock		  "T & w output\navailable"
	  DstPort		  1
	}
	Line {
	  ZOrder		  5
	  SrcBlock		  "T & w output\nrequested"
	  SrcPort		  1
	  DstBlock		  "HTC for parallel\nHEV and Interface"
	  DstPort		  1
	}
	Line {
	  ZOrder		  6
	  SrcBlock		  "T & w input\navailable"
	  SrcPort		  1
	  DstBlock		  "HTC for parallel\nHEV and Interface"
	  DstPort		  2
	}
	Line {
	  ZOrder		  7
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [5, 0; 0, -55]
	  DstBlock		  "HTC for parallel\nHEV and Interface"
	  DstPort		  3
	}
	Annotation {
	  SID			  "2205"
	  Name			  "Hydraulic Torque Converter"
	  Position		  [222, 35, 460, 58]
	  InternalMargins	  [0, 0, 0, 0]
	  BackgroundColor	  "yellow"
	  ZOrder		  -1
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "hydraulic\ntorque\nconverter <htc>\nwith pump loss"
      SID		      "2206"
      Ports		      [2, 2]
      Position		      [610, 258, 660, 322]
      ZOrder		      -12
      BackgroundColor	      "yellow"
      ShowPortLabels	      "none"
      RequestExecContextInheritance off
      Object {
	$PropName		"MaskObject"
	$ObjectID		535
	$ClassName		"Simulink.Mask"
	Type			"Stand-Alone HTC Mask"
	Initialization		"% initialization via m-file script\nadvSACompMaskInit;"
	Display			"image(imread(imgFileName))"
	Array {
	  Type			  "Simulink.MaskParameter"
	  Dimension		  6
	  Object {
	    $ObjectID		    536
	    Type		    "edit"
	    Name		    "generalName"
	    Prompt		    "General Name of this Component [char]"
	    Value		    "'htc'"
	  }
	  Object {
	    $ObjectID		    537
	    Type		    "popup"
	    Array {
	      Type		      "Cell"
	      Dimension		      2
	      Cell		      "Don't Log"
	      Cell		      "Log"
	      PropName		      "TypeOptions"
	    }
	    Name		    "logPick"
	    Prompt		    "Log Variables to Workspace?"
	    Value		    "Log"
	  }
	  Object {
	    $ObjectID		    538
	    Type		    "edit"
	    Name		    "initFileName"
	    Prompt		    "Initialization File(s) [cell array of char]"
	    Value		    "{}"
	  }
	  Object {
	    $ObjectID		    539
	    Type		    "edit"
	    Name		    "modCell"
	    Prompt		    "Modification Cell [2 column cell array of param and val]"
	    Value		    "{}"
	  }
	  Object {
	    $ObjectID		    540
	    Type		    "edit"
	    Name		    "imgFileName"
	    Prompt		    "Icon image file name [char--evaluated]"
	    Value		    "'bdi_htc.jpg'"
	  }
	  Object {
	    $ObjectID		    541
	    Type		    "popup"
	    Array {
	      Type		      "Cell"
	      Dimension		      2
	      Cell		      "ON"
	      Cell		      "OFF"
	      PropName		      "TypeOptions"
	    }
	    Name		    "DEBUG"
	    Prompt		    "DEBUG"
	    Value		    "OFF"
	    Evaluate		    "off"
	  }
	  PropName		  "Parameters"
	}
      }
      System {
	Name			"hydraulic\ntorque\nconverter <htc>\nwith pump loss"
	Location		[164, 44, 968, 889]
	Open			off
	PortBlocksUseCompactNotation off
	SetExecutionDomain	off
	ExecutionDomainType	"Deduce"
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	SimulinkSubDomain	"Simulink"
	Block {
	  BlockType		  Inport
	  Name			  "T & w output\nrequested"
	  SID			  "2207"
	  Position		  [40, 128, 70, 142]
	  ZOrder		  -1
	  NameLocation		  "top"
	}
	Block {
	  BlockType		  Inport
	  Name			  "T & w input\navailable"
	  SID			  "2208"
	  Position		  [40, 148, 70, 162]
	  ZOrder		  -2
	  Port			  "2"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  SID			  "2209"
	  Position		  [15, 211, 125, 249]
	  ZOrder		  -3
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "htcControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "conventional HTC \nand Interface"
	  SID			  "2210"
	  Ports			  [3, 4]
	  Position		  [205, 122, 245, 183]
	  ZOrder		  -4
	  ShowPortLabels	  "none"
	  RequestExecContextInheritance	off
	  System {
	    Name		    "conventional HTC \nand Interface"
	    Location		    [164, 44, 968, 889]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\noutput\nrequest"
	      SID		      "2211"
	      Position		      [195, 138, 225, 152]
	      ZOrder		      -1
	      NameLocation	      "top"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\ninput\nachieved"
	      SID		      "2212"
	      Position		      [195, 168, 225, 182]
	      ZOrder		      -2
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      SID		      "2213"
	      Position		      [40, 333, 70, 347]
	      ZOrder		      -3
	      Port		      "3"
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      SID		      "2214"
	      Ports		      [1, 1]
	      Position		      [630, 321, 635, 359]
	      ZOrder		      -4
	      ShowName		      off
	      Inputs		      "1"
	      DisplayOption	      "bar"
	      InheritFromInputs	      on
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      SID		      "2215"
	      Ports		      [1, 2]
	      Position		      [85, 321, 90, 359]
	      ZOrder		      -5
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "2"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>"
	      SID		      "2216"
	      Position		      [430, 329, 525, 351]
	      ZOrder		      -6
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "htc_efficiency"
	      Port {
		PortNumber		1
		Name			"htc_efficiency"
	      }
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      SID		      "2217"
	      Position		      [115, 303, 230, 327]
	      ZOrder		      -7
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      SID		      "2218"
	      Position		      [235, 303, 324, 326]
	      ZOrder		      -8
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      SID		      "2219"
	      Position		      [335, 328, 424, 351]
	      ZOrder		      -9
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "htc_efficiency"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      SID		      "2220"
	      Position		      [235, 353, 324, 376]
	      ZOrder		      -10
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "locked_up"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      SID		      "2221"
	      Position		      [115, 353, 230, 377]
	      ZOrder		      -11
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "locked_up"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "htc model"
	      SID		      "2222"
	      Ports		      [2, 2]
	      Position		      [330, 130, 370, 190]
	      ZOrder		      -12
	      ShowPortLabels	      "none"
	      RequestExecContextInheritance off
	      System {
		Name			"htc model"
		Location		[164, 44, 968, 889]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"75"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "req'd output\ntrq and spd\n(Nm), (rad/s)"
		  SID			  "2223"
		  Position		  [25, 228, 55, 242]
		  ZOrder		  -1
		}
		Block {
		  BlockType		  Inport
		  Name			  "trq and spd\navailable at\ninput (Nm), (rad/s)"
		  SID			  "2224"
		  Position		  [50, 563, 80, 577]
		  ZOrder		  -2
		  Port			  "2"
		}
		Block {
		  BlockType		  Sum
		  Name			  " Tin - Tpumploss"
		  SID			  "2225"
		  Ports			  [2, 1]
		  Position		  [255, 498, 275, 547]
		  ZOrder		  -3
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Saturate
		  Name			  ">0\n"
		  SID			  "2226"
		  Position		  [625, 305, 655, 335]
		  ZOrder		  -4
		  UpperLimit		  "inf"
		  LowerLimit		  "0"
		}
		Block {
		  BlockType		  Saturate
		  Name			  ">0."
		  SID			  "2227"
		  Position		  [640, 575, 670, 605]
		  ZOrder		  -5
		  UpperLimit		  "inf"
		  LowerLimit		  "0"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  SID			  "2228"
		  Ports			  []
		  Position		  [885, 55, 941, 95]
		  ZOrder		  -6
		  BackgroundColor	  "green"
		  ShowName		  off
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    542
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		  }
		  System {
		    Name		    "Block NOTES"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "2229"
		    Name		    "This block predicts the relative speed of the HTC input (pump) and output\n(turbine).  Torque convert"
		    "er lockup is modeled.\n\n1/24/00:tm updated gear_ratio flag to shifting flag\n\n02/19/03: zz added pump loss\n"
		    Position		    [227, 12, 552, 84]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  SID			  "2230"
		  Position		  [610, 120, 630, 140]
		  ZOrder		  -7
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux2"
		  SID			  "2231"
		  Ports			  [1, 2]
		  Position		  [80, 196, 90, 274]
		  ZOrder		  -8
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux3"
		  SID			  "2232"
		  Ports			  [1, 2]
		  Position		  [125, 503, 135, 632]
		  ZOrder		  -9
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc>"
		  SID			  "2233"
		  Position		  [530, 185, 605, 205]
		  ZOrder		  -10
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "shifting"
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc>1"
		  SID			  "2234"
		  Position		  [635, 363, 700, 387]
		  ZOrder		  -11
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "locked_up"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  SID			  "2235"
		  Ports			  [2, 1]
		  Position		  [870, 222, 905, 258]
		  ZOrder		  -12
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  SID			  "2236"
		  Ports			  [2, 1]
		  Position		  [750, 502, 785, 538]
		  ZOrder		  -13
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  SID			  "2237"
		  Ports			  [2, 1]
		  Position		  [195, 311, 205, 349]
		  ZOrder		  -14
		  ShowName		  off
		  Inputs		  "2"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "SR"
		  SID			  "2238"
		  Ports			  [2, 2]
		  Position		  [285, 322, 315, 358]
		  ZOrder		  -15
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "SR"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "T,w\nreq out"
		    SID			    "2239"
		    Position		    [50, 30, 70, 50]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w in"
		    SID			    "2240"
		    Position		    [415, 45, 435, 65]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">0"
		    SID			    "2241"
		    Position		    [665, 235, 695, 265]
		    ZOrder		    -3
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "2242"
		    Position		    [245, 270, 265, 290]
		    ZOrder		    -4
		    BlockMirror		    on
		    ShowName		    off
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    "2243"
		    Position		    [250, 542, 350, 568]
		    ZOrder		    -5
		    ShowName		    off
		    Value		    "vc_idle_spd+eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    SID			    "2244"
		    Position		    [355, 195, 385, 215]
		    ZOrder		    -6
		    ShowName		    off
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    SID			    "2245"
		    Position		    [170, 153, 235, 177]
		    ZOrder		    -7
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "locked_up"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "K_adv"
		    SID			    "2246"
		    Ports		    [1, 1]
		    Position		    [170, 75, 200, 105]
		    ZOrder		    -8
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "K_adv"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq and spd\n(Nm), (rad/s)"
		    SID			    "2247"
		    Position		    [20, 58, 50, 72]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">0"
		    SID			    "2248"
		    Position		    [95, 50, 125, 80]
		    ZOrder		    -2
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "K_adv=wout/(Tout)^0.5"
		    SID			    "2249"
		    Position		    [155, 51, 275, 79]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Expr		    "u[2]/u[1]^0.5"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    SID			    "2250"
		    Position		    [315, 50, 345, 80]
		    ZOrder		    -4
		    UpperLimit		    "max(htc_k_adv)"
		    LowerLimit		    "min(htc_k_adv)"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "K_adv"
		    SID			    "2251"
		    Position		    [400, 58, 430, 72]
		    ZOrder		    -5
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    ">0"
		    SrcPort		    1
		    DstBlock		    "K_adv=wout/(Tout)^0.5"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Req'd output\ntrq and spd\n(Nm), (rad/s)"
		    SrcPort		    1
		    DstBlock		    ">0"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "K_adv=wout/(Tout)^0.5"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "K_adv_coast"
		    SID			    "2252"
		    Ports		    [1, 1]
		    Position		    [215, 355, 245, 385]
		    ZOrder		    -9
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "K_adv_coast"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq and spd\n(Nm), (rad/s)"
		    SID			    "2253"
		    Position		    [20, 58, 50, 72]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "K_adv=wout/(abs(Tout))^0.5"
		    SID			    "2254"
		    Position		    [125, 51, 245, 79]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Expr		    "u[2]/abs(u[1]+eps)^0.5"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    SID			    "2255"
		    Position		    [310, 50, 340, 80]
		    ZOrder		    -3
		    UpperLimit		    "max(htc_k_adv_coast)"
		    LowerLimit		    "min(htc_k_adv_coast)"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "K_adv_coast"
		    SID			    "2256"
		    Position		    [400, 58, 430, 72]
		    ZOrder		    -4
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "K_adv=wout/(abs(Tout))^0.5"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "K_adv_coast"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Req'd output\ntrq and spd\n(Nm), (rad/s)"
		    SrcPort		    1
		    DstBlock		    "K_adv=wout/(abs(Tout))^0.5"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    SID			    "2257"
		    Ports		    [1, 1]
		    Position		    [355, 149, 385, 181]
		    ZOrder		    -10
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    SID			    "2258"
		    Ports		    [1, 1]
		    Position		    [345, 261, 375, 289]
		    ZOrder		    -11
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    SID			    "2259"
		    Ports		    [2, 1]
		    Position		    [500, 427, 530, 458]
		    ZOrder		    -12
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    "2260"
		    Ports		    [2, 1]
		    Position		    [250, 232, 280, 263]
		    ZOrder		    -13
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "SR Look-Up\nTable\nSR=wout/win"
		    SID			    "2261"
		    Position		    [335, 75, 365, 105]
		    ZOrder		    -14
		    InputValues		    "htc_k_adv"
		    Table		    "htc_sr"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "SR Look-Up\nTable\nSR=wout/win\ncoast"
		    SID			    "2262"
		    Position		    [335, 355, 365, 385]
		    ZOrder		    -15
		    InputValues		    "fliplr(htc_k_adv_coast)"
		    Table		    "fliplr(htc_sr_coast)"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "SRmax=\nwout/win,min"
		    SID			    "2263"
		    Ports		    [2, 1]
		    Position		    [435, 525, 455, 565]
		    ZOrder		    -16
		    Inputs		    "*/"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "T"
		    SID			    "2264"
		    Ports		    [1, 1]
		    Position		    [175, 225, 205, 255]
		    ZOrder		    -17
		    InputPortWidth	    "2"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "1"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace1"
		    SID			    "2265"
		    Ports		    [1]
		    Position		    [395, 267, 490, 283]
		    ZOrder		    -18
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    TreatAsAtomicUnit	    on
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    543
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    544
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    545
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "coasting"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    546
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2265:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2265:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_coasting"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace2"
		    SID			    "2266"
		    Ports		    [1]
		    Position		    [260, 182, 335, 198]
		    ZOrder		    -19
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    TreatAsAtomicUnit	    on
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    547
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    548
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    549
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "locked"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    550
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2266:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2266:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_locked"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if coasting"
		    SID			    "2267"
		    Position		    [595, 235, 625, 265]
		    ZOrder		    -20
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "locked up,\nthen SR=1"
		    SID			    "2268"
		    Position		    [420, 150, 450, 180]
		    ZOrder		    -21
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "min,max"
		    SID			    "2269"
		    Position		    [425, 355, 455, 385]
		    ZOrder		    -22
		    UpperLimit		    "inf"
		    LowerLimit		    "1"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "shifting SR"
		    SID			    "2270"
		    Ports		    [3, 1]
		    Position		    [510, 35, 540, 75]
		    ZOrder		    -23
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "shifting SR"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "T,w\nreq out"
		    SID			    "2271"
		    Position		    [35, 35, 55, 55]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w in"
		    SID			    "2272"
		    Position		    [35, 85, 55, 105]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "SR"
		    SID			    "2273"
		    Position		    [50, 330, 70, 350]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "-3200 rpm/second\nallowable in engine\nspeed"
		    SID			    "2274"
		    Position		    [220, 153, 310, 187]
		    ZOrder		    -4
		    Gain		    "-3200*pi/30"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">0"
		    SID			    "2275"
		    Position		    [90, 80, 120, 110]
		    ZOrder		    -5
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    }
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    SID			    "2276"
		    Position		    [40, 150, 60, 170]
		    ZOrder		    -6
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>1"
		    SID			    "2277"
		    Position		    [555, 280, 630, 300]
		    ZOrder		    -7
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory3"
		    SID			    "2278"
		    Position		    [160, 80, 190, 110]
		    ZOrder		    -8
		    ShowName		    off
		    InitialCondition	    "eps"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory4"
		    SID			    "2279"
		    Position		    [95, 165, 125, 195]
		    ZOrder		    -9
		    ShowName		    off
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    SID			    "2280"
		    Ports		    [2, 1]
		    Position		    [580, 157, 610, 188]
		    ZOrder		    -10
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "SRmax=\nwout/win,min"
		    SID			    "2281"
		    Ports		    [2, 1]
		    Position		    [510, 40, 530, 80]
		    ZOrder		    -11
		    Inputs		    "*/"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "dt=t-(t-1)"
		    SID			    "2282"
		    Ports		    [2, 1]
		    Position		    [155, 153, 185, 182]
		    ZOrder		    -12
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "shifting,\nthen limit \nengine speed\nchange"
		    SID			    "2283"
		    Position		    [665, 275, 695, 305]
		    ZOrder		    -13
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "win,min=\nwin,prev+rate*dt"
		    SID			    "2284"
		    Ports		    [2, 1]
		    Position		    [345, 92, 375, 123]
		    ZOrder		    -14
		    IconShape		    "rectangular"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "wout,req"
		    SID			    "2285"
		    Ports		    [1, 1]
		    Position		    [345, 30, 375, 60]
		    ZOrder		    -15
		    InputPortWidth	    "2"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "2"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "SR\nlimited"
		    SID			    "2286"
		    Position		    [790, 280, 810, 300]
		    ZOrder		    -16
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "-3200 rpm/second\nallowable in engine\nspeed"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "win,min=\nwin,prev+rate*dt"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    ">0"
		    SrcPort		    1
		    DstBlock		    "Memory3"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "w in"
		    SrcPort		    1
		    DstBlock		    ">0"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "shifting,\nthen limit \nengine speed\nchange"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "shifting,\nthen limit \nengine speed\nchange"
		    SrcPort		    1
		    DstBlock		    "SR\nlimited"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "SR"
		    SrcPort		    1
		    Points		    [375, 0]
		    Branch {
		    ZOrder		    7
		    Points		    [0, -160]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    8
		    Points		    [195, 0; 0, -40]
		    DstBlock		    "shifting,\nthen limit \nengine speed\nchange"
		    DstPort		    3
		    }
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "SRmax=\nwout/win,min"
		    SrcPort		    1
		    Points		    [30, 0; 0, 95]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "From <vc>1"
		    SrcPort		    1
		    DstBlock		    "shifting,\nthen limit \nengine speed\nchange"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "T,w\nreq out"
		    SrcPort		    1
		    DstBlock		    "wout,req"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "wout,req"
		    SrcPort		    1
		    Points		    [115, 0]
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    13
		    SrcBlock		    "win,min=\nwin,prev+rate*dt"
		    SrcPort		    1
		    Points		    [115, 0]
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "Memory3"
		    SrcPort		    1
		    Points		    [135, 0]
		    DstBlock		    "win,min=\nwin,prev+rate*dt"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    "dt=t-(t-1)"
		    SrcPort		    1
		    DstBlock		    "-3200 rpm/second\nallowable in engine\nspeed"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    ZOrder		    17
		    DstBlock		    "dt=t-(t-1)"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    18
		    Points		    [0, 20]
		    DstBlock		    "Memory4"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    19
		    SrcBlock		    "Memory4"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "dt=t-(t-1)"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "wout,req"
		    SID			    "2287"
		    Ports		    [1, 1]
		    Position		    [285, 490, 315, 520]
		    ZOrder		    -24
		    InputPortWidth	    "2"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "2"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "SR"
		    SID			    "2288"
		    Position		    [730, 240, 750, 260]
		    ZOrder		    -25
		    ForegroundColor	    "orange"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "coasting"
		    SID			    "2289"
		    Position		    [730, 325, 750, 345]
		    ZOrder		    -26
		    ForegroundColor	    "gray"
		    Port		    "2"
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "K_adv"
		    SrcPort		    1
		    DstBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    ZOrder		    3
		    Points		    [0, 60]
		    DstBlock		    "coasting"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    4
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    ">0"
		    SrcPort		    1
		    DstBlock		    "SR"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "if coasting"
		    SrcPort		    1
		    DstBlock		    ">0"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "K_adv_coast"
		    SrcPort		    1
		    DstBlock		    "SR Look-Up\nTable\nSR=wout/win\ncoast"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    Points		    [45, 0]
		    DstBlock		    "if coasting"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "min,max"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "wout,req"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "SRmax=\nwout/win,min"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    13
		    SrcBlock		    "shifting SR"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "if coasting"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "locked up,\nthen SR=1"
		    SrcPort		    1
		    Points		    [15, 0; 0, -95]
		    DstBlock		    "shifting SR"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    "w in"
		    SrcPort		    1
		    DstBlock		    "shifting SR"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "locked up,\nthen SR=1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    17
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "locked up,\nthen SR=1"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    18
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "locked up,\nthen SR=1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    19
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    ZOrder		    20
		    Points		    [0, 25]
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    21
		    DstBlock		    "if coasting"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    22
		    SrcBlock		    "T"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    23
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-5, 0]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    24
		    SrcBlock		    "SR Look-Up\nTable\nSR=wout/win\ncoast"
		    SrcPort		    1
		    DstBlock		    "min,max"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    25
		    SrcBlock		    "T,w\nreq out"
		    SrcPort		    1
		    Points		    [55, 0]
		    Branch {
		    ZOrder		    26
		    Points		    [25, 0]
		    Branch {
		    ZOrder		    27
		    DstBlock		    "shifting SR"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    28
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    29
		    Points		    [0, 200]
		    Branch {
		    ZOrder		    30
		    Points		    [0, 130]
		    Branch {
		    ZOrder		    31
		    Points		    [0, 135]
		    DstBlock		    "wout,req"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    32
		    DstBlock		    "K_adv_coast"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    33
		    DstBlock		    "T"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    ZOrder		    34
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    ZOrder		    35
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    36
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "T, shifting"
		  SID			  "2290"
		  Ports			  [5, 1]
		  Position		  [135, 128, 165, 192]
		  ZOrder		  -16
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "T, shifting"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "TR"
		    SID			    "2291"
		    Position		    [40, 83, 70, 97]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd \ninput trq"
		    SID			    "2292"
		    Position		    [35, 28, 65, 42]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq"
		    SID			    "2293"
		    Position		    [35, 213, 65, 227]
		    ZOrder		    -3
		    Port		    "3"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "htc_spd_in_a"
		    SID			    "2294"
		    Position		    [45, 288, 75, 302]
		    ZOrder		    -4
		    Port		    "4"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "SR"
		    SID			    "2295"
		    Position		    [60, 388, 90, 402]
		    ZOrder		    -5
		    Port		    "5"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>2"
		    SID			    "2296"
		    Position		    [155, 180, 230, 200]
		    ZOrder		    -6
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    SID			    "2297"
		    Position		    [200, 50, 230, 80]
		    ZOrder		    -7
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    SID			    "2298"
		    Position		    [170, 380, 200, 410]
		    ZOrder		    -8
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    SID			    "2299"
		    Ports		    [2, 1]
		    Position		    [440, 202, 470, 233]
		    ZOrder		    -9
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SID			    "2300"
		    Position		    [235, 380, 265, 410]
		    ZOrder		    -10
		    InputValues		    "htc_sr"
		    Table		    "htc_tr"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "T_max"
		    SID			    "2301"
		    Ports		    [2, 1]
		    Position		    [425, 252, 455, 283]
		    ZOrder		    -11
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "T_max"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    SID			    "2302"
		    Position		    [20, 45, 40, 65]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "TR"
		    SID			    "2303"
		    Position		    [20, 95, 40, 115]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    SID			    "2304"
		    Position		    [85, 46, 115, 64]
		    ZOrder		    -3
		    FontName		    "Arial"
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "min(fc_map_spd)*fc_spd_scale"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Tin*TR=\nTout"
		    SID			    "2305"
		    Ports		    [2, 1]
		    Position		    [275, 45, 295, 85]
		    ZOrder		    -4
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max_torque lookup"
		    SID			    "2306"
		    Position		    [180, 43, 210, 67]
		    ZOrder		    -5
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    Table		    "fc_max_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_max\nmax gain from htc"
		    SID			    "2307"
		    Position		    [360, 55, 380, 75]
		    ZOrder		    -6
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "max_torque lookup"
		    SrcPort		    1
		    DstBlock		    "Tin*TR=\nTout"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "TR"
		    SrcPort		    1
		    Points		    [215, 0]
		    DstBlock		    "Tin*TR=\nTout"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Tin*TR=\nTout"
		    SrcPort		    1
		    DstBlock		    "T_max\nmax gain from htc"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    DstBlock		    "max_torque lookup"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Tin*TR=\nTout,req"
		    SID			    "2308"
		    Ports		    [2, 1]
		    Position		    [145, 45, 165, 85]
		    ZOrder		    -12
		    ShowName		    off
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "engine speed\nestimator"
		    SID			    "2309"
		    Ports		    [1, 1]
		    Position		    [360, 280, 390, 310]
		    ZOrder		    -13
		    ShowPortLabels	    "none"
		    RequestExecContextInheritance off
		    System {
		    Name		    "engine speed\nestimator"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "htc_spd_in_a"
		    SID			    "2310"
		    Position		    [40, 38, 70, 52]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory2"
		    SID			    "2311"
		    Position		    [120, 30, 150, 60]
		    ZOrder		    -2
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    SID			    "2312"
		    Position		    [190, 38, 220, 52]
		    ZOrder		    -3
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Memory2"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "htc_spd_in_a"
		    SrcPort		    1
		    DstBlock		    "Memory2"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "shifting,\noverride zero\nTrequest"
		    SID			    "2313"
		    Position		    [305, 195, 335, 225]
		    ZOrder		    -14
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T req"
		    SID			    "2314"
		    Position		    [500, 213, 530, 227]
		    ZOrder		    -15
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Tin*TR=\nTout,req"
		    SrcPort		    1
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "TR"
		    SrcPort		    1
		    Points		    [55, 0]
		    DstBlock		    "Tin*TR=\nTout,req"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Req'd \ninput trq"
		    SrcPort		    1
		    Points		    [60, 0]
		    DstBlock		    "Tin*TR=\nTout,req"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [40, 0; 0, 135]
		    DstBlock		    "shifting,\noverride zero\nTrequest"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "T_max"
		    SrcPort		    1
		    Points		    [10, 0; 0, -25; -45, 0]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "shifting,\noverride zero\nTrequest"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SrcPort		    1
		    Points		    [140, 0]
		    DstBlock		    "T_max"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    DstBlock		    "T req"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "engine speed\nestimator"
		    SrcPort		    1
		    Points		    [5, 0; 0, -35]
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "SR"
		    SrcPort		    1
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "htc_spd_in_a"
		    SrcPort		    1
		    DstBlock		    "engine speed\nestimator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    13
		    SrcBlock		    "Req'd output\ntrq"
		    SrcPort		    1
		    DstBlock		    "shifting,\noverride zero\nTrequest"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "From <vc>2"
		    SrcPort		    1
		    Points		    [0, 20]
		    DstBlock		    "shifting,\noverride zero\nTrequest"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "TR"
		  SID			  "2315"
		  Ports			  [2, 1]
		  Position		  [360, 77, 390, 113]
		  ZOrder		  -17
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "TR"
		    Location		    [164, 44, 968, 873]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "SR"
		    SID			    "2316"
		    Position		    [60, 80, 80, 100]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "coasting"
		    SID			    "2317"
		    Position		    [230, 265, 250, 285]
		    ZOrder		    -2
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "1/SR*TR \nfor coast"
		    SID			    "2318"
		    Position		    [555, 94, 580, 116]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    SID			    "2319"
		    Position		    [250, 195, 280, 215]
		    ZOrder		    -4
		    ShowName		    off
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    SID			    "2320"
		    Position		    [155, 153, 220, 177]
		    ZOrder		    -5
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "locked_up"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto"
		    SID			    "2321"
		    Position		    [705, 83, 820, 107]
		    ZOrder		    -6
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "htc_efficiency"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    SID			    "2322"
		    Ports		    [1, 1]
		    Position		    [250, 149, 280, 181]
		    ZOrder		    -7
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    SID			    "2323"
		    Ports		    [1, 1]
		    Position		    [290, 259, 320, 291]
		    ZOrder		    -8
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SID			    "2324"
		    Position		    [230, 75, 260, 105]
		    ZOrder		    -9
		    InputValues		    "htc_sr"
		    Table		    "htc_tr"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin\ncoast"
		    SID			    "2325"
		    Position		    [245, 380, 275, 410]
		    ZOrder		    -10
		    InputValues		    "htc_sr_coast"
		    Table		    "htc_tr_coast"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "effic=SR*TR"
		    SID			    "2326"
		    Ports		    [2, 1]
		    Position		    [480, 45, 500, 85]
		    ZOrder		    -11
		    Inputs		    "**"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace2"
		    SID			    "2327"
		    Ports		    [1]
		    Position		    [725, 122, 820, 138]
		    ZOrder		    -12
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    TreatAsAtomicUnit	    on
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    551
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    552
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    553
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "efficiency"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    554
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2327:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2327:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_efficiency"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if coasting"
		    SID			    "2328"
		    Position		    [400, 260, 430, 290]
		    ZOrder		    -13
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if coasting1"
		    SID			    "2329"
		    Position		    [640, 80, 670, 110]
		    ZOrder		    -14
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "locked up,\nthen TR=1"
		    SID			    "2330"
		    Position		    [315, 150, 345, 180]
		    ZOrder		    -15
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "min,max"
		    SID			    "2331"
		    Position		    [320, 380, 350, 410]
		    ZOrder		    -16
		    UpperLimit		    "htc_max_coast_tr"
		    LowerLimit		    "htc_min_coast_tr"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "TR"
		    SID			    "2332"
		    Position		    [620, 265, 640, 285]
		    ZOrder		    -17
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "if coasting1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    ZOrder		    2
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    3
		    Points		    [0, 35]
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "1/SR*TR \nfor coast"
		    SrcPort		    1
		    DstBlock		    "if coasting1"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "effic=SR*TR"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    ZOrder		    6
		    Points		    [0, 40]
		    DstBlock		    "1/SR*TR \nfor coast"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    7
		    Points		    [90, 0]
		    DstBlock		    "if coasting1"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    9
		    Points		    [0, -45; 280, 0; 0, -135]
		    DstBlock		    "if coasting1"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    10
		    DstBlock		    "if coasting"
		    DstPort		    2
		    }
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "if coasting"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    ZOrder		    12
		    DstBlock		    "effic=SR*TR"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    13
		    DstBlock		    "TR"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "coasting"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    "SR"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    ZOrder		    16
		    Points		    [15, 0]
		    Branch {
		    ZOrder		    17
		    Points		    [0, -35]
		    DstBlock		    "effic=SR*TR"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    18
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    19
		    Points		    [0, 305]
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin\ncoast"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    20
		    SrcBlock		    "min,max"
		    SrcPort		    1
		    Points		    [30, 0]
		    DstBlock		    "if coasting"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    21
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin\ncoast"
		    SrcPort		    1
		    DstBlock		    "min,max"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    22
		    SrcBlock		    "locked up,\nthen TR=1"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "if coasting"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    23
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "locked up,\nthen TR=1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    24
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    25
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "locked up,\nthen TR=1"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    26
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "locked up,\nthen TR=1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Tin=\nTout,req/TR"
		  SID			  "2333"
		  Ports			  [2, 1]
		  Position		  [495, 85, 515, 125]
		  ZOrder		  -18
		  Inputs		  "/*"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Tout=\nTin*TR"
		  SID			  "2334"
		  Ports			  [2, 1]
		  Position		  [435, 495, 455, 535]
		  ZOrder		  -19
		  Inputs		  "**"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Tout_a = \nTout-\nTinertia"
		  SID			  "2335"
		  Ports			  [2, 1]
		  Position		  [625, 492, 680, 523]
		  ZOrder		  -20
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Treq, in = \nTin+\nTinertia"
		  SID			  "2336"
		  Ports			  [3, 1]
		  Position		  [805, 130, 820, 260]
		  ZOrder		  -21
		  IconShape		  "rectangular"
		  Inputs		  "+++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "effect of inertia\n(Nm)"
		  SID			  "2337"
		  Ports			  [1, 1]
		  Position		  [495, 227, 525, 263]
		  ZOrder		  -22
		  ForegroundColor	  "magenta"
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "turbine/output\nspeed (rad/s)"
		    SID			    "2338"
		    Position		    [50, 15, 70, 35]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "2339"
		    Position		    [30, 74, 135, 96]
		    ZOrder		    -2
		    FontName		    "Arial"
		    Value		    "htc_inertia"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    "2340"
		    Ports		    [2, 1]
		    Position		    [290, 13, 310, 57]
		    ZOrder		    -3
		    FontName		    "Arial"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Derivative
		    Name		    "d/dt"
		    SID			    "2341"
		    Position		    [155, 15, 185, 35]
		    ZOrder		    -4
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "inertia torque\n(Nm)"
		    SID			    "2342"
		    Position		    [380, 25, 400, 45]
		    ZOrder		    -5
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "inertia torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [70, 0; 0, -40]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "turbine/output\nspeed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "d/dt"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "d/dt"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Annotation {
		    SID			    "2343"
		    Name		    "This block computes the torque required to overcome the inertia of the\nturbine (plus 1/2 fluid in ht"
		    "c)."
		    Position		    [247, 117, 558, 139]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  SID			  "2344"
		  Ports			  [1]
		  Position		  [275, 457, 370, 473]
		  ZOrder		  -23
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    555
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    556
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    557
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_in_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    558
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2344:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2344:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_trq_in_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  SID			  "2345"
		  Ports			  [1]
		  Position		  [235, 622, 330, 638]
		  ZOrder		  -24
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    559
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    560
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    561
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_in_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    562
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2345:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2345:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_spd_in_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace10"
		  SID			  "2346"
		  Ports			  [1]
		  Position		  [750, 582, 845, 598]
		  ZOrder		  -25
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    563
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    564
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    565
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    566
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace10"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2346:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2346:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_spd_out_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  SID			  "2347"
		  Ports			  [1]
		  Position		  [210, 192, 305, 208]
		  ZOrder		  -26
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    567
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    568
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    569
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_out_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    570
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2347:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2347:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_trq_out_r"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  SID			  "2348"
		  Ports			  [1]
		  Position		  [210, 92, 305, 108]
		  ZOrder		  -27
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    571
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    572
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    573
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_out_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    574
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2348:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2348:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_spd_out_r"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  SID			  "2349"
		  Ports			  [1]
		  Position		  [450, 467, 545, 483]
		  ZOrder		  -28
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    575
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    576
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    577
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "sr_hist"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    578
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2349:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2349:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_sr_hist"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  SID			  "2350"
		  Ports			  [1]
		  Position		  [450, 397, 545, 413]
		  ZOrder		  -29
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    579
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    580
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    581
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "tr_hist"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    582
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2350:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2350:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_tr_hist"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  SID			  "2351"
		  Ports			  [1]
		  Position		  [880, 312, 975, 328]
		  ZOrder		  -30
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    583
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    584
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    585
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_in_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    586
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2351:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2351:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_spd_in_r"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  SID			  "2352"
		  Ports			  [1]
		  Position		  [875, 187, 970, 203]
		  ZOrder		  -31
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    587
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    588
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    589
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_in_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    590
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2352:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2352:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_trq_in_r"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace8"
		  SID			  "2353"
		  Ports			  [1]
		  Position		  [645, 442, 740, 458]
		  ZOrder		  -32
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    591
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    592
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    593
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_inertia"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    594
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2353:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2353:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_trq_inertia"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace9"
		  SID			  "2354"
		  Ports			  [1]
		  Position		  [750, 472, 845, 488]
		  ZOrder		  -33
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    595
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    596
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    597
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    598
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace9"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2354:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2354:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_trq_out_a"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "pump loss\n(Nm)"
		  SID			  "2355"
		  Ports			  [2, 1]
		  Position		  [725, 338, 770, 387]
		  ZOrder		  -34
		  ForegroundColor	  "orange"
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "pump loss\n(Nm)"
		    Location		    [262, 247, 957, 629]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "htc impeller speed (rad/s)"
		    SID			    "2356"
		    Position		    [70, 45, 90, 65]
		    ZOrder		    -1
		    ForegroundColor	    "orange"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "htc lockup signal"
		    SID			    "2357"
		    Position		    [350, 85, 370, 105]
		    ZOrder		    -2
		    ForegroundColor	    "orange"
		    Port		    "2"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "2358"
		    Position		    [475, 71, 500, 119]
		    ZOrder		    -3
		    ForegroundColor	    "orange"
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace6"
		    SID			    "2359"
		    Ports		    [1]
		    Position		    [545, 42, 640, 58]
		    ZOrder		    -4
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    TreatAsAtomicUnit	    on
		    RequestExecContextInheritance off
		    Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    599
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    600
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    601
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "pump_loss_trq"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    602
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		    }
		    System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [164, 44, 968, 889]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2359:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    SID			    "2359:2"
		    Ports		    [1]
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    VariableName	    "htc_pump_loss_trq"
		    MaxDataPoints	    "inf"
		    SampleTime		    "-1"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "pump losses at converter mode"
		    SID			    "2360"
		    Position		    [240, 131, 270, 159]
		    ZOrder		    -5
		    ForegroundColor	    "orange"
		    InputValues		    "htc_pump_loss_spd"
		    Table		    "htc_pump_loss_trq_unlock"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "pump losses at lockup mode"
		    SID			    "2361"
		    Position		    [240, 43, 270, 67]
		    ZOrder		    -6
		    ForegroundColor	    "orange"
		    InputValues		    "htc_pump_loss_spd"
		    Table		    "htc_pump_loss_trq_lockup"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "pump loss  torque\n(Nm)"
		    SID			    "2362"
		    Position		    [570, 85, 590, 105]
		    ZOrder		    -7
		    ForegroundColor	    "orange"
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    ZOrder		    2
		    DstBlock		    "pump loss  torque\n(Nm)"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    3
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		    }
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "htc lockup signal"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "pump losses at converter mode"
		    SrcPort		    1
		    Points		    [185, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "pump losses at lockup mode"
		    SrcPort		    1
		    Points		    [105, 0; 0, 25]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "htc impeller speed (rad/s)"
		    SrcPort		    1
		    Points		    [0, 0; 60, 0]
		    Branch {
		    ZOrder		    8
		    DstBlock		    "pump losses at lockup mode"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    9
		    Points		    [0, 90]
		    DstBlock		    "pump losses at converter mode"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  Switch
		  Name			  "shifting,\nignore inertia\ntorque in request"
		  SID			  "2363"
		  Position		  [675, 180, 705, 210]
		  ZOrder		  -35
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Product
		  Name			  "win=\nwout/SR"
		  SID			  "2364"
		  Ports			  [2, 1]
		  Position		  [435, 300, 455, 340]
		  ZOrder		  -36
		  Inputs		  "*/"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "wout=\nwin*SR"
		  SID			  "2365"
		  Ports			  [2, 1]
		  Position		  [425, 570, 445, 610]
		  ZOrder		  -37
		  Inputs		  "**"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "req'd input\ntrq and spd\n(Nm), (rad/s)"
		  SID			  "2366"
		  Position		  [965, 233, 995, 247]
		  ZOrder		  -38
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "trq and spd\navailable at\noutput (Nm), (rad/s)"
		  SID			  "2367"
		  Position		  [885, 513, 915, 527]
		  ZOrder		  -39
		  Port			  "2"
		  InitialOutput		  "0"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  ">0."
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    ZOrder		    2
		    Points		    [0, -60]
		    DstBlock		    "Mux3"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    3
		    DstBlock		    "enhancedToWorkspace10"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "wout=\nwin*SR"
		  SrcPort		  1
		  DstBlock		  ">0."
		  DstPort		  1
		}
		Line {
		  ZOrder		  5
		  SrcBlock		  "trq and spd\navailable at\ninput (Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux3"
		  DstPort		  1
		}
		Line {
		  ZOrder		  6
		  SrcBlock		  "Tout=\nTin*TR"
		  SrcPort		  1
		  DstBlock		  "Tout_a = \nTout-\nTinertia"
		  DstPort		  2
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "trq and spd\navailable at\noutput (Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  8
		  SrcBlock		  "win=\nwout/SR"
		  SrcPort		  1
		  DstBlock		  ">0\n"
		  DstPort		  1
		}
		Line {
		  ZOrder		  9
		  SrcBlock		  "T, shifting"
		  SrcPort		  1
		  Points		  [0, 60]
		  Branch {
		    ZOrder		    10
		    Points		    [0, 100]
		    DstBlock		    "Mux4"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    11
		    Points		    [25, 0]
		    Branch {
		    ZOrder		    12
		    Points		    [210, 0; 0, -105]
		    DstBlock		    "Tin=\nTout,req/TR"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    13
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  14
		  SrcBlock		  "Demux2"
		  SrcPort		  1
		  Points		  [5, 0; 0, -55]
		  DstBlock		  "T, shifting"
		  DstPort		  3
		}
		Line {
		  ZOrder		  15
		  SrcBlock		  "Demux3"
		  SrcPort		  2
		  Points		  [70, 0; 10, 0]
		  Branch {
		    ZOrder		    16
		    Points		    [0, 0]
		    Branch {
		    ZOrder		    17
		    Points		    [0, 0]
		    DstBlock		    "wout=\nwin*SR"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    18
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		  }
		  Branch {
		    ZOrder		    19
		    Points		    [0, -135]
		    Branch {
		    ZOrder		    20
		    Points		    [-110, 0; 0, -295]
		    DstBlock		    "T, shifting"
		    DstPort		    4
		    }
		    Branch {
		    ZOrder		    21
		    Points		    [0, -115]
		    DstBlock		    "SR"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  ZOrder		  22
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "SR"
		  DstPort		  1
		}
		Line {
		  ZOrder		  23
		  SrcBlock		  "SR"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    ZOrder		    24
		    Points		    [55, 0]
		    Branch {
		    ZOrder		    25
		    DstBlock		    "win=\nwout/SR"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    26
		    Points		    [0, 80]
		    Branch {
		    ZOrder		    27
		    Points		    [0, 65]
		    Branch {
		    ZOrder		    28
		    Points		    [0, 105]
		    DstBlock		    "wout=\nwin*SR"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    29
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    30
		    Points		    [-270, 0]
		    DstBlock		    "T, shifting"
		    DstPort		    5
		    }
		    }
		  }
		  Branch {
		    ZOrder		    31
		    Points		    [0, -245]
		    DstBlock		    "TR"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  32
		  SrcBlock		  "Tout_a = \nTout-\nTinertia"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    ZOrder		    33
		    DstBlock		    "Mux3"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    34
		    Points		    [0, -30]
		    DstBlock		    "enhancedToWorkspace9"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  35
		  SrcBlock		  "Demux2"
		  SrcPort		  2
		  Points		  [0, 0; 85, 0]
		  Branch {
		    ZOrder		    36
		    Points		    [0, -10]
		    Branch {
		    ZOrder		    37
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    38
		    Points		    [240, 0; 0, 0]
		    Branch {
		    ZOrder		    39
		    DstBlock		    "win=\nwout/SR"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    40
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		    }
		    }
		  }
		  Branch {
		    ZOrder		    41
		    Points		    [0, -155]
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  42
		  SrcBlock		  ">0\n"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    ZOrder		    43
		    Points		    [170, 0]
		    Branch {
		    ZOrder		    44
		    Points		    [0, 0; 0, -70]
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    45
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		    }
		  }
		  Branch {
		    ZOrder		    46
		    Points		    [0, 30]
		    DstBlock		    "pump loss\n(Nm)"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  47
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [25, 0]
		  DstBlock		  "shifting,\nignore inertia\ntorque in request"
		  DstPort		  1
		}
		Line {
		  ZOrder		  48
		  SrcBlock		  "effect of inertia\n(Nm)"
		  SrcPort		  1
		  Points		  [70, 0; 0, 0]
		  Branch {
		    ZOrder		    49
		    Points		    [0, 205]
		    Branch {
		    ZOrder		    50
		    Points		    [0, 50]
		    DstBlock		    "Tout_a = \nTout-\nTinertia"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    51
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		    }
		  }
		  Branch {
		    ZOrder		    52
		    Points		    [0, 0; 20, 0; 0, -40]
		    DstBlock		    "shifting,\nignore inertia\ntorque in request"
		    DstPort		    3
		  }
		}
		Line {
		  ZOrder		  53
		  SrcBlock		  "TR"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    ZOrder		    54
		    Points		    [0, 310]
		    Branch {
		    ZOrder		    55
		    Points		    [0, 100]
		    DstBlock		    "Tout=\nTin*TR"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    56
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		    }
		  }
		  Branch {
		    ZOrder		    57
		    Points		    [55, 0]
		    Branch {
		    ZOrder		    58
		    DstBlock		    "Tin=\nTout,req/TR"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    59
		    Points		    [0, -35; -350, 0]
		    DstBlock		    "T, shifting"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  60
		  SrcBlock		  "SR"
		  SrcPort		  2
		  Points		  [25, 0]
		  DstBlock		  "TR"
		  DstPort		  2
		}
		Line {
		  ZOrder		  61
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "req'd input\ntrq and spd\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  62
		  SrcBlock		  "Treq, in = \nTin+\nTinertia"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    ZOrder		    63
		    Points		    [20, 0]
		    Branch {
		    ZOrder		    64
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    65
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		    }
		  }
		  Branch {
		    ZOrder		    66
		    Points		    [0, -165; -725, 0; 0, 120]
		    DstBlock		    "T, shifting"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  67
		  SrcBlock		  "shifting,\nignore inertia\ntorque in request"
		  SrcPort		  1
		  DstBlock		  "Treq, in = \nTin+\nTinertia"
		  DstPort		  2
		}
		Line {
		  ZOrder		  68
		  SrcBlock		  "Tin=\nTout,req/TR"
		  SrcPort		  1
		  Points		  [270, 0]
		  DstBlock		  "Treq, in = \nTin+\nTinertia"
		  DstPort		  1
		}
		Line {
		  ZOrder		  69
		  SrcBlock		  "req'd output\ntrq and spd\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  70
		  SrcBlock		  "From <vc>"
		  SrcPort		  1
		  DstBlock		  "shifting,\nignore inertia\ntorque in request"
		  DstPort		  2
		}
		Line {
		  ZOrder		  71
		  SrcBlock		  "Demux3"
		  SrcPort		  1
		  DstBlock		  " Tin - Tpumploss"
		  DstPort		  2
		}
		Line {
		  ZOrder		  72
		  SrcBlock		  " Tin - Tpumploss"
		  SrcPort		  1
		  Points		  [-5, 0]
		  Branch {
		    ZOrder		    73
		    Points		    [20, 0; 0, -45; -35, 0]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    74
		    Points		    [0, 0]
		    DstBlock		    "Tout=\nTin*TR"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  75
		  SrcBlock		  "pump loss\n(Nm)"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    ZOrder		    76
		    Points		    [0, 70; -545, 0]
		    DstBlock		    " Tin - Tpumploss"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    77
		    Points		    [0, -125]
		    DstBlock		    "Treq, in = \nTin+\nTinertia"
		    DstPort		    3
		  }
		}
		Line {
		  ZOrder		  78
		  SrcBlock		  "From <vc>1"
		  SrcPort		  1
		  DstBlock		  "pump loss\n(Nm)"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      SID		      "2368"
	      Ports		      [1, 1]
	      Position		      [325, 66, 380, 94]
	      ZOrder		      -13
	      RequestExecContextInheritance off
	      System {
		Name			"signal\nannotator"
		Location		[164, 44, 968, 889]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  SID			  "2369"
		  Position		  [110, 103, 140, 117]
		  ZOrder		  -1
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  "2370"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  ZOrder		  -2
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  Port {
		    PortNumber		    1
		    Name		    "htc_trq_out_r"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "htc_spd_out_r"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  "2371"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ZOrder		  -3
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  SID			  "2372"
		  Position		  [430, 103, 460, 117]
		  ZOrder		  -4
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "htc_trq_out_r"
		  ZOrder		  2
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "htc_spd_out_r"
		  ZOrder		  3
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "requested\noutput"
	      SID		      "2373"
	      Position		      [475, 73, 505, 87]
	      ZOrder		      -14
	      NameLocation	      "top"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\ninput\nrequest"
	      SID		      "2374"
	      Position		      [475, 138, 505, 152]
	      ZOrder		      -15
	      NameLocation	      "top"
	      Port		      "2"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\noutput\nachieved"
	      SID		      "2375"
	      Position		      [475, 168, 505, 182]
	      ZOrder		      -16
	      Port		      "3"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      SID		      "2376"
	      Position		      [675, 333, 705, 347]
	      ZOrder		      -17
	      Port		      "4"
	      InitialOutput	      "0"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "trq and spd\noutput\nrequest"
	      SrcPort		      1
	      Points		      [0, 0; 50, 0]
	      Branch {
		ZOrder			2
		DstBlock		"htc model"
		DstPort			1
	      }
	      Branch {
		ZOrder			3
		Points			[0, -65]
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "htc model"
	      SrcPort		      1
	      DstBlock		      "trq and spd\ninput\nrequest"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "htc model"
	      SrcPort		      2
	      DstBlock		      "trq and spd\noutput\nachieved"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      6
	      SrcBlock		      "trq and spd\ninput\nachieved"
	      SrcPort		      1
	      DstBlock		      "htc model"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "requested\noutput"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      9
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      Points		      [0, -15]
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      10
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      Points		      [5, 0]
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "htc_efficiency"
	      ZOrder		      11
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      12
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Annotation {
	      SID		      "2377"
	      Name		      "Model"
	      Position		      [352, 35, 406, 58]
	      InternalMargins	      [0, 0, 0, 0]
	      BackgroundColor	      "yellow"
	      ZOrder		      -1
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      SID		      "2378"
	      Name		      "Interface"
	      Position		      [357, 260, 433, 283]
	      InternalMargins	      [0, 0, 0, 0]
	      BackgroundColor	      "yellow"
	      ZOrder		      -2
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  SID			  "2379"
	  Position		  [390, 44, 490, 86]
	  ZOrder		  -5
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "htcReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  SID			  "2380"
	  Position		  [390, 209, 490, 251]
	  ZOrder		  -6
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "htcSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T & w input\nrequested"
	  SID			  "2381"
	  Position		  [410, 138, 440, 152]
	  ZOrder		  -7
	  NameLocation		  "top"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T & w output\navailable"
	  SID			  "2382"
	  Position		  [350, 153, 380, 167]
	  ZOrder		  -8
	  Port			  "2"
	  InitialOutput		  "0"
	}
	Line {
	  ZOrder		  1
	  SrcBlock		  "conventional HTC \nand Interface"
	  SrcPort		  1
	  Points		  [70, 0; 0, -65]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  ZOrder		  2
	  SrcBlock		  "conventional HTC \nand Interface"
	  SrcPort		  4
	  Points		  [70, 0; 0, 55]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  ZOrder		  3
	  SrcBlock		  "conventional HTC \nand Interface"
	  SrcPort		  2
	  DstBlock		  "T & w input\nrequested"
	  DstPort		  1
	}
	Line {
	  ZOrder		  4
	  SrcBlock		  "conventional HTC \nand Interface"
	  SrcPort		  3
	  DstBlock		  "T & w output\navailable"
	  DstPort		  1
	}
	Line {
	  ZOrder		  5
	  SrcBlock		  "T & w output\nrequested"
	  SrcPort		  1
	  DstBlock		  "conventional HTC \nand Interface"
	  DstPort		  1
	}
	Line {
	  ZOrder		  6
	  SrcBlock		  "T & w input\navailable"
	  SrcPort		  1
	  DstBlock		  "conventional HTC \nand Interface"
	  DstPort		  2
	}
	Line {
	  ZOrder		  7
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [5, 0; 0, -55]
	  DstBlock		  "conventional HTC \nand Interface"
	  DstPort		  3
	}
	Annotation {
	  SID			  "2383"
	  Name			  "Hydraulic Torque Converter"
	  Position		  [222, 35, 460, 58]
	  InternalMargins	  [0, 0, 0, 0]
	  BackgroundColor	  "yellow"
	  ZOrder		  -1
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "planetary\n gearset\n <pg> prius"
      SID		      "2384"
      Ports		      [4, 4]
      Position		      [45, 434, 100, 491]
      ZOrder		      -13
      BackgroundColor	      "yellow"
      ShowPortLabels	      "none"
      RequestExecContextInheritance off
      Object {
	$PropName		"MaskObject"
	$ObjectID		603
	$ClassName		"Simulink.Mask"
	Display			"image(imread('bdi_psplit.jpg'))"
      }
      System {
	Name			"planetary\n gearset\n <pg> prius"
	Location		[62, 44, 880, 778]
	Open			off
	PortBlocksUseCompactNotation off
	SetExecutionDomain	off
	ExecutionDomainType	"Deduce"
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	SimulinkSubDomain	"Simulink"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed required\nfrom ring gear\n(Nm), (rad/s)1"
	  SID			  "2385"
	  Position		  [70, 25, 90, 45]
	  ZOrder		  -1
	  FontName		  "Arial"
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nfrom fuel converter\n(Nm), (rad/s)"
	  SID			  "2386"
	  Position		  [70, 315, 90, 335]
	  ZOrder		  -2
	  FontName		  "Arial"
	  Port			  "2"
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nfrom generator\n(Nm), (rad/s)"
	  SID			  "2387"
	  Position		  [70, 395, 90, 415]
	  ZOrder		  -3
	  FontName		  "Arial"
	  Port			  "3"
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed available\nfrom motor\n(Nm), (rad/s)1"
	  SID			  "2388"
	  Position		  [70, 485, 90, 505]
	  ZOrder		  -4
	  FontName		  "Arial"
	  Port			  "4"
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux"
	  SID			  "2389"
	  Ports			  [1, 2]
	  Position		  [145, 386, 165, 419]
	  ZOrder		  -5
	  ShowName		  off
	  FontName		  "Arial"
	  Outputs		  "2"
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux1"
	  SID			  "2390"
	  Ports			  [1, 2]
	  Position		  [150, 306, 170, 339]
	  ZOrder		  -6
	  ShowName		  off
	  FontName		  "Arial"
	  Outputs		  "2"
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux2"
	  SID			  "2391"
	  Ports			  [1, 2]
	  Position		  [160, 15, 195, 50]
	  ZOrder		  -7
	  ShowName		  off
	  FontName		  "Arial"
	  Outputs		  "2"
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux3"
	  SID			  "2392"
	  Ports			  [1, 2]
	  Position		  [145, 476, 165, 509]
	  ZOrder		  -8
	  ShowName		  off
	  FontName		  "Arial"
	  Outputs		  "2"
	}
	Block {
	  BlockType		  From
	  Name			  "From <vc>"
	  SID			  "2393"
	  Position		  [450, 21, 535, 39]
	  ZOrder		  -9
	  NameLocation		  "top"
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "fc_trq_req"
	}
	Block {
	  BlockType		  From
	  Name			  "From <vc>1"
	  SID			  "2394"
	  Position		  [450, 61, 535, 79]
	  ZOrder		  -10
	  NameLocation		  "top"
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "fc_spd_req"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <vc>"
	  SID			  "2395"
	  Position		  [305, 15, 405, 35]
	  ZOrder		  -11
	  GotoTag		  "pgs_trq_spd_r"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux"
	  SID			  "2396"
	  Ports			  [2, 1]
	  Position		  [585, 31, 605, 64]
	  ZOrder		  -12
	  ShowName		  off
	  FontName		  "Arial"
	  Inputs		  "2"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux1"
	  SID			  "2397"
	  Ports			  [2, 1]
	  Position		  [560, 136, 580, 169]
	  ZOrder		  -13
	  ShowName		  off
	  FontName		  "Arial"
	  Inputs		  "2"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux2"
	  SID			  "2398"
	  Ports			  [2, 1]
	  Position		  [585, 231, 605, 264]
	  ZOrder		  -14
	  ShowName		  off
	  FontName		  "Arial"
	  Inputs		  "2"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux3"
	  SID			  "2399"
	  Ports			  [2, 1]
	  Position		  [585, 321, 605, 354]
	  ZOrder		  -15
	  FontName		  "Arial"
	  Inputs		  "2"
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum2"
	  SID			  "2400"
	  Ports			  [2, 1]
	  Position		  [535, 307, 565, 338]
	  ZOrder		  -16
	  IconShape		  "rectangular"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum5"
	  SID			  "2401"
	  Ports			  [2, 1]
	  Position		  [445, 142, 475, 173]
	  ZOrder		  -17
	  IconShape		  "rectangular"
	  Inputs		  "+-"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum6"
	  SID			  "2402"
	  Ports			  [2, 1]
	  Position		  [525, 186, 555, 219]
	  ZOrder		  -18
	  IconShape		  "rectangular"
	  Inputs		  "+-"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Terminator
	  Name			  "Terminator"
	  SID			  "2403"
	  Position		  [190, 410, 210, 430]
	  ZOrder		  -19
	  ShowName		  off
	}
	Block {
	  BlockType		  Terminator
	  Name			  "Terminator2"
	  SID			  "2404"
	  Position		  [190, 380, 210, 400]
	  ZOrder		  -20
	  ShowName		  off
	}
	Block {
	  BlockType		  Gain
	  Name			  "engine_to_generator"
	  SID			  "2405"
	  Position		  [305, 93, 420, 137]
	  ZOrder		  -21
	  NameLocation		  "top"
	  Gain			  "-tx_pg_s/(tx_pg_r+tx_pg_s)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Gain
	  Name			  "gain"
	  SID			  "2406"
	  Position		  [355, 287, 455, 343]
	  ZOrder		  -22
	  NameLocation		  "top"
	  ShowName		  off
	  Gain			  "tx_pg_r/(tx_pg_r+tx_pg_s)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Gain
	  Name			  "gain2"
	  SID			  "2407"
	  Position		  [195, 328, 295, 362]
	  ZOrder		  -23
	  NameLocation		  "top"
	  ShowName		  off
	  Gain			  "1+tx_pg_r/tx_pg_s"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Gain
	  Name			  "gain5"
	  SID			  "2408"
	  Position		  [345, 157, 425, 193]
	  ZOrder		  -24
	  NameLocation		  "top"
	  ShowName		  off
	  Gain			  "tx_pg_r/tx_pg_s"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "spd out"
	  SID			  "2409"
	  Ports			  [1]
	  Position		  [120, 86, 195, 104]
	  ZOrder		  -25
	  BlockMirror		  on
	  ShowName		  off
	  FontName		  "Arial"
	  VariableName		  "pg_spd_out_r"
	  MaxDataPoints		  "100000"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "trq out"
	  SID			  "2410"
	  Ports			  [1]
	  Position		  [50, 117, 125, 133]
	  ZOrder		  -26
	  BlockMirror		  on
	  ShowName		  off
	  FontName		  "Arial"
	  VariableName		  "pg_trq_out_r"
	  MaxDataPoints		  "100000"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nfrom fuel converter\n(Nm), (rad/s)"
	  SID			  "2411"
	  Position		  [665, 40, 685, 60]
	  ZOrder		  -27
	  FontName		  "Arial"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nfrom generator\n(Nm), (rad/s)"
	  SID			  "2412"
	  Position		  [665, 145, 685, 165]
	  ZOrder		  -28
	  FontName		  "Arial"
	  Port			  "2"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nfrom motor\n(Nm), (rad/s)1"
	  SID			  "2413"
	  Position		  [670, 240, 690, 260]
	  ZOrder		  -29
	  FontName		  "Arial"
	  Port			  "3"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed available\nto final drive\n(Nm), (rad/s)1"
	  SID			  "2414"
	  Position		  [670, 330, 690, 350]
	  ZOrder		  -30
	  FontName		  "Arial"
	  Port			  "4"
	  InitialOutput		  "0"
	}
	Line {
	  ZOrder		  1
	  SrcBlock		  "torque and speed available\nfrom motor\n(Nm), (rad/s)1"
	  SrcPort		  1
	  DstBlock		  "Demux3"
	  DstPort		  1
	}
	Line {
	  ZOrder		  2
	  Labels		  [0, 0]
	  SrcBlock		  "Demux3"
	  SrcPort		  2
	  Points		  [145, 0]
	  Branch {
	    ZOrder		    3
	    Points		    [0, -325]
	    DstBlock		    "gain5"
	    DstPort		    1
	  }
	  Branch {
	    ZOrder		    4
	    Points		    [255, 0]
	    DstBlock		    "Mux3"
	    DstPort		    2
	  }
	}
	Line {
	  ZOrder		  5
	  SrcBlock		  "Demux3"
	  SrcPort		  1
	  Points		  [330, 0; 0, -155]
	  DstBlock		  "Sum2"
	  DstPort		  2
	}
	Line {
	  ZOrder		  6
	  SrcBlock		  "Mux3"
	  SrcPort		  1
	  DstBlock		  "torque and speed available\nto final drive\n(Nm), (rad/s)1"
	  DstPort		  1
	}
	Line {
	  ZOrder		  7
	  SrcBlock		  "Sum2"
	  SrcPort		  1
	  DstBlock		  "Mux3"
	  DstPort		  1
	}
	Line {
	  ZOrder		  8
	  SrcBlock		  "Sum5"
	  SrcPort		  1
	  DstBlock		  "Mux1"
	  DstPort		  2
	}
	Line {
	  ZOrder		  9
	  SrcBlock		  "engine_to_generator"
	  SrcPort		  1
	  Points		  [80, 0; 0, 30]
	  DstBlock		  "Mux1"
	  DstPort		  1
	}
	Line {
	  ZOrder		  10
	  SrcBlock		  "Mux1"
	  SrcPort		  1
	  DstBlock		  "torque and speed req'd\nfrom generator\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  ZOrder		  11
	  SrcBlock		  "Sum6"
	  SrcPort		  1
	  Points		  [0, 35]
	  DstBlock		  "Mux2"
	  DstPort		  1
	}
	Line {
	  ZOrder		  12
	  SrcBlock		  "Mux2"
	  SrcPort		  1
	  DstBlock		  "torque and speed req'd\nfrom motor\n(Nm), (rad/s)1"
	  DstPort		  1
	}
	Line {
	  ZOrder		  13
	  SrcBlock		  "gain2"
	  SrcPort		  1
	  Points		  [10, 0; 0, -195]
	  DstBlock		  "Sum5"
	  DstPort		  1
	}
	Line {
	  ZOrder		  14
	  SrcBlock		  "Demux"
	  SrcPort		  2
	  Points		  [0, 10]
	  DstBlock		  "Terminator"
	  DstPort		  1
	}
	Line {
	  ZOrder		  15
	  SrcBlock		  "Demux"
	  SrcPort		  1
	  Points		  [0, -5]
	  DstBlock		  "Terminator2"
	  DstPort		  1
	}
	Line {
	  ZOrder		  16
	  SrcBlock		  "torque and speed avail.\nfrom generator\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "Demux"
	  DstPort		  1
	}
	Line {
	  ZOrder		  17
	  SrcBlock		  "Demux1"
	  SrcPort		  1
	  Points		  [105, 0]
	  Branch {
	    ZOrder		    18
	    Points		    [0, -200]
	    DstBlock		    "engine_to_generator"
	    DstPort		    1
	  }
	  Branch {
	    ZOrder		    19
	    DstBlock		    "gain"
	    DstPort		    1
	  }
	}
	Line {
	  ZOrder		  20
	  SrcBlock		  "Demux1"
	  SrcPort		  2
	  Points		  [5, 0]
	  DstBlock		  "gain2"
	  DstPort		  1
	}
	Line {
	  ZOrder		  21
	  SrcBlock		  "torque and speed avail.\nfrom fuel converter\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "Demux1"
	  DstPort		  1
	}
	Line {
	  ZOrder		  22
	  SrcBlock		  "gain5"
	  SrcPort		  1
	  DstBlock		  "Sum5"
	  DstPort		  2
	}
	Line {
	  ZOrder		  23
	  SrcBlock		  "From <vc>"
	  SrcPort		  1
	  Points		  [0, 10]
	  DstBlock		  "Mux"
	  DstPort		  1
	}
	Line {
	  ZOrder		  24
	  SrcBlock		  "From <vc>1"
	  SrcPort		  1
	  Points		  [0, -15]
	  DstBlock		  "Mux"
	  DstPort		  2
	}
	Line {
	  ZOrder		  25
	  SrcBlock		  "Mux"
	  SrcPort		  1
	  DstBlock		  "torque and speed req'd\nfrom fuel converter\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  ZOrder		  26
	  SrcBlock		  "Demux2"
	  SrcPort		  1
	  Points		  [20, 0]
	  Branch {
	    ZOrder		    27
	    Labels		    [2, 0]
	    Points		    [25, 0; 0, 170]
	    DstBlock		    "Sum6"
	    DstPort		    1
	  }
	  Branch {
	    ZOrder		    28
	    Points		    [0, 100]
	    DstBlock		    "trq out"
	    DstPort		    1
	  }
	}
	Line {
	  ZOrder		  29
	  SrcBlock		  "Demux2"
	  SrcPort		  2
	  Points		  [10, 0; 0, 55]
	  Branch {
	    ZOrder		    30
	    Points		    [0, 160]
	    DstBlock		    "Mux2"
	    DstPort		    2
	  }
	  Branch {
	    ZOrder		    31
	    DstBlock		    "spd out"
	    DstPort		    1
	  }
	}
	Line {
	  ZOrder		  32
	  SrcBlock		  "gain"
	  SrcPort		  1
	  Points		  [45, 0]
	  Branch {
	    ZOrder		    33
	    DstBlock		    "Sum2"
	    DstPort		    1
	  }
	  Branch {
	    ZOrder		    34
	    Points		    [0, -105]
	    DstBlock		    "Sum6"
	    DstPort		    2
	  }
	}
	Line {
	  ZOrder		  35
	  SrcBlock		  "torque and speed required\nfrom ring gear\n(Nm), (rad/s)1"
	  SrcPort		  1
	  Points		  [25, 0]
	  Branch {
	    ZOrder		    36
	    Points		    [0, -25; 170, 0]
	    DstBlock		    "Goto <vc>"
	    DstPort		    1
	  }
	  Branch {
	    ZOrder		    37
	    DstBlock		    "Demux2"
	    DstPort		    1
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "torque\ncoupler <tc>"
      SID		      "2415"
      Ports		      [3, 3]
      Position		      [55, 122, 95, 178]
      ZOrder		      -14
      BackgroundColor	      "yellow"
      ShowPortLabels	      "none"
      RequestExecContextInheritance off
      Object {
	$PropName		"MaskObject"
	$ObjectID		604
	$ClassName		"Simulink.Mask"
	Type			"Stand-Alone Torque Coupler Mask"
	Initialization		"% initialization via m-file script\nadvSACompMaskInit;"
	Display			"image(imread(imgFileName))"
	Array {
	  Type			  "Simulink.MaskParameter"
	  Dimension		  6
	  Object {
	    $ObjectID		    605
	    Type		    "edit"
	    Name		    "generalName"
	    Prompt		    "General Name of this Component [char--evaluated]"
	    Value		    "'tc'"
	  }
	  Object {
	    $ObjectID		    606
	    Type		    "popup"
	    Array {
	      Type		      "Cell"
	      Dimension		      2
	      Cell		      "Don't Log"
	      Cell		      "Log"
	      PropName		      "TypeOptions"
	    }
	    Name		    "logPick"
	    Prompt		    "Log Variables to Workspace?"
	    Value		    "Don't Log"
	  }
	  Object {
	    $ObjectID		    607
	    Type		    "edit"
	    Name		    "initFileName"
	    Prompt		    "Initialization File(s) [cell array of char]"
	    Value		    "{}"
	  }
	  Object {
	    $ObjectID		    608
	    Type		    "edit"
	    Name		    "modCell"
	    Prompt		    "Modification Cell [2 column cell array of param and val]"
	    Value		    "{}"
	  }
	  Object {
	    $ObjectID		    609
	    Type		    "edit"
	    Name		    "imgFileName"
	    Prompt		    "Icon image file name [char--evaluated]"
	    Value		    "'bdi_tc.jpg'"
	  }
	  Object {
	    $ObjectID		    610
	    Type		    "popup"
	    Array {
	      Type		      "Cell"
	      Dimension		      2
	      Cell		      "ON"
	      Cell		      "OFF"
	      PropName		      "TypeOptions"
	    }
	    Name		    "DEBUG"
	    Prompt		    "DEBUG"
	    Value		    "OFF"
	    Evaluate		    "off"
	  }
	  PropName		  "Parameters"
	}
      }
      System {
	Name			"torque\ncoupler <tc>"
	Location		[39, 44, 973, 859]
	Open			off
	PortBlocksUseCompactNotation off
	SetExecutionDomain	off
	ExecutionDomainType	"Deduce"
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	SimulinkSubDomain	"Simulink"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed req'd\nat output side of torque coupler\n(Nm), (rad/s)"
	  SID			  "2416"
	  Position		  [100, 130, 120, 150]
	  ZOrder		  -1
	  NameLocation		  "top"
	  FontName		  "Arial"
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nat main input\n(Nm), (rad/s)"
	  SID			  "2417"
	  Position		  [100, 185, 120, 205]
	  ZOrder		  -2
	  FontName		  "Arial"
	  Port			  "2"
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nat motor input to tc\n(Nm), (rad/s)"
	  SID			  "2418"
	  Position		  [100, 255, 120, 275]
	  ZOrder		  -3
	  FontName		  "Arial"
	  Port			  "3"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  SID			  "2419"
	  Position		  [60, 331, 170, 369]
	  ZOrder		  -4
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "tcControl"
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  SID			  "2420"
	  Position		  [540, 19, 640, 61]
	  ZOrder		  -5
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "tcReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  SID			  "2421"
	  Position		  [535, 329, 635, 371]
	  ZOrder		  -6
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "tcSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "tc model & interface"
	  SID			  "2422"
	  Ports			  [4, 5]
	  Position		  [330, 169, 370, 231]
	  ZOrder		  -7
	  ShowPortLabels	  "none"
	  RequestExecContextInheritance	off
	  System {
	    Name		    "tc model & interface"
	    Location		    [164, 44, 968, 945]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\noutput\nrequest"
	      SID		      "2423"
	      Position		      [115, 98, 145, 112]
	      ZOrder		      -1
	      NameLocation	      "top"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd avail.\nat main input"
	      SID		      "2424"
	      Position		      [90, 180, 110, 200]
	      ZOrder		      -2
	      NameLocation	      "top"
	      FontName		      "Arial"
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd avail.\nat motor input to tc"
	      SID		      "2425"
	      Position		      [120, 200, 140, 220]
	      ZOrder		      -3
	      FontName		      "Arial"
	      Port		      "3"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "controls"
	      SID		      "2426"
	      Position		      [120, 323, 150, 337]
	      ZOrder		      -4
	      Port		      "4"
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "Ground"
	      SID		      "2427"
	      Position		      [245, 320, 265, 340]
	      ZOrder		      -5
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      SID		      "2428"
	      Position		      [185, 320, 205, 340]
	      ZOrder		      -6
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      SID		      "2429"
	      Ports		      [1, 1]
	      Position		      [200, 91, 255, 119]
	      ZOrder		      -7
	      NameLocation	      "top"
	      RequestExecContextInheritance off
	      System {
		Name			"signal\nannotator"
		Location		[164, 44, 968, 889]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  SID			  "2430"
		  Position		  [110, 103, 140, 117]
		  ZOrder		  -1
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  "2431"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  ZOrder		  -2
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  Port {
		    PortNumber		    1
		    Name		    "tc_trq_out_r"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "tc_spd_out_r"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  "2432"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ZOrder		  -3
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  SID			  "2433"
		  Position		  [430, 103, 460, 117]
		  ZOrder		  -4
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "tc_trq_out_r"
		  ZOrder		  2
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "tc_spd_out_r"
		  ZOrder		  3
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "tc model"
	      SID		      "2434"
	      Ports		      [3, 3]
	      Position		      [205, 160, 245, 220]
	      ZOrder		      -8
	      ShowPortLabels	      "none"
	      RequestExecContextInheritance off
	      System {
		Name			"tc model"
		Location		[172, 44, 909, 949]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed req'd\nat output side of torque coupler\n(Nm), (rad/s)"
		  SID			  "2435"
		  Position		  [65, 45, 85, 65]
		  ZOrder		  -1
		  FontName		  "Arial"
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed avail.\nat main input\n(Nm), (rad/s)"
		  SID			  "2436"
		  Position		  [65, 245, 85, 265]
		  ZOrder		  -2
		  FontName		  "Arial"
		  Port			  "2"
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed avail.\nat motor input to tc\n(Nm), (rad/s)"
		  SID			  "2437"
		  Position		  [50, 565, 70, 585]
		  ZOrder		  -3
		  FontName		  "Arial"
		  Port			  "3"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  SID			  "2438"
		  Ports			  []
		  Position		  [640, 680, 696, 720]
		  ZOrder		  -4
		  BackgroundColor	  "green"
		  ShowName		  off
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    611
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		  }
		  System {
		    Name		    "Block NOTES"
		    Location		    [595, 367, 1085, 855]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "2439"
		    Name		    "This block models a chain- or belt-driven torque coupler, with three gears:  one each\nfor the motor,"
		    " main input (the engine or gearbox), and main output (to the gearbox\nor final drive).  It includes losses in th"
		    "e chain or belt, but leaves inertia effects to be\nconsidered in the appropriate component.\n\nThe entire torque"
		    " required out of the torque coupler (plus losses) is required from the\nengine.  The engine provides only as muc"
		    "h torque as its engine controller (see the\n<vc> block) allows.  Any remaining unmet torque request is submitted"
		    " to the motor,\nwhich meets the request to the best of its ability.\n\nThe torque converter output speed is limi"
		    "ted by the maximum speeds of both the\nmotor and the engine.\n\nThe loss torque is zero when the gears are not t"
		    "urning, and is applied at the output\n gear.\n\nThe gears connecting the main input and main output to the torqu"
		    "e converter's belt\nor chain are assumed to be of the same size, so that main input speed = main output"
		    Position		    [222, 32, 598, 214]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		    Annotation {
		    SID			    "2440"
		    Name		    "speed, while the motor's speed may be different.  The ratio of motor speed to main\noutput speed is s"
		    "tored in the variable tc_mc_to_fc_spd_ratio."
		    Position		    [222, 263, 587, 285]
		    InternalMargins	    [0, 0, 0, 0]
		    ZOrder		    -2
		    }
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  "2441"
		  Ports			  [1, 2]
		  Position		  [150, 36, 170, 69]
		  ZOrder		  -5
		  FontName		  "Arial"
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  SID			  "2442"
		  Ports			  [1, 2]
		  Position		  [150, 236, 170, 269]
		  ZOrder		  -6
		  FontName		  "Arial"
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux2"
		  SID			  "2443"
		  Ports			  [1, 2]
		  Position		  [150, 556, 170, 589]
		  ZOrder		  -7
		  FontName		  "Arial"
		  Outputs		  "2"
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax"
		  SID			  "2444"
		  Ports			  [2, 1]
		  Position		  [220, 317, 250, 348]
		  ZOrder		  -8
		  Inputs		  "2"
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax1"
		  SID			  "2445"
		  Ports			  [2, 1]
		  Position		  [400, 617, 430, 648]
		  ZOrder		  -9
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  "2446"
		  Ports			  [2, 1]
		  Position		  [490, 36, 510, 69]
		  ZOrder		  -10
		  FontName		  "Arial"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  SID			  "2447"
		  Ports			  [2, 1]
		  Position		  [515, 221, 535, 254]
		  ZOrder		  -11
		  FontName		  "Arial"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  SID			  "2448"
		  Ports			  [2, 1]
		  Position		  [505, 556, 525, 589]
		  ZOrder		  -12
		  FontName		  "Arial"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  SID			  "2449"
		  Ports			  [1, 1]
		  Position		  [60, 390, 85, 420]
		  ZOrder		  -13
		  ShowName		  off
		  Inputs		  "1"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  SID			  "2450"
		  Ports			  [1, 1]
		  Position		  [60, 430, 85, 460]
		  ZOrder		  -14
		  ShowName		  off
		  Inputs		  "1"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "effect of motor torque\nat output of tc (Nm)"
		  SID			  "2451"
		  Position		  [215, 492, 320, 568]
		  ZOrder		  -15
		  FontName		  "Arial"
		  Gain			  "tc_mc_to_fc_ratio"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  SID			  "2452"
		  Ports			  [1]
		  Position		  [60, 167, 155, 183]
		  ZOrder		  -16
		  BlockMirror		  on
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    612
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    613
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    614
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_out_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    615
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2452:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2452:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  SID			  "2453"
		  Ports			  [1]
		  Position		  [60, 127, 155, 143]
		  ZOrder		  -17
		  BlockMirror		  on
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    616
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    617
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    618
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_out_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    619
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2453:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2453:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  SID			  "2454"
		  Ports			  [1]
		  Position		  [155, 417, 250, 433]
		  ZOrder		  -18
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    620
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    621
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    622
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "pwr_in_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    623
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2454:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2454:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  SID			  "2455"
		  Ports			  [1]
		  Position		  [495, 477, 590, 493]
		  ZOrder		  -19
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    624
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    625
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    626
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    627
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2455:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2455:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  SID			  "2456"
		  Ports			  [1]
		  Position		  [495, 517, 590, 533]
		  ZOrder		  -20
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    628
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    629
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    630
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    631
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2456:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2456:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  SID			  "2457"
		  Ports			  []
		  Position		  [596, 679, 627, 722]
		  ZOrder		  -21
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('torque_coupler.htm')]);"
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    632
		    $ClassName		    "Simulink.Mask"
		    Display		    "image(imread('doc_man.jpg'))"
		  }
		  System {
		    Name		    "help"
		    Location		    [165, 211, 571, 596]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "loss\n(Nm)"
		  SID			  "2458"
		  Ports			  [1, 1]
		  Position		  [230, 62, 260, 98]
		  ZOrder		  -22
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "loss\n(Nm)"
		    Location		    [209, 184, 675, 556]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "tc output speed (rad/s)"
		    SID			    "2459"
		    Position		    [60, 55, 80, 75]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "2460"
		    Position		    [210, 95, 230, 115]
		    ZOrder		    -2
		    BlockRotation	    270
		    NameLocation	    "right"
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "2461"
		    Position		    [285, 49, 315, 81]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "torque coupler loss torque\n(Nm)"
		    SID			    "2462"
		    Position		    [115, 14, 195, 36]
		    ZOrder		    -4
		    FontName		    "Arial"
		    Value		    "tc_loss"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "drag torque\n(Nm)"
		    SID			    "2463"
		    Position		    [380, 55, 400, 75]
		    ZOrder		    -5
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -15]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "tc output speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "drag torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "torque coupler loss torque\n(Nm)"
		    SrcPort		    1
		    Points		    [20, 0; 0, 30]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Annotation {
		    SID			    "2464"
		    Name		    "The loss torque is zero when the gears are not turning,\nand is applied at the torque coupler's outpu"
		    "t gear."
		    Position		    [232, 142, 475, 164]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "speed of output gear\ncorresponding to motor spd\n(rad/s)"
		  SID			  "2465"
		  Position		  [210, 605, 330, 675]
		  ZOrder		  -23
		  FontName		  "Arial"
		  Gain			  "1/tc_mc_to_fc_ratio"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "speed req'd\nof motor (rad/s)"
		  SID			  "2466"
		  Position		  [360, 297, 465, 373]
		  ZOrder		  -24
		  FontName		  "Arial"
		  Gain			  "tc_mc_to_fc_ratio"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "sum\n"
		  SID			  "2467"
		  Ports			  [2, 1]
		  Position		  [115, 385, 135, 465]
		  ZOrder		  -25
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "torque avail.\nat output side\nof tc (Nm)"
		  SID			  "2468"
		  Ports			  [3, 1]
		  Position		  [405, 449, 425, 521]
		  ZOrder		  -26
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "total torque\nreq'd at output\ngear (Nm)"
		  SID			  "2469"
		  Ports			  [2, 1]
		  Position		  [300, 27, 320, 98]
		  ZOrder		  -27
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "total torque req'd\nof motor (Nm)"
		  SID			  "2470"
		  Position		  [340, 195, 460, 265]
		  ZOrder		  -28
		  FontName		  "Arial"
		  Gain			  "1/tc_mc_to_fc_ratio"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "unmet\ntorque\nrequest\n(Nm)"
		  SID			  "2471"
		  Ports			  [2, 1]
		  Position		  [295, 192, 315, 263]
		  ZOrder		  -29
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+-"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed req'd\nat main input to torque coupler\n(Nm), (rad/s)"
		  SID			  "2472"
		  Position		  [615, 45, 635, 65]
		  ZOrder		  -30
		  FontName		  "Arial"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed req'd\nat motor input to torque coupler\n(Nm), (rad/s)"
		  SID			  "2473"
		  Position		  [610, 230, 630, 250]
		  ZOrder		  -31
		  FontName		  "Arial"
		  Port			  "2"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed avail.\nat output side of torque coupler\n(Nm), (rad/s)"
		  SID			  "2474"
		  Position		  [610, 565, 630, 585]
		  ZOrder		  -32
		  FontName		  "Arial"
		  Port			  "3"
		  InitialOutput		  "0"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "MinMax1"
		  SrcPort		  1
		  Points		  [25, 0; 0, -55; 10, 0]
		  Branch {
		    ZOrder		    2
		    DstBlock		    "Mux2"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    3
		    Points		    [0, -55]
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "torque avail.\nat output side\nof tc (Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 30, 0]
		  Branch {
		    ZOrder		    5
		    Points		    [0, 80]
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    6
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [0, 0; 5, 0]
		  Branch {
		    ZOrder		    8
		    DstBlock		    "total torque\nreq'd at output\ngear (Nm)"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    9
		    Points		    [0, 90]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  "MinMax"
		  SrcPort		  1
		  Points		  [0, 0; 80, 0]
		  Branch {
		    ZOrder		    11
		    Points		    [0, 290]
		    DstBlock		    "MinMax1"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    12
		    DstBlock		    "speed req'd\nof motor (rad/s)"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  13
		  SrcBlock		  "speed of output gear\ncorresponding to motor spd\n(rad/s)"
		  SrcPort		  1
		  DstBlock		  "MinMax1"
		  DstPort		  2
		}
		Line {
		  ZOrder		  14
		  SrcBlock		  "Demux2"
		  SrcPort		  2
		  Points		  [15, 0; 0, 60]
		  DstBlock		  "speed of output gear\ncorresponding to motor spd\n(rad/s)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  15
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "torque and speed avail.\nat output side of torque coupler\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  16
		  SrcBlock		  "effect of motor torque\nat output of tc (Nm)"
		  SrcPort		  1
		  Points		  [45, 0; 0, -20]
		  DstBlock		  "torque avail.\nat output side\nof tc (Nm)"
		  DstPort		  3
		}
		Line {
		  ZOrder		  17
		  SrcBlock		  "Demux2"
		  SrcPort		  1
		  Points		  [15, 0; 0, -35]
		  DstBlock		  "effect of motor torque\nat output of tc (Nm)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  18
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [0, 0; 85, 0]
		  Branch {
		    ZOrder		    19
		    Points		    [0, 240]
		    DstBlock		    "torque avail.\nat output side\nof tc (Nm)"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    20
		    DstBlock		    "unmet\ntorque\nrequest\n(Nm)"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  21
		  SrcBlock		  "loss\n(Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 5, 0]
		  Branch {
		    ZOrder		    22
		    Points		    [0, 380]
		    DstBlock		    "torque avail.\nat output side\nof tc (Nm)"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    23
		    DstBlock		    "total torque\nreq'd at output\ngear (Nm)"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  24
		  SrcBlock		  "speed req'd\nof motor (rad/s)"
		  SrcPort		  1
		  Points		  [5, 0; 0, -90]
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  ZOrder		  25
		  SrcBlock		  "total torque req'd\nof motor (Nm)"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  26
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "torque and speed req'd\nat motor input to torque coupler\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  27
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [0, 80]
		  DstBlock		  "MinMax"
		  DstPort		  2
		}
		Line {
		  ZOrder		  28
		  SrcBlock		  "unmet\ntorque\nrequest\n(Nm)"
		  SrcPort		  1
		  DstBlock		  "total torque req'd\nof motor (Nm)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  29
		  SrcBlock		  "total torque\nreq'd at output\ngear (Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    ZOrder		    30
		    Points		    [0, 105; -70, 0]
		    DstBlock		    "unmet\ntorque\nrequest\n(Nm)"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    31
		    Points		    [35, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  32
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [25, 0; 0, 20]
		  Branch {
		    ZOrder		    33
		    Points		    [0, 65]
		    Branch {
		    ZOrder		    34
		    Points		    [0, 30]
		    Branch {
		    ZOrder		    35
		    Points		    [0, 150]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    36
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    37
		    Points		    [235, 0; 0, -85]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		  }
		  Branch {
		    ZOrder		    38
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  39
		  SrcBlock		  "torque and speed req'd\nat output side of torque coupler\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  ZOrder		  40
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "torque and speed req'd\nat main input to torque coupler\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  41
		  SrcBlock		  "sum\n"
		  SrcPort		  1
		  DstBlock		  "enhancedToWorkspace2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  42
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "sum\n"
		  DstPort		  1
		}
		Line {
		  ZOrder		  43
		  SrcBlock		  "torque and speed avail.\nat main input\n(Nm), (rad/s)"
		  SrcPort		  1
		  Points		  [45, 0]
		  Branch {
		    ZOrder		    44
		    DstBlock		    "Demux1"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    45
		    Points		    [0, 115; -105, 0; 0, 35]
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  46
		  SrcBlock		  "torque and speed avail.\nat motor input to tc\n(Nm), (rad/s)"
		  SrcPort		  1
		  Points		  [50, 0]
		  Branch {
		    ZOrder		    47
		    DstBlock		    "Demux2"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    48
		    Points		    [0, -75; -95, 0; 0, -55]
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  49
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "sum\n"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "requested\noutput"
	      SID		      "2475"
	      Position		      [305, 98, 335, 112]
	      ZOrder		      -9
	      NameLocation	      "top"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd req'd\nat main input"
	      SID		      "2476"
	      Position		      [290, 160, 310, 180]
	      ZOrder		      -10
	      NameLocation	      "top"
	      FontName		      "Arial"
	      Port		      "2"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd req'd\nat motor input to torque coupler"
	      SID		      "2477"
	      Position		      [400, 180, 420, 200]
	      ZOrder		      -11
	      NameLocation	      "top"
	      FontName		      "Arial"
	      Port		      "3"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd avail.\nat output side of torque coupler"
	      SID		      "2478"
	      Position		      [360, 200, 380, 220]
	      ZOrder		      -12
	      FontName		      "Arial"
	      Port		      "4"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      SID		      "2479"
	      Position		      [295, 323, 325, 337]
	      ZOrder		      -13
	      Port		      "5"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "tc model"
	      SrcPort		      1
	      DstBlock		      "trq and spd req'd\nat main input"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "tc model"
	      SrcPort		      2
	      DstBlock		      "trq and spd req'd\nat motor input to torque coupler"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      3
	      SrcBlock		      "trq and spd avail.\nat main input"
	      SrcPort		      1
	      DstBlock		      "tc model"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "tc model"
	      SrcPort		      3
	      DstBlock		      "trq and spd avail.\nat output side of torque coupler"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "trq and spd avail.\nat motor input to tc"
	      SrcPort		      1
	      DstBlock		      "tc model"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      6
	      SrcBlock		      "trq and spd\noutput\nrequest"
	      SrcPort		      1
	      Points		      [0, 0; 25, 0]
	      Branch {
		ZOrder			7
		Points			[0, 65]
		DstBlock		"tc model"
		DstPort			1
	      }
	      Branch {
		ZOrder			8
		Points			[0, 0]
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      9
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "requested\noutput"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      10
	      SrcBlock		      "controls"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      11
	      SrcBlock		      "Ground"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Annotation {
	      SID		      "2480"
	      Name		      "Interface"
	      Position		      [232, 275, 325, 303]
	      InternalMargins	      [0, 0, 0, 0]
	      BackgroundColor	      "yellow"
	      ZOrder		      -1
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      SID		      "2481"
	      Name		      "Model"
	      Position		      [222, 35, 288, 63]
	      InternalMargins	      [0, 0, 0, 0]
	      BackgroundColor	      "yellow"
	      ZOrder		      -2
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nat main input to torque coupler\n(Nm), (rad/s)"
	  SID			  "2482"
	  Position		  [610, 125, 630, 145]
	  ZOrder		  -8
	  NameLocation		  "top"
	  FontName		  "Arial"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nat motor input to torque coupler\n(Nm), (rad/s)"
	  SID			  "2483"
	  Position		  [610, 190, 630, 210]
	  ZOrder		  -9
	  FontName		  "Arial"
	  Port			  "2"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed avail.\nat output side of torque coupler\n(Nm), (rad/s)"
	  SID			  "2484"
	  Position		  [610, 260, 630, 280]
	  ZOrder		  -10
	  FontName		  "Arial"
	  Port			  "3"
	  InitialOutput		  "0"
	}
	Line {
	  ZOrder		  1
	  SrcBlock		  "torque and speed req'd\nat output side of torque coupler\n(Nm), (rad/s)"
	  SrcPort		  1
	  Points		  [125, 0; 0, 40]
	  DstBlock		  "tc model & interface"
	  DstPort		  1
	}
	Line {
	  ZOrder		  2
	  SrcBlock		  "torque and speed avail.\nat main input\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "tc model & interface"
	  DstPort		  2
	}
	Line {
	  ZOrder		  3
	  SrcBlock		  "torque and speed avail.\nat motor input to tc\n(Nm), (rad/s)"
	  SrcPort		  1
	  Points		  [50, 0; 0, -55]
	  DstBlock		  "tc model & interface"
	  DstPort		  3
	}
	Line {
	  ZOrder		  4
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [100, 0; 0, -125]
	  DstBlock		  "tc model & interface"
	  DstPort		  4
	}
	Line {
	  ZOrder		  5
	  SrcBlock		  "tc model & interface"
	  SrcPort		  1
	  Points		  [95, 0; 0, -140]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  ZOrder		  6
	  SrcBlock		  "tc model & interface"
	  SrcPort		  2
	  Points		  [115, 0; 0, -55]
	  DstBlock		  "torque and speed req'd\nat main input to torque coupler\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  ZOrder		  7
	  SrcBlock		  "tc model & interface"
	  SrcPort		  3
	  DstBlock		  "torque and speed req'd\nat motor input to torque coupler\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  ZOrder		  8
	  SrcBlock		  "tc model & interface"
	  SrcPort		  4
	  Points		  [115, 0; 0, 60]
	  DstBlock		  "torque and speed avail.\nat output side of torque coupler\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  ZOrder		  9
	  SrcBlock		  "tc model & interface"
	  SrcPort		  5
	  Points		  [50, 0; 0, 130]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Annotation {
	  SID			  "2485"
	  Name			  "Torque Coupler"
	  Position		  [352, 55, 486, 78]
	  InternalMargins	  [0, 0, 0, 0]
	  BackgroundColor	  "yellow"
	  ZOrder		  -1
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "torque\ncoupler <tc>\nDIRECT SPLIT"
      SID		      "2486"
      Ports		      [3, 2]
      Position		      [170, 124, 210, 176]
      ZOrder		      -15
      BackgroundColor	      "yellow"
      ShowPortLabels	      "none"
      RequestExecContextInheritance off
      Object {
	$PropName		"MaskObject"
	$ObjectID		633
	$ClassName		"Simulink.Mask"
	Type			"Stand-Alone Direct Split Torque Coupler Mask"
	Initialization		"% initialization via m-file script\nadvSACompMaskInit;"
	Display			"image(imread(imgFileName))"
	Array {
	  Type			  "Simulink.MaskParameter"
	  Dimension		  6
	  Object {
	    $ObjectID		    634
	    Type		    "edit"
	    Name		    "generalName"
	    Prompt		    "General Name of this Component [char--evaluated]"
	    Value		    "'tc'"
	  }
	  Object {
	    $ObjectID		    635
	    Type		    "popup"
	    Array {
	      Type		      "Cell"
	      Dimension		      2
	      Cell		      "Don't Log"
	      Cell		      "Log"
	      PropName		      "TypeOptions"
	    }
	    Name		    "logPick"
	    Prompt		    "Log Variables to Workspace?"
	    Value		    "Log"
	  }
	  Object {
	    $ObjectID		    636
	    Type		    "edit"
	    Name		    "initFileName"
	    Prompt		    "Initialization File(s) [cell array of char]"
	    Value		    "{}"
	  }
	  Object {
	    $ObjectID		    637
	    Type		    "edit"
	    Name		    "modCell"
	    Prompt		    "Modification Cell [2 column cell array of param and val]"
	    Value		    "{}"
	  }
	  Object {
	    $ObjectID		    638
	    Type		    "edit"
	    Name		    "imgFileName"
	    Prompt		    "Icon image file name [char--evaluated]"
	    Value		    "'bdi_tc.jpg'"
	  }
	  Object {
	    $ObjectID		    639
	    Type		    "popup"
	    Array {
	      Type		      "Cell"
	      Dimension		      2
	      Cell		      "ON"
	      Cell		      "OFF"
	      PropName		      "TypeOptions"
	    }
	    Name		    "DEBUG"
	    Prompt		    "DEBUG"
	    Value		    "OFF"
	    Evaluate		    "off"
	  }
	  PropName		  "Parameters"
	}
      }
      System {
	Name			"torque\ncoupler <tc>\nDIRECT SPLIT"
	Location		[164, 44, 936, 865]
	Open			off
	PortBlocksUseCompactNotation off
	SetExecutionDomain	off
	ExecutionDomainType	"Deduce"
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	SimulinkSubDomain	"Simulink"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed req'd\nat output side of torque coupler\n(Nm), (rad/s)"
	  SID			  "2487"
	  Position		  [100, 150, 120, 170]
	  ZOrder		  -1
	  NameLocation		  "top"
	  FontName		  "Arial"
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nat main input\n(Nm), (rad/s)"
	  SID			  "2488"
	  Position		  [100, 205, 120, 225]
	  ZOrder		  -2
	  FontName		  "Arial"
	  Port			  "2"
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nat motor input to tc\n(Nm), (rad/s)"
	  SID			  "2489"
	  Position		  [100, 275, 120, 295]
	  ZOrder		  -3
	  FontName		  "Arial"
	  Port			  "3"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  SID			  "2490"
	  Position		  [60, 351, 170, 389]
	  ZOrder		  -4
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "tcControl"
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  SID			  "2491"
	  Position		  [540, 39, 640, 81]
	  ZOrder		  -5
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "tcReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  SID			  "2492"
	  Position		  [535, 349, 635, 391]
	  ZOrder		  -6
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "tcSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "tc direct split model & interface"
	  SID			  "2493"
	  Ports			  [4, 4]
	  Position		  [325, 192, 365, 253]
	  ZOrder		  -7
	  ShowPortLabels	  "none"
	  RequestExecContextInheritance	off
	  System {
	    Name		    "tc direct split model & interface"
	    Location		    [164, 44, 968, 897]
	    Open		    off
	    PortBlocksUseCompactNotation off
	    SetExecutionDomain	    off
	    ExecutionDomainType	    "Deduce"
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SimulinkSubDomain	    "Simulink"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\noutput\nrequest"
	      SID		      "2494"
	      Position		      [65, 93, 95, 107]
	      ZOrder		      -1
	      NameLocation	      "top"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd avail.\nat main input"
	      SID		      "2495"
	      Position		      [65, 153, 95, 167]
	      ZOrder		      -2
	      NameLocation	      "top"
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd avail.\nat motor input to tc"
	      SID		      "2496"
	      Position		      [65, 168, 95, 182]
	      ZOrder		      -3
	      Port		      "3"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      SID		      "2497"
	      Position		      [100, 283, 130, 297]
	      ZOrder		      -4
	      Port		      "4"
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "Ground"
	      SID		      "2498"
	      Position		      [275, 280, 295, 300]
	      ZOrder		      -5
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      SID		      "2499"
	      Position		      [175, 280, 195, 300]
	      ZOrder		      -6
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      SID		      "2500"
	      Ports		      [1, 1]
	      Position		      [200, 86, 255, 114]
	      ZOrder		      -7
	      NameLocation	      "top"
	      RequestExecContextInheritance off
	      System {
		Name			"signal\nannotator"
		Location		[164, 44, 968, 897]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  SID			  "2501"
		  Position		  [110, 103, 140, 117]
		  ZOrder		  -1
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  "2502"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  ZOrder		  -2
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  Port {
		    PortNumber		    1
		    Name		    "tc_trq_out_r"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "tc_spd_out_r"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  "2503"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ZOrder		  -3
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  SID			  "2504"
		  Position		  [430, 103, 460, 117]
		  ZOrder		  -4
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "tc_trq_out_r"
		  ZOrder		  2
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "tc_spd_out_r"
		  ZOrder		  3
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "tc direct split model"
	      SID		      "2505"
	      Ports		      [3, 2]
	      Position		      [180, 134, 280, 186]
	      ZOrder		      -8
	      ShowPortLabels	      "none"
	      RequestExecContextInheritance off
	      System {
		Name			"tc direct split model"
		Location		[318, 269, 840, 731]
		Open			off
		PortBlocksUseCompactNotation off
		SetExecutionDomain	off
		ExecutionDomainType	"Deduce"
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SimulinkSubDomain	"Simulink"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed req'd\nat output side of torque coupler\n(Nm), (rad/s)"
		  SID			  "2506"
		  Position		  [85, 50, 105, 70]
		  ZOrder		  -1
		  FontName		  "Arial"
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed avail.\nat main input\n(Nm), (rad/s)"
		  SID			  "2507"
		  Position		  [85, 250, 105, 270]
		  ZOrder		  -2
		  FontName		  "Arial"
		  Port			  "2"
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed avail.\nat motor input to tc\n(Nm), (rad/s)"
		  SID			  "2508"
		  Position		  [70, 570, 90, 590]
		  ZOrder		  -3
		  FontName		  "Arial"
		  Port			  "3"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  SID			  "2509"
		  Ports			  []
		  Position		  [665, 605, 721, 645]
		  ZOrder		  -4
		  BackgroundColor	  "green"
		  ShowName		  off
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    640
		    $ClassName		    "Simulink.Mask"
		    Display		    "disp('Block\\nNOTES')"
		  }
		  System {
		    Name		    "Block NOTES"
		    Location		    [599, 363, 1140, 966]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Annotation {
		    SID			    "2510"
		    Name		    "This block generically models a chain- or belt-driven torque coupler, with three gears:  one each\nfo"
		    "r the motor, main input (the engine or gearbox), and main output (to the gearbox\nor final drive).  It includes "
		    "losses in the chain or belt, but leaves inertia effects to be\nconsidered in the appropriate component.\n\nThe e"
		    "ntire torque required out of the torque coupler (plus losses) is sent to the control\nstrategy. The control stra"
		    "tegy <CS> then decides how much the electric motor \nand the ICE must supply. It then sends the EM and ICE separ"
		    "ate requests. The 2 sources\nthen send their achieved torque signals to the Torque Coupler, where they are added"
		    "\nand sent to the block immediately before this.\n\nThe torque coupler output speed is limited by the maximum sp"
		    "eeds of both the\nmotor and the engine. The loss torque is zero when the gears are not \nturning, and is applied"
		    " at the output gear.\n\nThe gears connecting the main input and main output to the torque converter's belt\nor c"
		    "hain are assumed to be of the same size, so that main input speed = main output\nspeed, while the motor's speed "
		    "may be different.  The ratio of motor speed to main\noutput speed is stored in the variable tc_mc_to_fc_spd_rati"
		    "o.\n\nNOTE: This block is modeled after the HONDA Insight. It represents a hypothetical Torque\nCoupler, since i"
		    "n the Insight, the EM and ICE are on the same shaft. Change the\nvalues of the ratio and inertia if modeling ano"
		    "ther torque coupler.\n\n"
		    Position		    [242, 32, 665, 284]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  "2511"
		  Ports			  [1, 2]
		  Position		  [170, 41, 190, 74]
		  ZOrder		  -5
		  FontName		  "Arial"
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  SID			  "2512"
		  Ports			  [1, 2]
		  Position		  [170, 241, 190, 274]
		  ZOrder		  -6
		  FontName		  "Arial"
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux2"
		  SID			  "2513"
		  Ports			  [1, 2]
		  Position		  [170, 561, 190, 594]
		  ZOrder		  -7
		  FontName		  "Arial"
		  Outputs		  "2"
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax"
		  SID			  "2514"
		  Ports			  [2, 1]
		  Position		  [240, 322, 270, 353]
		  ZOrder		  -8
		  Inputs		  "2"
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax1"
		  SID			  "2515"
		  Ports			  [2, 1]
		  Position		  [420, 622, 450, 653]
		  ZOrder		  -9
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  "2516"
		  Ports			  [2, 1]
		  Position		  [510, 41, 530, 74]
		  ZOrder		  -10
		  FontName		  "Arial"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  SID			  "2517"
		  Ports			  [2, 1]
		  Position		  [540, 356, 560, 389]
		  ZOrder		  -11
		  FontName		  "Arial"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  SID			  "2518"
		  Ports			  [1, 1]
		  Position		  [80, 395, 105, 425]
		  ZOrder		  -12
		  ShowName		  off
		  Inputs		  "1"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  SID			  "2519"
		  Ports			  [1, 1]
		  Position		  [80, 435, 105, 465]
		  ZOrder		  -13
		  ShowName		  off
		  Inputs		  "1"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "effect of motor torque\nat output of tc (Nm)"
		  SID			  "2520"
		  Position		  [235, 497, 340, 573]
		  ZOrder		  -14
		  FontName		  "Arial"
		  Gain			  "tc_mc_to_fc_ratio"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  SID			  "2521"
		  Ports			  [1]
		  Position		  [90, 132, 185, 148]
		  ZOrder		  -15
		  BlockMirror		  on
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    641
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    642
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    643
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_out_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    644
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2521:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2521:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  SID			  "2522"
		  Ports			  [1]
		  Position		  [90, 172, 185, 188]
		  ZOrder		  -16
		  BlockMirror		  on
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    645
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    646
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    647
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_out_r"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    648
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2522:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2522:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  SID			  "2523"
		  Ports			  [1]
		  Position		  [170, 422, 265, 438]
		  ZOrder		  -17
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    649
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    650
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    651
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "pwr_in_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    652
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2523:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2523:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  SID			  "2524"
		  Ports			  [1]
		  Position		  [530, 252, 625, 268]
		  ZOrder		  -18
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    653
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    654
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    655
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "spd_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    656
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2524:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2524:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  SID			  "2525"
		  Ports			  [1]
		  Position		  [530, 297, 625, 313]
		  ZOrder		  -19
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    657
		    $ClassName		    "Simulink.Mask"
		    Type		    "enhancedToWorkspace"
		    Description		    "A wrapper for the Simulink \"To Workspace\" block that allows you to evaluate the name of the "
		    "variable to log to workspace. This is useful to avoid the double logging errors that occur when you pull in two "
		    "library models that attempt to log to the same variable."
		    Help		    "<h2>Enhanced To Workspace Block</h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the"
		    " more general name of the variable. Variables are saved to the workspace as <i>generalName_specificName</i>. Not"
		    "e that this is an evaluated variable. If you would like to type in the value directly, it must be surrounded wit"
		    "h single quotes. Otherwise you can input the name of a variable containing a char string.</li>\n<li><b>Specific "
		    "Name:</b> This is the specific name of the variable. Note that this is input as a char literal (i.e., you don't "
		    "need quotes).</li>\n<li><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the variable will n"
		    "ot be logged to the workspace. If 1, the variable will be logged. This is done so that variable logging can be t"
		    "urned off to improve speed.</li>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put together "
		    "to allow one to dynamically resolve variable names at run time in simulink. This is most powerful when used in c"
		    "onjunction with a masked subsystem to allow multiple instances of that masked subsytem to be used in the same mo"
		    "del. The strategy is to set the generalName in the block mask which will allow the block to change the general n"
		    "ame for all variable logging on the fly. \n<h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedT"
		    "oWorkspace block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :\n<ul>\n<li><i>enhancedTo"
		    "WsMaker.m</i> This file runs the mask initialization for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file"
		    " is used by the block callback when the simulink block is copied. It is necessary to break the link to the enhan"
		    "cedToWorkspace similar to the To Workspace block in order for it to be able to configure itself. (Try copying si"
		    "mulink's To Workspace block--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i> This file "
		    "is similar to the breakLinkCopyFcn and is used when a parent system is closed</li>\n</ul>\n<hr>\n\n<p>Created 20"
		    "03-Jan-21, Michael Patrick O'Keefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B> da"
		    "ta type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type</B> vehicle type here</LI>\n<LI><B>desc"
		    "ription</B> description here</LI>\n</UL>\n</VARDEF>\n-->\n"
		    Initialization	    "enhancedToWsMaker"
		    SelfModifiable	    "on"
		    Display		    "disp([generalName,'_',specificName])"
		    Array {
		    Type		    "Simulink.MaskParameter"
		    Dimension		    3
		    Object {
		    $ObjectID		    658
		    Type		    "edit"
		    Name		    "generalName"
		    Prompt		    "General Name [char-evaluated]"
		    Value		    "generalName"
		    }
		    Object {
		    $ObjectID		    659
		    Type		    "edit"
		    Name		    "specificName"
		    Prompt		    "Specific Name [char-literal]"
		    Value		    "trq_out_a"
		    Evaluate		    "off"
		    }
		    Object {
		    $ObjectID		    660
		    Type		    "edit"
		    Name		    "logFlag"
		    Prompt		    "Enable flag (1=on,0=off)"
		    Value		    "logFlag"
		    }
		    PropName		    "Parameters"
		    }
		  }
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [415, 241, 915, 689]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "2"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    "2525:1"
		    Position		    [65, 93, 95, 107]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    SID			    "2525:2"
		    Position		    [145, 85, 205, 115]
		    ZOrder		    -2
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  SID			  "2526"
		  Ports			  []
		  Position		  [621, 604, 652, 647]
		  ZOrder		  -20
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('torque_coupler.htm')]);"
		  RequestExecContextInheritance	off
		  Object {
		    $PropName		    "MaskObject"
		    $ObjectID		    661
		    $ClassName		    "Simulink.Mask"
		    Display		    "image(imread('doc_man.jpg'))"
		  }
		  System {
		    Name		    "help"
		    Location		    [165, 211, 571, 596]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "loss\n(Nm)"
		  SID			  "2527"
		  Ports			  [1, 1]
		  Position		  [345, 122, 375, 158]
		  ZOrder		  -21
		  ShowPortLabels	  "none"
		  RequestExecContextInheritance	off
		  System {
		    Name		    "loss\n(Nm)"
		    Location		    [211, 182, 692, 582]
		    Open		    off
		    PortBlocksUseCompactNotation off
		    SetExecutionDomain	    off
		    ExecutionDomainType	    "Deduce"
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SimulinkSubDomain	    "Simulink"
		    Block {
		    BlockType		    Inport
		    Name		    "tc output speed (rad/s)"
		    SID			    "2528"
		    Position		    [60, 55, 80, 75]
		    ZOrder		    -1
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    "2529"
		    Position		    [210, 95, 230, 115]
		    ZOrder		    -2
		    BlockRotation	    270
		    NameLocation	    "right"
		    FontName		    "Arial"
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    "2530"
		    Position		    [285, 49, 315, 81]
		    ZOrder		    -3
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "torque coupler loss torque\n(Nm)"
		    SID			    "2531"
		    Position		    [115, 14, 195, 36]
		    ZOrder		    -4
		    FontName		    "Arial"
		    Value		    "tc_loss"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "drag torque\n(Nm)"
		    SID			    "2532"
		    Position		    [380, 55, 400, 75]
		    ZOrder		    -5
		    InitialOutput	    "0"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "torque coupler loss torque\n(Nm)"
		    SrcPort		    1
		    Points		    [20, 0; 0, 30]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "drag torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "tc output speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -15]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Annotation {
		    SID			    "2533"
		    Name		    "The loss torque is zero when the gears are not turning,\nand is applied at the torque coupler's outpu"
		    "t gear.\n\nFOR THE INSIGHT, tc_loss==0"
		    Position		    [232, 142, 475, 184]
		    InternalMargins	    [0, 0, 0, 0]
		    VerticalAlignment	    "top"
		    ZOrder		    -1
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "speed of output gear\ncorresponding to motor spd\n(rad/s)"
		  SID			  "2534"
		  Position		  [230, 610, 350, 680]
		  ZOrder		  -22
		  FontName		  "Arial"
		  Gain			  "1/tc_mc_to_fc_ratio"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "sum\n"
		  SID			  "2535"
		  Ports			  [2, 1]
		  Position		  [135, 390, 155, 470]
		  ZOrder		  -23
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "torque avail.\nat output side\nof tc (Nm)"
		  SID			  "2536"
		  Ports			  [2, 1]
		  Position		  [445, 326, 465, 399]
		  ZOrder		  -24
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "total torque\nreq'd at output\ngear (Nm)\nLoss==0 for the INSIGHT"
		  SID			  "2537"
		  Ports			  [2, 1]
		  Position		  [420, 87, 440, 158]
		  ZOrder		  -25
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed req'd\nat main input to torque coupler\n(Nm), (rad/s)"
		  SID			  "2538"
		  Position		  [635, 50, 655, 70]
		  ZOrder		  -26
		  FontName		  "Arial"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed avail.\nat output side of torque coupler\n(Nm), (rad/s)"
		  SID			  "2539"
		  Position		  [650, 365, 670, 385]
		  ZOrder		  -27
		  FontName		  "Arial"
		  Port			  "2"
		  InitialOutput		  "0"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "MinMax1"
		  SrcPort		  1
		  Points		  [35, 0; 0, -260]
		  Branch {
		    ZOrder		    2
		    DstBlock		    "Mux2"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    3
		    Points		    [0, -120]
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "speed of output gear\ncorresponding to motor spd\n(rad/s)"
		  SrcPort		  1
		  DstBlock		  "MinMax1"
		  DstPort		  2
		}
		Line {
		  ZOrder		  5
		  SrcBlock		  "Demux2"
		  SrcPort		  2
		  Points		  [15, 0; 0, 60]
		  DstBlock		  "speed of output gear\ncorresponding to motor spd\n(rad/s)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  6
		  SrcBlock		  "effect of motor torque\nat output of tc (Nm)"
		  SrcPort		  1
		  Points		  [45, 0; 0, -155]
		  DstBlock		  "torque avail.\nat output side\nof tc (Nm)"
		  DstPort		  2
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  "Demux2"
		  SrcPort		  1
		  Points		  [15, 0; 0, -35]
		  DstBlock		  "effect of motor torque\nat output of tc (Nm)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  8
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [10, 0; 0, 80]
		  DstBlock		  "MinMax"
		  DstPort		  2
		}
		Line {
		  ZOrder		  9
		  SrcBlock		  "torque and speed req'd\nat output side of torque coupler\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "torque and speed req'd\nat main input to torque coupler\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  11
		  SrcBlock		  "sum\n"
		  SrcPort		  1
		  DstBlock		  "enhancedToWorkspace2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  12
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "sum\n"
		  DstPort		  1
		}
		Line {
		  ZOrder		  13
		  SrcBlock		  "torque and speed avail.\nat main input\n(Nm), (rad/s)"
		  SrcPort		  1
		  Points		  [0, 0; 45, 0]
		  Branch {
		    ZOrder		    14
		    DstBlock		    "Demux1"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    15
		    Points		    [0, 115; -105, 0; 0, 35]
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  16
		  SrcBlock		  "torque and speed avail.\nat motor input to tc\n(Nm), (rad/s)"
		  SrcPort		  1
		  Points		  [0, 0; 50, 0]
		  Branch {
		    ZOrder		    17
		    DstBlock		    "Demux2"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    18
		    Points		    [0, -75; -95, 0; 0, -55]
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  19
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "sum\n"
		  DstPort		  2
		}
		Line {
		  ZOrder		  20
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [195, 0; 0, 95]
		  DstBlock		  "torque avail.\nat output side\nof tc (Nm)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  21
		  SrcBlock		  "MinMax"
		  SrcPort		  1
		  Points		  [80, 0; 0, 290]
		  DstBlock		  "MinMax1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  22
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "torque and speed avail.\nat output side of torque coupler\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  ZOrder		  23
		  SrcBlock		  "torque avail.\nat output side\nof tc (Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 45, 0]
		  Branch {
		    ZOrder		    24
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    25
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  26
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [0, 0; 25, 0]
		  Branch {
		    ZOrder		    27
		    Points		    [0, 75]
		    Branch {
		    ZOrder		    28
		    Points		    [0, 40]
		    Branch {
		    ZOrder		    29
		    Points		    [0, 150]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    30
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		    }
		    Branch {
		    ZOrder		    31
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    1
		    }
		  }
		  Branch {
		    ZOrder		    32
		    DstBlock		    "Mux"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  33
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [0, 0; 5, 0]
		  Branch {
		    ZOrder		    34
		    Points		    [205, 0]
		    DstBlock		    "total torque\nreq'd at output\ngear (Nm)\nLoss==0 for the INSIGHT"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    35
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  36
		  SrcBlock		  "loss\n(Nm)"
		  SrcPort		  1
		  DstBlock		  "total torque\nreq'd at output\ngear (Nm)\nLoss==0 for the INSIGHT"
		  DstPort		  2
		}
		Line {
		  ZOrder		  37
		  SrcBlock		  "total torque\nreq'd at output\ngear (Nm)\nLoss==0 for the INSIGHT"
		  SrcPort		  1
		  Points		  [20, 0; 0, -75]
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Annotation {
		  SID			  "2540"
		  Name			  "FOR THE HONDA INSIGHT\nSince both the Electric Motor and the IC Engine are on the same shaft,\nthere is "
		  "no actual torque coupler. Thus, this is a hypothetical torque coupler used for \ngenerality, with a transmission r"
		  "atio of 1 (The variable is tc_mc_to_fc_ratio),\nwith zero losses. In case this model is used for any other configu"
		  "ration, losses\nand a ratio may be added.\n\n"
		  Position		  [681, 740, 1056, 822]
		  InternalMargins	  [0, 0, 0, 0]
		  ZOrder		  -1
		}
		Annotation {
		  SID			  "2541"
		  Name			  "Ratio = 1 for the HONDA INSIGHT"
		  Position		  [285, 738, 439, 750]
		  InternalMargins	  [0, 0, 0, 0]
		  ZOrder		  -2
		}
		Annotation {
		  SID			  "2542"
		  Name			  "Torque"
		  Position		  [243, 42, 275, 54]
		  InternalMargins	  [0, 0, 0, 0]
		  ZOrder		  -3
		}
		Annotation {
		  SID			  "2543"
		  Name			  "Speed"
		  Position		  [246, 102, 276, 114]
		  InternalMargins	  [0, 0, 0, 0]
		  ZOrder		  -4
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "required output"
	      SID		      "2544"
	      Position		      [305, 93, 335, 107]
	      ZOrder		      -9
	      NameLocation	      "top"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd req'd\nat main input"
	      SID		      "2545"
	      Position		      [370, 143, 400, 157]
	      ZOrder		      -10
	      NameLocation	      "top"
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd avail.\nat output side of torque coupler"
	      SID		      "2546"
	      Position		      [370, 168, 400, 182]
	      ZOrder		      -11
	      Port		      "3"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      SID		      "2547"
	      Position		      [330, 283, 360, 297]
	      ZOrder		      -12
	      Port		      "4"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "trq and spd\noutput\nrequest"
	      SrcPort		      1
	      Points		      [60, 0]
	      Branch {
		ZOrder			2
		Points			[0, 45]
		DstBlock		"tc direct split model"
		DstPort			1
	      }
	      Branch {
		ZOrder			3
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "tc direct split model"
	      SrcPort		      1
	      DstBlock		      "trq and spd req'd\nat main input"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "trq and spd avail.\nat main input"
	      SrcPort		      1
	      DstBlock		      "tc direct split model"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      6
	      SrcBlock		      "tc direct split model"
	      SrcPort		      2
	      DstBlock		      "trq and spd avail.\nat output side of torque coupler"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      "trq and spd avail.\nat motor input to tc"
	      SrcPort		      1
	      DstBlock		      "tc direct split model"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "Ground"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      9
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      10
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "required output"
	      DstPort		      1
	    }
	    Annotation {
	      SID		      "2548"
	      Name		      "Interface"
	      Position		      [232, 245, 325, 273]
	      InternalMargins	      [0, 0, 0, 0]
	      BackgroundColor	      "yellow"
	      ZOrder		      -1
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      SID		      "2549"
	      Name		      "Model"
	      Position		      [227, 35, 293, 63]
	      InternalMargins	      [0, 0, 0, 0]
	      BackgroundColor	      "yellow"
	      ZOrder		      -2
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nat main input to torque coupler\n(Nm), (rad/s)"
	  SID			  "2550"
	  Position		  [610, 145, 630, 165]
	  ZOrder		  -8
	  NameLocation		  "top"
	  FontName		  "Arial"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed avail.\nat output side of torque coupler\n(Nm), (rad/s)"
	  SID			  "2551"
	  Position		  [610, 280, 630, 300]
	  ZOrder		  -9
	  FontName		  "Arial"
	  Port			  "2"
	  InitialOutput		  "0"
	}
	Line {
	  ZOrder		  1
	  SrcBlock		  "torque and speed req'd\nat output side of torque coupler\n(Nm), (rad/s)"
	  SrcPort		  1
	  Points		  [125, 0; 0, 40]
	  DstBlock		  "tc direct split model & interface"
	  DstPort		  1
	}
	Line {
	  ZOrder		  2
	  SrcBlock		  "torque and speed avail.\nat main input\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "tc direct split model & interface"
	  DstPort		  2
	}
	Line {
	  ZOrder		  3
	  SrcBlock		  "torque and speed avail.\nat motor input to tc\n(Nm), (rad/s)"
	  SrcPort		  1
	  Points		  [50, 0; 0, -55]
	  DstBlock		  "tc direct split model & interface"
	  DstPort		  3
	}
	Line {
	  ZOrder		  4
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [85, 0; 0, -125]
	  DstBlock		  "tc direct split model & interface"
	  DstPort		  4
	}
	Line {
	  ZOrder		  5
	  SrcBlock		  "tc direct split model & interface"
	  SrcPort		  1
	  Points		  [100, 0; 0, -140]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  ZOrder		  6
	  SrcBlock		  "tc direct split model & interface"
	  SrcPort		  2
	  Points		  [120, 0; 0, -60]
	  DstBlock		  "torque and speed req'd\nat main input to torque coupler\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  ZOrder		  7
	  SrcBlock		  "tc direct split model & interface"
	  SrcPort		  3
	  Points		  [120, 0; 0, 60]
	  DstBlock		  "torque and speed avail.\nat output side of torque coupler\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  ZOrder		  8
	  SrcBlock		  "tc direct split model & interface"
	  SrcPort		  4
	  Points		  [55, 0; 0, 125]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Annotation {
	  SID			  "2552"
	  Name			  "Torque Coupler"
	  Position		  [352, 75, 486, 98]
	  InternalMargins	  [0, 0, 0, 0]
	  BackgroundColor	  "yellow"
	  ZOrder		  -1
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Annotation {
      SID		      "2553"
      Name		      "Torque Coupler:"
      Position		      [81, 91, 182, 110]
      InternalMargins	      [0, 0, 0, 0]
      ForegroundColor	      "blue"
      BackgroundColor	      "yellow"
      DropShadow	      on
      ZOrder		      -1
      FontName		      "Arial"
      FontSize		      14
    }
    Annotation {
      SID		      "2554"
      Name		      "-----------------------------------------------------------------------------"
      Position		      [644, 543, 902, 555]
      InternalMargins	      [0, 0, 0, 0]
      ZOrder		      -2
    }
    Annotation {
      SID		      "2555"
      Name		      "common\nsub-libraries"
      Position		      [642, 594, 698, 616]
      InternalMargins	      [0, 0, 0, 0]
      BackgroundColor	      "darkGreen"
      ZOrder		      -3
    }
    Annotation {
      SID		      "2556"
      Name		      "Clutch:"
      Position		      [341, 91, 386, 110]
      InternalMargins	      [0, 0, 0, 0]
      ForegroundColor	      "blue"
      BackgroundColor	      "yellow"
      DropShadow	      on
      ZOrder		      -4
      FontName		      "Arial"
      FontSize		      14
    }
    Annotation {
      SID		      "2557"
      Name		      "Gearbox:"
      Position		      [351, 396, 410, 415]
      InternalMargins	      [0, 0, 0, 0]
      ForegroundColor	      "blue"
      BackgroundColor	      "yellow"
      DropShadow	      on
      ZOrder		      -5
      FontName		      "Arial"
      FontSize		      14
    }
    Annotation {
      SID		      "2558"
      Name		      "Final Drive:"
      Position		      [616, 396, 688, 415]
      InternalMargins	      [0, 0, 0, 0]
      ForegroundColor	      "blue"
      BackgroundColor	      "yellow"
      DropShadow	      on
      ZOrder		      -6
      FontName		      "Arial"
      FontSize		      14
    }
    Annotation {
      SID		      "2559"
      Name		      "Hydraulic Torque Converter:"
      Position		      [666, 96, 841, 115]
      InternalMargins	      [0, 0, 0, 0]
      ForegroundColor	      "blue"
      BackgroundColor	      "yellow"
      DropShadow	      on
      ZOrder		      -7
      FontName		      "Arial"
      FontSize		      14
    }
    Annotation {
      SID		      "2560"
      Name		      "Planetary Gearset:"
      Position		      [31, 396, 149, 415]
      InternalMargins	      [0, 0, 0, 0]
      HorizontalAlignment     "left"
      ForegroundColor	      "blue"
      BackgroundColor	      "yellow"
      DropShadow	      on
      ZOrder		      -8
      FontName		      "Arial"
      FontSize		      14
    }
    Annotation {
      SID		      "2561"
      Name		      "not completed yet..."
      Position		      [171, 442, 260, 454]
      InternalMargins	      [0, 0, 0, 0]
      ZOrder		      -9
    }
    Annotation {
      SID		      "2562"
      Name		      "TRANSMISSION LIBRARY"
      Position		      [407, 40, 655, 65]
      InternalMargins	      [0, 0, 0, 0]
      BackgroundColor	      "yellow"
      DropShadow	      on
      ZOrder		      -10
      FontName		      "Arial"
      FontSize		      20
      FontWeight	      "bold"
    }
  }
}
