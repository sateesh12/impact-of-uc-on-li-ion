Library {
  Name			  "lib_fuel_converter3"
  Version		  4.1.1
  LibraryLinkDisplay	  "all"
  CovSaveName		  "covdata"
  CovMetricSettings	  "dw"
  CovNameIncrementing	  off
  CovHtmlReporting	  on
  BlockNameDataTip	  on
  BlockParametersDataTip  on
  BlockDescriptionStringDataTip	on
  ToolBar		  on
  StatusBar		  on
  BrowserShowLibraryLinks on
  BrowserLookUnderMasks	  on
  Created		  "Fri Jan 17 10:00:49 2003"
  UpdateHistory		  "UpdateHistoryNever"
  ModifiedByFormat	  "%<Auto>"
  LastModifiedBy	  "mokeefe"
  ModifiedDateFormat	  "%<Auto>"
  LastModifiedDate	  "Thu Apr 24 12:08:29 2003"
  ModelVersionFormat	  "1.%<AutoIncrement:100>"
  ConfigurationManager	  "none"
  SimParamPage		  "Solver"
  AlgebraicLoopMsg	  "warning"
  MinStepSizeMsg	  "warning"
  UnconnectedInputMsg	  "warning"
  UnconnectedOutputMsg	  "warning"
  UnconnectedLineMsg	  "warning"
  InheritedTsInSrcMsg	  "warning"
  SingleTaskRateTransMsg  "none"
  MultiTaskRateTransMsg	  "error"
  IntegerOverflowMsg	  "warning"
  CheckForMatrixSingularity "none"
  UnnecessaryDatatypeConvMsg "none"
  Int32ToFloatConvMsg	  "warning"
  InvalidFcnCallConnMsg	  "error"
  SignalLabelMismatchMsg  "none"
  LinearizationMsg	  "none"
  VectorMatrixConversionMsg "none"
  SfunCompatibilityCheckMsg "none"
  BlockPriorityViolationMsg "warning"
  ArrayBoundsChecking	  "none"
  ConsistencyChecking	  "none"
  Profile		  off
  SimulationMode	  "normal"
  RTWRetainRTWFile	  off
  RTWMakeCommand	  "make_rtw"
  RTWGenerateCodeOnly	  off
  TLCProfiler		  off
  TLCDebug		  off
  TLCCoverage		  off
  ExtModeMexFile	  "ext_comm"
  ExtModeBatchMode	  off
  ExtModeTrigType	  "manual"
  ExtModeTrigMode	  "normal"
  ExtModeTrigPort	  "1"
  ExtModeTrigElement	  "any"
  ExtModeTrigDuration	  1000
  ExtModeTrigHoldOff	  0
  ExtModeTrigDelay	  0
  ExtModeTrigDirection	  "rising"
  ExtModeTrigLevel	  0
  ExtModeArchiveMode	  "off"
  ExtModeAutoIncOneShot	  off
  ExtModeIncDirWhenArm	  off
  ExtModeAddSuffixToVar	  off
  ExtModeWriteAllDataToWs off
  ExtModeArmWhenConnect	  on
  ExtModeSkipDownloadWhenConnect off
  ExtModeLogAll		  on
  ExtModeAutoUpdateStatusClock on
  BlockDefaults {
    Orientation		    "right"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    NamePlacement	    "normal"
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    ShowName		    on
  }
  AnnotationDefaults {
    HorizontalAlignment	    "center"
    VerticalAlignment	    "middle"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  LineDefaults {
    FontName		    "Helvetica"
    FontSize		    9
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  System {
    Name		    "lib_fuel_converter3"
    Location		    [202, 77, 954, 744]
    Open		    on
    ModelBrowserVisibility  on
    ModelBrowserWidth	    212
    ScreenColor		    "automatic"
    PaperOrientation	    "landscape"
    PaperPositionMode	    "auto"
    PaperType		    "usletter"
    PaperUnits		    "inches"
    ZoomFactor		    "100"
    ReportName		    "simulink-default.rpt"
    Block {
      BlockType		      SubSystem
      Name		      "Fuel Converter Control"
      Ports		      []
      Position		      [254, 49, 308, 111]
      BackgroundColor	      "yellow"
      DropShadow	      on
      ShowPortLabels	      on
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      System {
	Name			"Fuel Converter Control"
	Location		[202, 77, 966, 744]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  "Fuel Converter Control\nconventional ic eng"
"ine"
	  Ports			  []
	  Position		  [114, 44, 168, 106]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "Fuel Converter Control\nconventional ic e"
"ngine"
	    Location		    [202, 73, 966, 748]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      SubSystem
	      Name		      "conventional\nIC engine"
	      Ports		      []
	      Position		      [108, 45, 156, 118]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"conventional\nIC engine"
		Location		[214, 73, 966, 748]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  BusCreator
		  Name			  "Bus\nCreator"
		  Ports			  [10, 1]
		  Position		  [755, 55, 770, 600]
		  ShowName		  off
		  Inputs		  "10"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  BusSelector
		  Name			  "Bus\nSelector1"
		  Ports			  [1, 1]
		  Position		  [205, 61, 210, 99]
		  ShowName		  off
		  OutputSignals		  "clutch_state"
		  MuxedOutput		  off
		  Port {
		    PortNumber		    1
		    Name		    "<clutch_state>"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  BusSelector
		  Name			  "Bus\nSelector2"
		  Ports			  [1, 1]
		  Position		  [190, 501, 195, 539]
		  ShowName		  off
		  OutputSignals		  "shifting"
		  MuxedOutput		  off
		  Port {
		    PortNumber		    1
		    Name		    "<shifting>"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  BusSelector
		  Name			  "Bus\nSelector3"
		  Ports			  [1, 1]
		  Position		  [205, 391, 210, 429]
		  ShowName		  off
		  OutputSignals		  "acc_mech_pwr_a"
		  MuxedOutput		  off
		  Port {
		    PortNumber		    1
		    Name		    "<acc_mech_pwr_a>"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  BusSelector
		  Name			  "Bus\nSelector4"
		  Ports			  [1, 1]
		  Position		  [285, 556, 290, 594]
		  ShowName		  off
		  OutputSignals		  "v_prev"
		  MuxedOutput		  off
		  Port {
		    PortNumber		    1
		    Name		    "<v_prev>"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  BusSelector
		  Name			  "Bus\nSelector5"
		  Ports			  [1, 1]
		  Position		  [205, 336, 210, 374]
		  ShowName		  off
		  OutputSignals		  "cycle_mph_r"
		  MuxedOutput		  off
		  Port {
		    PortNumber		    1
		    Name		    "<cycle_mph_r>"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  BusSelector
		  Name			  "Bus\nSelector6"
		  Ports			  [1, 1]
		  Position		  [205, 281, 210, 319]
		  ShowName		  off
		  OutputSignals		  "veh_spd_a_rec"
		  MuxedOutput		  off
		  Port {
		    PortNumber		    1
		    Name		    "<veh_spd_a_rec>"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  BusSelector
		  Name			  "Bus\nSelector7"
		  Ports			  [1, 1]
		  Position		  [205, 170, 210, 210]
		  ShowName		  off
		  OutputSignals		  "gear_ratio"
		  MuxedOutput		  off
		  Port {
		    PortNumber		    1
		    Name		    "<gear_ratio>"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  BusSelector
		  Name			  "Bus\nSelector8"
		  Ports			  [1, 1]
		  Position		  [205, 226, 210, 264]
		  ShowName		  off
		  OutputSignals		  "current_veh_mass"
		  MuxedOutput		  off
		  Port {
		    PortNumber		    1
		    Name		    "<current_veh_mass>"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  BusSelector
		  Name			  "Bus\nSelector9"
		  Ports			  [1, 1]
		  Position		  [205, 116, 210, 154]
		  ShowName		  off
		  OutputSignals		  "mpha"
		  MuxedOutput		  off
		  Port {
		    PortNumber		    1
		    Name		    "<mpha>"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From5"
		  Position		  [60, 171, 170, 209]
		  ForegroundColor	  "red"
		  BackgroundColor	  "black"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  FontName		  "Arial"
		  FontSize		  16
		  FontWeight		  "bold"
		  GotoTag		  "gbControl"
		}
		Block {
		  BlockType		  From
		  Name			  "From6"
		  Position		  [60, 61, 170, 99]
		  ForegroundColor	  "red"
		  BackgroundColor	  "black"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  FontName		  "Arial"
		  FontSize		  16
		  FontWeight		  "bold"
		  GotoTag		  "clControl"
		}
		Block {
		  BlockType		  From
		  Name			  "From7"
		  Position		  [60, 446, 170, 484]
		  ForegroundColor	  "red"
		  BackgroundColor	  "black"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  FontName		  "Arial"
		  FontSize		  16
		  FontWeight		  "bold"
		  GotoTag		  "fcSensors"
		}
		Block {
		  BlockType		  From
		  Name			  "From9"
		  Position		  [60, 501, 170, 539]
		  ForegroundColor	  "red"
		  BackgroundColor	  "black"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  FontName		  "Arial"
		  FontSize		  16
		  FontWeight		  "bold"
		  GotoTag		  "gbControl"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Fuel Converter Control"
		  Ports			  [10, 10]
		  Position		  [360, 55, 635, 600]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  Port {
		    PortNumber		    1
		    Name		    "clutch_state"
		    PropagatedSignals	    "clutch_state"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "mpha_prev"
		    PropagatedSignals	    "mpha_prev"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    3
		    Name		    "gear_ratio"
		    PropagatedSignals	    "gear_ratio"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    4
		    Name		    "current_veh_mass"
		    PropagatedSignals	    "current_veh_mass"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    5
		    Name		    "veh_spd_a_rec_prev"
		    PropagatedSignals	    "veh_spd_a_rec_prev"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    6
		    Name		    "cyc_mph_r_prev"
		    PropagatedSignals	    "cyc_mph_r_prev"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    7
		    Name		    "acc_mech_trq_est"
		    PropagatedSignals	    "acc_mech_trq_est"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    8
		    Name		    "engine_on"
		    PropagatedSignals	    "engine_on"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    9
		    Name		    "key_on"
		    PropagatedSignals	    "key_on"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    10
		    Name		    "v_prev"
		    PropagatedSignals	    "v_prev"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  System {
		    Name		    "Fuel Converter Control"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "clutch_state"
		    Position		    [145, 252, 180, 268]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "mpha(t-1) (prev)"
		    Position		    [145, 287, 180, 303]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    Port {
		    PortNumber		    1
		    Name		    "mpha_prev"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		    }
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear_ratio"
		    Position		    [145, 322, 180, 338]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    Port {
		    PortNumber		    1
		    Name		    "gear_ratio"
		    PropagatedSignals	    "gear_ratio"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		    }
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "current_veh_mass"
		    Position		    [145, 357, 180, 373]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    Port {
		    PortNumber		    1
		    Name		    "current_veh_mass"
		    PropagatedSignals	    "current_veh_mass"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		    }
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "veh_spd_a_rec(t-1) (prev)"
		    Position		    [145, 392, 180, 408]
		    Port		    "5"
		    LatchInput		    off
		    Interpolate		    on
		    Port {
		    PortNumber		    1
		    Name		    "veh_spd_a_rec_prev"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		    }
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "cyc_mph_r(t-1) (prev)"
		    Position		    [145, 427, 180, 443]
		    Port		    "6"
		    LatchInput		    off
		    Interpolate		    on
		    Port {
		    PortNumber		    1
		    Name		    "cyc_mph_r_prev"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		    }
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "acc_mech_trq_est"
		    Position		    [145, 462, 180, 478]
		    Port		    "7"
		    LatchInput		    off
		    Interpolate		    on
		    Port {
		    PortNumber		    1
		    Name		    "acc_mech_trq_est"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		    }
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "fcSensors"
		    Position		    [145, 612, 180, 628]
		    Port		    "8"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "shifting"
		    Position		    [145, 677, 180, 693]
		    Port		    "9"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "v_prev"
		    Position		    [145, 727, 180, 743]
		    Port		    "10"
		    LatchInput		    off
		    Interpolate		    on
		    Port {
		    PortNumber		    1
		    Name		    "v_prev"
		    PropagatedSignals	    "v_prev"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		    }
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "<sdo>1"
		    Position		    [230, 674, 325, 696]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "shifting"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "<sdo>10"
		    Position		    [600, 149, 695, 171]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "engine_on"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "<sdo>11"
		    Position		    [475, 89, 570, 111]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "key_on"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "<sdo>3"
		    Position		    [230, 249, 325, 271]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "clutch_state"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [225, 125, 245, 145]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Value		    "1.1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [225, 152, 300, 168]
		    ShowName		    off
		    Value		    "vc_idle_bool"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From1"
		    Position		    [545, 255, 665, 275]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "clutch_state"
		    Port {
		    PortNumber		    1
		    Name		    "clutch_state"
		    PropagatedSignals	    "clutch_state"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		    }
		    }
		    Block {
		    BlockType		    From
		    Name		    "From14"
		    Position		    [545, 640, 665, 660]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "engine_on"
		    Port {
		    PortNumber		    1
		    Name		    "engine_on"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		    }
		    }
		    Block {
		    BlockType		    From
		    Name		    "From6"
		    Position		    [545, 695, 665, 715]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "key_on"
		    Port {
		    PortNumber		    1
		    Name		    "key_on"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		    }
		    }
		    Block {
		    BlockType		    From
		    Name		    "From7"
		    Position		    [105, 110, 225, 130]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "clutch_state"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From8"
		    Position		    [105, 180, 225, 200]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [2, 1]
		    Position		    [475, 131, 505, 164]
		    ShowName		    off
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator2"
		    Ports		    [2, 1]
		    Position		    [350, 136, 380, 169]
		    ShowName		    off
		    Operator		    "OR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator3"
		    Ports		    [2, 1]
		    Position		    [530, 141, 560, 174]
		    ShowName		    off
		    Operator		    "OR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator7"
		    Ports		    [2, 1]
		    Position		    [475, 180, 505, 215]
		    ShowName		    off
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [530, 205, 560, 235]
		    Orientation		    "left"
		    ShowName		    off
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [225, 610, 245, 630]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "clutch\nslipping\nor engaged"
		    Position		    [280, 112, 310, 143]
		    NamePlacement	    "alternate"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "key_on"
		    Ports		    [0, 1]
		    Position		    [395, 111, 440, 139]
		    NamePlacement	    "alternate"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "Repeating table"
		    MaskDescription	    "Repeating table.\nEnter values of"
" time and output for first cycle."
		    MaskHelp		    "Repeats cycle given in table. Tim"
"e values should be monotonically increasing."
		    MaskPromptString	    "Time values:|Output values:"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskInitialization	    "period = max(@1); t = @1; y = @2;"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "vc_key_on(:,1)|vc_key_on(:,2)"
		    MaskVariableAliases	    ","
		    System {
		    Name		    "key_on"
		    Location		    [5, 40, 315, 196]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [45, 60, 65, 80]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    Position		    [110, 60, 150, 80]
		    Expr		    "rem(u[1],period)"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up Table"
		    Position		    [210, 58, 250, 82]
		    InputValues		    "t"
		    OutputValues	    "y"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [285, 60, 305, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    DstBlock		    "Look-Up Table"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Look-Up Table"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "clutch state out"
		    Position		    [800, 258, 830, 272]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "miles per hour out"
		    Position		    [800, 288, 830, 302]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear_ratio out"
		    Position		    [800, 368, 830, 382]
		    Port		    "3"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "current veh mass out"
		    Position		    [800, 423, 830, 437]
		    Port		    "4"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "veh spd a rec out"
		    Position		    [800, 473, 830, 487]
		    Port		    "5"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "cyc_mph_r out"
		    Position		    [800, 533, 830, 547]
		    Port		    "6"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "acc_mech_trq_est out"
		    Position		    [800, 588, 830, 602]
		    Port		    "7"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "engine_on out"
		    Position		    [800, 643, 830, 657]
		    Port		    "8"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "key_on out"
		    Position		    [800, 698, 830, 712]
		    Port		    "9"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "v_prev out"
		    Position		    [800, 753, 830, 767]
		    Port		    "10"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    Name		    "gear_ratio"
		    Labels		    [2, 0]
		    SrcBlock		    "gear_ratio"
		    SrcPort		    1
		    Points		    [485, 0; 0, 45]
		    DstBlock		    "gear_ratio out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From7"
		    SrcPort		    1
		    DstBlock		    "clutch\nslipping\nor engaged"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "clutch\nslipping\nor engaged"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "clutch\nslipping\nor engaged"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator2"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From8"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator7"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-65, 0]
		    DstBlock		    "Logical\nOperator7"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator7"
		    SrcPort		    1
		    Points		    [0, -35]
		    DstBlock		    "Logical\nOperator3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator3"
		    SrcPort		    1
		    Points		    [0, 0; 10, 0]
		    Branch {
		    DstBlock		    "<sdo>10"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "key_on"
		    SrcPort		    1
		    Points		    [0, 0; 10, 0]
		    Branch {
		    Points		    [5, 0]
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -25]
		    DstBlock		    "<sdo>11"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "fcSensors"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "shifting"
		    SrcPort		    1
		    DstBlock		    "<sdo>1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "clutch_state"
		    SrcPort		    1
		    DstBlock		    "<sdo>3"
		    DstPort		    1
		    }
		    Line {
		    Name		    "mpha_prev"
		    Labels		    [1, 0]
		    SrcBlock		    "mpha(t-1) (prev)"
		    SrcPort		    1
		    DstBlock		    "miles per hour out"
		    DstPort		    1
		    }
		    Line {
		    Name		    "current_veh_mass"
		    Labels		    [2, 0]
		    SrcBlock		    "current_veh_mass"
		    SrcPort		    1
		    Points		    [400, 0; 0, 65]
		    DstBlock		    "current veh mass out"
		    DstPort		    1
		    }
		    Line {
		    Name		    "veh_spd_a_rec_prev"
		    Labels		    [2, 0]
		    SrcBlock		    "veh_spd_a_rec(t-1) (prev)"
		    SrcPort		    1
		    Points		    [255, 0; 0, 80]
		    DstBlock		    "veh spd a rec out"
		    DstPort		    1
		    }
		    Line {
		    Name		    "cyc_mph_r_prev"
		    Labels		    [2, 0]
		    SrcBlock		    "cyc_mph_r(t-1) (prev)"
		    SrcPort		    1
		    Points		    [200, 0; 0, 105]
		    DstBlock		    "cyc_mph_r out"
		    DstPort		    1
		    }
		    Line {
		    Name		    "acc_mech_trq_est"
		    Labels		    [2, 0]
		    SrcBlock		    "acc_mech_trq_est"
		    SrcPort		    1
		    Points		    [90, 0; 0, 125]
		    DstBlock		    "acc_mech_trq_est out"
		    DstPort		    1
		    }
		    Line {
		    Name		    "v_prev"
		    Labels		    [2, 0]
		    SrcBlock		    "v_prev"
		    SrcPort		    1
		    Points		    [370, 0; 0, 25]
		    DstBlock		    "v_prev out"
		    DstPort		    1
		    }
		    Line {
		    Name		    "clutch_state"
		    Labels		    [0, 0]
		    SrcBlock		    "From1"
		    SrcPort		    1
		    DstBlock		    "clutch state out"
		    DstPort		    1
		    }
		    Line {
		    Name		    "engine_on"
		    Labels		    [0, 0]
		    SrcBlock		    "From14"
		    SrcPort		    1
		    DstBlock		    "engine_on out"
		    DstPort		    1
		    }
		    Line {
		    Name		    "key_on"
		    Labels		    [0, 0]
		    SrcBlock		    "From6"
		    SrcPort		    1
		    DstBlock		    "key_on out"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [247, 47]
		    BackgroundColor	    "yellow"
		    Text		    "Controls for Fuel Converter"
		    FontName		    "Arial"
		    FontSize		    18
		    FontWeight		    "bold"
		    }
		    Annotation {
		    Position		    [269, 618]
		    HorizontalAlignment	    "left"
		    Text		    "This is just to give a matching F"
"ROM block for the sensors"
		    }
		    Annotation {
		    Position		    [278, 760]
		    Text		    "calculated above"
		    }
		    Annotation {
		    Position		    [273, 700]
		    Text		    "calculated above"
		    }
		  }
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto2"
		  Position		  [800, 309, 900, 351]
		  ForegroundColor	  "red"
		  BackgroundColor	  "black"
		  ShowName		  off
		  FontName		  "Arial"
		  FontSize		  16
		  FontWeight		  "bold"
		  GotoTag		  "fcControl"
		  TagVisibility		  "global"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory1"
		  Position		  [325, 125, 340, 145]
		  ShowName		  off
		  X0			  "0"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory2"
		  Position		  [325, 290, 340, 310]
		  ShowName		  off
		  X0			  "0"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory3"
		  Position		  [325, 345, 340, 365]
		  ShowName		  off
		  X0			  "0"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory5"
		  Position		  [325, 400, 340, 420]
		  ShowName		  off
		  X0			  "0"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  From
		  Name			  "controlTag1"
		  Position		  [60, 391, 195, 429]
		  ForegroundColor	  "red"
		  BackgroundColor	  "black"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  FontName		  "Arial"
		  FontSize		  16
		  FontWeight		  "bold"
		  GotoTag		  "accSensors"
		}
		Block {
		  BlockType		  From
		  Name			  "controlTag2"
		  Position		  [60, 336, 195, 374]
		  ForegroundColor	  "red"
		  BackgroundColor	  "black"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  FontName		  "Arial"
		  FontSize		  16
		  FontWeight		  "bold"
		  GotoTag		  "cycReqOut"
		}
		Block {
		  BlockType		  From
		  Name			  "controlTag3"
		  Position		  [60, 281, 195, 319]
		  ForegroundColor	  "red"
		  BackgroundColor	  "black"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  FontName		  "Arial"
		  FontSize		  16
		  FontWeight		  "bold"
		  GotoTag		  "vehSensors"
		}
		Block {
		  BlockType		  From
		  Name			  "controlTag4"
		  Position		  [60, 226, 195, 264]
		  ForegroundColor	  "red"
		  BackgroundColor	  "black"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  FontName		  "Arial"
		  FontSize		  16
		  FontWeight		  "bold"
		  GotoTag		  "cycSensors"
		}
		Block {
		  BlockType		  From
		  Name			  "controlTag5"
		  Position		  [60, 556, 270, 594]
		  ForegroundColor	  "red"
		  BackgroundColor	  "black"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  FontName		  "Arial"
		  FontSize		  16
		  FontWeight		  "bold"
		  GotoTag		  "vehReqOut"
		}
		Block {
		  BlockType		  From
		  Name			  "controlTag6"
		  Position		  [60, 116, 195, 154]
		  ForegroundColor	  "red"
		  BackgroundColor	  "black"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  FontName		  "Arial"
		  FontSize		  16
		  FontWeight		  "bold"
		  GotoTag		  "vehSensors"
		}
		Line {
		  Name			  "<shifting>"
		  Labels		  [0, 0]
		  SrcBlock		  "Bus\nSelector2"
		  SrcPort		  1
		  DstBlock		  "Fuel Converter Control"
		  DstPort		  9
		}
		Line {
		  Name			  "<gear_ratio>"
		  Labels		  [0, 0]
		  SrcBlock		  "Bus\nSelector7"
		  SrcPort		  1
		  DstBlock		  "Fuel Converter Control"
		  DstPort		  3
		}
		Line {
		  Name			  "<clutch_state>"
		  Labels		  [0, 0]
		  SrcBlock		  "Bus\nSelector1"
		  SrcPort		  1
		  DstBlock		  "Fuel Converter Control"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From6"
		  SrcPort		  1
		  DstBlock		  "Bus\nSelector1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From5"
		  SrcPort		  1
		  DstBlock		  "Bus\nSelector7"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From7"
		  SrcPort		  1
		  Points		  [0, 0]
		  DstBlock		  "Fuel Converter Control"
		  DstPort		  8
		}
		Line {
		  SrcBlock		  "controlTag5"
		  SrcPort		  1
		  DstBlock		  "Bus\nSelector4"
		  DstPort		  1
		}
		Line {
		  Name			  "<v_prev>"
		  Labels		  [0, 0]
		  SrcBlock		  "Bus\nSelector4"
		  SrcPort		  1
		  DstBlock		  "Fuel Converter Control"
		  DstPort		  10
		}
		Line {
		  SrcBlock		  "From9"
		  SrcPort		  1
		  DstBlock		  "Bus\nSelector2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "controlTag1"
		  SrcPort		  1
		  DstBlock		  "Bus\nSelector3"
		  DstPort		  1
		}
		Line {
		  Name			  "<acc_mech_pwr_a>"
		  Labels		  [0, 0]
		  SrcBlock		  "Bus\nSelector3"
		  SrcPort		  1
		  DstBlock		  "Memory5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Memory5"
		  SrcPort		  1
		  DstBlock		  "Fuel Converter Control"
		  DstPort		  7
		}
		Line {
		  SrcBlock		  "controlTag2"
		  SrcPort		  1
		  DstBlock		  "Bus\nSelector5"
		  DstPort		  1
		}
		Line {
		  Name			  "<cycle_mph_r>"
		  Labels		  [0, 0]
		  SrcBlock		  "Bus\nSelector5"
		  SrcPort		  1
		  DstBlock		  "Memory3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "controlTag3"
		  SrcPort		  1
		  DstBlock		  "Bus\nSelector6"
		  DstPort		  1
		}
		Line {
		  Name			  "<veh_spd_a_rec>"
		  Labels		  [0, 0]
		  SrcBlock		  "Bus\nSelector6"
		  SrcPort		  1
		  DstBlock		  "Memory2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "controlTag4"
		  SrcPort		  1
		  DstBlock		  "Bus\nSelector8"
		  DstPort		  1
		}
		Line {
		  Name			  "<current_veh_mass>"
		  Labels		  [0, 0]
		  SrcBlock		  "Bus\nSelector8"
		  SrcPort		  1
		  DstBlock		  "Fuel Converter Control"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "controlTag6"
		  SrcPort		  1
		  DstBlock		  "Bus\nSelector9"
		  DstPort		  1
		}
		Line {
		  Name			  "<mpha>"
		  Labels		  [0, 0]
		  SrcBlock		  "Bus\nSelector9"
		  SrcPort		  1
		  DstBlock		  "Memory1"
		  DstPort		  1
		}
		Line {
		  Name			  "v_prev"
		  Labels		  [0, 0]
		  SrcBlock		  "Fuel Converter Control"
		  SrcPort		  10
		  DstBlock		  "Bus\nCreator"
		  DstPort		  10
		}
		Line {
		  Name			  "key_on"
		  Labels		  [0, 0]
		  SrcBlock		  "Fuel Converter Control"
		  SrcPort		  9
		  DstBlock		  "Bus\nCreator"
		  DstPort		  9
		}
		Line {
		  Name			  "engine_on"
		  Labels		  [0, 0]
		  SrcBlock		  "Fuel Converter Control"
		  SrcPort		  8
		  DstBlock		  "Bus\nCreator"
		  DstPort		  8
		}
		Line {
		  Name			  "acc_mech_trq_est"
		  Labels		  [0, 0]
		  SrcBlock		  "Fuel Converter Control"
		  SrcPort		  7
		  DstBlock		  "Bus\nCreator"
		  DstPort		  7
		}
		Line {
		  Name			  "cyc_mph_r_prev"
		  Labels		  [0, 0]
		  SrcBlock		  "Fuel Converter Control"
		  SrcPort		  6
		  DstBlock		  "Bus\nCreator"
		  DstPort		  6
		}
		Line {
		  Name			  "veh_spd_a_rec_prev"
		  Labels		  [0, 0]
		  SrcBlock		  "Fuel Converter Control"
		  SrcPort		  5
		  DstBlock		  "Bus\nCreator"
		  DstPort		  5
		}
		Line {
		  Name			  "current_veh_mass"
		  Labels		  [0, 0]
		  SrcBlock		  "Fuel Converter Control"
		  SrcPort		  4
		  DstBlock		  "Bus\nCreator"
		  DstPort		  4
		}
		Line {
		  Name			  "gear_ratio"
		  Labels		  [0, 0]
		  SrcBlock		  "Fuel Converter Control"
		  SrcPort		  3
		  DstBlock		  "Bus\nCreator"
		  DstPort		  3
		}
		Line {
		  Name			  "mpha_prev"
		  Labels		  [0, 0]
		  SrcBlock		  "Fuel Converter Control"
		  SrcPort		  2
		  DstBlock		  "Bus\nCreator"
		  DstPort		  2
		}
		Line {
		  Name			  "clutch_state"
		  Labels		  [0, 0]
		  SrcBlock		  "Fuel Converter Control"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Bus\nCreator"
		  SrcPort		  1
		  DstBlock		  "Goto2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Memory1"
		  SrcPort		  1
		  DstBlock		  "Fuel Converter Control"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Memory2"
		  SrcPort		  1
		  DstBlock		  "Fuel Converter Control"
		  DstPort		  5
		}
		Line {
		  SrcBlock		  "Memory3"
		  SrcPort		  1
		  DstBlock		  "Fuel Converter Control"
		  DstPort		  6
		}
		Annotation {
		  Position		  [497, 22]
		  BackgroundColor	  "yellow"
		  Text			  "Controls for Fuel Converter:\nIC En"
"gine"
		  FontName		  "Arial"
		  FontSize		  18
		  FontWeight		  "bold"
		}
	      }
	    }
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Submodel"
      Ports		      []
      Position		      [141, 272, 180, 303]
      ShowPortLabels	      on
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      System {
	Name			"Submodel"
	Location		[202, 77, 966, 744]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  "engine inertia as a function of total\nvehi"
"cle inertia (generous approximation)"
	  Ports			  [0, 1]
	  Position		  [130, 135, 160, 185]
	  Orientation		  "down"
	  BackgroundColor	  "darkGreen"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "engine inertia as a function of total\nve"
"hicle inertia (generous approximation)"
	    Location		    [202, 77, 966, 744]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "81"
	    Block {
	      BlockType		      From
	      Name		      "From <vc>"
	      Position		      [195, 25, 265, 55]
	      Orientation	      "down"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gear_ratio"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [322, 275, 353, 310]
	      Orientation	      "down"
	      NamePlacement	      "alternate"
	      Inputs		      "*/"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [580, 205, 600, 225]
	      Orientation	      "down"
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "++|"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "engine inertia\nas a fraction of\ntotal"
" vehicle\ninertia \n(generous\napproximation)--denomenator"
	      Position		      [389, 155, 791, 180]
	      Orientation	      "down"
	      Expr		      "fc_inertia*(u*fd_ratio/wh_radius)^2"
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "engine inertia\nas a fraction of\ntotal"
" vehicle\ninertia \n(generous\napproximation)--numerator"
	      Position		      [29, 95, 431, 120]
	      Orientation	      "down"
	      Expr		      "fc_inertia*(u*fd_ratio/wh_radius)^2"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "veh mass calc"
	      Ports		      [0, 1]
	      Position		      [445, 206, 525, 224]
	      BackgroundColor	      "magenta"
	      SourceBlock	      "lib_fuel_converter3/Submodel/veh mass c"
"alc"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      "off"
	      TreatAsAtomicUnit	      "off"
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [325, 370, 355, 385]
	      Orientation	      "down"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      Points		      [0, 30]
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "engine inertia\nas a fraction of\ntotal"
" vehicle\ninertia \n(generous\napproximation)--numerator"
	      SrcPort		      1
	      Points		      [0, 135]
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "engine inertia\nas a fraction of\ntotal"
" vehicle\ninertia \n(generous\napproximation)--denomenator"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "veh mass calc"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <vc>"
	      SrcPort		      1
	      Points		      [0, 5]
	      Branch {
		Points			[360, 0]
		DstBlock		"engine inertia\nas a fraction of\ntot"
"al vehicle\ninertia \n(generous\napproximation)--denomenator"
		DstPort			1
	      }
	      Branch {
		DstBlock		"engine inertia\nas a fraction of\ntot"
"al vehicle\ninertia \n(generous\napproximation)--numerator"
		DstPort			1
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "veh mass calc"
	  Ports			  [0, 1]
	  Position		  [105, 56, 185, 74]
	  BackgroundColor	  "magenta"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "veh mass calc"
	    Location		    [202, 77, 966, 744]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      From
	      Name		      "From"
	      Position		      [30, 51, 130, 79]
	      BackgroundColor	      "lightBlue"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "current_veh_mass"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [215, 58, 245, 72]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "From"
	      SrcPort		      1
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "configurable subsystems"
      Ports		      []
      Position		      [276, 269, 316, 299]
      BackgroundColor	      "lightBlue"
      ShowPortLabels	      on
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      System {
	Name			"configurable subsystems"
	Location		[202, 77, 966, 744]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	212
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  "fuel use and EO emis"
	  Ports			  [2, 3]
	  Position		  [130, 181, 290, 259]
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "fuel use and EO emis"
	    Location		    [202, 77, 966, 744]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "T (Nm)"
	      Position		      [30, 210, 50, 230]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "w (rad/s)"
	      Position		      [30, 315, 50, 335]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "(gal/s)"
	      Position		      [605, 182, 630, 208]
	      Gain		      "1/fc_fuel_den*61.02/231"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Block NOTES"
	      Ports		      []
	      Position		      [765, 405, 821, 445]
	      BackgroundColor	      "green"
	      ShowName		      off
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "disp('Block\\nNOTES')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Block NOTES"
		Location		[332, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Annotation {
		  Position		  [177, 38]
		  Text			  "This block determines actual fuel u"
"se and engine-out emissions\ngiven the fully hot values and the engine coolan"
"t temperature.\nThe correlations used here were developed at NREL using\nFTP "
"data collected under subcontract by JDM & Associates.\nNote: PM hot/cold rela"
"tion assumed same as HC"
		}
	      }
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 2]
	      Position		      [525, 66, 530, 99]
	      ShowName		      off
	      Outputs		      "2"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>"
	      Position		      [70, 66, 135, 84]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "key_on"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc> "
	      Position		      [65, 145, 135, 165]
	      NamePlacement	      "alternate"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "engine_on"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>\n(m/s)"
	      Position		      [20, 41, 75, 59]
	      NamePlacement	      "alternate"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "v_prev"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      Position		      [325, 195, 395, 215]
	      Orientation	      "left"
	      ShowName		      off
	      GotoTag		      "fc_clt_tmp"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "HOT engine maps"
	      Ports		      [2, 7, 1]
	      Position		      [125, 168, 255, 412]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      on
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"HOT engine maps"
		Location		[332, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "T (Nm)"
		  Position		  [25, 81, 60, 99]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "w (rad/s)"
		  Position		  [25, 126, 60, 144]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  Ports			  []
		  Position		  [44, 440, 76, 465]
		  StatesWhenEnabling	  "reset"
		  ShowOutputPort	  off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [35, 560, 91, 600]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [317, 43]
		    Text		    "This block determines the fully h"
"ot fuel use, engine-out emissions output rates, exhaust gas mass flow rate, "
"\nand engine-out exhaust gas temperature as a function of engine output torqu"
"e and speed.  \nThe engine maps (except for exhaust gas temperature) can be s"
"caled using variables fc_spd_scale and\n fc_trq_scale; it is recommended that"
" scaling values outside the range of 0.85 to 1.15 be used CAREFULLY."
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "CO\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 73, 220, 97]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_co_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "CO\n(g/s)"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn3"
		  Position		  [270, 496, 295, 514]
		  ShowName		  off
		  Expr			  "(u(1)/1000)*ex_gas_cp*(u(2) - amb_t"
"mp)"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "HC\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 13, 220, 37]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_hc_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "HC\n(g/s)"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "MF,ex\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 243, 220, 267]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_exflow_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "MF,ex\n(g/s)"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax"
		  Ports			  [2, 1]
		  Position		  [315, 500, 340, 520]
		  ShowName		  off
		  Function		  "min"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [4, 1]
		  Position		  [285, 52, 290, 168]
		  Inputs		  "4"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  Ports			  [2, 1]
		  Position		  [250, 486, 255, 519]
		  ShowName		  off
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "NOx\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 128, 220, 152]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_nox_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "NOx\n(g/s)"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "O2\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 358, 220, 382]
		  ForegroundColor	  "magenta"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_o2_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "O2\n(g/s)"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "PM\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 183, 220, 207]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_pm_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "PM\n(g/s)"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [85, 105, 100, 125]
		  ShowName		  off
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  Position		  [125, 78, 140, 102]
		  ShowName		  off
		  UpperLimit		  "max(fc_map_trq*fc_trq_scale)"
		  LowerLimit		  "min(fc_map_trq*fc_trq_scale)"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation1"
		  Position		  [125, 123, 140, 147]
		  ShowName		  off
		  UpperLimit		  "max(fc_map_spd*fc_spd_scale)"
		  LowerLimit		  "min(fc_map_spd*fc_spd_scale)"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum5"
		  Ports			  [2, 1]
		  Position		  [360, 499, 370, 546]
		  ShowName		  off
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum6"
		  Ports			  [2, 1]
		  Position		  [280, 526, 290, 559]
		  ShowName		  off
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Tex,eo\n(C)"
		  Ports			  [2, 1]
		  Position		  [190, 298, 220, 322]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_extmp_map"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "Tex,eo\n(C)"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fuel\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [185, 557, 210, 588]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_fuel_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "fuel\n(g/s)"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "lhv"
		  Position		  [235, 540, 255, 560]
		  Gain			  "fc_fuel_lhv"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "fc heat\n(W)"
		  Position		  [400, 515, 420, 535]
		  Port			  "1"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Block {
		  BlockType		  Outport
		  Name			  "HOT fuel use\n(g/s)"
		  Position		  [360, 565, 380, 585]
		  Port			  "2"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Block {
		  BlockType		  Outport
		  Name			  "HOT emis\n(g/s)"
		  Position		  [330, 100, 350, 120]
		  Port			  "3"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Ex Gas Flow\n(g/s)"
		  Position		  [325, 245, 345, 265]
		  Port			  "4"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Ex Gas Temp\n(C)"
		  Position		  [325, 300, 345, 320]
		  Port			  "5"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "amb_tmp"
		}
		Block {
		  BlockType		  Outport
		  Name			  "O2 exhaust\n(g/s)"
		  Position		  [325, 360, 345, 380]
		  ForegroundColor	  "magenta"
		  Port			  "6"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "ex heat\n(W)"
		  Position		  [400, 470, 420, 490]
		  NamePlacement		  "alternate"
		  Port			  "7"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Line {
		  SrcBlock		  "PM\n(g/s)"
		  SrcPort		  1
		  Points		  [45, 0]
		  DstBlock		  "Mux"
		  DstPort		  4
		}
		Line {
		  Labels		  [1, 0]
		  SrcBlock		  "HC\n(g/s)"
		  SrcPort		  1
		  Points		  [45, 0]
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "CO\n(g/s)"
		  SrcPort		  1
		  Points		  [25, 0; 0, 10]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "NOx\n(g/s)"
		  SrcPort		  1
		  Points		  [25, 0; 0, -15]
		  DstBlock		  "Mux"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "HOT emis\n(g/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "MF,ex\n(g/s)"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Ex Gas Flow\n(g/s)"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux4"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Tex,eo\n(C)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Ex Gas Temp\n(C)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 200]
		    DstBlock		    "Mux4"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Saturation1"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    DstBlock		    "NOx\n(g/s)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "MF,ex\n(g/s)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "Tex,eo\n(C)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "fuel\n(g/s)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "O2\n(g/s)"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "PM\n(g/s)"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, -55]
		    Branch {
		    DstBlock		    "CO\n(g/s)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -60]
		    DstBlock		    "HC\n(g/s)"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "CO\n(g/s)"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "MF,ex\n(g/s)"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "Tex,eo\n(C)"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    Points		    [0, 205]
		    DstBlock		    "fuel\n(g/s)"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "O2\n(g/s)"
		    DstPort		    2
		    }
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "PM\n(g/s)"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "NOx\n(g/s)"
		    DstPort		    2
		    }
		  }
		  Branch {
		    Points		    [0, -60]
		    DstBlock		    "HC\n(g/s)"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "T (Nm)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Saturation"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "w (rad/s)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Saturation1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "Fcn3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum5"
		  SrcPort		  1
		  DstBlock		  "fc heat\n(W)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Fcn3"
		  SrcPort		  1
		  DstBlock		  "MinMax"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "MinMax"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Sum5"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -30]
		    DstBlock		    "ex heat\n(W)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum6"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [45, 0]
		    DstBlock		    "Sum5"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "MinMax"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [0, 420]
		  DstBlock		  "Sum6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fuel\n(g/s)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "HOT fuel use\n(g/s)"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "lhv"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "lhv"
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "O2\n(g/s)"
		  SrcPort		  1
		  DstBlock		  "O2 exhaust\n(g/s)"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Integrator
	      Name		      "Integrator"
	      Ports		      [1, 1]
	      Position		      [650, 185, 670, 205]
	      ShowName		      off
	      ExternalReset	      "none"
	      InitialConditionSource  "internal"
	      InitialCondition	      "0"
	      LimitOutput	      off
	      UpperSaturationLimit    "inf"
	      LowerSaturationLimit    "-inf"
	      ShowSaturationPort      off
	      ShowStatePort	      off
	      AbsoluteTolerance	      "auto"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux4"
	      Ports		      [5, 1]
	      Position		      [765, 196, 770, 384]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      FontName		      "Arial"
	      Inputs		      "[1 4 1 1 1]"
	      DisplayOption	      "none"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux5"
	      Ports		      [2, 1]
	      Position		      [740, 16, 745, 129]
	      ShowName		      off
	      FontName		      "Arial"
	      Inputs		      "[1 4 ]"
	      DisplayOption	      "none"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector3"
	      Ports		      [1, 1]
	      Position		      [401, 130, 449, 145]
	      Orientation	      "down"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      InputType		      "Vector"
	      ElementSrc	      "Internal"
	      Elements		      "2"
	      RowSrc		      "Internal"
	      Rows		      "1"
	      ColumnSrc		      "Internal"
	      Columns		      "1"
	      InputPortWidth	      "4"
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [435, 50, 455, 70]
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace1"
	      Ports		      [1]
	      Position		      [305, 157, 400, 173]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|th_pwr|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace1"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace10"
	      Ports		      [1]
	      Position		      [620, 332, 715, 348]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|ex_gas_tmp|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace10"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace11"
	      Ports		      [1]
	      Position		      [280, 387, 375, 403]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|ex_th_pwr|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace11"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace12"
	      Ports		      [1]
	      Position		      [305, 177, 400, 193]
	      Orientation	      "left"
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|clt_tmp|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace12"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace2"
	      Ports		      [1]
	      Position		      [620, 367, 715, 383]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|o2_flow|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace2"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace3"
	      Ports		      [1]
	      Position		      [555, 62, 650, 78]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|r_th_pwr|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace3"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace5"
	      Ports		      [1]
	      Position		      [555, 87, 650, 103]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|h_th_pwr|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace5"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace6"
	      Ports		      [1]
	      Position		      [485, 117, 580, 133]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|tmp|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace6"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace7"
	      Ports		      [1]
	      Position		      [605, 157, 700, 173]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|fuel_rate|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace7"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace8"
	      Ports		      [1]
	      Position		      [625, 252, 720, 268]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|emis_eo|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace8"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace9"
	      Ports		      [1]
	      Position		      [625, 297, 720, 313]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|ex_gas_flow|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace9"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "fc temp"
	      Ports		      [4, 3]
	      Position		      [275, 47, 400, 123]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"fc temp"
		Location		[332, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"92"
		Block {
		  BlockType		  Inport
		  Name			  "veh spd\n(m/s)"
		  Position		  [30, 65, 50, 85]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "key ON?"
		  Position		  [255, 150, 275, 170]
		  Orientation		  "down"
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "fc ON?"
		  Position		  [30, 35, 50, 55]
		  NamePlacement		  "alternate"
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "Qfc (W)"
		  Position		  [310, 115, 330, 135]
		  NamePlacement		  "alternate"
		  Port			  "4"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Gain
		  Name			  "1/"
		  Position		  [385, 123, 410, 147]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "1/(0.2*fc_base_mass*fc_pwr_scale*fc"
"_cp)"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "1/Ci"
		  Position		  [370, 219, 390, 241]
		  ShowName		  off
		  Gain			  "1/(0.8*fc_base_mass*fc_pwr_scale*fc"
"_cp)"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "1/Cx"
		  Position		  [220, 262, 245, 288]
		  ShowName		  off
		  Gain			  "1/(fc_acc_mass*fc_pwr_scale*fc_cp)"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "1/mcp"
		  Position		  [220, 317, 245, 343]
		  Gain			  "1/(0.1*veh_glider_mass*fc_pwr_scale"
"*fc_h_cp)"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [495, 330, 551, 370]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [207, 33]
		    Text		    "This block models the thermal beh"
"avior internal combustion engine (ICE).  \nEmphasis is on the coolant since t"
"his temperature is used to correct engine\nfuel use."
		    }
		  }
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  Position		  [380, 293, 465, 317]
		  GotoTag		  "fc_hood_temp"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [320, 290, 350, 320]
		  X0			  "fc_h_init_tmp"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [4, 1]
		  Position		  [470, 151, 475, 359]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Inputs		  "4"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  Ports			  [2, 1]
		  Position		  [390, 188, 395, 217]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Qc"
		  Ports			  [2, 1]
		  Position		  [355, 114, 365, 156]
		  ShowName		  off
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Qc1"
		  Ports			  [3, 1]
		  Position		  [350, 214, 360, 246]
		  ShowName		  off
		  IconShape		  "rectangular"
		  Inputs		  "--+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Tcm"
		  Ports			  [1, 1]
		  Position		  [425, 125, 445, 145]
		  ShowName		  off
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "fc_c_init_tmp"
		  LimitOutput		  off
		  UpperSaturationLimit	  "inf"
		  LowerSaturationLimit	  "-inf"
		  ShowSaturationPort	  off
		  ShowStatePort		  off
		  AbsoluteTolerance	  "auto"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Tcx"
		  Ports			  [1, 1]
		  Position		  [260, 265, 280, 285]
		  ShowName		  off
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "fc_x_init_tmp"
		  LimitOutput		  off
		  UpperSaturationLimit	  "inf"
		  LowerSaturationLimit	  "-inf"
		  ShowSaturationPort	  off
		  ShowStatePort		  off
		  AbsoluteTolerance	  "auto"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Tcx1"
		  Ports			  [1, 1]
		  Position		  [405, 220, 425, 240]
		  ShowName		  off
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "fc_i_init_tmp"
		  LimitOutput		  off
		  UpperSaturationLimit	  "inf"
		  LowerSaturationLimit	  "-inf"
		  ShowSaturationPort	  off
		  ShowStatePort		  off
		  AbsoluteTolerance	  "auto"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Tm"
		  Ports			  [1, 1]
		  Position		  [260, 320, 280, 340]
		  ShowName		  off
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "fc_h_init_tmp"
		  LimitOutput		  off
		  UpperSaturationLimit	  "inf"
		  LowerSaturationLimit	  "-inf"
		  ShowSaturationPort	  off
		  ShowStatePort		  off
		  AbsoluteTolerance	  "auto"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fc coolant"
		  Ports			  [2, 2, 1]
		  Position		  [225, 187, 310, 218]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "fc coolant"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Tcl"
		    Position		    [15, 68, 45, 82]
		    NamePlacement	    "alternate"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Qfc_i "
		    Position		    [15, 88, 45, 102]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [194, 25, 226, 50]
		    NamePlacement	    "alternate"
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [55, 29, 95, 41]
		    ShowName		    off
		    Value		    "fc_tstat"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [165, 62, 180, 93]
		    ShowName		    off
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qhtr"
		    Position		    [65, 68, 95, 82]
		    NamePlacement	    "alternate"
		    FontName		    "Arial"
		    Expr		    "fc_cl2h_eff*fc_h_air_flow*air_cp*"
"(u - amb_tmp)"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qi"
		    Ports		    [2, 1]
		    Position		    [125, 67, 135, 103]
		    ShowName		    off
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [120, 29, 140, 56]
		    ShowName		    off
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_rad"
		    Position		    [205, 73, 235, 87]
		    NamePlacement	    "alternate"
		    Port		    "1"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_htr"
		    Position		    [205, 108, 235, 122]
		    NamePlacement	    "alternate"
		    Port		    "2"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Tcl"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "Qhtr"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -25]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "Qfc_rad"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qfc_i "
		    SrcPort		    1
		    DstBlock		    "Qi"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qhtr"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Qi"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "Qfc_htr"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Qi"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fc mass heat flow"
		  Ports			  [2, 4]
		  Position		  [100, 141, 200, 354]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "fc mass heat flow"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "73"
		    Block {
		    BlockType		    Inport
		    Name		    "veh spd"
		    Position		    [25, 213, 55, 227]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "fc_temp"
		    Position		    [25, 23, 55, 37]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [645, 435, 701, 475]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [252, 38]
		    Text		    "FUEL CONVERTER MASS HEAT LOSS\nTh"
"is block models the heat loss from a fuel converter (such as an IC engine).  "
"\nConvection (as a function of vehicle speed), radiation, and conduction effe"
"cts are included.\nEngine cylinder (c), interior (i), exterior (x) and hood ("
"h) \nheat flows are estimated based on the temperatures from the previous ite"
"ration."
		    }
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux10"
		    Ports		    [2, 1]
		    Position		    [310, 270, 315, 305]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [2, 1]
		    Position		    [255, 190, 260, 230]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux4"
		    Ports		    [2, 1]
		    Position		    [325, 185, 330, 220]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux5"
		    Ports		    [2, 1]
		    Position		    [270, 380, 275, 420]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux6"
		    Ports		    [2, 1]
		    Position		    [365, 362, 370, 413]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux9"
		    Ports		    [2, 1]
		    Position		    [235, 275, 240, 315]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qh"
		    Ports		    [3, 1]
		    Position		    [585, 342, 595, 438]
		    IconShape		    "rectangular"
		    Inputs		    "-++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2a,r"
		    Position		    [140, 430, 510, 450]
		    FontName		    "Arial"
		    Expr		    "fc_hood_emisv*(5.67e-8)*fc_hood_s"
"area*((amb_tmp+273)^4 - (u(4)+273)^4)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2a,v"
		    Position		    [400, 379, 530, 401]
		    FontName		    "Arial"
		    Expr		    "u(2)*fc_hood_sarea*u(1)"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qh2x"
		    Ports		    [3, 1]
		    Position		    [535, 157, 545, 253]
		    IconShape		    "rectangular"
		    Inputs		    "+++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2x,r"
		    Position		    [380, 240, 505, 260]
		    FontName		    "Arial"
		    Expr		    "fc_emisv*(5.67e-8)*fc_ext_sarea*f"
"c_pwr_scale^0.67*((u(4)+273)^4 - (u(3)+273)^4)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2x,r1"
		    Position		    [345, 326, 495, 344]
		    FontName		    "Arial"
		    Expr		    "fc_emisv*(5.67e-8)*(0.5*fc_ext_sa"
"rea*fc_pwr_scale^0.67)*((amb_tmp+273)^4 - (u(3)+273)^4)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2x,v"
		    Position		    [355, 197, 410, 213]
		    NamePlacement	    "alternate"
		    FontName		    "Arial"
		    Expr		    "u(2)*fc_ext_sarea*fc_pwr_scale^0."
"67*u(1)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2x,v1"
		    Position		    [350, 281, 420, 299]
		    FontName		    "Arial"
		    Expr		    "u(2)*(0.5*fc_ext_sarea*fc_pwr_sca"
"le^0.67)*u(1)"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qi"
		    Ports		    [2, 1]
		    Position		    [560, 44, 570, 91]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qi2c,c"
		    Position		    [110, 21, 250, 39]
		    FontName		    "Arial"
		    Expr		    "fc_c2i_th_cond*(u(2) - u(1))"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qp2a,v5"
		    Position		    [170, 191, 220, 209]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "u(4)-u(3)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qp2a,v6"
		    Position		    [150, 382, 230, 398]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "amb_tmp-u(4)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qp2a,v7"
		    Position		    [125, 277, 205, 293]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "amb_tmp-u(3)"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qx"
		    Ports		    [3, 1]
		    Position		    [590, 171, 600, 219]
		    IconShape		    "rectangular"
		    Inputs		    "-++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qx1"
		    Ports		    [2, 1]
		    Position		    [545, 289, 555, 336]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qx2i,c"
		    Position		    [105, 71, 255, 89]
		    FontName		    "Arial"
		    Expr		    "fc_i2x_th_cond*(u(3) - u(2))"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qx2p,c"
		    Position		    [110, 134, 260, 156]
		    FontName		    "Arial"
		    Expr		    "fc_h2x_th_cond*(u(4) - u(3))"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Va/Vv"
		    Position		    [125, 207, 155, 233]
		    Gain		    "0.5"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Va/Vv1"
		    Position		    [105, 292, 135, 318]
		    Gain		    "0.5"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "h_h2a"
		    Position		    [300, 390, 335, 410]
		    FontName		    "Arial"
		    Expr		    "10 + 6*(abs(u(1))/1000)^0.3 + 60*"
"(abs(u(2))/30)^0.6"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "h_h2x"
		    Position		    [275, 200, 310, 220]
		    FontName		    "Arial"
		    Expr		    "6 + 6*((abs(u(1))/1000))^0.3 + 60"
"*(abs(u(2))/30)^0.6"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "h_h2x1"
		    Position		    [255, 285, 290, 305]
		    FontName		    "Arial"
		    Expr		    "6 + 6*((abs(u(1))/1000))^0.3 + 60"
"*(abs(u(2))/30)^0.6"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_c"
		    Position		    [655, 23, 685, 37]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_i"
		    Position		    [650, 63, 680, 77]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_x"
		    Position		    [650, 188, 680, 202]
		    Port		    "3"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_h"
		    Position		    [655, 383, 685, 397]
		    Port		    "4"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Mux10"
		    SrcPort		    1
		    DstBlock		    "Qh2x,v1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux9"
		    SrcPort		    1
		    DstBlock		    "h_h2x1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qp2a,v7"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Mux9"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [-5, 0; 0, -15; 75, 0]
		    DstBlock		    "Mux10"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "h_h2x1"
		    SrcPort		    1
		    DstBlock		    "Mux10"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Va/Vv1"
		    SrcPort		    1
		    DstBlock		    "Mux9"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux4"
		    SrcPort		    1
		    DstBlock		    "Qh2x,v"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "h_h2x"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qp2a,v5"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -15; 80, 0]
		    DstBlock		    "Mux4"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "h_h2x"
		    SrcPort		    1
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "veh spd"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Va/Vv"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 85]
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "Mux5"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Va/Vv1"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Va/Vv"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qi2c,c"
		    SrcPort		    1
		    Points		    [205, 0]
		    Branch {
		    DstBlock		    "Qfc_c"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Qi"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "fc_temp"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    Points		    [0, 50]
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    DstBlock		    "Qx2p,c"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    Labels		    [1, 0]
		    Points		    [0, 50]
		    Branch {
		    DstBlock		    "Qh2x,r"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    Branch {
		    DstBlock		    "Qp2a,v7"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50]
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "Qp2a,v6"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50]
		    DstBlock		    "Qh2a,r"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Qh2x,r1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "Qp2a,v5"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "Qx2i,c"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Qi2c,c"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Qx2i,c"
		    SrcPort		    1
		    Points		    [200, 0]
		    Branch {
		    DstBlock		    "Qi"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 35; 105, 0; 0, 65]
		    DstBlock		    "Qx"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Qi"
		    SrcPort		    1
		    DstBlock		    "Qfc_i"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qx"
		    SrcPort		    1
		    DstBlock		    "Qfc_x"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qh2x"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, -10]
		    DstBlock		    "Qx"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 155]
		    DstBlock		    "Qh"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Qh"
		    SrcPort		    1
		    DstBlock		    "Qfc_h"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux6"
		    SrcPort		    1
		    DstBlock		    "Qh2a,v"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux5"
		    SrcPort		    1
		    DstBlock		    "h_h2a"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qp2a,v6"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Mux5"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "Mux6"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "h_h2a"
		    SrcPort		    1
		    DstBlock		    "Mux6"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qx1"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Qx"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Qh2x,v"
		    SrcPort		    1
		    DstBlock		    "Qh2x"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qx2p,c"
		    SrcPort		    1
		    Points		    [255, 0]
		    DstBlock		    "Qh2x"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qh2x,r1"
		    SrcPort		    1
		    Points		    [30, 0]
		    DstBlock		    "Qx1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qh2x,v1"
		    SrcPort		    1
		    Points		    [105, 0]
		    DstBlock		    "Qx1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qh2a,r"
		    SrcPort		    1
		    Points		    [55, 0]
		    DstBlock		    "Qh"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Qh2a,v"
		    SrcPort		    1
		    DstBlock		    "Qh"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qh2x,r"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Qh2x"
		    DstPort		    3
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "old fc coolant \ntemp. (C)"
		  Ports			  [2, 1]
		  Position		  [150, 30, 180, 90]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "old fc coolant \ntemp. (C)"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "fc on?"
		    Position		    [45, 40, 65, 60]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "veh spd"
		    Position		    [45, 100, 65, 120]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [395, 150, 451, 190]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [167, 68]
		    Text		    "This block computes engine coolan"
"t temperature,\nassuming that it asymptotically approaches its maximum\ntempe"
"rature when the engine is on, and asymptotically\napproaches the ambient temp"
"erature when the engine\nis off.  Temperatue rise rate is assumed to be a fun"
"ction\nonly of current engine coolant temperature, and the fall\nrate is also"
" a function of vehicle speed and ambient temperature.\nThere is no dependence"
" on engine load or speed."
		    }
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [4, 1]
		    Position		    [210, 32, 240, 158]
		    ShowName		    off
		    Inputs		    "4"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "TEC"
		    Ports		    [1, 1]
		    Position		    [320, 85, 340, 105]
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    InitialCondition	    "fc_i_init_tmp"
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    ShowSaturationPort	    off
		    ShowStatePort	    off
		    AbsoluteTolerance	    "auto"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "compute\nengine dT/dt"
		    Position		    [270, 84, 300, 106]
		    Expr		    "1.1*u[1]*(-u[2]/218)*(95-u[4])+(1"
"-u[1])*u[3]*(u[4]-amb_tmp)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "gamma\n(takes v as input)"
		    Position		    [95, 99, 125, 121]
		    Expr		    "(-8.22e-5*u+8.09e-6*4-1.45e-4)*.4"
"5"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "log(1-40/75)"
		    Position		    [145, 69, 190, 91]
		    Value		    "-0.7621"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "fc coolant \ntemp (C)"
		    Position		    [410, 85, 430, 105]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "compute\nengine dT/dt"
		    SrcPort		    1
		    DstBlock		    "TEC"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gamma\n(takes v as input)"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "log(1-40/75)"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "compute\nengine dT/dt"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fc on?"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "veh spd"
		    SrcPort		    1
		    DstBlock		    "gamma\n(takes v as input)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "TEC"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "fc coolant \ntemp (C)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 80; -210, 0; 0, -35]
		    DstBlock		    "Mux"
		    DstPort		    4
		    }
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "Tfc_old\n (C)"
		  Position		  [500, 50, 520, 70]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Qfc r,h"
		  Position		  [505, 195, 525, 215]
		  NamePlacement		  "alternate"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Tfc\n (C)"
		  Position		  [510, 245, 530, 265]
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Qc"
		  SrcPort		  1
		  DstBlock		  "1/"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1/"
		  SrcPort		  1
		  DstBlock		  "Tcm"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Qfc (W)"
		  SrcPort		  1
		  DstBlock		  "Qc"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fc mass heat flow"
		  SrcPort		  1
		  Points		  [0, -20]
		  DstBlock		  "Qc"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Qc1"
		  SrcPort		  1
		  DstBlock		  "1/Ci"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1/Ci"
		  SrcPort		  1
		  DstBlock		  "Tcx1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Tcm"
		  SrcPort		  1
		  Points		  [0, 45]
		  DstBlock		  "Mux3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fc mass heat flow"
		  SrcPort		  2
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, 20]
		    DstBlock		    "Qc1"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, -10]
		    DstBlock		    "fc coolant"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "fc coolant"
		  SrcPort		  2
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 20]
		    DstBlock		    "Qc1"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Mux4"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "fc coolant"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "Qc1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux4"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Tcx1"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -55; -225, 0]
		    DstBlock		    "fc coolant"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux3"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "Qfc r,h"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1/Cx"
		  SrcPort		  1
		  DstBlock		  "Tcx"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fc mass heat flow"
		  SrcPort		  3
		  DstBlock		  "1/Cx"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "key ON?"
		  SrcPort		  1
		  DstBlock		  "fc coolant"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "Tcx"
		  SrcPort		  1
		  Points		  [165, 0; 0, 5]
		  DstBlock		  "Mux3"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Tm"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "Mux3"
		    DstPort		    4
		  }
		  Branch {
		    Points		    [0, -25]
		    DstBlock		    "Memory"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "1/mcp"
		  SrcPort		  1
		  DstBlock		  "Tm"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fc mass heat flow"
		  SrcPort		  4
		  DstBlock		  "1/mcp"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 115; -400, 0]
		    DstBlock		    "fc mass heat flow"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Tfc\n (C)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "old fc coolant \ntemp. (C)"
		  SrcPort		  1
		  DstBlock		  "Tfc_old\n (C)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "veh spd\n(m/s)"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "old fc coolant \ntemp. (C)"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "fc mass heat flow"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "fc ON?"
		  SrcPort		  1
		  DstBlock		  "old fc coolant \ntemp. (C)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  DstBlock		  "Goto"
		  DstPort		  1
		}
		Annotation {
		  Position		  [461, 318]
		  Text			  "h"
		}
		Annotation {
		  Position		  [458, 270]
		  Text			  "x"
		}
		Annotation {
		  Position		  [459, 221]
		  Text			  "i"
		}
		Annotation {
		  Position		  [459, 172]
		  Text			  "c"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "fc temp correct"
	      Ports		      [5, 2, 1]
	      Position		      [445, 174, 585, 276]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      on
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"fc temp correct"
		Location		[332, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"97"
		Block {
		  BlockType		  Inport
		  Name			  "Coolant T (C)"
		  Position		  [105, 110, 125, 130]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "HOT fuel use\n(g/s)"
		  Position		  [50, 145, 70, 165]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "HOT emis\n(g/s)"
		  Position		  [105, 180, 125, 200]
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "T (Nm)"
		  Position		  [50, 346, 85, 364]
		  Port			  "4"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "w (rad/s)"
		  Position		  [90, 366, 125, 384]
		  Port			  "5"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  Ports			  []
		  Position		  [424, 30, 456, 55]
		  StatesWhenEnabling	  "reset"
		  ShowOutputPort	  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "=1: use map based\n=0: use constant"
" equation based"
		  Position		  [85, 24, 145, 56]
		  Value			  "fc_cold"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [425, 125, 455, 155]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [435, 190, 465, 220]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fc temp correct\nConstant Correctio"
"n Factors\n(Equation Based)"
		  Ports			  [3, 2, 1]
		  Position		  [210, 105, 350, 205]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Coolant T (C)"
		    Position		    [65, 175, 85, 195]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT fuel use\n(g/s)"
		    Position		    [105, 30, 125, 50]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT emis\n(g/s)"
		    Position		    [105, 325, 125, 345]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [459, 210, 491, 235]
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [440, 125, 496, 165]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [177, 38]
		    Text		    "This block determines actual fuel"
" use and engine-out emissions\ngiven the fully hot values and the engine cool"
"ant temperature.\nThe correlations used here were developed at NREL using\nHo"
"t and Cold Engine data collected \nat Oak Ridge National Laboratory."
		    }
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "CO cold/hot"
		    Position		    [245, 174, 275, 196]
		    Expr		    "2.13*pow(u,4.26)+1"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "HC cold/hot"
		    Position		    [245, 124, 275, 146]
		    Expr		    "8.05*pow(u,9.46)+1"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [4, 1]
		    Position		    [320, 127, 330, 268]
		    Inputs		    "4"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "NOx cold/hot"
		    Position		    [245, 219, 275, 241]
		    Expr		    "0.51*pow(u,1.37)+1"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "PM cold/hot"
		    Position		    [245, 264, 275, 286]
		    Expr		    "5.14*pow(u,17.04)+1"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [390, 311, 415, 344]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [365, 33, 395, 57]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [195, 174, 205, 196]
		    ShowName		    off
		    UpperLimit		    "1"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "fuel cold/hot"
		    Position		    [245, 69, 275, 91]
		    Expr		    "0.1*pow(u,0.65)+1"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "lambda"
		    Position		    [145, 174, 175, 196]
		    Expr		    "(fc_tstat-u)/(fc_tstat-20)"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "fuel use\n(g/s)"
		    Position		    [460, 35, 480, 55]
		    Port		    "1"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "EO emis\n(g/s)"
		    Position		    [475, 320, 495, 340]
		    NamePlacement	    "alternate"
		    Port		    "2"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "PM cold/hot"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Mux"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "NOx cold/hot"
		    SrcPort		    1
		    Points		    [20, 0; 0, -15]
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "HC cold/hot"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "CO cold/hot"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -50]
		    Branch {
		    DstBlock		    "HC cold/hot"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -55]
		    DstBlock		    "fuel cold/hot"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    DstBlock		    "NOx cold/hot"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "PM cold/hot"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "lambda"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    Points		    [30, 0; 0, 120]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fuel cold/hot"
		    SrcPort		    1
		    Points		    [70, 0]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "EO emis\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "CO cold/hot"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "fuel use\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "HOT fuel use\n(g/s)"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Coolant T (C)"
		    SrcPort		    1
		    DstBlock		    "lambda"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "HOT emis\n(g/s)"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fc temp correct\nVariable Correctio"
"n Factors\n(Map Based)"
		  Ports			  [5, 2, 1]
		  Position		  [210, 284, 350, 386]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "82"
		    Block {
		    BlockType		    Inport
		    Name		    "Coolant T (C)"
		    Position		    [35, 25, 55, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT fuel use\n(g/s)"
		    Position		    [315, 65, 335, 85]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT emis\n(g/s)"
		    Position		    [325, 520, 345, 540]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "T (Nm)"
		    Position		    [30, 101, 65, 119]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w (rad/s)"
		    Position		    [30, 146, 65, 164]
		    Port		    "5"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [564, 230, 596, 255]
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "(Thot-Temp)\n--------------------"
"\n(Thot-Tcold)"
		    Position		    [105, 24, 135, 46]
		    Expr		    "(fc_tstat-u)/(fc_tstat-fc_cold_tm"
"p)"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "CO factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [190, 293, 220, 317]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_co_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "CO factor\ncold-to-hot"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "HC factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [190, 213, 220, 237]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_hc_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "HC factor\ncold-to-hot"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [275, 129, 280, 176]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [260, 189, 265, 236]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [2, 1]
		    Position		    [260, 269, 265, 316]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux4"
		    Ports		    [2, 1]
		    Position		    [260, 344, 265, 391]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux5"
		    Ports		    [2, 1]
		    Position		    [260, 419, 265, 466]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux6"
		    Ports		    [4, 1]
		    Position		    [455, 267, 465, 408]
		    Inputs		    "4"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "NOx factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [190, 368, 220, 392]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_nox_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "NOx factor\ncold-to-hot"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "PM factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [190, 443, 220, 467]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_pm_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "PM factor\ncold-to-hot"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [520, 331, 545, 364]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [520, 68, 550, 92]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [90, 98, 105, 122]
		    ShowName		    off
		    UpperLimit		    "max(fc_map_trq*fc_trq_scale)"
		    LowerLimit		    "min(fc_map_trq*fc_trq_scale)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    Position		    [90, 143, 105, 167]
		    ShowName		    off
		    UpperLimit		    "max(fc_map_spd*fc_spd_scale)"
		    LowerLimit		    "min(fc_map_spd*fc_spd_scale)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio"
		    Position		    [325, 144, 355, 166]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio1"
		    Position		    [325, 214, 355, 236]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio2"
		    Position		    [325, 284, 355, 306]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio3"
		    Position		    [325, 359, 355, 381]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio4"
		    Position		    [320, 434, 350, 456]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "fuel factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [195, 147, 220, 178]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_fuel_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "fuel factor\ncold-to-hot"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "limit to\ndata\nlimits"
		    Position		    [210, 23, 230, 47]
		    UpperLimit		    "1"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "fuel use\n(g/s)"
		    Position		    [585, 70, 605, 90]
		    Port		    "1"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "EO emis\n(g/s)"
		    Position		    [590, 340, 610, 360]
		    Port		    "2"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio4"
		    SrcPort		    1
		    Points		    [60, 0; 0, -55]
		    DstBlock		    "Mux6"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio3"
		    SrcPort		    1
		    Points		    [50, 0; 0, -15]
		    DstBlock		    "Mux6"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio2"
		    SrcPort		    1
		    Points		    [45, 0; 0, 25]
		    DstBlock		    "Mux6"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio1"
		    SrcPort		    1
		    Points		    [45, 0; 0, 60]
		    DstBlock		    "Mux6"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio"
		    SrcPort		    1
		    Points		    [15, 0; 0, -40; 125, 0; 0, -30]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "limit to\ndata\nlimits"
		    SrcPort		    1
		    Points		    [10, 0; 0, 105]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    DstBlock		    "Mux5"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "(Thot-Temp)\n--------------------"
"\n(Thot-Tcold)"
		    SrcPort		    1
		    DstBlock		    "limit to\ndata\nlimits"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux6"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "T (Nm)"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "HOT emis\n(g/s)"
		    SrcPort		    1
		    Points		    [155, 0]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "EO emis\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "fuel use\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux5"
		    SrcPort		    1
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux4"
		    SrcPort		    1
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    Points		    [40, 0]
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "PM factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux5"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "NOx factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "CO factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "HC factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fuel factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Coolant T (C)"
		    SrcPort		    1
		    DstBlock		    "(Thot-Temp)\n--------------------"
"\n(Thot-Tcold)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [55, 0; 0, 60]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    Points		    [0, 75]
		    DstBlock		    "PM factor\ncold-to-hot"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "NOx factor\ncold-to-hot"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "CO factor\ncold-to-hot"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "HC factor\ncold-to-hot"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "fuel factor\ncold-to-hot"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    Points		    [0, 75]
		    DstBlock		    "PM factor\ncold-to-hot"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "NOx factor\ncold-to-hot"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "CO factor\ncold-to-hot"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "HC factor\ncold-to-hot"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "fuel factor\ncold-to-hot"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "HOT fuel use\n(g/s)"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Logic
		  Name			  "fc_cold=0"
		  Ports			  [1, 1]
		  Position		  [240, 24, 270, 56]
		  Operator		  "NOT"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Outport
		  Name			  "fuel use\n(g/s)"
		  Position		  [495, 130, 515, 150]
		  Port			  "1"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "EO emis\n(g/s)"
		  Position		  [495, 195, 515, 215]
		  Port			  "2"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "=1: use map based\n=0: use constant"
" equation based"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "fc_cold=0"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 215; 100, 0]
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    enable
		  }
		}
		Line {
		  SrcBlock		  "Coolant T (C)"
		  SrcPort		  1
		  Points		  [45, 0]
		  Branch {
		    DstBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 175]
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "HOT fuel use\n(g/s)"
		  SrcPort		  1
		  Points		  [95, 0]
		  Branch {
		    DstBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 160]
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "HOT emis\n(g/s)"
		  SrcPort		  1
		  Points		  [35, 0]
		  Branch {
		    DstBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, 145]
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "fc temp correct\nConstant Correctio"
"n Factors\n(Equation Based)"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fc_cold=0"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    DstPort		    enable
		  }
		  Branch {
		    Points		    [95, 0; 0, 100]
		    Branch {
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "fc temp correct\nVariable Correctio"
"n Factors\n(Map Based)"
		  SrcPort		  1
		  Points		  [55, 0]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "fc temp correct\nConstant Correctio"
"n Factors\n(Equation Based)"
		  SrcPort		  2
		  Points		  [65, 0]
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fc temp correct\nVariable Correctio"
"n Factors\n(Map Based)"
		  SrcPort		  2
		  Points		  [65, 0]
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "fuel use\n(g/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "EO emis\n(g/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "T (Nm)"
		  SrcPort		  1
		  DstBlock		  "fc temp correct\nVariable Correctio"
"n Factors\n(Map Based)"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "w (rad/s)"
		  SrcPort		  1
		  DstBlock		  "fc temp correct\nVariable Correctio"
"n Factors\n(Map Based)"
		  DstPort		  5
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "cumulative fuel \nuse (gal)"
	      Position		      [700, 185, 720, 205]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
	      Position		      [795, 280, 815, 300]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Vv,Tfc"
	      Position		      [775, 65, 795, 85]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "From <vc>"
	      SrcPort		      1
	      DstBlock		      "fc temp"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From <vc> "
	      SrcPort		      1
	      Points		      [50, 0]
	      Branch {
		Points			[60, 0]
		Branch {
		  Points		  [0, -60]
		  DstBlock		  "fc temp"
		  DstPort		  3
		}
		Branch {
		  Points		  [265, 0]
		  Branch {
		    DstBlock		    "fc temp correct"
		    DstPort		    enable
		  }
		  Branch {
		    Points		    [235, 0]
		    DstBlock		    "Mux4"
		    DstPort		    1
		  }
		}
	      }
	      Branch {
		DstBlock		"HOT engine maps"
		DstPort			enable
	      }
	    }
	    Line {
	      SrcBlock		      "fc temp correct"
	      SrcPort		      2
	      Points		      [0, -5; 20, 0]
	      Branch {
		Points			[140, 0]
		DstBlock		"Mux4"
		DstPort			2
	      }
	      Branch {
		DstBlock		"enhancedToWorkspace8"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      Points		      [5, 0]
	      DstBlock		      "enhancedToWorkspace5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "enhancedToWorkspace3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fc temp"
	      SrcPort		      2
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "HOT engine maps"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		DstBlock		"fc temp"
		DstPort			4
	      }
	      Branch {
		Points			[30, 0]
		DstBlock		"enhancedToWorkspace1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Selector3"
	      SrcPort		      1
	      Points		      [0, 35]
	      Branch {
		DstBlock		"fc temp correct"
		DstPort			1
	      }
	      Branch {
		Points			[0, 0]
		Branch {
		  Points		  [0, 20]
		  DstBlock		  "Goto"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "enhancedToWorkspace12"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "HOT engine maps"
	      SrcPort		      7
	      DstBlock		      "enhancedToWorkspace11"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fc temp"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fc temp"
	      SrcPort		      3
	      Points		      [20, 0]
	      Branch {
		Labels			[1, 0]
		Points			[40, 0]
		Branch {
		  Points		  [260, 0]
		  DstBlock		  "Mux5"
		  DstPort		  2
		}
		Branch {
		  Points		  [0, 15]
		  DstBlock		  "enhancedToWorkspace6"
		  DstPort		  1
		}
	      }
	      Branch {
		DstBlock		"Selector3"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "HOT engine maps"
	      SrcPort		      3
	      Points		      [125, 0; 0, -30]
	      DstBlock		      "fc temp correct"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "HOT engine maps"
	      SrcPort		      2
	      Points		      [170, 0]
	      DstBlock		      "fc temp correct"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "(gal/s)"
	      SrcPort		      1
	      DstBlock		      "Integrator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Integrator"
	      SrcPort		      1
	      DstBlock		      "cumulative fuel \nuse (gal)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "HOT engine maps"
	      SrcPort		      5
	      Points		      [340, 0]
	      Branch {
		DstBlock		"Mux4"
		DstPort			4
	      }
	      Branch {
		Points			[0, 15]
		DstBlock		"enhancedToWorkspace10"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "HOT engine maps"
	      SrcPort		      4
	      Points		      [350, 0]
	      Branch {
		DstBlock		"Mux4"
		DstPort			3
	      }
	      Branch {
		DstBlock		"enhancedToWorkspace9"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "From <veh>\n(m/s)"
	      SrcPort		      1
	      Points		      [55, 0; 0, 5; 110, 0]
	      Branch {
		DstBlock		"fc temp"
		DstPort			1
	      }
	      Branch {
		Points			[0, -20; 480, 0]
		DstBlock		"Mux5"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Mux5"
	      SrcPort		      1
	      DstBlock		      "Vv,Tfc"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mux4"
	      SrcPort		      1
	      DstBlock		      "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "w (rad/s)"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		Points			[0, 130; 365, 0]
		DstBlock		"fc temp correct"
		DstPort			5
	      }
	      Branch {
		Points			[45, 0]
		DstBlock		"HOT engine maps"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "T (Nm)"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		Points			[0, 220; 330, 0; 0, -195]
		DstBlock		"fc temp correct"
		DstPort			4
	      }
	      Branch {
		Points			[35, 0]
		DstBlock		"HOT engine maps"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "HOT engine maps"
	      SrcPort		      6
	      Points		      [345, 0]
	      Branch {
		DstBlock		"Mux4"
		DstPort			5
	      }
	      Branch {
		DstBlock		"enhancedToWorkspace2"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "fc temp correct"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		DstBlock		"(gal/s)"
		DstPort			1
	      }
	      Branch {
		DstBlock		"enhancedToWorkspace7"
		DstPort			1
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "fuel use and EO emis Configurable Subsystem"
	  Ports			  [2, 3]
	  Position		  [130, 299, 295, 381]
	  BackgroundColor	  "lightBlue"
	  ShowPortLabels	  on
	  BlockChoice		  "fuel use and EO emis"
	  TemplateBlock		  "self"
	  MemberBlocks		  "fuel use and EO emis,fuel use and EO emis N"
"eural Network Model"
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "fuel use and EO emis Configurable Subsyst"
"em"
	    Location		    [148, 182, 646, 482]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "T (Nm)"
	      Position		      [20, 40, 40, 60]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "w (rad/s)"
	      Position		      [20, 80, 40, 100]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "fuel use and EO emis"
	      Ports		      [2, 3]
	      Position		      [100, 40, 140, 80]
	      BackgroundColor	      "lightBlue"
	      SourceBlock	      "lib_fuel_converter3/configurable subsys"
"tems/fuel use and EO emis"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      "on"
	      TreatAsAtomicUnit	      "off"
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "cumulative fuel \nuse (gal)"
	      Position		      [200, 40, 220, 60]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
	      Position		      [200, 80, 220, 100]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Vv,Tfc"
	      Position		      [200, 120, 220, 140]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "T (Nm)"
	      SrcPort		      1
	      DstBlock		      "fuel use and EO emis"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "w (rad/s)"
	      SrcPort		      1
	      Points		      [20, 0; 0, -20]
	      DstBlock		      "fuel use and EO emis"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "fuel use and EO emis"
	      SrcPort		      1
	      Points		      [20, 0; 0, 5]
	      DstBlock		      "cumulative fuel \nuse (gal)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fuel use and EO emis"
	      SrcPort		      2
	      Points		      [20, 0; 0, 30]
	      DstBlock		      "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fuel use and EO emis"
	      SrcPort		      3
	      Points		      [10, 0; 0, 55]
	      DstBlock		      "Vv,Tfc"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "fuel use and EO emis Neural Network Model"
	  Ports			  [2, 3]
	  Position		  [130, 46, 290, 124]
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDescription	  "Neural Network Model for Engine Fuel and Em"
"issions Prediction"
	  MaskHelp		  "<h1>Neural Network Emissions Block Help</h1"
">\n<h2>Introduction</h2>\n<p>The neural network model takes engine shaft spee"
"d and torque and their time derivatives at 5 seconds and 10 seconds and predi"
"cts CO, CO2, and NOx emissions in g/s. Inputs to the model are speed (rpm) an"
"d torque (Nm). Outputs are CO, CO2, and NOx emissions in g/s.</p>\n\n<p>There"
" are neural network models trained for two engines thus far:</p>\n<ol>\n<li>1"
"999 Cummins ISM 370</li>\n<li>1994 Navistar T 444E</li>\n</ol>\n<p>In order t"
"o access the neural net models, one must type a string into the mask input sc"
"reen. That string corresponds to:</p>\n\n<table border=1>\n<tr><td>Name</td><"
"td>Engine</td></tr>\n<tr><td>'1999CumminsISM370'</td><td>Cummins ISM 370</td>"
"</tr>\n<tr><td>'1994NavistarT444E'</td><td>Navistar T 444E</td></tr>\n</table"
">"
	  MaskPromptString	  "model no. (see help for specs)"
	  MaskStyleString	  "edit"
	  MaskTunableValueString  "on"
	  MaskEnableString	  "on"
	  MaskVisibilityString	  "on"
	  MaskToolTipString	  "on"
	  MaskVariables		  "modelName=@1;"
	  MaskInitialization	  "if strcmp(modelName,'1999CumminsISM370')\n "
"    modelNum=0;\n     disp('Neural Net Model: 1999CumminsISM370')\nelseif str"
"cmp(modelName,'1994NavistarT444E')\n     modelNum=1;\n     disp('Neural Net M"
"odel: 1994NavistarT444E')\nelse\n     modelNum=-1;\n     disp('Neural Net Mod"
"el: Invalid Setting!')\n     disp('check value of fc_nn_model_name')\nend"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "fc_nn_model_name"
	  System {
	    Name		    "fuel use and EO emis Neural Network Model"
	    Location		    [209, 104, 873, 771]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "darkGreen"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "250"
	    Block {
	      BlockType		      Inport
	      Name		      "T (Nm)"
	      Position		      [30, 195, 50, 215]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "w (rad/s)"
	      Position		      [30, 270, 50, 290]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "(g/s) to\n(gal/s)"
	      Position		      [650, 97, 685, 123]
	      Gain		      "1/fc_fuel_den*61.02/231"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 2]
	      Position		      [370, 821, 375, 854]
	      ShowName		      off
	      Outputs		      "2"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux1"
	      Ports		      [1, 3]
	      Position		      [295, 632, 300, 738]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "3"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux2"
	      Ports		      [1, 4]
	      Position		      [875, 630, 880, 790]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "4"
	      BusSelectionMode	      off
	      Port {
		PortNumber		1
		Name			"HC"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		2
		Name			"CO"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		3
		Name			"NOx"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		4
		Name			"PM"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From"
	      Position		      [15, 687, 110, 713]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Torque_Nm"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>"
	      Position		      [15, 821, 80, 839]
	      ForegroundColor	      "yellow"
	      BackgroundColor	      "darkGreen"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "key_on"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc> "
	      Position		      [250, 15, 320, 35]
	      ForegroundColor	      "yellow"
	      BackgroundColor	      "darkGreen"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "engine_on"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc> 1"
	      Position		      [605, 595, 675, 615]
	      ForegroundColor	      "yellow"
	      BackgroundColor	      "darkGreen"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "engine_on"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc> 2"
	      Position		      [15, 860, 85, 880]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_th_pwr"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc> 3"
	      Position		      [15, 840, 85, 860]
	      ForegroundColor	      "yellow"
	      BackgroundColor	      "darkGreen"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "engine_on"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc> 4"
	      Position		      [520, 100, 615, 120]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_fuel_gps"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc> 5"
	      Position		      [605, 150, 675, 170]
	      ForegroundColor	      "yellow"
	      BackgroundColor	      "darkGreen"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "engine_on"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc> 6"
	      Position		      [605, 185, 675, 205]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_eo_emis"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>\n(m/s)"
	      Position		      [15, 801, 70, 819]
	      ForegroundColor	      "yellow"
	      BackgroundColor	      "darkGreen"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "v_prev"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>\n(m/s)1"
	      Position		      [640, 341, 695, 359]
	      ForegroundColor	      "yellow"
	      BackgroundColor	      "darkGreen"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "v_prev"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>\n(m/s)2"
	      Position		      [15, 46, 70, 64]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_tmp"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>\n(m/s)3"
	      Position		      [450, 236, 550, 254]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_ex_gas_flow"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>\n(m/s)4"
	      Position		      [450, 271, 550, 289]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_ex_gas_tmp"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>\n(m/s)5"
	      Position		      [450, 306, 550, 324]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_o2_flow"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>\n(m/s)6"
	      Position		      [110, 96, 210, 114]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_hot_emis"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>\n(m/s)7"
	      Position		      [640, 396, 695, 414]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_tmp"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>\n(m/s)8"
	      Position		      [25, 72, 145, 88]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_hot_fuel_gps"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      Position		      [15, 581, 110, 609]
	      BackgroundColor	      "magenta"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Speed_rpm"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From10"
	      Position		      [505, 792, 600, 818]
	      BackgroundColor	      "magenta"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Speed_radps"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From11"
	      Position		      [505, 672, 600, 698]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Torque_Nm"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From12"
	      Position		      [110, 144, 205, 166]
	      BackgroundColor	      "magenta"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Speed_radps"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From13"
	      Position		      [110, 119, 205, 141]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Torque_Nm"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From14"
	      Position		      [940, 675, 1035, 705]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "nn_CO"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From15"
	      Position		      [940, 716, 1035, 744]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "nn_NOx"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From16"
	      Position		      [365, 420, 445, 440]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Torque_Nm"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From17"
	      Position		      [365, 440, 445, 460]
	      BackgroundColor	      "magenta"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Speed_radps"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From18"
	      Position		      [350, 505, 435, 525]
	      ForegroundColor	      "white"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_pwr_W"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From19"
	      Position		      [350, 485, 430, 505]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "nn_CO2"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From2"
	      Position		      [15, 720, 110, 750]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "dT_dt_05sec"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From20"
	      Position		      [350, 544, 455, 566]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_ex_gas_tmp"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From21"
	      Position		      [350, 526, 455, 544]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_ex_gas_flow"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From22"
	      Position		      [830, 100, 925, 130]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "nn_CO"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From23"
	      Position		      [830, 141, 925, 169]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "nn_NOx"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From24"
	      Position		      [830, 70, 910, 90]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "nn_CO2"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From3"
	      Position		      [15, 756, 110, 784]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "dT_dt_10sec"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From4"
	      Position		      [15, 615, 110, 645]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "dS_dt_05sec"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From5"
	      Position		      [15, 650, 110, 680]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "dS_dt_10sec"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From6"
	      Position		      [25, 336, 105, 364]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Torque_Nm"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From7"
	      Position		      [25, 396, 105, 424]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Torque_Nm"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From8"
	      Position		      [25, 456, 105, 484]
	      BackgroundColor	      "magenta"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Speed_rpm"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From9"
	      Position		      [25, 516, 105, 544]
	      BackgroundColor	      "magenta"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Speed_rpm"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      Position		      [170, 25, 240, 45]
	      ForegroundColor	      "yellow"
	      BackgroundColor	      "darkGreen"
	      ShowName		      off
	      GotoTag		      "fc_clt_tmp"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [190, 265, 265, 295]
	      BackgroundColor	      "magenta"
	      ShowName		      off
	      GotoTag		      "Speed_rpm"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto10"
	      Position		      [335, 670, 425, 700]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      GotoTag		      "nn_CO2"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto11"
	      Position		      [695, 444, 770, 466]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      GotoTag		      "fc_th_pwr"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto12"
	      Position		      [390, 856, 465, 874]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      GotoTag		      "fc_tmp"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto13"
	      Position		      [770, 805, 870, 825]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      GotoTag		      "fc_o2_flow"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto14"
	      Position		      [770, 769, 870, 791]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      GotoTag		      "fc_ex_gas_tmp"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto15"
	      Position		      [765, 734, 870, 756]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      GotoTag		      "fc_ex_gas_flow"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto16"
	      Position		      [1080, 700, 1180, 720]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      GotoTag		      "fc_hot_emis"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto17"
	      Position		      [660, 514, 775, 536]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      GotoTag		      "fc_hot_fuel_gps"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto18"
	      Position		      [445, 60, 535, 90]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      GotoTag		      "fc_fuel_gps"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto19"
	      Position		      [515, 429, 605, 451]
	      ForegroundColor	      "white"
	      BackgroundColor	      "black"
	      ShowName		      off
	      GotoTag		      "fc_pwr_W"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      Position		      [190, 190, 265, 220]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "Torque_Nm"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto20"
	      Position		      [445, 155, 535, 175]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      GotoTag		      "fc_eo_emis"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto3"
	      Position		      [260, 455, 345, 485]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      GotoTag		      "dS_dt_05sec"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto4"
	      Position		      [260, 335, 350, 365]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      GotoTag		      "dT_dt_05sec"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto5"
	      Position		      [260, 515, 345, 545]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      GotoTag		      "dS_dt_10sec"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto6"
	      Position		      [260, 395, 350, 425]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      GotoTag		      "dT_dt_10sec"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto7"
	      Position		      [190, 225, 265, 255]
	      BackgroundColor	      "magenta"
	      ShowName		      off
	      GotoTag		      "Speed_radps"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto8"
	      Position		      [335, 704, 425, 736]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      GotoTag		      "nn_NOx"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto9"
	      Position		      [335, 635, 425, 665]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      GotoTag		      "nn_CO"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "HOT engine maps"
	      Ports		      [2, 7, 1]
	      Position		      [615, 623, 745, 867]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      on
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"HOT engine maps"
		Location		[202, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "T (Nm)"
		  Position		  [25, 81, 60, 99]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "w (rad/s)"
		  Position		  [25, 126, 60, 144]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  Ports			  []
		  Position		  [44, 440, 76, 465]
		  StatesWhenEnabling	  "reset"
		  ShowOutputPort	  off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [35, 560, 91, 600]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [317, 43]
		    Text		    "This block determines the fully h"
"ot fuel use, engine-out emissions output rates, exhaust gas mass flow rate, "
"\nand engine-out exhaust gas temperature as a function of engine output torqu"
"e and speed.  \nThe engine maps (except for exhaust gas temperature) can be s"
"caled using variables fc_spd_scale and\n fc_trq_scale; it is recommended that"
" scaling values outside the range of 0.85 to 1.15 be used CAREFULLY."
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "CO\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 73, 220, 97]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_co_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "CO\n(g/s)"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn3"
		  Position		  [270, 496, 295, 514]
		  ShowName		  off
		  Expr			  "(u(1)/1000)*ex_gas_cp*(u(2) - amb_t"
"mp)"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "HC\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 13, 220, 37]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_hc_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "HC\n(g/s)"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "MF,ex\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 243, 220, 267]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_exflow_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "MF,ex\n(g/s)"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax"
		  Ports			  [2, 1]
		  Position		  [315, 500, 340, 520]
		  ShowName		  off
		  Function		  "min"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [4, 1]
		  Position		  [285, 52, 290, 168]
		  Inputs		  "4"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  Ports			  [2, 1]
		  Position		  [250, 486, 255, 519]
		  ShowName		  off
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "NOx\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 128, 220, 152]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_nox_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "NOx\n(g/s)"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "O2\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 358, 220, 382]
		  ForegroundColor	  "magenta"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_o2_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "O2\n(g/s)"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "PM\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 183, 220, 207]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_pm_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "PM\n(g/s)"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [85, 105, 100, 125]
		  ShowName		  off
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  Position		  [125, 78, 140, 102]
		  ShowName		  off
		  UpperLimit		  "max(fc_map_trq*fc_trq_scale)"
		  LowerLimit		  "min(fc_map_trq*fc_trq_scale)"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation1"
		  Position		  [125, 123, 140, 147]
		  ShowName		  off
		  UpperLimit		  "max(fc_map_spd*fc_spd_scale)"
		  LowerLimit		  "min(fc_map_spd*fc_spd_scale)"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum5"
		  Ports			  [2, 1]
		  Position		  [360, 499, 370, 546]
		  ShowName		  off
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum6"
		  Ports			  [2, 1]
		  Position		  [280, 526, 290, 559]
		  ShowName		  off
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Tex,eo\n(C)"
		  Ports			  [2, 1]
		  Position		  [190, 298, 220, 322]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_extmp_map"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "Tex,eo\n(C)"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fuel\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [185, 557, 210, 588]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_fuel_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "fuel\n(g/s)"
		    Location		    [332, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "lhv"
		  Position		  [235, 540, 255, 560]
		  Gain			  "fc_fuel_lhv"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "fc heat\n(W)"
		  Position		  [400, 515, 420, 535]
		  Port			  "1"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Block {
		  BlockType		  Outport
		  Name			  "HOT fuel use\n(g/s)"
		  Position		  [360, 565, 380, 585]
		  Port			  "2"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Block {
		  BlockType		  Outport
		  Name			  "HOT emis\n(g/s)"
		  Position		  [330, 100, 350, 120]
		  Port			  "3"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Ex Gas Flow\n(g/s)"
		  Position		  [325, 245, 345, 265]
		  Port			  "4"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Ex Gas Temp\n(C)"
		  Position		  [325, 300, 345, 320]
		  Port			  "5"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "amb_tmp"
		}
		Block {
		  BlockType		  Outport
		  Name			  "O2 exhaust\n(g/s)"
		  Position		  [325, 360, 345, 380]
		  ForegroundColor	  "magenta"
		  Port			  "6"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "ex heat\n(W)"
		  Position		  [400, 470, 420, 490]
		  NamePlacement		  "alternate"
		  Port			  "7"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Line {
		  SrcBlock		  "PM\n(g/s)"
		  SrcPort		  1
		  Points		  [45, 0]
		  DstBlock		  "Mux"
		  DstPort		  4
		}
		Line {
		  Labels		  [1, 0]
		  SrcBlock		  "HC\n(g/s)"
		  SrcPort		  1
		  Points		  [45, 0]
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "CO\n(g/s)"
		  SrcPort		  1
		  Points		  [25, 0; 0, 10]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "NOx\n(g/s)"
		  SrcPort		  1
		  Points		  [25, 0; 0, -15]
		  DstBlock		  "Mux"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "HOT emis\n(g/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "MF,ex\n(g/s)"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Ex Gas Flow\n(g/s)"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux4"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Tex,eo\n(C)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Ex Gas Temp\n(C)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 200]
		    DstBlock		    "Mux4"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Saturation1"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    DstBlock		    "NOx\n(g/s)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "MF,ex\n(g/s)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "Tex,eo\n(C)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "fuel\n(g/s)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "O2\n(g/s)"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "PM\n(g/s)"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, -55]
		    Branch {
		    DstBlock		    "CO\n(g/s)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -60]
		    DstBlock		    "HC\n(g/s)"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "CO\n(g/s)"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "MF,ex\n(g/s)"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "Tex,eo\n(C)"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    Points		    [0, 205]
		    DstBlock		    "fuel\n(g/s)"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "O2\n(g/s)"
		    DstPort		    2
		    }
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "PM\n(g/s)"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "NOx\n(g/s)"
		    DstPort		    2
		    }
		  }
		  Branch {
		    Points		    [0, -60]
		    DstBlock		    "HC\n(g/s)"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "T (Nm)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Saturation"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "w (rad/s)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Saturation1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "Fcn3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum5"
		  SrcPort		  1
		  DstBlock		  "fc heat\n(W)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Fcn3"
		  SrcPort		  1
		  DstBlock		  "MinMax"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "MinMax"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Sum5"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -30]
		    DstBlock		    "ex heat\n(W)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum6"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [45, 0]
		    DstBlock		    "Sum5"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "MinMax"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [0, 420]
		  DstBlock		  "Sum6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fuel\n(g/s)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "HOT fuel use\n(g/s)"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "lhv"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "lhv"
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "O2\n(g/s)"
		  SrcPort		  1
		  DstBlock		  "O2 exhaust\n(g/s)"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Integrator
	      Name		      "Integrator"
	      Ports		      [1, 1]
	      Position		      [710, 100, 730, 120]
	      ShowName		      off
	      ExternalReset	      "none"
	      InitialConditionSource  "internal"
	      InitialCondition	      "0"
	      LimitOutput	      off
	      UpperSaturationLimit    "inf"
	      LowerSaturationLimit    "-inf"
	      ShowSaturationPort      off
	      ShowStatePort	      off
	      AbsoluteTolerance	      "auto"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [6, 1]
	      Position		      [170, 575, 175, 790]
	      ShowName		      off
	      Inputs		      "6"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux1"
	      Ports		      [4, 1]
	      Position		      [1055, 630, 1060, 790]
	      ShowName		      off
	      Inputs		      "4"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux4"
	      Ports		      [5, 1]
	      Position		      [725, 136, 730, 324]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      FontName		      "Arial"
	      Inputs		      "[1 4 1 1 1]"
	      DisplayOption	      "none"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux5"
	      Ports		      [2, 1]
	      Position		      [740, 321, 745, 434]
	      ShowName		      off
	      FontName		      "Arial"
	      Inputs		      "[1 4 ]"
	      DisplayOption	      "none"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [465, 421, 495, 459]
	      ShowName		      off
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      "S-Function"
	      Name		      "S-Function"
	      Ports		      [1, 1]
	      Position		      [195, 670, 270, 700]
	      FunctionName	      "sfunNNemis"
	      Parameters	      "modelNum"
	      PortCounts	      "[]"
	      SFunctionModules	      "''"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector3"
	      Ports		      [1, 1]
	      Position		      [100, 45, 150, 65]
	      ShowName		      off
	      InputType		      "Vector"
	      ElementSrc	      "Internal"
	      Elements		      "2"
	      RowSrc		      "Internal"
	      Rows		      "1"
	      ColumnSrc		      "Internal"
	      Columns		      "1"
	      InputPortWidth	      "4"
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [280, 805, 300, 825]
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator1"
	      Position		      [770, 665, 790, 685]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator2"
	      Position		      [915, 680, 935, 700]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator3"
	      Position		      [915, 720, 935, 740]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator4"
	      Position		      [770, 630, 790, 650]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator5"
	      Position		      [765, 840, 785, 860]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "du/dt at 10 seconds\nSpeed"
	      Ports		      [1, 1]
	      Position		      [150, 514, 210, 546]
	      SourceBlock	      "lib_etc/du//dt at N seconds"
	      SourceType	      "Unknown"
	      delay		      "10"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "du/dt at 10 seconds\nTorque"
	      Ports		      [1, 1]
	      Position		      [150, 394, 210, 426]
	      SourceBlock	      "lib_etc/du//dt at N seconds"
	      SourceType	      "Unknown"
	      delay		      "10"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "du/dt at 5 seconds\nSpeed"
	      Ports		      [1, 1]
	      Position		      [150, 454, 210, 486]
	      SourceBlock	      "lib_etc/du//dt at N seconds"
	      SourceType	      "Unknown"
	      delay		      "5"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "du/dt at 5 seconds\nTorque"
	      Ports		      [1, 1]
	      Position		      [150, 334, 210, 366]
	      SourceBlock	      "lib_etc/du//dt at N seconds"
	      SourceType	      "Unknown"
	      delay		      "5"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace1"
	      Ports		      [1]
	      Position		      [325, 877, 420, 893]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|tmp|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace1"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace12"
	      Ports		      [1]
	      Position		      [400, 837, 495, 853]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|h_th_pwr|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace12"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace13"
	      Ports		      [1]
	      Position		      [650, 72, 745, 88]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|fuel_rate|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace13"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace14"
	      Ports		      [1]
	      Position		      [400, 822, 495, 838]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|r_th_pwr|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace14"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace15"
	      Ports		      [1]
	      Position		      [980, 72, 1075, 88]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|nn_CO2|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace15"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace16"
	      Ports		      [1]
	      Position		      [170, 58, 235, 72]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|clt_tmp|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace16"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace17"
	      Ports		      [1]
	      Position		      [980, 107, 1075, 123]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|nn_CO|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace17"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace18"
	      Ports		      [1]
	      Position		      [980, 147, 1075, 163]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|nn_NOx|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace18"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace2"
	      Ports		      [1]
	      Position		      [585, 237, 680, 253]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|ex_gas_flow|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace2"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace3"
	      Ports		      [1]
	      Position		      [440, 132, 535, 148]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|emis_eo|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace3"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace5"
	      Ports		      [1]
	      Position		      [675, 472, 770, 488]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|th_pwr|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace5"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace6"
	      Ports		      [1]
	      Position		      [585, 307, 680, 323]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|o2_flow|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace6"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace7"
	      Ports		      [1]
	      Position		      [585, 272, 680, 288]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|ex_gas_tmp|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace7"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace8"
	      Ports		      [1]
	      Position		      [1085, 727, 1180, 743]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|hotemis_eo|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace8"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enhancedToWorkspace9"
	      Ports		      [1]
	      Position		      [680, 537, 775, 553]
	      ShowName		      off
	      CopyFcn		      "breakLinkCopyFcn"
	      FontSize		      8
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "enhancedToWorkspace"
	      MaskDescription	      "A wrapper for the Simulink \"To Workspa"
"ce\" block that allows you to evaluate the name of the variable to log to wor"
"kspace. This is useful to avoid the double logging errors that occur when you"
" pull in two library models that attempt to log to the same variable."
	      MaskPromptString	      "General Name [char-evaluated]|Specific "
"Name [char-literal]|Enable flag (1=on,0=off)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "generalName=@1;specificName=&2;logFlag="
"@3;"
	      MaskInitialization      "enhancedToWsMaker"
	      MaskDisplay	      "disp([generalName,'_',specificName])"
	      MaskSelfModifiable      on
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "generalName|ex_th_pwr|logFlag"
	      MaskVariableAliases     ",,"
	      System {
		Name			"enhancedToWorkspace9"
		Location		[453, 361, 913, 631]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [65, 93, 95, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [145, 85, 205, 115]
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "fc temp"
	      Ports		      [4, 3]
	      Position		      [120, 802, 245, 878]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"fc temp"
		Location		[71, 90, 643, 486]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "veh spd\n(m/s)"
		  Position		  [30, 65, 50, 85]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "key ON?"
		  Position		  [255, 150, 275, 170]
		  Orientation		  "down"
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "fc ON?"
		  Position		  [30, 35, 50, 55]
		  NamePlacement		  "alternate"
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "Qfc (W)"
		  Position		  [310, 115, 330, 135]
		  NamePlacement		  "alternate"
		  Port			  "4"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Gain
		  Name			  "1/"
		  Position		  [385, 123, 410, 147]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "1/(0.2*fc_base_mass*fc_pwr_scale*fc"
"_cp)"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "1/Ci"
		  Position		  [370, 219, 390, 241]
		  ShowName		  off
		  Gain			  "1/(0.8*fc_base_mass*fc_pwr_scale*fc"
"_cp)"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "1/Cx"
		  Position		  [220, 262, 245, 288]
		  ShowName		  off
		  Gain			  "1/(fc_acc_mass*fc_pwr_scale*fc_cp)"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "1/mcp"
		  Position		  [220, 317, 245, 343]
		  Gain			  "1/(0.1*veh_glider_mass*fc_pwr_scale"
"*fc_h_cp)"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [495, 330, 551, 370]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [505, 510, 924, 573]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [207, 33]
		    Text		    "This block models the thermal beh"
"avior internal combustion engine (ICE).  \nEmphasis is on the coolant since t"
"his temperature is used to correct engine\nfuel use."
		    }
		  }
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  Position		  [375, 288, 460, 312]
		  GotoTag		  "fc_hood_temp"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [315, 285, 345, 315]
		  X0			  "fc_h_init_tmp"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [4, 1]
		  Position		  [470, 151, 475, 359]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Inputs		  "4"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  Ports			  [2, 1]
		  Position		  [390, 188, 395, 217]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Qc"
		  Ports			  [2, 1]
		  Position		  [355, 114, 365, 156]
		  ShowName		  off
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Qc1"
		  Ports			  [3, 1]
		  Position		  [350, 214, 360, 246]
		  ShowName		  off
		  IconShape		  "rectangular"
		  Inputs		  "--+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Tcm"
		  Ports			  [1, 1]
		  Position		  [425, 125, 445, 145]
		  ShowName		  off
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "fc_c_init_tmp"
		  LimitOutput		  off
		  UpperSaturationLimit	  "inf"
		  LowerSaturationLimit	  "-inf"
		  ShowSaturationPort	  off
		  ShowStatePort		  off
		  AbsoluteTolerance	  "auto"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Tcx"
		  Ports			  [1, 1]
		  Position		  [260, 265, 280, 285]
		  ShowName		  off
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "fc_x_init_tmp"
		  LimitOutput		  off
		  UpperSaturationLimit	  "inf"
		  LowerSaturationLimit	  "-inf"
		  ShowSaturationPort	  off
		  ShowStatePort		  off
		  AbsoluteTolerance	  "auto"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Tcx1"
		  Ports			  [1, 1]
		  Position		  [405, 220, 425, 240]
		  ShowName		  off
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "fc_i_init_tmp"
		  LimitOutput		  off
		  UpperSaturationLimit	  "inf"
		  LowerSaturationLimit	  "-inf"
		  ShowSaturationPort	  off
		  ShowStatePort		  off
		  AbsoluteTolerance	  "auto"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Tm"
		  Ports			  [1, 1]
		  Position		  [260, 320, 280, 340]
		  ShowName		  off
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "fc_h_init_tmp"
		  LimitOutput		  off
		  UpperSaturationLimit	  "inf"
		  LowerSaturationLimit	  "-inf"
		  ShowSaturationPort	  off
		  ShowStatePort		  off
		  AbsoluteTolerance	  "auto"
		}
		Block {
		  BlockType		  Reference
		  Name			  "fc coolant"
		  Ports			  [2, 2, 1]
		  Position		  [225, 187, 310, 218]
		  SourceBlock		  "lib_fuel_converter2/configurable su"
"bsystems/fuel use and EO emis Neural Network Model/fc temp/fc coolant"
		  SourceType		  "SubSystem"
		  ShowPortLabels	  "on"
		  TreatAsAtomicUnit	  "on"
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fc mass heat flow"
		  Ports			  [2, 4]
		  Position		  [100, 141, 200, 354]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "fc mass heat flow"
		    Location		    [318, 77, 966, 762]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "veh spd"
		    Position		    [25, 213, 55, 227]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "fc_temp"
		    Position		    [25, 23, 55, 37]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [645, 435, 701, 475]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [481, 510, 978, 592]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [252, 38]
		    Text		    "FUEL CONVERTER MASS HEAT LOSS\nTh"
"is block models the heat loss from a fuel converter (such as an IC engine).  "
"\nConvection (as a function of vehicle speed), radiation, and conduction effe"
"cts are included.\nEngine cylinder (c), interior (i), exterior (x) and hood ("
"h) \nheat flows are estimated based on the temperatures from the previous ite"
"ration."
		    }
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux10"
		    Ports		    [2, 1]
		    Position		    [310, 270, 315, 305]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [2, 1]
		    Position		    [255, 190, 260, 230]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux4"
		    Ports		    [2, 1]
		    Position		    [325, 185, 330, 220]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux5"
		    Ports		    [2, 1]
		    Position		    [270, 380, 275, 420]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux6"
		    Ports		    [2, 1]
		    Position		    [365, 362, 370, 413]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux9"
		    Ports		    [2, 1]
		    Position		    [235, 275, 240, 315]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qh"
		    Ports		    [3, 1]
		    Position		    [585, 342, 595, 438]
		    IconShape		    "rectangular"
		    Inputs		    "-++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2a,r"
		    Position		    [140, 430, 510, 450]
		    FontName		    "Arial"
		    Expr		    "fc_hood_emisv*(5.67e-8)*fc_hood_s"
"area*((amb_tmp+273)^4 - (u(4)+273)^4)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2a,v"
		    Position		    [400, 379, 530, 401]
		    FontName		    "Arial"
		    Expr		    "u(2)*fc_hood_sarea*u(1)"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qh2x"
		    Ports		    [3, 1]
		    Position		    [535, 157, 545, 253]
		    IconShape		    "rectangular"
		    Inputs		    "+++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2x,r"
		    Position		    [380, 240, 505, 260]
		    FontName		    "Arial"
		    Expr		    "fc_emisv*(5.67e-8)*fc_ext_sarea*f"
"c_pwr_scale^0.67*((u(4)+273)^4 - (u(3)+273)^4)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2x,r1"
		    Position		    [345, 326, 495, 344]
		    FontName		    "Arial"
		    Expr		    "fc_emisv*(5.67e-8)*(0.5*fc_ext_sa"
"rea*fc_pwr_scale^0.67)*((amb_tmp+273)^4 - (u(3)+273)^4)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2x,v"
		    Position		    [355, 197, 410, 213]
		    NamePlacement	    "alternate"
		    FontName		    "Arial"
		    Expr		    "u(2)*fc_ext_sarea*fc_pwr_scale^0."
"67*u(1)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2x,v1"
		    Position		    [350, 281, 420, 299]
		    FontName		    "Arial"
		    Expr		    "u(2)*(0.5*fc_ext_sarea*fc_pwr_sca"
"le^0.67)*u(1)"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qi"
		    Ports		    [2, 1]
		    Position		    [560, 44, 570, 91]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qi2c,c"
		    Position		    [110, 21, 250, 39]
		    FontName		    "Arial"
		    Expr		    "fc_c2i_th_cond*(u(2) - u(1))"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qp2a,v5"
		    Position		    [170, 191, 220, 209]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "u(4)-u(3)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qp2a,v6"
		    Position		    [150, 382, 230, 398]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "amb_tmp-u(4)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qp2a,v7"
		    Position		    [125, 277, 205, 293]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "amb_tmp-u(3)"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qx"
		    Ports		    [3, 1]
		    Position		    [590, 171, 600, 219]
		    IconShape		    "rectangular"
		    Inputs		    "-++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qx1"
		    Ports		    [2, 1]
		    Position		    [545, 289, 555, 336]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qx2i,c"
		    Position		    [105, 71, 255, 89]
		    FontName		    "Arial"
		    Expr		    "fc_i2x_th_cond*(u(3) - u(2))"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qx2p,c"
		    Position		    [110, 134, 260, 156]
		    FontName		    "Arial"
		    Expr		    "fc_h2x_th_cond*(u(4) - u(3))"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Va/Vv"
		    Position		    [125, 207, 155, 233]
		    Gain		    "0.5"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Va/Vv1"
		    Position		    [105, 292, 135, 318]
		    Gain		    "0.5"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "h_h2a"
		    Position		    [300, 390, 335, 410]
		    FontName		    "Arial"
		    Expr		    "10 + 6*(abs(u(1))/1000)^0.3 + 60*"
"(abs(u(2))/30)^0.6"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "h_h2x"
		    Position		    [275, 200, 310, 220]
		    FontName		    "Arial"
		    Expr		    "6 + 6*((abs(u(1))/1000))^0.3 + 60"
"*(abs(u(2))/30)^0.6"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "h_h2x1"
		    Position		    [255, 285, 290, 305]
		    FontName		    "Arial"
		    Expr		    "6 + 6*((abs(u(1))/1000))^0.3 + 60"
"*(abs(u(2))/30)^0.6"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_c"
		    Position		    [655, 23, 685, 37]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_i"
		    Position		    [650, 63, 680, 77]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_x"
		    Position		    [650, 188, 680, 202]
		    Port		    "3"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_h"
		    Position		    [655, 383, 685, 397]
		    Port		    "4"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Mux10"
		    SrcPort		    1
		    DstBlock		    "Qh2x,v1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux9"
		    SrcPort		    1
		    DstBlock		    "h_h2x1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qp2a,v7"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Mux9"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [-5, 0; 0, -15; 75, 0]
		    DstBlock		    "Mux10"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "h_h2x1"
		    SrcPort		    1
		    DstBlock		    "Mux10"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Va/Vv1"
		    SrcPort		    1
		    DstBlock		    "Mux9"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux4"
		    SrcPort		    1
		    DstBlock		    "Qh2x,v"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "h_h2x"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qp2a,v5"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -15; 80, 0]
		    DstBlock		    "Mux4"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "h_h2x"
		    SrcPort		    1
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "veh spd"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Va/Vv"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 85]
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "Mux5"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Va/Vv1"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Va/Vv"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qi2c,c"
		    SrcPort		    1
		    Points		    [205, 0]
		    Branch {
		    DstBlock		    "Qfc_c"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Qi"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "fc_temp"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    Points		    [0, 50]
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    DstBlock		    "Qx2p,c"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    Labels		    [1, 0]
		    Points		    [0, 50]
		    Branch {
		    DstBlock		    "Qh2x,r"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    Branch {
		    DstBlock		    "Qp2a,v7"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50]
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "Qp2a,v6"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50]
		    DstBlock		    "Qh2a,r"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Qh2x,r1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "Qp2a,v5"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "Qx2i,c"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Qi2c,c"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Qx2i,c"
		    SrcPort		    1
		    Points		    [200, 0]
		    Branch {
		    DstBlock		    "Qi"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 35; 105, 0; 0, 65]
		    DstBlock		    "Qx"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Qi"
		    SrcPort		    1
		    DstBlock		    "Qfc_i"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qx"
		    SrcPort		    1
		    DstBlock		    "Qfc_x"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qh2x"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, -10]
		    DstBlock		    "Qx"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 155]
		    DstBlock		    "Qh"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Qh"
		    SrcPort		    1
		    DstBlock		    "Qfc_h"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux6"
		    SrcPort		    1
		    DstBlock		    "Qh2a,v"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux5"
		    SrcPort		    1
		    DstBlock		    "h_h2a"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qp2a,v6"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Mux5"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "Mux6"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "h_h2a"
		    SrcPort		    1
		    DstBlock		    "Mux6"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qx1"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Qx"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Qh2x,v"
		    SrcPort		    1
		    DstBlock		    "Qh2x"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qx2p,c"
		    SrcPort		    1
		    Points		    [255, 0]
		    DstBlock		    "Qh2x"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qh2x,r1"
		    SrcPort		    1
		    Points		    [30, 0]
		    DstBlock		    "Qx1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qh2x,v1"
		    SrcPort		    1
		    Points		    [105, 0]
		    DstBlock		    "Qx1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qh2a,r"
		    SrcPort		    1
		    Points		    [55, 0]
		    DstBlock		    "Qh"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Qh2a,v"
		    SrcPort		    1
		    DstBlock		    "Qh"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qh2x,r"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Qh2x"
		    DstPort		    3
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "old fc coolant \ntemp. (C)"
		  Ports			  [2, 1]
		  Position		  [150, 30, 180, 90]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "old fc coolant \ntemp. (C)"
		    Location		    [-29, 578, 441, 784]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "fc on?"
		    Position		    [45, 40, 65, 60]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "veh spd"
		    Position		    [45, 100, 65, 120]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [395, 150, 451, 190]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [351, 607, 683, 747]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [167, 68]
		    Text		    "This block computes engine coolan"
"t temperature,\nassuming that it asymptotically approaches its maximum\ntempe"
"rature when the engine is on, and asymptotically\napproaches the ambient temp"
"erature when the engine\nis off.  Temperatue rise rate is assumed to be a fun"
"ction\nonly of current engine coolant temperature, and the fall\nrate is also"
" a function of vehicle speed and ambient temperature.\nThere is no dependence"
" on engine load or speed."
		    }
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [4, 1]
		    Position		    [210, 32, 240, 158]
		    ShowName		    off
		    Inputs		    "4"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "TEC"
		    Ports		    [1, 1]
		    Position		    [320, 85, 340, 105]
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    InitialCondition	    "fc_i_init_tmp"
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    ShowSaturationPort	    off
		    ShowStatePort	    off
		    AbsoluteTolerance	    "auto"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "compute\nengine dT/dt"
		    Position		    [270, 84, 300, 106]
		    Expr		    "1.1*u[1]*(-u[2]/218)*(95-u[4])+(1"
"-u[1])*u[3]*(u[4]-amb_tmp)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "gamma\n(takes v as input)"
		    Position		    [95, 99, 125, 121]
		    Expr		    "(-8.22e-5*u+8.09e-6*4-1.45e-4)*.4"
"5"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "log(1-40/75)"
		    Position		    [145, 69, 190, 91]
		    Value		    "-0.7621"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "fc coolant \ntemp (C)"
		    Position		    [410, 85, 430, 105]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "compute\nengine dT/dt"
		    SrcPort		    1
		    DstBlock		    "TEC"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gamma\n(takes v as input)"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "log(1-40/75)"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "compute\nengine dT/dt"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fc on?"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "veh spd"
		    SrcPort		    1
		    DstBlock		    "gamma\n(takes v as input)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "TEC"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "fc coolant \ntemp (C)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 80; -210, 0; 0, -35]
		    DstBlock		    "Mux"
		    DstPort		    4
		    }
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "Tfc_old\n (C)"
		  Position		  [500, 50, 520, 70]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Qfc r,h"
		  Position		  [505, 195, 525, 215]
		  NamePlacement		  "alternate"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Tfc\n (C)"
		  Position		  [510, 245, 530, 265]
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "fc ON?"
		  SrcPort		  1
		  DstBlock		  "old fc coolant \ntemp. (C)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "veh spd\n(m/s)"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "fc mass heat flow"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "old fc coolant \ntemp. (C)"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "old fc coolant \ntemp. (C)"
		  SrcPort		  1
		  DstBlock		  "Tfc_old\n (C)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Tfc\n (C)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 115; -400, 0]
		    DstBlock		    "fc mass heat flow"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "fc mass heat flow"
		  SrcPort		  4
		  DstBlock		  "1/mcp"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1/mcp"
		  SrcPort		  1
		  DstBlock		  "Tm"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Tm"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Mux3"
		    DstPort		    4
		  }
		  Branch {
		    Points		    [0, -30]
		    DstBlock		    "Memory"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Tcx"
		  SrcPort		  1
		  Points		  [165, 0; 0, 5]
		  DstBlock		  "Mux3"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "key ON?"
		  SrcPort		  1
		  DstBlock		  "fc coolant"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "fc mass heat flow"
		  SrcPort		  3
		  DstBlock		  "1/Cx"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1/Cx"
		  SrcPort		  1
		  DstBlock		  "Tcx"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "Qfc r,h"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Tcx1"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Mux3"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -55; -225, 0]
		    DstBlock		    "fc coolant"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "fc coolant"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "Mux4"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Qc1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "fc coolant"
		  SrcPort		  2
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Mux4"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 20]
		    DstBlock		    "Qc1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "fc mass heat flow"
		  SrcPort		  2
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, -10]
		    DstBlock		    "fc coolant"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 20]
		    DstBlock		    "Qc1"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Tcm"
		  SrcPort		  1
		  Points		  [0, 45]
		  DstBlock		  "Mux3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1/Ci"
		  SrcPort		  1
		  DstBlock		  "Tcx1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Qc1"
		  SrcPort		  1
		  DstBlock		  "1/Ci"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fc mass heat flow"
		  SrcPort		  1
		  Points		  [0, -20]
		  DstBlock		  "Qc"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Qfc (W)"
		  SrcPort		  1
		  DstBlock		  "Qc"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1/"
		  SrcPort		  1
		  DstBlock		  "Tcm"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Qc"
		  SrcPort		  1
		  DstBlock		  "1/"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  DstBlock		  "Goto"
		  DstPort		  1
		}
		Annotation {
		  Position		  [459, 172]
		  Text			  "c"
		}
		Annotation {
		  Position		  [459, 221]
		  Text			  "i"
		}
		Annotation {
		  Position		  [458, 270]
		  Text			  "x"
		}
		Annotation {
		  Position		  [461, 318]
		  Text			  "h"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "fc temp correct"
	      Ports		      [5, 2, 1]
	      Position		      [245, 42, 405, 168]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      on
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"fc temp correct"
		Location		[61, 253, 669, 718]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Coolant T (C)"
		  Position		  [105, 110, 125, 130]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "HOT fuel use\n(g/s)"
		  Position		  [50, 145, 70, 165]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "HOT emis\n(g/s)"
		  Position		  [105, 180, 125, 200]
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "T (Nm)"
		  Position		  [50, 346, 85, 364]
		  Port			  "4"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "w (rad/s)"
		  Position		  [90, 366, 125, 384]
		  Port			  "5"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  Ports			  []
		  Position		  [424, 30, 456, 55]
		  StatesWhenEnabling	  "reset"
		  ShowOutputPort	  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "=1: use map based\n=0: use constant"
" equation based"
		  Position		  [85, 24, 145, 56]
		  Value			  "fc_cold"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [425, 125, 455, 155]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [435, 190, 465, 220]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fc temp correct\nConstant Correctio"
"n Factors\n(Equation Based)"
		  Ports			  [3, 2, 1]
		  Position		  [210, 105, 350, 205]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    Location		    [54, 367, 669, 825]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Coolant T (C)"
		    Position		    [65, 175, 85, 195]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT fuel use\n(g/s)"
		    Position		    [105, 30, 125, 50]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT emis\n(g/s)"
		    Position		    [105, 325, 125, 345]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [459, 210, 491, 235]
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [440, 125, 496, 165]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [222, 357, 578, 433]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [177, 38]
		    Text		    "This block determines actual fuel"
" use and engine-out emissions\ngiven the fully hot values and the engine cool"
"ant temperature.\nThe correlations used here were developed at NREL using\nHo"
"t and Cold Engine data collected \nat Oak Ridge National Laboratory."
		    }
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "CO cold/hot"
		    Position		    [245, 174, 275, 196]
		    Expr		    "2.13*pow(u,4.26)+1"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "HC cold/hot"
		    Position		    [245, 124, 275, 146]
		    Expr		    "8.05*pow(u,9.46)+1"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [4, 1]
		    Position		    [320, 127, 330, 268]
		    Inputs		    "4"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "NOx cold/hot"
		    Position		    [245, 219, 275, 241]
		    Expr		    "0.51*pow(u,1.37)+1"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "PM cold/hot"
		    Position		    [245, 264, 275, 286]
		    Expr		    "5.14*pow(u,17.04)+1"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [390, 311, 415, 344]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [365, 33, 395, 57]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [195, 174, 205, 196]
		    ShowName		    off
		    UpperLimit		    "1"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "fuel cold/hot"
		    Position		    [245, 69, 275, 91]
		    Expr		    "0.1*pow(u,0.65)+1"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "lambda"
		    Position		    [145, 174, 175, 196]
		    Expr		    "(fc_tstat-u)/(fc_tstat-20)"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "fuel use\n(g/s)"
		    Position		    [460, 35, 480, 55]
		    Port		    "1"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "EO emis\n(g/s)"
		    Position		    [475, 320, 495, 340]
		    NamePlacement	    "alternate"
		    Port		    "2"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "PM cold/hot"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Mux"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "NOx cold/hot"
		    SrcPort		    1
		    Points		    [20, 0; 0, -15]
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "HC cold/hot"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "CO cold/hot"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -50]
		    Branch {
		    DstBlock		    "HC cold/hot"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -55]
		    DstBlock		    "fuel cold/hot"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    DstBlock		    "NOx cold/hot"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "PM cold/hot"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "lambda"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    Points		    [30, 0; 0, 120]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fuel cold/hot"
		    SrcPort		    1
		    Points		    [70, 0]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "EO emis\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "CO cold/hot"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "fuel use\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "HOT fuel use\n(g/s)"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Coolant T (C)"
		    SrcPort		    1
		    DstBlock		    "lambda"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "HOT emis\n(g/s)"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fc temp correct\nVariable Correctio"
"n Factors\n(Map Based)"
		  Ports			  [5, 2, 1]
		  Position		  [210, 284, 350, 386]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    Location		    [244, 74, 899, 662]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Coolant T (C)"
		    Position		    [35, 25, 55, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT fuel use\n(g/s)"
		    Position		    [315, 65, 335, 85]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT emis\n(g/s)"
		    Position		    [325, 520, 345, 540]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "T (Nm)"
		    Position		    [30, 101, 65, 119]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w (rad/s)"
		    Position		    [30, 146, 65, 164]
		    Port		    "5"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [564, 230, 596, 255]
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "(Thot-Temp)\n--------------------"
"\n(Thot-Tcold)"
		    Position		    [105, 24, 135, 46]
		    Expr		    "(fc_tstat-u)/(fc_tstat-fc_cold_tm"
"p)"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "CO factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [190, 293, 220, 317]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_co_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "CO factor\ncold-to-hot"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "HC factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [190, 213, 220, 237]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_hc_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "HC factor\ncold-to-hot"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [275, 129, 280, 176]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [260, 189, 265, 236]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [2, 1]
		    Position		    [260, 269, 265, 316]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux4"
		    Ports		    [2, 1]
		    Position		    [260, 344, 265, 391]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux5"
		    Ports		    [2, 1]
		    Position		    [260, 419, 265, 466]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux6"
		    Ports		    [4, 1]
		    Position		    [455, 267, 465, 408]
		    Inputs		    "4"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "NOx factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [190, 368, 220, 392]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_nox_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "NOx factor\ncold-to-hot"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "PM factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [190, 443, 220, 467]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_pm_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "PM factor\ncold-to-hot"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [520, 331, 545, 364]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [520, 68, 550, 92]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [90, 98, 105, 122]
		    ShowName		    off
		    UpperLimit		    "max(fc_map_trq*fc_trq_scale)"
		    LowerLimit		    "min(fc_map_trq*fc_trq_scale)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    Position		    [90, 143, 105, 167]
		    ShowName		    off
		    UpperLimit		    "max(fc_map_spd*fc_spd_scale)"
		    LowerLimit		    "min(fc_map_spd*fc_spd_scale)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio"
		    Position		    [325, 144, 355, 166]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio1"
		    Position		    [325, 214, 355, 236]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio2"
		    Position		    [325, 284, 355, 306]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio3"
		    Position		    [325, 359, 355, 381]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio4"
		    Position		    [320, 434, 350, 456]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "fuel factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [195, 147, 220, 178]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_fuel_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "fuel factor\ncold-to-hot"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "limit to\ndata\nlimits"
		    Position		    [210, 23, 230, 47]
		    UpperLimit		    "1"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "fuel use\n(g/s)"
		    Position		    [585, 70, 605, 90]
		    Port		    "1"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "EO emis\n(g/s)"
		    Position		    [590, 340, 610, 360]
		    Port		    "2"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio4"
		    SrcPort		    1
		    Points		    [60, 0; 0, -55]
		    DstBlock		    "Mux6"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio3"
		    SrcPort		    1
		    Points		    [50, 0; 0, -15]
		    DstBlock		    "Mux6"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio2"
		    SrcPort		    1
		    Points		    [45, 0; 0, 25]
		    DstBlock		    "Mux6"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio1"
		    SrcPort		    1
		    Points		    [45, 0; 0, 60]
		    DstBlock		    "Mux6"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio"
		    SrcPort		    1
		    Points		    [15, 0; 0, -40; 125, 0; 0, -30]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "limit to\ndata\nlimits"
		    SrcPort		    1
		    Points		    [10, 0; 0, 105]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    DstBlock		    "Mux5"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "(Thot-Temp)\n--------------------"
"\n(Thot-Tcold)"
		    SrcPort		    1
		    DstBlock		    "limit to\ndata\nlimits"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux6"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "T (Nm)"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "HOT emis\n(g/s)"
		    SrcPort		    1
		    Points		    [155, 0]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "EO emis\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "fuel use\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux5"
		    SrcPort		    1
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux4"
		    SrcPort		    1
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    Points		    [40, 0]
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "PM factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux5"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "NOx factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "CO factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "HC factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fuel factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Coolant T (C)"
		    SrcPort		    1
		    DstBlock		    "(Thot-Temp)\n--------------------"
"\n(Thot-Tcold)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [55, 0; 0, 60]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    Points		    [0, 75]
		    DstBlock		    "PM factor\ncold-to-hot"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "NOx factor\ncold-to-hot"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "CO factor\ncold-to-hot"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "HC factor\ncold-to-hot"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "fuel factor\ncold-to-hot"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    Points		    [0, 75]
		    DstBlock		    "PM factor\ncold-to-hot"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "NOx factor\ncold-to-hot"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "CO factor\ncold-to-hot"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "HC factor\ncold-to-hot"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "fuel factor\ncold-to-hot"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "HOT fuel use\n(g/s)"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Logic
		  Name			  "fc_cold=0"
		  Ports			  [1, 1]
		  Position		  [240, 24, 270, 56]
		  Operator		  "NOT"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Outport
		  Name			  "fuel use\n(g/s)"
		  Position		  [495, 130, 515, 150]
		  Port			  "1"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "EO emis\n(g/s)"
		  Position		  [495, 195, 515, 215]
		  Port			  "2"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "w (rad/s)"
		  SrcPort		  1
		  DstBlock		  "fc temp correct\nVariable Correctio"
"n Factors\n(Map Based)"
		  DstPort		  5
		}
		Line {
		  SrcBlock		  "T (Nm)"
		  SrcPort		  1
		  DstBlock		  "fc temp correct\nVariable Correctio"
"n Factors\n(Map Based)"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "EO emis\n(g/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "fuel use\n(g/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fc temp correct\nVariable Correctio"
"n Factors\n(Map Based)"
		  SrcPort		  2
		  Points		  [65, 0]
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "fc temp correct\nConstant Correctio"
"n Factors\n(Equation Based)"
		  SrcPort		  2
		  Points		  [65, 0]
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fc temp correct\nVariable Correctio"
"n Factors\n(Map Based)"
		  SrcPort		  1
		  Points		  [55, 0]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "fc_cold=0"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [95, 0; 0, 100]
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		  }
		  Branch {
		    DstBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    DstPort		    enable
		  }
		}
		Line {
		  SrcBlock		  "fc temp correct\nConstant Correctio"
"n Factors\n(Equation Based)"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "HOT emis\n(g/s)"
		  SrcPort		  1
		  Points		  [35, 0]
		  Branch {
		    Points		    [0, 145]
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    3
		  }
		  Branch {
		    DstBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "HOT fuel use\n(g/s)"
		  SrcPort		  1
		  Points		  [95, 0]
		  Branch {
		    Points		    [0, 160]
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Coolant T (C)"
		  SrcPort		  1
		  Points		  [45, 0]
		  Branch {
		    Points		    [0, 175]
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "=1: use map based\n=0: use constant"
" equation based"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    Points		    [0, 215; 100, 0]
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    enable
		  }
		  Branch {
		    DstBlock		    "fc_cold=0"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "nn thermal calcs"
	      Ports		      [4, 3]
	      Position		      [480, 494, 630, 551]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"nn thermal calcs"
		Location		[433, 403, 931, 703]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "gpsCO2"
		  Position		  [15, 15, 35, 35]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "pwr (W)"
		  Position		  [65, 119, 85, 131]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "ex gas flow (g/s)"
		  Position		  [65, 79, 85, 91]
		  NamePlacement		  "alternate"
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "ex gas tmp"
		  Position		  [65, 94, 85, 106]
		  Port			  "4"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Gain
		  Name			  "(g/s CO2) to\n(g/s fuel)"
		  Position		  [85, 12, 120, 38]
		  Gain			  "fc_CO2_to_FUELgps"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn3"
		  Position		  [170, 86, 195, 104]
		  ShowName		  off
		  Expr			  "(u(1)/1000)*ex_gas_cp*(u(2) - amb_t"
"mp)"
		}
		Block {
		  BlockType		  From
		  Name			  "From"
		  Position		  [15, 155, 105, 175]
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "fuel_gps"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  Position		  [150, 12, 250, 38]
		  ShowName		  off
		  GotoTag		  "fuel_gps"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax"
		  Ports			  [2, 1]
		  Position		  [215, 90, 240, 110]
		  ShowName		  off
		  Function		  "min"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  Ports			  [2, 1]
		  Position		  [150, 76, 155, 109]
		  ShowName		  off
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum5"
		  Ports			  [2, 1]
		  Position		  [260, 89, 270, 136]
		  ShowName		  off
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum6"
		  Ports			  [2, 1]
		  Position		  [180, 116, 190, 149]
		  ShowName		  off
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "lhv"
		  Position		  [135, 130, 155, 150]
		  Gain			  "fc_fuel_lhv"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "fc heat\n(W)"
		  Position		  [300, 105, 320, 125]
		  Port			  "1"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Block {
		  BlockType		  Outport
		  Name			  "HOT fuel use\n(g/s)"
		  Position		  [300, 155, 320, 175]
		  Port			  "2"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Block {
		  BlockType		  Outport
		  Name			  "ex heat\n(W)"
		  Position		  [300, 60, 320, 80]
		  NamePlacement		  "alternate"
		  Port			  "3"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Line {
		  SrcBlock		  "lhv"
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    DstBlock		    "lhv"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "HOT fuel use\n(g/s)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum6"
		  SrcPort		  1
		  Points		  [0, 0; 5, 0]
		  Branch {
		    DstBlock		    "MinMax"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [45, 0]
		    DstBlock		    "Sum5"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "MinMax"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, -30]
		    DstBlock		    "ex heat\n(W)"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum5"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Fcn3"
		  SrcPort		  1
		  DstBlock		  "MinMax"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum5"
		  SrcPort		  1
		  DstBlock		  "fc heat\n(W)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "Fcn3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gpsCO2"
		  SrcPort		  1
		  DstBlock		  "(g/s CO2) to\n(g/s fuel)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "(g/s CO2) to\n(g/s fuel)"
		  SrcPort		  1
		  DstBlock		  "Goto"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "pwr (W)"
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "ex gas tmp"
		  SrcPort		  1
		  DstBlock		  "Mux4"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "ex gas flow (g/s)"
		  SrcPort		  1
		  DstBlock		  "Mux4"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "radps to rpm"
	      Position		      [90, 252, 135, 308]
	      Gain		      "30/pi"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "cumulative fuel \nuse (gal)"
	      Position		      [760, 100, 780, 120]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
	      Position		      [760, 220, 780, 240]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Vv,Tfc"
	      Position		      [775, 370, 795, 390]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "From <vc> "
	      SrcPort		      1
	      DstBlock		      "fc temp correct"
	      DstPort		      enable
	    }
	    Line {
	      SrcBlock		      "fc temp correct"
	      SrcPort		      2
	      Points		      [5, 0]
	      Branch {
		Points			[0, 25]
		DstBlock		"Goto20"
		DstPort			1
	      }
	      Branch {
		DstBlock		"enhancedToWorkspace3"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Selector3"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		DstBlock		"fc temp correct"
		DstPort			1
	      }
	      Branch {
		Points			[0, 0]
		Branch {
		  DstBlock		  "Goto"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "enhancedToWorkspace16"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "Mux5"
	      SrcPort		      1
	      DstBlock		      "Vv,Tfc"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "w (rad/s)"
	      SrcPort		      1
	      Points		      [0, 0; 10, 0]
	      Branch {
		Points			[0, 0]
		DstBlock		"radps to rpm"
		DstPort			1
	      }
	      Branch {
		Points			[0, -40]
		DstBlock		"Goto7"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "radps to rpm"
	      SrcPort		      1
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "T (Nm)"
	      SrcPort		      1
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From6"
	      SrcPort		      1
	      DstBlock		      "du/dt at 5 seconds\nTorque"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From7"
	      SrcPort		      1
	      DstBlock		      "du/dt at 10 seconds\nTorque"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From8"
	      SrcPort		      1
	      DstBlock		      "du/dt at 5 seconds\nSpeed"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From9"
	      SrcPort		      1
	      DstBlock		      "du/dt at 10 seconds\nSpeed"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "du/dt at 5 seconds\nTorque"
	      SrcPort		      1
	      DstBlock		      "Goto4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "du/dt at 5 seconds\nSpeed"
	      SrcPort		      1
	      DstBlock		      "Goto3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "du/dt at 10 seconds\nSpeed"
	      SrcPort		      1
	      DstBlock		      "Goto5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "du/dt at 10 seconds\nTorque"
	      SrcPort		      1
	      DstBlock		      "Goto6"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "S-Function"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "S-Function"
	      SrcPort		      1
	      DstBlock		      "Demux1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      1
	      DstBlock		      "Goto9"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      2
	      DstBlock		      "Goto10"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      3
	      DstBlock		      "Goto8"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <veh>\n(m/s)1"
	      SrcPort		      1
	      DstBlock		      "Mux5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <veh>\n(m/s)2"
	      SrcPort		      1
	      DstBlock		      "Selector3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <vc>"
	      SrcPort		      1
	      DstBlock		      "fc temp"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      DstBlock		      "enhancedToWorkspace12"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      DstBlock		      "enhancedToWorkspace14"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fc temp"
	      SrcPort		      2
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fc temp"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fc temp"
	      SrcPort		      3
	      Points		      [0, 0; 60, 0]
	      Branch {
		DstBlock		"Goto12"
		DstPort			1
	      }
	      Branch {
		DstBlock		"enhancedToWorkspace1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "From <veh>\n(m/s)"
	      SrcPort		      1
	      DstBlock		      "fc temp"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <vc> 2"
	      SrcPort		      1
	      DstBlock		      "fc temp"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "From <vc> 3"
	      SrcPort		      1
	      DstBlock		      "fc temp"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "From <veh>\n(m/s)6"
	      SrcPort		      1
	      DstBlock		      "fc temp correct"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "HOT engine maps"
	      SrcPort		      5
	      DstBlock		      "Goto14"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "HOT engine maps"
	      SrcPort		      4
	      DstBlock		      "Goto15"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "HOT engine maps"
	      SrcPort		      6
	      DstBlock		      "Goto13"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From11"
	      SrcPort		      1
	      DstBlock		      "HOT engine maps"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From10"
	      SrcPort		      1
	      DstBlock		      "HOT engine maps"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From <vc> 1"
	      SrcPort		      1
	      DstBlock		      "HOT engine maps"
	      DstPort		      enable
	    }
	    Line {
	      SrcBlock		      "HOT engine maps"
	      SrcPort		      2
	      DstBlock		      "Terminator1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <veh>\n(m/s)7"
	      SrcPort		      1
	      DstBlock		      "Mux5"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From <veh>\n(m/s)3"
	      SrcPort		      1
	      Points		      [0, 0; 10, 0]
	      Branch {
		Points			[0, -15]
		DstBlock		"Mux4"
		DstPort			3
	      }
	      Branch {
		DstBlock		"enhancedToWorkspace2"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "From <veh>\n(m/s)4"
	      SrcPort		      1
	      Points		      [0, 0; 10, 0]
	      Branch {
		Points			[0, -15]
		DstBlock		"Mux4"
		DstPort			4
	      }
	      Branch {
		DstBlock		"enhancedToWorkspace7"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "From <veh>\n(m/s)5"
	      SrcPort		      1
	      Points		      [0, 0; 10, 0]
	      Branch {
		Points			[0, -15]
		DstBlock		"Mux4"
		DstPort			5
	      }
	      Branch {
		DstBlock		"enhancedToWorkspace6"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Mux4"
	      SrcPort		      1
	      DstBlock		      "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From1"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From4"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From5"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "From"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "From2"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "From3"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      6
	    }
	    Line {
	      SrcBlock		      "From13"
	      SrcPort		      1
	      DstBlock		      "fc temp correct"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "From12"
	      SrcPort		      1
	      DstBlock		      "fc temp correct"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "Mux1"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		DstBlock		"Goto16"
		DstPort			1
	      }
	      Branch {
		Points			[0, 25]
		DstBlock		"enhancedToWorkspace8"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "HOT engine maps"
	      SrcPort		      3
	      DstBlock		      "Demux2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "HC"
	      Labels		      [0, 0]
	      SrcBlock		      "Demux2"
	      SrcPort		      1
	      DstBlock		      "Mux1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "PM"
	      Labels		      [0, 0]
	      SrcBlock		      "Demux2"
	      SrcPort		      4
	      DstBlock		      "Mux1"
	      DstPort		      4
	    }
	    Line {
	      Name		      "CO"
	      Labels		      [0, 0]
	      SrcBlock		      "Demux2"
	      SrcPort		      2
	      DstBlock		      "Terminator2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "NOx"
	      Labels		      [0, 0]
	      SrcBlock		      "Demux2"
	      SrcPort		      3
	      DstBlock		      "Terminator3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From14"
	      SrcPort		      1
	      DstBlock		      "Mux1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From15"
	      SrcPort		      1
	      DstBlock		      "Mux1"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "HOT engine maps"
	      SrcPort		      1
	      DstBlock		      "Terminator4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "HOT engine maps"
	      SrcPort		      7
	      DstBlock		      "Terminator5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "nn thermal calcs"
	      SrcPort		      3
	      DstBlock		      "enhancedToWorkspace9"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "nn thermal calcs"
	      SrcPort		      1
	      Points		      [10, 0; 0, -25]
	      Branch {
		Points			[0, -25]
		DstBlock		"Goto11"
		DstPort			1
	      }
	      Branch {
		DstBlock		"enhancedToWorkspace5"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "nn thermal calcs"
	      SrcPort		      2
	      DstBlock		      "Goto17"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <veh>\n(m/s)8"
	      SrcPort		      1
	      DstBlock		      "fc temp correct"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "fc temp correct"
	      SrcPort		      1
	      DstBlock		      "Goto18"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "(g/s) to\n(gal/s)"
	      SrcPort		      1
	      DstBlock		      "Integrator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Integrator"
	      SrcPort		      1
	      DstBlock		      "cumulative fuel \nuse (gal)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <vc> 4"
	      SrcPort		      1
	      Points		      [0, 0; 5, 0]
	      Branch {
		DstBlock		"(g/s) to\n(gal/s)"
		DstPort			1
	      }
	      Branch {
		Points			[0, -30]
		DstBlock		"enhancedToWorkspace13"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "From16"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From17"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "Goto19"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From19"
	      SrcPort		      1
	      Points		      [20, 0; 0, 5]
	      DstBlock		      "nn thermal calcs"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From18"
	      SrcPort		      1
	      DstBlock		      "nn thermal calcs"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From21"
	      SrcPort		      1
	      Points		      [0, -5]
	      DstBlock		      "nn thermal calcs"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "From20"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "nn thermal calcs"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "From <vc> 5"
	      SrcPort		      1
	      DstBlock		      "Mux4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <vc> 6"
	      SrcPort		      1
	      DstBlock		      "Mux4"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From24"
	      SrcPort		      1
	      DstBlock		      "enhancedToWorkspace15"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From22"
	      SrcPort		      1
	      DstBlock		      "enhancedToWorkspace17"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From23"
	      SrcPort		      1
	      DstBlock		      "enhancedToWorkspace18"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [354, 608]
	      Text		      "below values are \"hot\" emissions\n(un"
"its g/s)"
	    }
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "fuel\nconverter\n <fc> for series"
      Ports		      [1, 3]
      Position		      [255, 153, 310, 197]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone IC ENGINE Mask (Series Hybrid)"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'fc'|Log|{}|{}|'bdi_fc.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"fuel\nconverter\n <fc> for series"
	Location		[202, 77, 966, 744]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed\n req'd at engine \noutput"
" shaft\n(Nm)"
	  Position		  [120, 115, 140, 135]
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Model &\nInterface"
	  Ports			  [2, 5]
	  Position		  [255, 109, 295, 171]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "Model &\nInterface"
	    Location		    [243, 86, 1016, 396]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "torque and speed\n req'd at engine \nou"
"tput shaft\n(Nm)"
	      Position		      [80, 110, 100, 130]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      Position		      [25, 420, 45, 440]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>1"
	      Position		      [90, 512, 215, 548]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "key_on"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>12"
	      Position		      [90, 462, 215, 498]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "v_prev"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [12, 1]
	      Position		      [635, 29, 645, 521]
	      ShowName		      off
	      Inputs		      "12"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 5]
	      Position		      [65, 299, 75, 561]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "5"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>10"
	      Position		      [450, 360, 530, 390]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fuel"
	      Port {
		PortNumber		1
		Name			"fuel"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>11"
	      Position		      [450, 400, 530, 430]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "engine_speed"
	      Port {
		PortNumber		1
		Name			"engine_speed"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>2"
	      Position		      [450, 40, 530, 70]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_trq_limited"
	      Port {
		PortNumber		1
		Name			"fc_trq_limited"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>3"
	      Position		      [450, 80, 530, 110]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_spd_limited"
	      Port {
		PortNumber		1
		Name			"fc_spd_limited"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>4"
	      Position		      [450, 120, 530, 150]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_trq_out_r"
	      Port {
		PortNumber		1
		Name			"fc_trq_out_r"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>5"
	      Position		      [450, 160, 530, 190]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_spd_out_r"
	      Port {
		PortNumber		1
		Name			"fc_spd_out_r"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>6"
	      Position		      [450, 200, 530, 230]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_spd_est"
	      Port {
		PortNumber		1
		Name			"fc_spd_est"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>7"
	      Position		      [450, 240, 530, 270]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_brake_trq"
	      Port {
		PortNumber		1
		Name			"fc_brake_trq"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>8"
	      Position		      [450, 280, 530, 310]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_trq_out_a"
	      Port {
		PortNumber		1
		Name			"fc_trq_out_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>9"
	      Position		      [450, 320, 530, 350]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_spd_out_a"
	      Port {
		PortNumber		1
		Name			"fc_spd_out_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From8"
	      Position		      [445, 444, 530, 466]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_clt_tmp"
	      Port {
		PortNumber		1
		Name			"fc_clt_tmp"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From9"
	      Position		      [445, 482, 540, 508]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_hood_temp"
	      Port {
		PortNumber		1
		Name			"fc_hood_temp"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      Position		      [95, 314, 215, 346]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "clutch_state"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      Position		      [354, 37, 436, 68]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_trq_limited"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      Position		      [354, 77, 436, 108]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_spd_limited"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility10"
	      Position		      [219, 312, 320, 348]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "clutch_state"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility11"
	      Position		      [219, 364, 321, 399]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_mech_trq_est"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility12"
	      Position		      [219, 414, 322, 448]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "engine_on"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility13"
	      Position		      [220, 511, 321, 547]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "key_on"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility14"
	      Position		      [355, 487, 440, 504]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_hood_temp"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [354, 117, 436, 148]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_trq_out_r"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility21"
	      Position		      [220, 461, 321, 497]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "v_prev"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility22"
	      Position		      [355, 447, 440, 464]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_clt_tmp"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility3"
	      Position		      [354, 157, 436, 188]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_spd_out_r"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      Position		      [354, 197, 436, 228]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_spd_est"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility5"
	      Position		      [354, 237, 436, 268]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_brake_trq"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility6"
	      Position		      [354, 277, 436, 308]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_trq_out_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility7"
	      Position		      [354, 317, 436, 348]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_spd_out_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility8"
	      Position		      [354, 357, 436, 388]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fuel"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility9"
	      Position		      [354, 397, 436, 428]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "engine_speed"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [95, 365, 215, 395]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_mech_trq_est"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      Position		      [95, 415, 215, 445]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "engine_on"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "model"
	      Ports		      [1, 3]
	      Position		      [180, 90, 220, 150]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"model"
		Location		[202, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"88"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed\n req'd at engine "
"\noutput shaft\n(Nm)"
		  Position		  [40, 105, 60, 125]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>"
		  Position		  [635, 289, 725, 311]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "engine_speed"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>1"
		  Position		  [610, 220, 690, 240]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "fc_trq_out_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>2"
		  Position		  [480, 60, 560, 80]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "fc_spd_est"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>3"
		  Position		  [635, 319, 725, 341]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "fc_spd_out_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [780, 290, 836, 330]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [620, 337, 1026, 424]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [212, 38]
		    Text		    "This block models the internal co"
"mbustion engine, and includes inertia effects,\nperformance limits, accessory"
" loads, and temperature transient effects on fuel\nuse, engine-out emissions,"
" and catalyst efficiency.  There are 'leads' to the\nengine controller here, "
"which controller determines whether the engine is on."
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [250, 190, 270, 210]
		  ShowName		  off
		  Value			  "1"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [105, 84, 110, 146]
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 3]
		  Position		  [505, 143, 515, 207]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "3"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc>1"
		  Position		  [200, 220, 280, 250]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "clutch_state"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  Position		  [140, 177, 225, 203]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "fc_spd_out_r"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto1"
		  Position		  [795, 54, 855, 76]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "fuel"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto2"
		  Position		  [145, 62, 230, 88]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "fc_trq_out_r"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto3"
		  Position		  [630, 56, 715, 74]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "fc_brake_trq"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [1, 1]
		  Position		  [380, 279, 410, 311]
		  ForegroundColor	  "red"
		  ShowName		  off
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [455, 257, 485, 283]
		  Orientation		  "left"
		  ForegroundColor	  "green"
		  ShowName		  off
		  X0			  "vc_idle_spd"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [790, 105, 800, 160]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [640, 246, 645, 279]
		  ShowName		  off
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector"
		  Ports			  [1, 1]
		  Position		  [435, 53, 460, 87]
		  ShowName		  off
		  InputType		  "Vector"
		  ElementSrc		  "Internal"
		  Elements		  "[2]"
		  RowSrc		  "Internal"
		  Rows			  "1"
		  ColumnSrc		  "Internal"
		  Columns		  "1"
		  InputPortWidth	  "3"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [460, 123, 490, 227]
		  ShowName		  off
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "clutch\ndisengaged"
		  Position		  [300, 192, 330, 223]
		  ForegroundColor	  "red"
		  Operator		  "=="
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [140, 152, 235, 168]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_spd_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [140, 32, 235, 48]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_trq_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  Ports			  [1]
		  Position		  [480, 32, 575, 48]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_est|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_spd_est"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [620, 32, 715, 48]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|brake_trq|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_brake_trq"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fuel use and EO emis Configurable S"
"ubsystem"
		  Ports			  [2, 3]
		  Position		  [600, 79, 765, 161]
		  BackgroundColor	  "lightBlue"
		  AttributesFormatString  "%<BlockChoice>"
		  LinkData {
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace1/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_th_pwr"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace10/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_ex_gas_tmp"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace11/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_ex_th_pwr"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace12/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_clt_tmp"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace2/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_o2_flow"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace3/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_r_th_pwr"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace5/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_h_th_pwr"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace6/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_tmp"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace7/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_fuel_rate"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace8/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_emis_eo"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace9/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_ex_gas_flow"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		  }
		  ShowPortLabels	  on
		  BlockChoice		  "fuel use and EO emis"
		  TemplateBlock		  "lib_fuel_converter3/configurable su"
"bsystems/fuel use and EO emis Configurable Subsystem"
		  MemberBlocks		  "fuel use and EO emis,fuel use and E"
"O emis Neural Network Model"
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "fuel use and EO emis Configurable"
" Subsystem"
		    Location		    [148, 182, 646, 482]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "T (Nm)"
		    Position		    [20, 40, 40, 60]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w (rad/s)"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "fuel use and EO emis"
		    Ports		    [2, 3]
		    Position		    [100, 40, 140, 80]
		    BackgroundColor	    "lightBlue"
		    SourceBlock		    "lib_fuel_converter3/configurable "
"subsystems/fuel use and EO emis"
		    SourceType		    "SubSystem"
		    ShowPortLabels	    "on"
		    TreatAsAtomicUnit	    "off"
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "cumulative fuel \nuse (gal)"
		    Position		    [200, 40, 220, 60]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
		    Position		    [200, 80, 220, 100]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Vv,Tfc"
		    Position		    [200, 120, 220, 140]
		    Port		    "3"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "T (Nm)"
		    SrcPort		    1
		    DstBlock		    "fuel use and EO emis"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w (rad/s)"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "fuel use and EO emis"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "fuel use and EO emis"
		    SrcPort		    1
		    Points		    [20, 0; 0, 5]
		    DstBlock		    "cumulative fuel \nuse (gal)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fuel use and EO emis"
		    SrcPort		    2
		    Points		    [20, 0; 0, 30]
		    DstBlock		    "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fuel use and EO emis"
		    SrcPort		    3
		    Points		    [10, 0; 0, 55]
		    DstBlock		    "Vv,Tfc"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  Ports			  []
		  Position		  [741, 289, 772, 332]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('fuel_conv"
"erter.htm')]);"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "image(imread('doc_man.jpg'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "help"
		    Location		    [203, 331, 569, 538]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "providing trq\n(+ive or -ive)"
		  Ports			  [3, 1]
		  Position		  [380, 93, 410, 147]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "providing trq\n(+ive or -ive)"
		    Location		    [307, 77, 877, 541]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "req'd trq (Nm)"
		    Position		    [120, 83, 150, 97]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "req'd spd (rad/s)"
		    Position		    [215, 138, 245, 152]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "prev engine\nspd (rad/s)"
		    Position		    [35, 133, 65, 147]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [3, 1]
		    Position		    [370, 88, 385, 202]
		    BackgroundColor	    "black"
		    ShowName		    off
		    FontName		    "Arial"
		    Inputs		    "3"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [315, 195, 335, 230]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    Ports		    [2, 1]
		    Position		    [180, 70, 200, 150]
		    ShowName		    off
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "effect of inertia\n(Nm)"
		    Ports		    [2, 1]
		    Position		    [115, 111, 145, 149]
		    FontName		    "Arial"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [253, 100, 715, 490]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "req'd spd\n(rad/s)"
		    Position		    [60, 80, 80, 100]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "prev spd"
		    Position		    [60, 130, 80, 150]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [40, 175, 60, 195]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [120, 19, 180, 41]
		    FontName		    "Arial"
		    Value		    "fc_inertia"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [105, 254, 180, 276]
		    Value		    "cyc_mph(1,2)"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [215, 257, 245, 288]
		    Operator		    "NAND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [155, 299, 185, 331]
		    Operator		    "NOT"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [95, 210, 130, 230]
		    FontName		    "Arial"
		    X0			    "-0.1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [100, 301, 130, 329]
		    FontName		    "Arial"
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [4, 1]
		    Position		    [310, 76, 340, 179]
		    Inputs		    "**/*"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [120, 105, 140, 125]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [160, 180, 180, 200]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "(Nm)"
		    Position		    [370, 120, 390, 140]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [5, 0; 0, -35]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    Points		    [45, 0]
		    DstBlock		    "Product1"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [40, 0; 0, -50]
		    DstBlock		    "Product1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "req'd spd\n(rad/s)"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev spd"
		    SrcPort		    1
		    Points		    [10, 0; 0, -20]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [5, 0; 0, -25]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, 35]
		    Branch {
		    Points		    [0, 95]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [40, 0; 0, 60]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [340, 296]
		    Text		    "if initial speed is >0 and it is "
"the \nfirst time step ignore inertial loads\ntm:2/6/01"
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enforce engine limits"
		    Ports		    [2, 2]
		    Position		    [280, 91, 310, 164]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "enforce engine limits"
		    Location		    [214, 74, 955, 762]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "req'd engine trq\n(Nm)"
		    Position		    [30, 63, 60, 77]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "req'd engine spd\n(rad/s)"
		    Position		    [30, 253, 60, 267]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [525, 315, 581, 355]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [35, 450, 481, 560]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [222, 48]
		    Text		    "This block enforces performance l"
"imits on torque and speed.  At no time will\nengine torque be greater than it"
"s capability or less than its closed-throttle torque.\nIf the engine is in fr"
"ee spindown, the engine torque used for fuel use computation\nis the closed-t"
"hrottle torque.  At no time will engine speed be greater than its\nmaximum (s"
"afe) speed or less than idle speed if idling or zero if off.  During spindown"
",\nengine speed is calculated using engine inertia and the drag torques on th"
"e engine."
		    }
		    }
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>"
		    Position		    [480, 23, 570, 47]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "fc_trq_limited"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>1"
		    Position		    [265, 289, 350, 311]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "fc_spd_limited"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [240, 62, 270, 93]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax1"
		    Ports		    [2, 1]
		    Position		    [320, 62, 350, 93]
		    Function		    "max"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [205, 282, 235, 313]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [115, 245, 145, 275]
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "T_closed\nthrottle"
		    Ports		    [1, 1]
		    Position		    [245, 156, 275, 184]
		    SourceBlock		    "lib_fuel_converter/fuel\nconverte"
"r\n <fc> for series/providing trq\n(+ive or -ive)/enforce engine limits/T_clo"
"sed\nthrottle"
		    SourceType		    "SubSystem"
		    ShowPortLabels	    "off"
		    TreatAsAtomicUnit	    "off"
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "T_max"
		    Ports		    [1, 1]
		    Position		    [180, 115, 210, 145]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "T_max"
		    Location		    [306, 411, 661, 592]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    Position		    [20, 45, 40, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [85, 46, 115, 64]
		    FontName		    "Arial"
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "min(fc_map_spd)*fc_spd_scale"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max_torque lookup"
		    Position		    [180, 43, 210, 67]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_max_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_max"
		    Position		    [260, 45, 280, 65]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "max_torque lookup"
		    SrcPort		    1
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    DstBlock		    "max_torque lookup"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "clutch\ndisengaged1"
		    Position		    [415, 17, 445, 48]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "limited engine brake trq\n(Nm)"
		    Position		    [515, 73, 545, 87]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "limited engine spd\n(rad/s)"
		    Position		    [525, 253, 555, 267]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "Goto <sdo>1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    Points		    [10, 0; 0, -10]
		    DstBlock		    "MinMax1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "T_max"
		    SrcPort		    1
		    Points		    [5, 0; 0, -45]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "clutch\ndisengaged1"
		    SrcPort		    1
		    DstBlock		    "Goto <sdo>"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "limited engine brake trq\n(Nm)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -40]
		    DstBlock		    "clutch\ndisengaged1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "req'd engine trq\n(Nm)"
		    SrcPort		    1
		    Points		    [145, 0]
		    Branch {
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -45]
		    DstBlock		    "clutch\ndisengaged1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, -90]
		    Branch {
		    DstBlock		    "T_closed\nthrottle"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -40]
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "limited engine spd\n(rad/s)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "req'd engine spd\n(rad/s)"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 30]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "T_closed\nthrottle"
		    SrcPort		    1
		    Points		    [15, 0; 0, -85]
		    DstBlock		    "MinMax1"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "map trq (Nm)\nspd (rad/s)\ntrq to"
" drivetrain (Nm)"
		    Position		    [445, 138, 475, 152]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    Labels		    [1, 0]
		    SrcBlock		    "req'd spd (rad/s)"
		    SrcPort		    1
		    DstBlock		    "enforce engine limits"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Mux3"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "map trq (Nm)\nspd (rad/s)\ntrq to"
" drivetrain (Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev engine\nspd (rad/s)"
		    SrcPort		    1
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "enforce engine limits"
		    SrcPort		    1
		    Points		    [0, 0; 15, 0]
		    Branch {
		    Points		    [25, 0]
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 70; -30, 0]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "enforce engine limits"
		    SrcPort		    2
		    Points		    [0, 0; 30, 0]
		    Branch {
		    Points		    [0, -95; -270, 0; 0, 70]
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "req'd trq (Nm)"
		    SrcPort		    1
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "effect of inertia\n(Nm)"
		    SrcPort		    1
		    Points		    [0, 0; 30, 0]
		    Branch {
		    Points		    [-20, 0; 0, 90]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "enforce engine limits"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "spinning up or\nspinning down"
		  Ports			  [3, 1]
		  Position		  [380, 180, 410, 240]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "spinning up or\nspinning down"
		    Location		    [0, 179, 812, 644]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "69"
		    Block {
		    BlockType		    Inport
		    Name		    "spd command (rad/s)"
		    Position		    [160, 283, 190, 297]
		    ForegroundColor	    "lightBlue"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine disconnected\nfrom drivetr"
"ain"
		    Position		    [410, 280, 430, 300]
		    ForegroundColor	    "orange"
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "previous engine\nspd (rad/s)"
		    Position		    [50, 338, 80, 352]
		    ForegroundColor	    "green"
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [900, 210, 920, 230]
		    ShowName		    off
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [705, 245, 775, 265]
		    ShowName		    off
		    Value		    "vc_idle_spd"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [120, 159, 250, 181]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_trq_est"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>1"
		    Position		    [695, 320, 765, 340]
		    BackgroundColor	    "lightBlue"
		    NamePlacement	    "alternate"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "engine_on"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From1"
		    Position		    [340, 194, 470, 216]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_trq_est"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [280, 112, 310, 143]
		    ShowName		    off
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax1"
		    Ports		    [2, 1]
		    Position		    [865, 167, 895, 198]
		    ShowName		    off
		    Function		    "max"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [3, 1]
		    Position		    [965, 133, 975, 237]
		    BackgroundColor	    "black"
		    ShowName		    off
		    FontName		    "Arial"
		    Inputs		    "3"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [620, 246, 640, 264]
		    ShowName		    off
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [795, 248, 825, 277]
		    ShowName		    off
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [295, 267, 325, 298]
		    ShowName		    off
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [245, 125, 265, 145]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [425, 130, 445, 150]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    Ports		    [2, 1]
		    Position		    [665, 275, 685, 295]
		    ShowName		    off
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch:\nmap torque"
		    Position		    [350, 125, 380, 155]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "T_closed\nthrottle"
		    Ports		    [1, 1]
		    Position		    [250, 221, 280, 249]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "T_closed\nthrottle"
		    Location		    [302, 439, 622, 604]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    Position		    [15, 45, 35, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [80, 46, 110, 64]
		    FontName		    "Arial"
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "min(fc_map_spd)*fc_spd_scale"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "ctt lookup"
		    Position		    [150, 43, 180, 67]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_ct_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_closed\nthrottle"
		    Position		    [215, 45, 235, 65]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "ctt lookup"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "ctt lookup"
		    SrcPort		    1
		    DstBlock		    "T_closed\nthrottle"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "T_max"
		    Ports		    [1, 1]
		    Position		    [140, 20, 170, 50]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "T_max"
		    Location		    [306, 411, 634, 544]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    Position		    [20, 45, 40, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [85, 46, 115, 64]
		    FontName		    "Arial"
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "min(fc_map_spd)*fc_spd_scale"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max_torque lookup"
		    Position		    [180, 43, 210, 67]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_max_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_max"
		    Position		    [260, 45, 280, 65]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "max_torque lookup"
		    SrcPort		    1
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    DstBlock		    "max_torque lookup"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "alpha"
		    Position		    [485, 122, 595, 178]
		    Gain		    "1/(fc_inertia+eps)"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    Ports		    [0, 1]
		    Position		    [550, 245, 580, 275]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "dt"
		    Location		    [80, 285, 429, 424]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [65, 30, 85, 50]
		    FontName		    "Arial"
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [125, 55, 160, 75]
		    FontName		    "Arial"
		    X0			    "-0.1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 35, 225, 55]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [255, 35, 275, 55]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "effect of inertia\n(Nm)"
		    Ports		    [2, 1]
		    Position		    [170, 76, 200, 114]
		    FontName		    "Arial"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [253, 100, 715, 490]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "req'd spd\n(rad/s)"
		    Position		    [60, 80, 80, 100]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "prev spd"
		    Position		    [60, 130, 80, 150]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [40, 175, 60, 195]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [120, 19, 180, 41]
		    FontName		    "Arial"
		    Value		    "fc_inertia"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [105, 254, 180, 276]
		    Value		    "cyc_mph(1,2)"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [215, 257, 245, 288]
		    Operator		    "NAND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [155, 299, 185, 331]
		    Operator		    "NOT"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [95, 210, 130, 230]
		    FontName		    "Arial"
		    X0			    "-0.1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [100, 301, 130, 329]
		    FontName		    "Arial"
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [4, 1]
		    Position		    [310, 76, 340, 179]
		    Inputs		    "**/*"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [120, 105, 140, 125]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [160, 180, 180, 200]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "(Nm)"
		    Position		    [370, 120, 390, 140]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [40, 0; 0, 60]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 95]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [5, 0; 0, -25]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev spd"
		    SrcPort		    1
		    Points		    [10, 0; 0, -20]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "req'd spd\n(rad/s)"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [40, 0; 0, -50]
		    DstBlock		    "Product1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    Points		    [45, 0]
		    DstBlock		    "Product1"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [5, 0; 0, -35]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Annotation {
		    Position		    [340, 296]
		    Text		    "if initial speed is >0 and it is "
"the \nfirst time step ignore inertial loads\ntm:2/6/01"
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just started\nspin-down/spin-up"
		    Ports		    [1, 1]
		    Position		    [630, 158, 660, 192]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "just started\nspin-down/spin-up"
		    Location		    [73, 152, 412, 295]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "state"
		    Position		    [15, 20, 35, 40]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [220, 23, 250, 47]
		    FontName		    "Arial"
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [165, 83, 195, 107]
		    FontName		    "Arial"
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [110, 85, 145, 105]
		    FontName		    "Arial"
		    X0			    "(cyc_mph(1,2)==0)"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "trigger"
		    Position		    [295, 25, 315, 45]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "state"
		    SrcPort		    1
		    Points		    [50, 0]
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "trigger"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "no-lag\nReset Integrator"
		    Ports		    [3, 1]
		    Position		    [710, 136, 760, 214]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "No-lag Reset Integrator"
		    MaskDescription	    "No-lag Reset Integrator"
		    MaskHelp		    "Integrates first input using Eule"
"r technique.\\nAt the time step that input 2 <> zero,\\noutput is reset to in"
"put 3."
		    MaskPromptString	    "Initial Value"
		    MaskStyleString	    "edit"
		    MaskTunableValueString  "on"
		    MaskEnableString	    "on"
		    MaskVisibilityString    "on"
		    MaskToolTipString	    "on"
		    MaskInitialization	    "initval=@1;"
		    MaskDisplay		    "disp('1/s\\nw/ reset\\nno lag')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "vc_idle_spd"
		    System {
		    Name		    "no-lag\nReset Integrator"
		    Location		    [195, 391, 717, 655]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [60, 100, 80, 120]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    Position		    [60, 140, 80, 160]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_3"
		    Position		    [45, 185, 65, 205]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [105, 155, 125, 175]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [340, 55, 375, 75]
		    Orientation		    "left"
		    FontName		    "Arial"
		    X0			    "initval"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [160, 96, 180, 114]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [230, 90, 250, 110]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [290, 139, 320, 171]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "dt"
		    Ports		    [0, 1]
		    Position		    [112, 50, 138, 80]
		    Orientation		    "down"
		    SourceBlock		    "lib_fuel_converter/fuel\nconverte"
"r\n <fc> for series/spinning up or\nspinning down/no-lag\nReset Integrator/dt"
		    SourceType		    "SubSystem"
		    ShowPortLabels	    "off"
		    TreatAsAtomicUnit	    "off"
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "in_2==0"
		    Position		    [160, 143, 190, 167]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [455, 145, 475, 165]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "in_2==0"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_2==0"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [10, 0; 0, 45]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-130, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "dt"
		    SrcPort		    1
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "in_2==0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_3"
		    SrcPort		    1
		    Points		    [195, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "map trq (Nm)\nspd (rad/s)\ntrq to"
" drivetrain (Nm)"
		    Position		    [1030, 178, 1060, 192]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "From1"
		    SrcPort		    1
		    Points		    [0, -40]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [10, 0; 0, 10]
		    DstBlock		    "alpha"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "effect of inertia\n(Nm)"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax1"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "MinMax1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <vc>1"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "map trq (Nm)\nspd (rad/s)\ntrq to"
" drivetrain (Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "dt"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine disconnected\nfrom drivetr"
"ain"
		    SrcPort		    1
		    Points		    [85, 0; 0, -115]
		    DstBlock		    "just started\nspin-down/spin-up"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "just started\nspin-down/spin-up"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    DstBlock		    "MinMax1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "spd command (rad/s)"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, -35; -110, 0; 0, -170]
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "previous engine\nspd (rad/s)"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    Points		    [535, 0]
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -70]
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -40]
		    Branch {
		    Points		    [0, -130]
		    Branch {
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -70]
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "T_closed\nthrottle"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "alpha"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Switch:\nmap torque"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch:\nmap torque"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -45; 500, 0; 0, 55]
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "T_closed\nthrottle"
		    SrcPort		    1
		    Points		    [45, 0; 0, -85]
		    DstBlock		    "Switch:\nmap torque"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    DstBlock		    "Switch:\nmap torque"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "T_max"
		    SrcPort		    1
		    Points		    [75, 0; 0, 85]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "fuel use"
		  Position		  [830, 85, 850, 105]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "EO emis\ninfo"
		  Position		  [830, 125, 850, 145]
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed\n avail. to drivel"
"ine\n(Nm), (rad/s)"
		  Position		  [790, 255, 810, 275]
		  NamePlacement		  "alternate"
		  FontName		  "Arial"
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Selector"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "<sdo>2"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "fuel use and EO emis Configurable S"
"ubsystem"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -30]
		    DstBlock		    "Goto1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "fuel use"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  Points		  [-95, 0; 0, -40]
		  Branch {
		    Points		    [0, -90]
		    DstBlock		    "providing trq\n(+ive or -ive)"
		    DstPort		    3
		  }
		  Branch {
		    DstBlock		    "spinning up or\nspinning down"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "spinning up or\nspinning down"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "providing trq\n(+ive or -ive)"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, -50]
		    DstBlock		    "Selector"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [25, 0; 0, 20]
		    DstBlock		    "Switch"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  Points		  [25, 0; 0, -120]
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From <vc>1"
		  SrcPort		  1
		  DstBlock		  "clutch\ndisengaged"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "clutch\ndisengaged"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "clutch\ndisengaged"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    Points		    [0, 85]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "spinning up or\nspinning down"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 30; 0, 0]
		    Branch {
		    Points		    [0, 30]
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [170, 0]
		    Branch {
		    Points		    [0, 60]
		    DstBlock		    "spinning up or\nspinning down"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -10]
		    DstBlock		    "providing trq\n(+ive or -ive)"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "providing trq\n(+ive or -ive)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -25]
		    DstBlock		    "Goto2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -60]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "torque and speed\n req'd at engine "
"\noutput shaft\n(Nm)"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [0, -55; 55, 0]
		  Branch {
		    DstBlock		    "fuel use and EO emis Configurable"
" Subsystem"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 0; 0, -35; 30, 0]
		    Branch {
		    DstBlock		    "Goto3"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  3
		  Points		  [5, 0; 0, 60; 65, 0]
		  Branch {
		    Points		    [0, -25]
		    DstBlock		    "<sdo>1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [45, 0; 0, 0]
		  Branch {
		    Points		    [0, -35]
		    DstBlock		    "fuel use and EO emis Configurable"
" Subsystem"
		    DstPort		    2
		  }
		  Branch {
		    Points		    "[0, 25; 285, 0; 0, 145; -265, 0; "
"0, -15]"
		    Branch {
		    Points		    [0, -60]
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "<sdo>3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -30]
		    DstBlock		    "<sdo>"
		    DstPort		    1
		    }
		    }
		  }
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "EO emis\ninfo"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fuel use and EO emis Configurable S"
"ubsystem"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fuel use and EO emis Configurable S"
"ubsystem"
		  SrcPort		  3
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "torque and speed\n avail. to drivel"
"ine\n(Nm), (rad/s)"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [130, 36, 175, 64]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 77, 966, 752]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [60, 108, 90, 122]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [155, 88, 160, 137]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "fc_trq_out_r"
		    PropagatedSignals	    "trq in r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "fc_spd_out_r"
		    PropagatedSignals	    "w shaft out r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [375, 57, 380, 173]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [445, 108, 475, 122]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "fc_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [195, 0]
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "fc_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [195, 0]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "req'd out"
	      Position		      [295, 40, 315, 60]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "fuel use"
	      Position		      [295, 90, 315, 110]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "EO emis\ninfo"
	      Position		      [295, 130, 315, 150]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "torque and speed\n avail. to driveline"
"\n(Nm), (rad/s)"
	      Position		      [295, 185, 315, 205]
	      FontName		      "Arial"
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [680, 265, 700, 285]
	      FontName		      "Arial"
	      Port		      "5"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "model"
	      SrcPort		      1
	      DstBlock		      "fuel use"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "torque and speed\n req'd at engine \nou"
"tput shaft\n(Nm)"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		DstBlock		"model"
		DstPort			1
	      }
	      Branch {
		Points			[0, -70]
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "model"
	      SrcPort		      2
	      Points		      [30, 0; 0, 20]
	      DstBlock		      "EO emis\ninfo"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "model"
	      SrcPort		      3
	      Points		      [15, 0; 0, 55]
	      DstBlock		      "torque and speed\n avail. to driveline"
"\n(Nm), (rad/s)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "req'd out"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      3
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      Name		      "fc_trq_limited"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>2"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      Name		      "fc_spd_limited"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>3"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "fc_trq_out_r"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>4"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "fc_spd_out_r"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>5"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      4
	    }
	    Line {
	      Name		      "fc_spd_est"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>6"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      5
	    }
	    Line {
	      Name		      "fc_brake_trq"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>7"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      6
	    }
	    Line {
	      Name		      "fc_trq_out_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>8"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      7
	    }
	    Line {
	      Name		      "fc_spd_out_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>9"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      8
	    }
	    Line {
	      Name		      "fuel"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>10"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      9
	    }
	    Line {
	      Name		      "engine_speed"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>11"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      10
	    }
	    Line {
	      Name		      "fc_hood_temp"
	      Labels		      [0, 0]
	      SrcBlock		      "From9"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      12
	    }
	    Line {
	      Name		      "fc_clt_tmp"
	      Labels		      [0, 0]
	      SrcBlock		      "From8"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      11
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      4
	      DstBlock		      "<sdo>12"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      5
	      DstBlock		      "<sdo>1"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [62, 40]
	      BackgroundColor	      "yellow"
	      Text		      "Model"
	      DropShadow	      on
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Position		      [82, 270]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      DropShadow	      on
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [65, 256, 175, 294]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fcControl"
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [380, 29, 480, 71]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fcReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [375, 254, 475, 296]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fcSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "fuel use"
	  Position		  [405, 95, 425, 115]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "EO emis\ninfo"
	  Position		  [470, 130, 490, 150]
	  NamePlacement		  "alternate"
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed\n avail. to driveline\n(Nm"
"), (rad/s)"
	  Position		  [405, 165, 425, 185]
	  FontName		  "Arial"
	  Port			  "3"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "Model &\nInterface"
	  SrcPort		  2
	  Points		  [85, 0; 0, -25]
	  DstBlock		  "fuel use"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "torque and speed\n req'd at engine \noutput"
" shaft\n(Nm)"
	  SrcPort		  1
	  DstBlock		  "Model &\nInterface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Model &\nInterface"
	  SrcPort		  3
	  DstBlock		  "EO emis\ninfo"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Model &\nInterface"
	  SrcPort		  4
	  Points		  [85, 0; 0, 25]
	  DstBlock		  "torque and speed\n avail. to driveline\n(Nm"
"), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [30, 0; 0, -120]
	  DstBlock		  "Model &\nInterface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Model &\nInterface"
	  SrcPort		  1
	  Points		  [30, 0; 0, -70]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Model &\nInterface"
	  SrcPort		  5
	  Points		  [30, 0; 0, 115]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Annotation {
	  Position		  [172, 50]
	  BackgroundColor	  "yellow"
	  Text			  "Internal Combustion Engine\nfor Series Powe"
"rtrain"
	  DropShadow		  on
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "fuel converter\n<fc>"
      Ports		      [1, 3]
      Position		      [95, 63, 150, 107]
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone IC ENGINE Mask"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'fc'|Log|{}|{}|'bdi_fc.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"fuel converter\n<fc>"
	Location		[214, 77, 966, 744]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "trq and spd\nout\nrequested"
	  Position		  [175, 158, 205, 172]
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Block NOTES"
	  Ports			  []
	  Position		  [80, 140, 136, 180]
	  BackgroundColor	  "green"
	  ShowName		  off
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "disp('Block\\nNOTES')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Block NOTES"
	    Location		    [620, 337, 1026, 424]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Annotation {
	      Position		      [212, 38]
	      Text		      "This block models the internal combusti"
"on engine, and includes inertia effects,\nperformance limits, accessory loads"
", and temperature transient effects on fuel\nuse, engine-out emissions, and c"
"atalyst efficiency.  There are 'leads' to the\nengine controller here, which "
"controller determines whether the engine is on."
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "IC Engine Model \n& \nInterface"
	  Ports			  [2, 5]
	  Position		  [270, 149, 310, 211]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "IC Engine Model \n& \nInterface"
	    Location		    [214, 77, 966, 744]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\nout\nrequested"
	      Position		      [190, 108, 220, 122]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      Position		      [25, 323, 55, 337]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>10"
	      Position		      [140, 394, 235, 416]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "engine_on"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>11"
	      Position		      [140, 424, 235, 446]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "key_on"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>12"
	      Position		      [140, 454, 235, 476]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "v_prev"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>2"
	      Position		      [140, 184, 235, 206]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "clutch_state"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>4"
	      Position		      [140, 214, 235, 236]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mpha_prev"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>5"
	      Position		      [140, 244, 235, 266]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>6"
	      Position		      [140, 274, 235, 296]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "current_veh_mass"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>7"
	      Position		      [140, 304, 235, 326]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "veh_spd_a_rec_prev"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>8"
	      Position		      [140, 334, 235, 356]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "cyc_mph_r_prev"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>9"
	      Position		      [140, 364, 235, 386]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_mech_trq_est"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [11, 1]
	      Position		      [680, 201, 690, 509]
	      ShowName		      off
	      Inputs		      "11"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux1"
	      Ports		      [1, 10]
	      Position		      [80, 189, 110, 471]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "10"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From"
	      Position		      [460, 196, 580, 214]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_spd_out_a"
	      Port {
		PortNumber		1
		Name			"fc_spd_out_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      Position		      [460, 226, 580, 244]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_trq_out_a"
	      Port {
		PortNumber		1
		Name			"fc_trq_out_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From11"
	      Position		      [460, 496, 580, 514]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_trq_out_r"
	      Port {
		PortNumber		1
		Name			"fc_trq_out_r"
		PropagatedSignals	"fc_trq_out_r"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From2"
	      Position		      [460, 256, 580, 274]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_spd_est"
	      Port {
		PortNumber		1
		Name			"fc_spd_est"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From3"
	      Position		      [460, 286, 580, 304]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fuel"
	      Port {
		PortNumber		1
		Name			"fuel"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From4"
	      Position		      [460, 316, 580, 334]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_spd_out_r"
	      Port {
		PortNumber		1
		Name			"fc_spd_out_r"
		PropagatedSignals	"w shaft out r"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From5"
	      Position		      [460, 346, 580, 364]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "engine_speed"
	      Port {
		PortNumber		1
		Name			"engine_speed"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From6"
	      Position		      [460, 376, 580, 394]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_trq_limited"
	      Port {
		PortNumber		1
		Name			"fc_trq_limited"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From7"
	      Position		      [460, 406, 580, 424]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_spd_limited"
	      Port {
		PortNumber		1
		Name			"fc_spd_limited"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From8"
	      Position		      [460, 436, 580, 454]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_clt_tmp"
	      Port {
		PortNumber		1
		Name			"fc_clt_tmp"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From9"
	      Position		      [460, 466, 580, 484]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_hood_temp"
	      Port {
		PortNumber		1
		Name			"fc_hood_temp"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      Position		      [370, 197, 455, 214]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_spd_out_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility10"
	      Position		      [370, 347, 455, 364]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "engine_speed"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility11"
	      Position		      [245, 217, 330, 234]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mpha_prev"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility12"
	      Position		      [245, 247, 330, 264]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility13"
	      Position		      [245, 277, 330, 294]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "current_veh_mass"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility14"
	      Position		      [370, 377, 455, 394]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_trq_limited"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility15"
	      Position		      [245, 307, 330, 324]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "veh_spd_a_rec_prev"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility16"
	      Position		      [245, 337, 330, 354]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "cyc_mph_r_prev"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility17"
	      Position		      [245, 367, 330, 384]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_mech_trq_est"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility18"
	      Position		      [245, 397, 330, 414]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "engine_on"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility19"
	      Position		      [370, 407, 455, 424]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_spd_limited"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [370, 227, 455, 244]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_trq_out_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility20"
	      Position		      [245, 427, 330, 444]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "key_on"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility21"
	      Position		      [245, 457, 330, 474]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "v_prev"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility22"
	      Position		      [370, 437, 455, 454]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_clt_tmp"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility3"
	      Position		      [370, 257, 455, 274]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_spd_est"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      Position		      [245, 187, 330, 204]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "clutch_state"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility5"
	      Position		      [370, 287, 455, 304]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fuel"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility6"
	      Position		      [370, 317, 455, 334]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_spd_out_r"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility7"
	      Position		      [370, 467, 455, 484]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_hood_temp"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility9"
	      Position		      [370, 497, 455, 514]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_trq_out_r"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "ic engine model"
	      Ports		      [1, 3]
	      Position		      [345, 63, 475, 167]
	      BackgroundColor	      "yellow"
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskInitialization      "\n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"ic engine model"
		Location		[344, 77, 950, 728]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed\n req'd at engine "
"\noutput shaft\n(Nm)"
		  Position		  [40, 60, 60, 80]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>"
		  Position		  [440, 245, 520, 265]
		  ShowName		  off
		  GotoTag		  "fc_spd_out_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>1"
		  Position		  [440, 175, 520, 195]
		  ShowName		  off
		  GotoTag		  "fc_trq_out_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [730, 250, 786, 290]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [212, 38]
		    Text		    "This block models the internal co"
"mbustion engine, and includes inertia effects,\nperformance limits, accessory"
" loads, and temperature transient effects on fuel\nuse, engine-out emissions,"
" and catalyst efficiency.  There are 'leads' to the\nengine controller here, "
"which controller determines whether the engine is on."
		    }
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [105, 39, 110, 101]
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  Position		  [155, 132, 240, 158]
		  ShowName		  off
		  GotoTag		  "fc_spd_out_r"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto1"
		  Position		  [810, 14, 870, 36]
		  ShowName		  off
		  GotoTag		  "fuel"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto2"
		  Position		  [410, 120, 485, 140]
		  ShowName		  off
		  GotoTag		  "fc_spd_est"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [715, 65, 720, 120]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [605, 201, 610, 234]
		  ShowName		  off
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Speed Limits"
		  Ports			  [1, 1]
		  Position		  [185, 71, 215, 99]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "Speed Limits"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Speed\nRequested"
		    Position		    [70, 83, 100, 97]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [65, 185, 95, 215]
		    ShowName		    off
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [65, 136, 175, 154]
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "engine_on"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Speed Limits"
		    Position		    [145, 75, 175, 105]
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "vc_idle_spd*vc_idle_bool"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if engine is not on,\nspeed is ze"
"ro"
		    Position		    [235, 62, 270, 228]
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Limited\nSpeed\nRequest"
		    Position		    [305, 138, 335, 152]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Speed\nRequested"
		    SrcPort		    1
		    DstBlock		    "Speed Limits"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Speed Limits"
		    SrcPort		    1
		    DstBlock		    "if engine is not on,\nspeed is ze"
"ro"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "if engine is not on,\nspeed is ze"
"ro"
		    SrcPort		    1
		    DstBlock		    "Limited\nSpeed\nRequest"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    DstBlock		    "if engine is not on,\nspeed is ze"
"ro"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "if engine is not on,\nspeed is ze"
"ro"
		    DstPort		    3
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "engine speed\nestimator"
		  Ports			  [1, 1]
		  Position		  [320, 113, 350, 147]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "engine speed\nestimator"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "spd\ncommand"
		    Position		    [15, 38, 45, 52]
		    ForegroundColor	    "lightBlue"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "<= max spd"
		    Position		    [780, 100, 810, 130]
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "-inf"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [985, 600, 1041, 640]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [202, 116]
		    Text		    "If the clutch is engaged and the "
"trace was missed in the previous time step:\nThe estimated engine speed for t"
"he current time step is the actual engine\nspeed from the previous time step."
"\n\nIf the clutch is disengaged and the speed is commanded to increase (spin "
"up):\nThe engine speed is the lesser of the commanded speed and the maximum\n"
"speed attainable given the engine capability.\n\nIf the clutch is disengaged "
"at the speed is commanded to decrease (spin down):\nThe engine speed is compu"
"ted by integrating with respect to time the ratio of\n closed-throttle torque"
" to engine inertia.\n\nOtherwise:\nThe engine speed is equal to the speed com"
"mand, but no greater than the\nengine's maximum speed nor less than the engin"
"e's idle speed (if the engine is on.)"
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [355, 210, 375, 230]
		    Orientation		    "left"
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [505, 135, 525, 155]
		    Orientation		    "left"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [420, 330, 440, 350]
		    Orientation		    "left"
		    Value		    "2"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [315, 380, 335, 400]
		    Value		    "2"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant4"
		    Position		    [860, 160, 930, 180]
		    Value		    "vc_idle_spd"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant5"
		    Position		    [420, 580, 440, 600]
		    Orientation		    "left"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [55, 496, 170, 514]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_trq_est"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <cyc>"
		    Position		    [220, 274, 310, 306]
		    ForegroundColor	    "green"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "cyc_mph_r_prev"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [220, 359, 310, 391]
		    ForegroundColor	    "red"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "clutch_state"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>1"
		    Position		    [860, 245, 930, 265]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "engine_on"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <veh>"
		    Position		    [220, 69, 275, 101]
		    ForegroundColor	    "cyan"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "mpha_prev"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <wh>/\ntire slip model (m/s)"
		    Position		    [220, 154, 310, 186]
		    ForegroundColor	    "blue"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "veh_spd_a_rec_prev"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [340, 67, 380, 103]
		    Gain		    "0.447"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>1"
		    Position		    [945, 29, 1030, 51]
		    GotoTag		    "fc_spd_limited"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    InitialCondition
		    Name		    "IC"
		    Position		    [560, 80, 590, 110]
		    Value		    "cyc_mph(1,2)*0.447/wh_radius*fd_r"
"atio*gb_ratio(gb_num_init)"
		    }
		    Block {
		    BlockType		    InitialCondition
		    Name		    "IC1"
		    Position		    [490, 280, 520, 310]
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [565, 287, 595, 318]
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [2, 1]
		    Position		    [890, 22, 920, 53]
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator2"
		    Ports		    [1, 1]
		    Position		    [650, 164, 680, 196]
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory2"
		    Position		    [840, 45, 870, 75]
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory3"
		    Position		    [890, 605, 920, 635]
		    Orientation		    "left"
		    ForegroundColor	    "orange"
		    X0			    "cyc_mph(1,2)*0.447/wh_radius*fd_r"
"atio*max(gb_ratio)"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory4"
		    Position		    [295, 35, 325, 65]
		    ForegroundColor	    "gray"
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [215, 422, 245, 453]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax1"
		    Ports		    [2, 1]
		    Position		    [880, 107, 910, 138]
		    Function		    "max"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [3, 1]
		    Position		    [405, 69, 435, 101]
		    Inputs		    "**/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [545, 556, 565, 574]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [880, 198, 910, 227]
		    Orientation		    "left"
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational"
		    Position		    [415, 277, 445, 308]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [380, 367, 410, 398]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [780, 12, 810, 43]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    Position		    [75, 272, 105, 303]
		    Operator		    ">="
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [350, 162, 380, 193]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [350, 267, 380, 298]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    Ports		    [2, 1]
		    Position		    [380, 442, 410, 473]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum3"
		    Ports		    [2, 1]
		    Position		    [590, 560, 610, 580]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum4"
		    Ports		    [2, 1]
		    Position		    [145, 427, 175, 458]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [500, 80, 530, 110]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [650, 90, 680, 120]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch2"
		    Position		    [715, 100, 745, 130]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch:\nmap torque"
		    Position		    [285, 435, 315, 465]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "T closed\nthrottle"
		    Position		    [75, 528, 105, 552]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_ct_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "T_max"
		    Position		    [75, 338, 105, 362]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_max_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "alpha"
		    Position		    [470, 436, 515, 484]
		    Gain		    "1/(fc_inertia+eps)"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "clutch\ndisengaged"
		    Position		    [415, 517, 445, 548]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    Ports		    [0, 1]
		    Position		    [475, 555, 505, 585]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "dt"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [65, 30, 85, 50]
		    FontName		    "Arial"
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [125, 55, 160, 75]
		    FontName		    "Arial"
		    X0			    "-0.1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 35, 225, 55]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [255, 35, 275, 55]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "effect of inertia\n(Nm)"
		    Ports		    [2, 1]
		    Position		    [75, 386, 105, 424]
		    FontName		    "Arial"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "req'd spd\n(rad/s)"
		    Position		    [60, 80, 80, 100]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "prev spd"
		    Position		    [60, 130, 80, 150]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [40, 175, 60, 195]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [120, 19, 180, 41]
		    FontName		    "Arial"
		    Value		    "fc_inertia"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [95, 210, 130, 230]
		    FontName		    "Arial"
		    X0			    "-0.1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [3, 1]
		    Position		    [285, 77, 315, 113]
		    Inputs		    "**/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [115, 85, 135, 105]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [160, 180, 180, 200]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "(Nm)"
		    Position		    [385, 85, 405, 105]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [40, 0; 0, -85]
		    DstBlock		    "Product1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "req'd spd\n(rad/s)"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev spd"
		    SrcPort		    1
		    Points		    [5, 0; 0, -40]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [5, 0; 0, -25]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [40, 0; 0, 55]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just started\nspin-down/spin-up"
		    Ports		    [1, 1]
		    Position		    [560, 468, 590, 502]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "just started\nspin-down/spin-up"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "state"
		    Position		    [15, 20, 35, 40]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [220, 23, 250, 47]
		    FontName		    "Arial"
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [165, 83, 195, 107]
		    FontName		    "Arial"
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [110, 85, 145, 105]
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "trigger"
		    Position		    [295, 25, 315, 45]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "trigger"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "state"
		    SrcPort		    1
		    Points		    [50, 0]
		    Branch {
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "no-lag\nReset Integrator"
		    Ports		    [3, 1]
		    Position		    [635, 446, 685, 524]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "No-lag Reset Integrator"
		    MaskDescription	    "No-lag Reset Integrator"
		    MaskHelp		    "Integrates first input using Eule"
"r technique.\\nAt the time step that input 2 <> zero,\\noutput is reset to in"
"put 3."
		    MaskPromptString	    "Initial Value"
		    MaskStyleString	    "edit"
		    MaskTunableValueString  "on"
		    MaskEnableString	    "on"
		    MaskVisibilityString    "on"
		    MaskToolTipString	    "on"
		    MaskInitialization	    "initval=@1;"
		    MaskDisplay		    "disp('1/s\\nw/ reset\\nno lag')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "vc_idle_spd"
		    System {
		    Name		    "no-lag\nReset Integrator"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [60, 100, 80, 120]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    Position		    [60, 140, 80, 160]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_3"
		    Position		    [45, 185, 65, 205]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [105, 155, 125, 175]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [340, 55, 375, 75]
		    Orientation		    "left"
		    FontName		    "Arial"
		    X0			    "initval"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [160, 96, 180, 114]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [230, 90, 250, 110]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [290, 139, 320, 171]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    Ports		    [0, 1]
		    Position		    [112, 50, 138, 80]
		    Orientation		    "down"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "dt"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [65, 60, 85, 80]
		    FontName		    "Arial"
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [125, 85, 160, 105]
		    FontName		    "Arial"
		    X0			    "-0.1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 65, 225, 85]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [255, 65, 275, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "in_2==0"
		    Position		    [160, 143, 190, 167]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [455, 145, 475, 165]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "in_3"
		    SrcPort		    1
		    Points		    [195, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "in_2==0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "dt"
		    SrcPort		    1
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-130, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [10, 0; 0, 45]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "in_2==0"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "in_2==0"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [990, 118, 1020, 132]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "IC1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory4"
		    SrcPort		    1
		    Points		    [60, 0]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [190, 0]
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -25; -45, 0]
		    DstBlock		    "Sum4"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    Labels		    [1, 0]
		    SrcBlock		    "From <wh>/\ntire slip model (m/s)"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -25; 155, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "IC"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <cyc>"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <veh>"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 190]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Relational"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational"
		    SrcPort		    1
		    DstBlock		    "IC1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "IC"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Product"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [135, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "alpha"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "dt"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "alpha"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant5"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "clutch\ndisengaged"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "Switch2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "clutch\ndisengaged"
		    SrcPort		    1
		    Points		    [5, 0; 0, -50]
		    Branch {
		    Points		    [0, -305]
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "just started\nspin-down/spin-up"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 150]
		    DstBlock		    "clutch\ndisengaged"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory3"
		    SrcPort		    1
		    Points		    [-315, 0]
		    Branch {
		    Points		    [0, -45]
		    DstBlock		    "Sum3"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [-525, 0; 0, -80]
		    Branch {
		    Points		    [0, -125]
		    Branch {
		    Points		    [0, -65]
		    Branch {
		    Points		    [0, -55]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "T closed\nthrottle"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "<= max spd"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, -20; -75, 0; 0, -60]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "MinMax1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "From <vc>1"
		    SrcPort		    1
		    Points		    [0, -35]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant4"
		    SrcPort		    1
		    Points		    [0, 35]
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax1"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 495]
		    DstBlock		    "Memory3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    Points		    [-25, 0; 0, -85]
		    DstBlock		    "MinMax1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch2"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "<= max spd"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -95]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory2"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Goto <sdo>1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Memory2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Switch:\nmap torque"
		    SrcPort		    1
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    Points		    [80, 0; 0, 120; 65, 0; 0, 40]
		    DstBlock		    "Switch:\nmap torque"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "T closed\nthrottle"
		    SrcPort		    1
		    Points		    [155, 0; 0, -80]
		    DstBlock		    "Switch:\nmap torque"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    DstBlock		    "Switch:\nmap torque"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "T_max"
		    SrcPort		    1
		    Points		    [70, 0; 0, 80]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum4"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "effect of inertia\n(Nm)"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "spd\ncommand"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, -20; 210, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory4"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [345, 0; 0, 90]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    }
		    Branch {
		    Points		    [0, 235]
		    Branch {
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 115]
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator2"
		    SrcPort		    1
		    Points		    [5, 0; 0, -65]
		    DstBlock		    "Switch2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    Points		    [30, 0; 0, -200]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Switch2"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "just started\nspin-down/spin-up"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum3"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		    Annotation {
		    Position		    [217, 61]
		    Text		    "from last time step"
		    }
		    Annotation {
		    Position		    [236, 142]
		    Text		    "from last time step"
		    }
		    Annotation {
		    Position		    [247, 263]
		    Text		    "from last time step"
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "engine torque"
		  Ports			  [3, 2]
		  Position		  [315, 48, 345, 82]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "engine torque"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "fc_trq_out_r"
		    Position		    [40, 48, 70, 62]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "spd command"
		    Position		    [40, 93, 70, 107]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine spd"
		    Position		    [40, 138, 70, 152]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [710, 460, 766, 500]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [167, 81]
		    Text		    "If the engine is not spinning dow"
"n with the clutch disengaged:\n1.  Engine brake (aka map) torque is given by "
"the required shaft\ntorque plus enough torque to accelerate the engine's rota"
"ting\nparts as commanded and torque to power the accessories, \nsubject to th"
"e engine's torque limits at the current speed.\n2.  Shaft torque is engine br"
"ake torque less the effects of inertia\nand accessories.\n\nIf the engine is "
"spinning down:\n1.  Engine brake/map torque is the closed-throttle torque.\n2"
".  Shaft torque is zero."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [595, 215, 615, 235]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [120, 455, 140, 475]
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [35, 437, 105, 463]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "clutch_state"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>"
		    Position		    [440, 18, 520, 42]
		    GotoTag		    "fc_trq_limited"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [255, 382, 285, 413]
		    Operator		    "OR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [385, 77, 415, 108]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax1"
		    Ports		    [2, 1]
		    Position		    [440, 77, 470, 108]
		    Function		    "max"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [260, 40, 280, 120]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [550, 105, 570, 185]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [315, 75, 345, 105]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [640, 140, 670, 170]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "T_closed\nthrottle"
		    Ports		    [1, 1]
		    Position		    [185, 286, 215, 314]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "T_closed\nthrottle"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    Position		    [15, 45, 35, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [80, 46, 110, 64]
		    FontName		    "Arial"
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "min(fc_map_spd)*fc_spd_scale"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "ctt lookup"
		    Position		    [150, 43, 180, 67]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_ct_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_closed\nthrottle"
		    Position		    [215, 45, 235, 65]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "ctt lookup"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "ctt lookup"
		    SrcPort		    1
		    DstBlock		    "T_closed\nthrottle"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "T_max"
		    Ports		    [1, 1]
		    Position		    [185, 230, 215, 260]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "T_max"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    Position		    [20, 45, 40, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto Fuzzy controller <cs>"
		    Position		    [175, 94, 265, 116]
		    GotoTag		    "engine_speed"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [85, 46, 115, 64]
		    FontName		    "Arial"
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "min(fc_map_spd)*fc_spd_scale"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max_torque lookup"
		    Position		    [180, 43, 210, 67]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_max_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_max"
		    Position		    [260, 45, 280, 65]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, 50]
		    DstBlock		    "Goto Fuzzy controller <cs>"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "max_torque lookup"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "max_torque lookup"
		    SrcPort		    1
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "clutch not\ndisengaged"
		    Position		    [185, 442, 215, 473]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "effect of inertia\n(Nm)"
		    Ports		    [1, 1]
		    Position		    [185, 91, 215, 129]
		    FontName		    "Arial"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "engine spd\n(rad/s)"
		    Position		    [30, 15, 50, 35]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">=0"
		    Position		    [310, 50, 340, 80]
		    UpperLimit		    "inf"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [605, 320, 661, 360]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [207, 56]
		    Text		    "Torque required to accelerate the"
" engine inertia is taken from the engine\nacceleration, and is assumed to be "
"no less than zero if the trace was missed\nat all on the previous time step."
"\n\nThe torque required to accelerate the engine's inertia is never assumed t"
"o\nbe more than the product of the engine's maximum torque and the engine's\n"
"contribution to the total vehicle inertia."
		    }
		    }
		    }
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [310, 265, 330, 285]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [485, 314, 545, 336]
		    Orientation		    "left"
		    FontName		    "Arial"
		    Value		    "fc_inertia"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [360, 157, 510, 183]
		    Value		    "max(fc_max_trq)*fc_trq_scale"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [195, 275, 235, 295]
		    Orientation		    "left"
		    Value		    "0.01"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <cyc>"
		    Position		    [25, 219, 115, 251]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "cyc_mph_r_prev"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <veh>"
		    Position		    [25, 174, 80, 206]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "mpha_prev"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [365, 300, 400, 320]
		    FontName		    "Arial"
		    X0			    "-0.1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [95, 35, 120, 65]
		    X0			    "vc_idle_spd*vc_key_on(1,2)"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [585, 257, 615, 288]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [535, 147, 565, 178]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [3, 1]
		    Position		    [490, 262, 520, 298]
		    Inputs		    "*/*"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational"
		    Position		    [190, 222, 220, 253]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [150, 20, 170, 40]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [430, 270, 450, 290]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    Ports		    [2, 1]
		    Position		    [135, 212, 165, 243]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [375, 225, 405, 255]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "engine inertia as a function of t"
"otal\nvehicle inertia (generous approximation)"
		    Ports		    [0, 1]
		    Position		    [505, 70, 535, 120]
		    Orientation		    "down"
		    BackgroundColor	    "darkGreen"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "engine inertia as a function of t"
"otal\nvehicle inertia (generous approximation)"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [195, 25, 265, 55]
		    Orientation		    "down"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [322, 275, 353, 310]
		    Orientation		    "down"
		    NamePlacement	    "alternate"
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [580, 205, 600, 225]
		    Orientation		    "down"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "++|"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--denomenator"
		    Position		    [389, 155, 791, 180]
		    Orientation		    "down"
		    Expr		    "fc_inertia*(u*fd_ratio/wh_radius)"
"^2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--numerator"
		    Position		    [29, 95, 431, 120]
		    Orientation		    "down"
		    Expr		    "fc_inertia*(u*fd_ratio/wh_radius)"
"^2"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "veh mass calc"
		    Ports		    [0, 1]
		    Position		    [445, 206, 525, 224]
		    BackgroundColor	    "magenta"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "veh mass calc"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [70, 51, 170, 79]
		    BackgroundColor	    "lightBlue"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "current_veh_mass"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [215, 58, 245, 72]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [325, 370, 355, 385]
		    Orientation		    "down"
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [0, 30]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--numerator"
		    SrcPort		    1
		    Points		    [0, 135]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--denomenator"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "veh mass calc"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    Points		    [0, 5]
		    Branch {
		    Points		    [360, 0]
		    DstBlock		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--denomenator"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--numerator"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "(Nm)"
		    Position		    [635, 265, 655, 285]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "engine spd\n(rad/s)"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "Relational"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    ">=0"
		    SrcPort		    1
		    Points		    [5, 0; 0, 165]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [10, 0; 0, 0]
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [5, 0; 0, -25]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-5, 0]
		    DstBlock		    "Product1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [55, 0; 0, 30]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <veh>"
		    SrcPort		    1
		    Points		    [25, 0; 0, 30]
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <cyc>"
		    SrcPort		    1
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    DstBlock		    "(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "engine inertia as a function of t"
"otal\nvehicle inertia (generous approximation)"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [120, 0; 0, 35]
		    Branch {
		    Points		    [0, 185]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    ">=0"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "engine commanded\nnot to decelera"
"te"
		    Position		    [185, 372, 215, 403]
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "limited"
		    Position		    [385, 12, 415, 43]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "map torque (Nm)"
		    Position		    [700, 88, 730, 102]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "torque to shaft (Nm)"
		    Position		    [705, 148, 735, 162]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "torque to shaft (Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    DstBlock		    "clutch not\ndisengaged"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    DstBlock		    "clutch not\ndisengaged"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "engine commanded\nnot to decelera"
"te"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    Points		    [5, 0; 0, -310]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "limited"
		    SrcPort		    1
		    DstBlock		    "Goto <sdo>"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    Points		    [0, -10]
		    DstBlock		    "MinMax1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "T_max"
		    SrcPort		    1
		    Points		    [150, 0]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "T_closed\nthrottle"
		    SrcPort		    1
		    Points		    [80, 0]
		    Branch {
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [125, 0]
		    DstBlock		    "MinMax1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "MinMax1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, -30; -125, 0; 0, -30]
		    DstBlock		    "limited"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [40, 0]
		    Branch {
		    DstBlock		    "map torque (Nm)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 30]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [15, 0]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -70]
		    DstBlock		    "limited"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "clutch not\ndisengaged"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [340, 0; 0, -305]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "engine spd"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    Points		    [0, 100]
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "T_closed\nthrottle"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, -35; 55, 0]
		    Branch {
		    Points		    [0, 270]
		    DstBlock		    "engine commanded\nnot to decelera"
"te"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "fc_trq_out_r"
		    SrcPort		    1
		    Points		    [170, 0]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "effect of inertia\n(Nm)"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Labels		    [1, 0]
		    Points		    [0, -10]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "spd command"
		    SrcPort		    1
		    Points		    [25, 0; 0, 295]
		    DstBlock		    "engine commanded\nnot to decelera"
"te"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [145, 172, 240, 188]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_spd_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [405, 147, 500, 163]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_est|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_spd_est"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [805, 77, 900, 93]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|fuel|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_fuel"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [425, 282, 520, 298]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_spd_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  Ports			  [1]
		  Position		  [540, 172, 635, 188]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_trq_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  Ports			  [1]
		  Position		  [145, 27, 240, 43]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_trq_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  Ports			  [1]
		  Position		  [385, 27, 480, 43]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|brake_trq|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_brake_trq"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fuel use and EO emis Configurable S"
"ubsystem"
		  Ports			  [2, 3]
		  Position		  [515, 39, 680, 121]
		  BackgroundColor	  "lightBlue"
		  AttributesFormatString  "%<BlockChoice>"
		  LinkData {
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace1/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_th_pwr"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace10/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_ex_gas_tmp"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace11/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_ex_th_pwr"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace12/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_clt_tmp"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace2/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_o2_flow"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace3/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_r_th_pwr"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace5/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_h_th_pwr"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace6/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_tmp"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace7/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_fuel_rate"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace8/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_emis_eo"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace9/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_ex_gas_flow"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		  }
		  ShowPortLabels	  on
		  BlockChoice		  "fuel use and EO emis"
		  TemplateBlock		  "lib_fuel_converter3/configurable su"
"bsystems/fuel use and EO emis Configurable Subsystem"
		  MemberBlocks		  "fuel use and EO emis,fuel use and E"
"O emis Neural Network Model"
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "fuel use and EO emis Configurable"
" Subsystem"
		    Location		    [148, 182, 646, 482]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "T (Nm)"
		    Position		    [20, 40, 40, 60]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w (rad/s)"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "fuel use and EO emis"
		    Ports		    [2, 3]
		    Position		    [100, 40, 140, 80]
		    BackgroundColor	    "lightBlue"
		    SourceBlock		    "lib_fuel_converter3/configurable "
"subsystems/fuel use and EO emis"
		    SourceType		    "SubSystem"
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "cumulative fuel \nuse (gal)"
		    Position		    [200, 40, 220, 60]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
		    Position		    [200, 80, 220, 100]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Vv,Tfc"
		    Position		    [200, 120, 220, 140]
		    Port		    "3"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "fuel use and EO emis"
		    SrcPort		    3
		    Points		    [10, 0; 0, 55]
		    DstBlock		    "Vv,Tfc"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fuel use and EO emis"
		    SrcPort		    2
		    Points		    [20, 0; 0, 30]
		    DstBlock		    "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fuel use and EO emis"
		    SrcPort		    1
		    Points		    [20, 0; 0, 5]
		    DstBlock		    "cumulative fuel \nuse (gal)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w (rad/s)"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "fuel use and EO emis"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "T (Nm)"
		    SrcPort		    1
		    DstBlock		    "fuel use and EO emis"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  Ports			  []
		  Position		  [690, 248, 722, 287]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('fuel_conv"
"erter.htm')]);"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "image(imread('doc_man.jpg'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "help"
		    Location		    [203, 331, 569, 538]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "fuel use"
		  Position		  [750, 45, 770, 65]
		  NamePlacement		  "alternate"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "EO emis\ninfo"
		  Position		  [750, 85, 770, 105]
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed\n avail. to drivel"
"ine\n(Nm), (rad/s)"
		  Position		  [710, 210, 730, 230]
		  NamePlacement		  "alternate"
		  FontName		  "Arial"
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "engine torque"
		  SrcPort		  2
		  Points		  [20, 0; 0, 135; 45, 0]
		  Branch {
		    Points		    [0, -25]
		    DstBlock		    "<sdo>1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [110, 0]
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "engine torque"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "fuel use and EO emis Configurable"
" Subsystem"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "torque and speed\n avail. to drivel"
"ine\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fuel use and EO emis Configurable S"
"ubsystem"
		  SrcPort		  3
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "fuel use and EO emis Configurable S"
"ubsystem"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "EO emis\ninfo"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "engine torque"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -20]
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "torque and speed\n req'd at engine "
"\noutput shaft\n(Nm)"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Speed Limits"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "fuel use and EO emis Configurable S"
"ubsystem"
		  SrcPort		  1
		  Points		  [40, 0]
		  Branch {
		    DstBlock		    "fuel use"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -30; 65, 0]
		    Branch {
		    DstBlock		    "Goto1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "engine speed\nestimator"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -30]
		    Branch {
		    Points		    [-60, 0]
		    DstBlock		    "engine torque"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "fuel use and EO emis Configurable"
" Subsystem"
		    DstPort		    2
		    }
		  }
		  Branch {
		    Points		    [30, 0; 0, 0]
		    Branch {
		    DstBlock		    "Goto2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Speed Limits"
		  SrcPort		  1
		  Points		  [70, 0]
		  Branch {
		    Points		    [0, -20]
		    DstBlock		    "engine torque"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 45]
		    Branch {
		    DstBlock		    "engine speed\nestimator"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 95; 80, 0]
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 30]
		    Branch {
		    DstBlock		    "<sdo>"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		    }
		    }
		    }
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [285, 21, 330, 49]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 77, 966, 752]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 108, 140, 122]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 88, 210, 137]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "fc_trq_out_r"
		    PropagatedSignals	    "trq in r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "fc_spd_out_r"
		    PropagatedSignals	    "w shaft out r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From2"
		  Position		  [280, 170, 400, 190]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "fc_spd_est"
		  Port {
		    PortNumber		    1
		    Name		    "fc_spd_est"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  Position		  [315, 88, 470, 112]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "fc_trq_out_r"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [1, 1]
		  Position		  [485, 87, 490, 203]
		  ShowName		  off
		  Inputs		  "1"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [315, 115, 335, 135]
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [555, 138, 585, 152]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  Name			  "fc_spd_est"
		  Labels		  [0, 0]
		  SrcBlock		  "From2"
		  SrcPort		  1
		  Points		  [65, 0]
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "fc_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Goto"
		  DstPort		  1
		}
		Line {
		  Name			  "fc_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "req out"
	      Position		      [505, 28, 535, 42]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "fuel"
	      Position		      [505, 73, 535, 87]
	      NamePlacement	      "alternate"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "engine out\nemissions"
	      Position		      [580, 108, 610, 122]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\nout\nachieved"
	      Position		      [505, 143, 535, 157]
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [710, 348, 740, 362]
	      Port		      "5"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      Name		      "fc_trq_out_r"
	      Labels		      [0, 0]
	      SrcBlock		      "From11"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      11
	    }
	    Line {
	      Name		      "fc_hood_temp"
	      Labels		      [0, 0]
	      SrcBlock		      "From9"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      10
	    }
	    Line {
	      Name		      "fc_clt_tmp"
	      Labels		      [0, 0]
	      SrcBlock		      "From8"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      9
	    }
	    Line {
	      Name		      "fc_spd_limited"
	      Labels		      [0, 0]
	      SrcBlock		      "From7"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      8
	    }
	    Line {
	      Name		      "fc_trq_limited"
	      Labels		      [0, 0]
	      SrcBlock		      "From6"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      7
	    }
	    Line {
	      Name		      "engine_speed"
	      Labels		      [0, 0]
	      SrcBlock		      "From5"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      6
	    }
	    Line {
	      Name		      "fc_spd_out_r"
	      Labels		      [0, 0]
	      SrcBlock		      "From4"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      5
	    }
	    Line {
	      Name		      "fuel"
	      Labels		      [0, 0]
	      SrcBlock		      "From3"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      4
	    }
	    Line {
	      Name		      "fc_spd_est"
	      Labels		      [0, 0]
	      SrcBlock		      "From2"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "fc_trq_out_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From1"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "fc_spd_out_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      1
	      DstBlock		      "<sdo>2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      2
	      DstBlock		      "<sdo>4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      3
	      DstBlock		      "<sdo>5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      4
	      DstBlock		      "<sdo>6"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      5
	      DstBlock		      "<sdo>7"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      6
	      DstBlock		      "<sdo>8"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      7
	      DstBlock		      "<sdo>9"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      8
	      DstBlock		      "<sdo>10"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      9
	      DstBlock		      "<sdo>11"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      10
	      DstBlock		      "<sdo>12"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd\nout\nrequested"
	      SrcPort		      1
	      Points		      [25, 0]
	      Branch {
		DstBlock		"ic engine model"
		DstPort			1
	      }
	      Branch {
		Points			[0, -80]
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "ic engine model"
	      SrcPort		      1
	      DstBlock		      "fuel"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "ic engine model"
	      SrcPort		      2
	      DstBlock		      "engine out\nemissions"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "ic engine model"
	      SrcPort		      3
	      DstBlock		      "trq and spd\nout\nachieved"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Demux1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "req out"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [85, 517]
	      HorizontalAlignment     "left"
	      Text		      "mpha_prev, cyc_mph_r_prev, and veh_spd_"
"a_rec_prev\nare all from the previous time step"
	    }
	    Annotation {
	      Position		      [109, 507]
	    }
	    Annotation {
	      Position		      [388, 556]
	      Text		      "*"
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Position		      [353, 356]
	      Text		      "*"
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Position		      [411, 577]
	      HorizontalAlignment     "left"
	      Text		      "formerly \nengine_rpm\nrenamed because "
"\nunits are rad/s\n (misleading)"
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [105, 256, 215, 294]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fcControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "help"
	  Ports			  []
	  Position		  [80, 63, 112, 102]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowName		  off
	  OpenFcn		  "web(['file:\\\\\\' which('fuel_converter.ht"
"m')]);"
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "image(imread('doc_man.jpg'))"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "help"
	    Location		    [203, 331, 569, 538]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [420, 84, 520, 126]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fcReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [415, 259, 515, 301]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fcSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "fuel"
	  Position		  [380, 163, 410, 177]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "engine out\nemissions"
	  Position		  [440, 173, 470, 187]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "trq and spd\nout\nachieved"
	  Position		  [380, 183, 410, 197]
	  Port			  "3"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "trq and spd\nout\nrequested"
	  SrcPort		  1
	  DstBlock		  "IC Engine Model \n& \nInterface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [0, -80]
	  DstBlock		  "IC Engine Model \n& \nInterface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "IC Engine Model \n& \nInterface"
	  SrcPort		  5
	  Points		  [45, 0; 0, 80]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "IC Engine Model \n& \nInterface"
	  SrcPort		  4
	  DstBlock		  "trq and spd\nout\nachieved"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "IC Engine Model \n& \nInterface"
	  SrcPort		  3
	  DstBlock		  "engine out\nemissions"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "IC Engine Model \n& \nInterface"
	  SrcPort		  2
	  DstBlock		  "fuel"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "IC Engine Model \n& \nInterface"
	  SrcPort		  1
	  Points		  [15, 0; 0, -55]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Annotation {
	  Position		  [322, 55]
	  BackgroundColor	  "yellow"
	  Text			  "Internal Combustion Engine"
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "fuel converter\n<fc>\nno fuel at negative torqu"
"e"
      Ports		      [1, 3]
      Position		      [95, 153, 150, 197]
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone IC ENGINE Mask"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'fc'|Log|{}|{}|'bdi_fc.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"fuel converter\n<fc>\nno fuel at negative tor"
"que"
	Location		[194, 77, 966, 744]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "trq and spd\nout\nrequested"
	  Position		  [175, 193, 205, 207]
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Block NOTES"
	  Ports			  []
	  Position		  [80, 175, 136, 215]
	  BackgroundColor	  "green"
	  ShowName		  off
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "disp('Block\\nNOTES')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Block NOTES"
	    Location		    [620, 337, 1026, 424]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Annotation {
	      Position		      [212, 38]
	      Text		      "This block models the internal combusti"
"on engine, and includes inertia effects,\nperformance limits, accessory loads"
", and temperature transient effects on fuel\nuse, engine-out emissions, and c"
"atalyst efficiency.  There are 'leads' to the\nengine controller here, which "
"controller determines whether the engine is on."
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "IC Engine Model \n& \nInterface"
	  Ports			  [2, 5]
	  Position		  [270, 184, 310, 246]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "IC Engine Model \n& \nInterface"
	    Location		    [202, 73, 966, 748]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\nout\nrequested"
	      Position		      [190, 133, 220, 147]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      Position		      [20, 388, 50, 402]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>10"
	      Position		      [135, 459, 230, 481]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "engine_on"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>11"
	      Position		      [135, 489, 230, 511]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "key_on"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>12"
	      Position		      [135, 519, 230, 541]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "v_prev"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>2"
	      Position		      [135, 249, 230, 271]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "clutch_state"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>4"
	      Position		      [135, 279, 230, 301]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mpha"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>5"
	      Position		      [135, 309, 230, 331]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>6"
	      Position		      [135, 339, 230, 361]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "current_veh_mass"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>7"
	      Position		      [135, 369, 230, 391]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "veh_spd_a_rec"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>8"
	      Position		      [135, 399, 230, 421]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "cyc_mph_r"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>9"
	      Position		      [135, 429, 230, 451]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_mech_trq_est"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [12, 1]
	      Position		      [690, 240, 710, 545]
	      ShowName		      off
	      Inputs		      "12"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux1"
	      Ports		      [1, 10]
	      Position		      [90, 253, 110, 537]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "10"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From"
	      Position		      [455, 245, 575, 265]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_spd_out_a"
	      Port {
		PortNumber		1
		Name			"fc_spd_out_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      Position		      [455, 495, 575, 515]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_braking"
	      Port {
		PortNumber		1
		Name			"fc_braking"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From10"
	      Position		      [455, 395, 575, 415]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_trq_limited"
	      Port {
		PortNumber		1
		Name			"fc_trq_limited"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From12"
	      Position		      [455, 420, 575, 440]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_spd_limited"
	      Port {
		PortNumber		1
		Name			"fc_spd_limited"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From13"
	      Position		      [455, 270, 575, 290]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_trq_out_a"
	      Port {
		PortNumber		1
		Name			"fc_trq_out_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From14"
	      Position		      [455, 445, 575, 465]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_clt_tmp"
	      Port {
		PortNumber		1
		Name			"fc_clt_tmp"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From2"
	      Position		      [455, 295, 575, 315]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_spd_est"
	      Port {
		PortNumber		1
		Name			"fc_spd_est"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From3"
	      Position		      [455, 320, 575, 340]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fuel"
	      Port {
		PortNumber		1
		Name			"fuel"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From4"
	      Position		      [455, 345, 575, 365]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_spd_out_r"
	      Port {
		PortNumber		1
		Name			"fc_spd_out_r"
		PropagatedSignals	"w shaft out r"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From5"
	      Position		      [455, 520, 575, 540]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_decceleration_cmd"
	      Port {
		PortNumber		1
		Name			"fc_decceleration_cmd"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From6"
	      Position		      [455, 470, 575, 490]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_hood_temp"
	      Port {
		PortNumber		1
		Name			"fc_hood_temp"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From9"
	      Position		      [455, 370, 575, 390]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "engine_speed"
	      Port {
		PortNumber		1
		Name			"engine_speed"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      Position		      [360, 247, 445, 264]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_spd_out_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility10"
	      Position		      [360, 372, 445, 389]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "engine_speed"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility11"
	      Position		      [240, 282, 325, 299]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mpha"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility12"
	      Position		      [240, 312, 325, 329]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility13"
	      Position		      [240, 342, 325, 359]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "current_veh_mass"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility14"
	      Position		      [360, 397, 445, 414]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_trq_limited"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility15"
	      Position		      [240, 372, 325, 389]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "veh_spd_a_rec"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility16"
	      Position		      [240, 402, 325, 419]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "cyc_mph_r"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility17"
	      Position		      [240, 432, 325, 449]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_mech_trq_est"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility18"
	      Position		      [240, 462, 325, 479]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "engine_on"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility19"
	      Position		      [360, 422, 445, 439]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_spd_limited"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [360, 272, 445, 289]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_trq_out_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility20"
	      Position		      [240, 492, 325, 509]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "key_on"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility21"
	      Position		      [240, 522, 325, 539]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "v_prev"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility22"
	      Position		      [360, 447, 445, 464]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_clt_tmp"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility3"
	      Position		      [360, 297, 445, 314]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_spd_est"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      Position		      [240, 252, 325, 269]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "clutch_state"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility5"
	      Position		      [360, 322, 445, 339]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fuel"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility6"
	      Position		      [360, 347, 445, 364]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_spd_out_r"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility7"
	      Position		      [360, 472, 445, 489]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_hood_temp"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility8"
	      Position		      [360, 497, 445, 514]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_braking"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility9"
	      Position		      [360, 522, 445, 539]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_decceleration_cmd"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "ic engine model"
	      Ports		      [1, 3]
	      Position		      [335, 88, 465, 192]
	      DropShadow	      on
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskInitialization      "\n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"ic engine model"
		Location		[59, 102, 871, 769]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed\n req'd at engine "
"\noutput shaft\n(Nm)"
		  Position		  [40, 60, 60, 80]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>"
		  Position		  [440, 245, 520, 265]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "fc_spd_out_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>1"
		  Position		  [440, 175, 520, 195]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "fc_trq_out_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [805, 215, 861, 255]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [620, 337, 1026, 424]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [212, 38]
		    Text		    "This block models the internal co"
"mbustion engine, and includes inertia effects,\nperformance limits, accessory"
" loads, and temperature transient effects on fuel\nuse, engine-out emissions,"
" and catalyst efficiency.  There are 'leads' to the\nengine controller here, "
"which controller determines whether the engine is on."
		    }
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [105, 39, 110, 101]
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [105, 228, 110, 272]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux2"
		  Ports			  [1, 2]
		  Position		  [640, 243, 645, 287]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  Position		  [155, 132, 240, 158]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "fc_spd_out_r"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto1"
		  Position		  [810, 14, 870, 36]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "fuel"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto2"
		  Position		  [410, 120, 485, 140]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "fc_spd_est"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [715, 65, 720, 120]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [605, 201, 610, 234]
		  ShowName		  off
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Speed Limits"
		  Ports			  [1, 1]
		  Position		  [185, 71, 215, 99]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "Speed Limits"
		    Location		    [285, 107, 664, 392]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Speed\nRequested"
		    Position		    [70, 83, 100, 97]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [65, 185, 95, 215]
		    ShowName		    off
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [65, 136, 175, 154]
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "engine_on"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Speed Limits"
		    Position		    [145, 75, 175, 105]
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "vc_idle_spd*vc_idle_bool"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if engine is not on,\nspeed is ze"
"ro"
		    Position		    [235, 62, 270, 228]
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Limited\nSpeed\nRequest"
		    Position		    [305, 138, 335, 152]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Speed\nRequested"
		    SrcPort		    1
		    DstBlock		    "Speed Limits"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Speed Limits"
		    SrcPort		    1
		    DstBlock		    "if engine is not on,\nspeed is ze"
"ro"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "if engine is not on,\nspeed is ze"
"ro"
		    SrcPort		    1
		    DstBlock		    "Limited\nSpeed\nRequest"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    DstBlock		    "if engine is not on,\nspeed is ze"
"ro"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "if engine is not on,\nspeed is ze"
"ro"
		    DstPort		    3
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "achieved power and energy"
		  Ports			  [2]
		  Position		  [705, 244, 745, 286]
		  ForegroundColor	  "orange"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "achieved power and energy"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "trq"
		    Position		    [15, 68, 45, 82]
		    ForegroundColor	    "orange"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "spd"
		    Position		    [50, 83, 80, 97]
		    ForegroundColor	    "orange"
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    Ports		    [1, 1]
		    Position		    [180, 21, 200, 49]
		    ForegroundColor	    "orange"
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    InitialCondition	    "0"
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    ShowSaturationPort	    off
		    ShowStatePort	    off
		    AbsoluteTolerance	    "auto"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "J"
		    Ports		    [1]
		    Position		    [230, 27, 325, 43]
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|energy_a|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "J"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_energy_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [115, 66, 135, 99]
		    ForegroundColor	    "orange"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "hp"
		    Ports		    [1]
		    Position		    [225, 77, 320, 93]
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|pwr_a_hp|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "hp"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_pwr_a_hp"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "w -> hp"
		    Position		    [165, 69, 195, 101]
		    ForegroundColor	    "orange"
		    FontName		    "Arial"
		    Gain		    "0.001341022"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "watts"
		    Ports		    [1]
		    Position		    [230, 137, 325, 153]
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|pwr_a|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "watts"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_pwr_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "w -> hp"
		    SrcPort		    1
		    DstBlock		    "hp"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [0, 0; 5, 0]
		    Branch {
		    DstBlock		    "w -> hp"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 60]
		    DstBlock		    "watts"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    DstBlock		    "J"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "trq"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "spd"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "engine speed\nestimator"
		  Ports			  [1, 1]
		  Position		  [320, 113, 350, 147]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "engine speed\nestimator"
		    Location		    [2, 77, 966, 746]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "spd\ncommand"
		    Position		    [15, 38, 45, 52]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "<= max spd"
		    Position		    [780, 100, 810, 130]
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "-inf"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [985, 600, 1041, 640]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [63, 111, 838, 779]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [202, 116]
		    Text		    "If the clutch is engaged and the "
"trace was missed in the previous time step:\nThe estimated engine speed for t"
"he current time step is the actual engine\nspeed from the previous time step."
"\n\nIf the clutch is disengaged and the speed is commanded to increase (spin "
"up):\nThe engine speed is the lesser of the commanded speed and the maximum\n"
"speed attainable given the engine capability.\n\nIf the clutch is disengaged "
"at the speed is commanded to decrease (spin down):\nThe engine speed is compu"
"ted by integrating with respect to time the ratio of\n closed-throttle torque"
" to engine inertia.\n\nOtherwise:\nThe engine speed is equal to the speed com"
"mand, but no greater than the\nengine's maximum speed nor less than the engin"
"e's idle speed (if the engine is on.)"
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [355, 210, 375, 230]
		    Orientation		    "left"
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [505, 135, 525, 155]
		    Orientation		    "left"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [420, 330, 440, 350]
		    Orientation		    "left"
		    Value		    "2"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [315, 380, 335, 400]
		    Value		    "2"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant4"
		    Position		    [860, 160, 930, 180]
		    Value		    "vc_idle_spd"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant5"
		    Position		    [420, 580, 440, 600]
		    Orientation		    "left"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [55, 496, 170, 514]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_trq_est"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <cyc>"
		    Position		    [220, 274, 310, 306]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "cyc_mph_r"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [220, 359, 310, 391]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "clutch_state"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>1"
		    Position		    [860, 245, 930, 265]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "engine_on"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <veh>"
		    Position		    [220, 69, 275, 101]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "mpha"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <wh>/\ntire slip model (m/s)"
		    Position		    [220, 154, 310, 186]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "veh_spd_a_rec"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [340, 67, 380, 103]
		    Gain		    "0.447"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>1"
		    Position		    [945, 29, 1030, 51]
		    GotoTag		    "fc_spd_limited"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [565, 287, 595, 318]
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [2, 1]
		    Position		    [890, 22, 920, 53]
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator2"
		    Ports		    [1, 1]
		    Position		    [650, 164, 680, 196]
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [565, 80, 595, 110]
		    X0			    "cyc_mph(1,2)*0.447/wh_radius*fd_r"
"atio*gb_ratio(gb_num_init)"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [500, 280, 530, 310]
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory2"
		    Position		    [840, 45, 870, 75]
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory3"
		    Position		    [890, 605, 920, 635]
		    Orientation		    "left"
		    X0			    "cyc_mph(1,2)*0.447/wh_radius*fd_r"
"atio*max(gb_ratio)"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [215, 422, 245, 453]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax1"
		    Ports		    [2, 1]
		    Position		    [880, 107, 910, 138]
		    Function		    "max"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [3, 1]
		    Position		    [405, 69, 435, 101]
		    Inputs		    "**/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [545, 556, 565, 574]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [880, 198, 910, 227]
		    Orientation		    "left"
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational"
		    Position		    [415, 277, 445, 308]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [380, 367, 410, 398]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [780, 12, 810, 43]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    Position		    [75, 272, 105, 303]
		    Operator		    ">="
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [350, 162, 380, 193]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [350, 267, 380, 298]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    Ports		    [2, 1]
		    Position		    [380, 442, 410, 473]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum3"
		    Ports		    [2, 1]
		    Position		    [590, 560, 610, 580]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum4"
		    Ports		    [2, 1]
		    Position		    [145, 427, 175, 458]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [500, 80, 530, 110]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [650, 90, 680, 120]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch2"
		    Position		    [715, 100, 745, 130]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch:\nmap torque"
		    Position		    [285, 435, 315, 465]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "T closed\nthrottle"
		    Position		    [75, 528, 105, 552]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_ct_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "T_max"
		    Position		    [75, 338, 105, 362]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_max_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "alpha"
		    Position		    [470, 436, 515, 484]
		    Gain		    "1/(fc_inertia+eps)"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "clutch\ndisengaged"
		    Position		    [415, 517, 445, 548]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    Ports		    [0, 1]
		    Position		    [475, 555, 505, 585]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "dt"
		    Location		    [214, 70, 989, 738]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [65, 30, 85, 50]
		    FontName		    "Arial"
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [125, 55, 160, 75]
		    FontName		    "Arial"
		    X0			    "-0.1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 35, 225, 55]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [255, 35, 275, 55]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "effect of inertia\n(Nm)"
		    Ports		    [2, 1]
		    Position		    [75, 386, 105, 424]
		    FontName		    "Arial"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [100, 89, 875, 757]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "req'd spd\n(rad/s)"
		    Position		    [60, 80, 80, 100]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "prev spd"
		    Position		    [60, 130, 80, 150]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [40, 175, 60, 195]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [120, 19, 180, 41]
		    FontName		    "Arial"
		    Value		    "fc_inertia"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [95, 210, 130, 230]
		    FontName		    "Arial"
		    X0			    "-0.1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [3, 1]
		    Position		    [285, 77, 315, 113]
		    Inputs		    "**/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [115, 85, 135, 105]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [160, 180, 180, 200]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "(Nm)"
		    Position		    [385, 85, 405, 105]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [40, 0; 0, -85]
		    DstBlock		    "Product1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "req'd spd\n(rad/s)"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev spd"
		    SrcPort		    1
		    Points		    [5, 0; 0, -40]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [5, 0; 0, -25]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [40, 0; 0, 55]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just started\nspin-down/spin-up"
		    Ports		    [1, 1]
		    Position		    [560, 468, 590, 502]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "just started\nspin-down/spin-up"
		    Location		    [214, 70, 989, 738]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "state"
		    Position		    [15, 20, 35, 40]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [220, 23, 250, 47]
		    FontName		    "Arial"
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [165, 83, 195, 107]
		    FontName		    "Arial"
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [110, 85, 145, 105]
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "trigger"
		    Position		    [295, 25, 315, 45]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "trigger"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "state"
		    SrcPort		    1
		    Points		    [50, 0]
		    Branch {
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "no-lag\nReset Integrator"
		    Ports		    [3, 1]
		    Position		    [635, 446, 685, 524]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "No-lag Reset Integrator"
		    MaskDescription	    "No-lag Reset Integrator"
		    MaskHelp		    "Integrates first input using Eule"
"r technique.\\nAt the time step that input 2 <> zero,\\noutput is reset to in"
"put 3."
		    MaskPromptString	    "Initial Value"
		    MaskStyleString	    "edit"
		    MaskTunableValueString  "on"
		    MaskEnableString	    "on"
		    MaskVisibilityString    "on"
		    MaskToolTipString	    "on"
		    MaskInitialization	    "initval=@1;"
		    MaskDisplay		    "disp('1/s\\nw/ reset\\nno lag')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "vc_idle_spd"
		    System {
		    Name		    "no-lag\nReset Integrator"
		    Location		    [681, 688, 1203, 952]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [60, 100, 80, 120]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    Position		    [60, 140, 80, 160]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_3"
		    Position		    [45, 185, 65, 205]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [105, 155, 125, 175]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [340, 55, 375, 75]
		    Orientation		    "left"
		    FontName		    "Arial"
		    X0			    "initval"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [160, 96, 180, 114]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [230, 90, 250, 110]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [290, 139, 320, 171]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    Ports		    [0, 1]
		    Position		    [112, 50, 138, 80]
		    Orientation		    "down"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "dt"
		    Location		    [80, 285, 429, 424]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [65, 60, 85, 80]
		    FontName		    "Arial"
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [125, 85, 160, 105]
		    FontName		    "Arial"
		    X0			    "-0.1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 65, 225, 85]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [255, 65, 275, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "in_2==0"
		    Position		    [160, 143, 190, 167]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [455, 145, 475, 165]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "in_3"
		    SrcPort		    1
		    Points		    [195, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "in_2==0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "dt"
		    SrcPort		    1
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-130, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [10, 0; 0, 45]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "in_2==0"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "in_2==0"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [990, 118, 1020, 132]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [190, 0]
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -25; -45, 0]
		    DstBlock		    "Sum4"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    Labels		    [1, 0]
		    SrcBlock		    "From <wh>/\ntire slip model (m/s)"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -25; 155, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <cyc>"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <veh>"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 190]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Relational"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational"
		    SrcPort		    1
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Product"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [135, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "alpha"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "dt"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "alpha"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant5"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "clutch\ndisengaged"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "Switch2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "clutch\ndisengaged"
		    SrcPort		    1
		    Points		    [5, 0; 0, -50]
		    Branch {
		    Points		    [0, -305]
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "just started\nspin-down/spin-up"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 150]
		    DstBlock		    "clutch\ndisengaged"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory3"
		    SrcPort		    1
		    Points		    [-315, 0]
		    Branch {
		    Points		    [0, -45]
		    DstBlock		    "Sum3"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [-525, 0; 0, -80]
		    Branch {
		    Points		    [0, -125]
		    Branch {
		    Points		    [0, -65]
		    Branch {
		    Points		    [0, -55]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "T closed\nthrottle"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "<= max spd"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, -20; -75, 0; 0, -60]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "MinMax1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "From <vc>1"
		    SrcPort		    1
		    Points		    [0, -35]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant4"
		    SrcPort		    1
		    Points		    [0, 35]
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax1"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 495]
		    DstBlock		    "Memory3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    Points		    [-25, 0; 0, -85]
		    DstBlock		    "MinMax1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch2"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "<= max spd"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -95]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory2"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Goto <sdo>1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Memory2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Switch:\nmap torque"
		    SrcPort		    1
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    Points		    [80, 0; 0, 120; 65, 0; 0, 40]
		    DstBlock		    "Switch:\nmap torque"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "T closed\nthrottle"
		    SrcPort		    1
		    Points		    [155, 0; 0, -80]
		    DstBlock		    "Switch:\nmap torque"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    DstBlock		    "Switch:\nmap torque"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "T_max"
		    SrcPort		    1
		    Points		    [70, 0; 0, 80]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum4"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "effect of inertia\n(Nm)"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "spd\ncommand"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, 235]
		    Branch {
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 115]
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [330, 0]
		    Branch {
		    Points		    [225, 0; 0, 70]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, 30]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator2"
		    SrcPort		    1
		    Points		    [5, 0; 0, -65]
		    DstBlock		    "Switch2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    Points		    [30, 0; 0, -200]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Switch2"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "just started\nspin-down/spin-up"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum3"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "engine torque"
		  Ports			  [3, 2]
		  Position		  [315, 48, 345, 82]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "engine torque"
		    Location		    [2, 77, 966, 762]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "fc_trq_out_r"
		    Position		    [40, 48, 70, 62]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "spd command"
		    Position		    [40, 93, 70, 107]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine spd"
		    Position		    [40, 138, 70, 152]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [710, 460, 766, 500]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [214, 70, 989, 738]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [167, 81]
		    Text		    "If the engine is not spinning dow"
"n with the clutch disengaged:\n1.  Engine brake (aka map) torque is given by "
"the required shaft\ntorque plus enough torque to accelerate the engine's rota"
"ting\nparts as commanded and torque to power the accessories, \nsubject to th"
"e engine's torque limits at the current speed.\n2.  Shaft torque is engine br"
"ake torque less the effects of inertia\nand accessories.\n\nIf the engine is "
"spinning down:\n1.  Engine brake/map torque is the closed-throttle torque.\n2"
".  Shaft torque is zero."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [120, 455, 140, 475]
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [35, 437, 105, 463]
		    BackgroundColor	    "lightBlue"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "clutch_state"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>"
		    Position		    [440, 18, 520, 42]
		    BackgroundColor	    "lightBlue"
		    GotoTag		    "fc_trq_limited"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto feul calcu"
		    Position		    [420, 326, 595, 354]
		    BackgroundColor	    "lightBlue"
		    GotoTag		    "fc_decceleration_cmd"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [255, 382, 285, 413]
		    Operator		    "OR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator2"
		    Ports		    [1, 1]
		    Position		    [350, 324, 380, 356]
		    ForegroundColor	    "orange"
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [385, 77, 415, 108]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax1"
		    Ports		    [2, 1]
		    Position		    [440, 77, 470, 108]
		    Function		    "max"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [260, 40, 280, 120]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [550, 105, 570, 185]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [315, 75, 345, 105]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "T_closed\nthrottle"
		    Ports		    [1, 1]
		    Position		    [185, 286, 215, 314]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "T_closed\nthrottle"
		    Location		    [101, 97, 390, 225]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    Position		    [15, 45, 35, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [80, 46, 110, 64]
		    FontName		    "Arial"
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "min(fc_map_spd)*fc_spd_scale"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "ctt lookup"
		    Position		    [150, 43, 180, 67]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_ct_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_closed\nthrottle"
		    Position		    [215, 45, 235, 65]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "ctt lookup"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "ctt lookup"
		    SrcPort		    1
		    DstBlock		    "T_closed\nthrottle"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "T_max"
		    Ports		    [1, 1]
		    Position		    [185, 230, 215, 260]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "T_max"
		    Location		    [224, 77, 583, 247]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    Position		    [20, 45, 40, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto Fuzzy controller <cs>"
		    Position		    [175, 94, 265, 116]
		    GotoTag		    "engine_speed"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [85, 46, 115, 64]
		    FontName		    "Arial"
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "min(fc_map_spd)*fc_spd_scale"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max_torque lookup"
		    Position		    [180, 43, 210, 67]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_max_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_max"
		    Position		    [260, 45, 280, 65]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, 50]
		    DstBlock		    "Goto Fuzzy controller <cs>"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "max_torque lookup"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "max_torque lookup"
		    SrcPort		    1
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "clutch not\ndisengaged"
		    Position		    [185, 442, 215, 473]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "effect of inertia\n(Nm)"
		    Ports		    [1, 1]
		    Position		    [185, 91, 215, 129]
		    FontName		    "Arial"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [76, 105, 851, 773]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "engine spd\n(rad/s)"
		    Position		    [30, 15, 50, 35]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">=0"
		    Position		    [310, 50, 340, 80]
		    UpperLimit		    "inf"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [605, 320, 661, 360]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [821, 665, 1231, 785]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [207, 56]
		    Text		    "Torque required to accelerate the"
" engine inertia is taken from the engine\nacceleration, and is assumed to be "
"no less than zero if the trace was missed\nat all on the previous time step."
"\n\nThe torque required to accelerate the engine's inertia is never assumed t"
"o\nbe more than the product of the engine's maximum torque and the engine's\n"
"contribution to the total vehicle inertia."
		    }
		    }
		    }
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [310, 265, 330, 285]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [485, 314, 545, 336]
		    Orientation		    "left"
		    FontName		    "Arial"
		    Value		    "fc_inertia"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [360, 157, 510, 183]
		    Value		    "max(fc_max_trq)*fc_trq_scale"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [195, 275, 235, 295]
		    Orientation		    "left"
		    Value		    "0.01"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <cyc>"
		    Position		    [25, 219, 115, 251]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "cyc_mph_r"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <veh>"
		    Position		    [25, 174, 80, 206]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "mpha"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [365, 300, 400, 320]
		    FontName		    "Arial"
		    X0			    "-0.1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [95, 35, 120, 65]
		    X0			    "vc_idle_spd*vc_key_on(1,2)"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory2"
		    Position		    [245, 230, 280, 250]
		    FontName		    "Arial"
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [585, 257, 615, 288]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [535, 147, 565, 178]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [3, 1]
		    Position		    [490, 262, 520, 298]
		    Inputs		    "*/*"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational"
		    Position		    [190, 222, 220, 253]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [150, 20, 170, 40]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [430, 270, 450, 290]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    Ports		    [2, 1]
		    Position		    [135, 212, 165, 243]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [375, 225, 405, 255]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "engine inertia as a function of t"
"otal\nvehicle inertia (generous approximation)"
		    Ports		    [0, 1]
		    Position		    [505, 70, 535, 120]
		    Orientation		    "down"
		    BackgroundColor	    "darkGreen"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "engine inertia as a function of t"
"otal\nvehicle inertia (generous approximation)"
		    Location		    [92, 139, 867, 807]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [195, 25, 265, 55]
		    Orientation		    "down"
		    BackgroundColor	    "lightBlue"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [322, 275, 353, 310]
		    Orientation		    "down"
		    NamePlacement	    "alternate"
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [580, 205, 600, 225]
		    Orientation		    "down"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "++|"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--denomenator"
		    Position		    [389, 155, 791, 180]
		    Orientation		    "down"
		    Expr		    "fc_inertia*(u*fd_ratio/wh_radius)"
"^2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--numerator"
		    Position		    [29, 95, 431, 120]
		    Orientation		    "down"
		    Expr		    "fc_inertia*(u*fd_ratio/wh_radius)"
"^2"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "veh mass calc"
		    Ports		    [0, 1]
		    Position		    [445, 206, 525, 224]
		    BackgroundColor	    "magenta"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "veh mass calc"
		    Location		    [278, 235, 776, 535]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [30, 51, 130, 79]
		    BackgroundColor	    "lightBlue"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "current_veh_mass"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [215, 58, 245, 72]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [325, 370, 355, 385]
		    Orientation		    "down"
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [0, 30]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--numerator"
		    SrcPort		    1
		    Points		    [0, 135]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--denomenator"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "veh mass calc"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    Points		    [0, 5]
		    Branch {
		    Points		    [360, 0]
		    DstBlock		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--denomenator"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--numerator"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "(Nm)"
		    Position		    [635, 265, 655, 285]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "engine spd\n(rad/s)"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "Relational"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    ">=0"
		    SrcPort		    1
		    Points		    [5, 0; 0, 165]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational"
		    SrcPort		    1
		    DstBlock		    "Memory2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory2"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [10, 0; 0, 0]
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [5, 0; 0, -25]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-5, 0]
		    DstBlock		    "Product1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [55, 0; 0, 30]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <veh>"
		    SrcPort		    1
		    Points		    [25, 0; 0, 30]
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <cyc>"
		    SrcPort		    1
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    DstBlock		    "(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "engine inertia as a function of t"
"otal\nvehicle inertia (generous approximation)"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [120, 0; 0, 35]
		    Branch {
		    Points		    [0, 185]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    ">=0"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "engine commanded\nnot to decelera"
"te"
		    Position		    [185, 372, 215, 403]
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    Ports		    [1]
		    Position		    [460, 387, 555, 403]
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|decceleration_cmd|log"
"Flag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_decceleration_cmd"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "limited"
		    Position		    [385, 12, 415, 43]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "map torque (Nm)"
		    Position		    [700, 88, 730, 102]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "torque to shaft (Nm)"
		    Position		    [700, 138, 730, 152]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator2"
		    SrcPort		    1
		    Points		    [0, 0; 15, 0]
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto feul calcu"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "torque to shaft (Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    DstBlock		    "clutch not\ndisengaged"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    DstBlock		    "clutch not\ndisengaged"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "engine commanded\nnot to decelera"
"te"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    Points		    [5, 0; 0, -310]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "limited"
		    SrcPort		    1
		    DstBlock		    "Goto <sdo>"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    Points		    [0, -10]
		    DstBlock		    "MinMax1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "T_max"
		    SrcPort		    1
		    Points		    [150, 0]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "T_closed\nthrottle"
		    SrcPort		    1
		    Points		    [80, 0]
		    Branch {
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [125, 0]
		    DstBlock		    "MinMax1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "MinMax1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, -30; -125, 0; 0, -30]
		    DstBlock		    "limited"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [40, 0]
		    Branch {
		    DstBlock		    "map torque (Nm)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 30]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [15, 0]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -70]
		    DstBlock		    "limited"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "clutch not\ndisengaged"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "engine spd"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    Points		    [0, 100]
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "T_closed\nthrottle"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, -35; 55, 0]
		    Branch {
		    Points		    [0, 270]
		    DstBlock		    "engine commanded\nnot to decelera"
"te"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "fc_trq_out_r"
		    SrcPort		    1
		    Points		    [170, 0]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "effect of inertia\n(Nm)"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Labels		    [1, 0]
		    Points		    [0, -10]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "spd command"
		    SrcPort		    1
		    Points		    [25, 0; 0, 295]
		    DstBlock		    "engine commanded\nnot to decelera"
"te"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [145, 172, 240, 188]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_spd_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [405, 147, 500, 163]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_est|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_spd_est"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [805, 77, 900, 93]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|fuel|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_fuel"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [425, 282, 520, 298]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_spd_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  Ports			  [1]
		  Position		  [540, 172, 635, 188]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_trq_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  Ports			  [1]
		  Position		  [145, 27, 240, 43]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_trq_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  Ports			  [1]
		  Position		  [385, 27, 480, 43]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|brake_trq|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_brake_trq"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fuel use and EO emis\nno fuel used "
"at negative torque"
		  Ports			  [2, 3]
		  Position		  [515, 38, 680, 122]
		  ForegroundColor	  "orange"
		  BackgroundColor	  "black"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "fuel use and EO emis\nno fuel use"
"d at negative torque"
		    Location		    [6, 76, 1018, 733]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "T (Nm)"
		    Position		    [30, 220, 50, 240]
		    ForegroundColor	    "magenta"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w (rad/s)"
		    Position		    [30, 340, 50, 360]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    From
		    Name		    " <fc>"
		    Position		    [595, 183, 680, 197]
		    ForegroundColor	    "orange"
		    NamePlacement	    "alternate"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "fc_braking"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "(gal/s)"
		    Position		    [765, 177, 790, 203]
		    Gain		    "1/fc_fuel_den*61.02/231"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "<fc>"
		    Position		    [605, 434, 695, 456]
		    ForegroundColor	    "orange"
		    ShowName		    off
		    GotoTag		    "fc_braking"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [885, 405, 941, 445]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [216, 351, 788, 570]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [177, 38]
		    Text		    "This block determines actual fuel"
" use and engine-out emissions\ngiven the fully hot values and the engine cool"
"ant temperature.\nThe correlations used here were developed at NREL using\nFT"
"P data collected under subcontract by JDM & Associates.\nNote: PM hot/cold re"
"lation assumed same as HC"
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [685, 167, 700, 183]
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [495, 455, 515, 475]
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Value		    "-1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    Ports		    [1, 2]
		    Position		    [525, 64, 530, 106]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "2"
		    BusSelectionMode	    off
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [70, 66, 135, 84]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "key_on"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc> "
		    Position		    [70, 145, 140, 165]
		    BackgroundColor	    "lightBlue"
		    NamePlacement	    "alternate"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "engine_on"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <veh>\n(m/s)"
		    Position		    [70, 46, 125, 64]
		    BackgroundColor	    "lightBlue"
		    NamePlacement	    "alternate"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "v_prev"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto"
		    Position		    [320, 201, 390, 219]
		    Orientation		    "left"
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "fc_clt_tmp"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "HOT engine maps "
		    Ports		    [2, 7, 1]
		    Position		    [125, 168, 255, 412]
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "HOT engine maps "
		    Location		    [6, 76, 1018, 733]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "T (Nm)"
		    Position		    [25, 81, 60, 99]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w (rad/s)"
		    Position		    [25, 126, 60, 144]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [44, 440, 76, 465]
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [35, 560, 91, 600]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [505, 510, 1139, 600]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [317, 43]
		    Text		    "This block determines the fully h"
"ot fuel use, engine-out emissions output rates, exhaust gas mass flow rate, "
"\nand engine-out exhaust gas temperature as a function of engine output torqu"
"e and speed.  \nThe engine maps (except for exhaust gas temperature) can be s"
"caled using variables fc_spd_scale and\n fc_trq_scale; it is recommended that"
" scaling values outside the range of 0.85 to 1.15 be used CAREFULLY."
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "CO\n(g/s)"
		    Ports		    [2, 1]
		    Position		    [190, 73, 220, 97]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_co_map*fc_spd_scale*fc_trq_scale"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "CO\n(g/s)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn3"
		    Position		    [315, 451, 340, 469]
		    ShowName		    off
		    Expr		    "(u(1)/1000)*ex_gas_cp*(u(2) - amb"
"_tmp)"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "HC\n(g/s)"
		    Ports		    [2, 1]
		    Position		    [190, 13, 220, 37]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_hc_map*fc_spd_scale*fc_trq_scale"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "HC\n(g/s)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "MF,ex\n(g/s)"
		    Ports		    [2, 1]
		    Position		    [190, 243, 220, 267]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_exflow_map*fc_spd_scale*fc_trq_scale"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "MF,ex\n(g/s)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [365, 455, 390, 475]
		    ShowName		    off
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [4, 1]
		    Position		    [285, 52, 290, 168]
		    Inputs		    "4"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux4"
		    Ports		    [2, 1]
		    Position		    [260, 440, 285, 475]
		    ShowName		    off
		    FontName		    "Arial"
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "NOx\n(g/s)"
		    Ports		    [2, 1]
		    Position		    [190, 128, 220, 152]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_nox_map*fc_spd_scale*fc_trq_scale"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "NOx\n(g/s)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "O2\n(g/s)"
		    Ports		    [2, 1]
		    Position		    [190, 358, 220, 382]
		    ForegroundColor	    "magenta"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_o2_map*fc_spd_scale*fc_trq_scale"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "O2\n(g/s)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "PM\n(g/s)"
		    Ports		    [2, 1]
		    Position		    [190, 183, 220, 207]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_pm_map*fc_spd_scale*fc_trq_scale"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "PM\n(g/s)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [90, 105, 105, 125]
		    ShowName		    off
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [125, 78, 140, 102]
		    ShowName		    off
		    UpperLimit		    "max(fc_map_trq*fc_trq_scale)"
		    LowerLimit		    "min(fc_map_trq*fc_trq_scale)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [125, 123, 140, 147]
		    ShowName		    off
		    UpperLimit		    "max(fc_map_spd*fc_spd_scale)"
		    LowerLimit		    "min(fc_map_spd*fc_spd_scale)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum5"
		    Ports		    [2, 1]
		    Position		    [420, 454, 430, 501]
		    ShowName		    off
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum6"
		    Ports		    [2, 1]
		    Position		    [325, 486, 335, 519]
		    ShowName		    off
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Tex,eo\n(C)"
		    Ports		    [2, 1]
		    Position		    [190, 298, 220, 322]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_extmp_map"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "Tex,eo\n(C)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "fuel\n(g/s)"
		    Ports		    [2, 1]
		    Position		    [195, 527, 220, 558]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_fuel_map*fc_spd_scale*fc_trq_scale"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "fuel\n(g/s)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "lhv"
		    Position		    [260, 497, 290, 523]
		    Gain		    "fc_fuel_lhv"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "fc heat\n(W)"
		    Position		    [475, 470, 495, 490]
		    Port		    "1"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "eps"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "HOT fuel use\n(g/s)"
		    Position		    [515, 535, 535, 555]
		    Port		    "2"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "eps"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "HOT emis\n(g/s)"
		    Position		    [330, 100, 350, 120]
		    Port		    "3"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "eps"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Ex Gas Flow\n(g/s)"
		    Position		    [325, 245, 345, 265]
		    Port		    "4"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "eps"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Ex Gas Temp\n(C)"
		    Position		    [325, 300, 345, 320]
		    Port		    "5"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "amb_tmp"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "O2 exhaust\n(g/s)"
		    Position		    [325, 360, 345, 380]
		    ForegroundColor	    "magenta"
		    Port		    "6"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "ex heat\n(W)"
		    Position		    [445, 425, 465, 445]
		    NamePlacement	    "alternate"
		    Port		    "7"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "eps"
		    }
		    Line {
		    SrcBlock		    "O2\n(g/s)"
		    SrcPort		    1
		    DstBlock		    "O2 exhaust\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "lhv"
		    SrcPort		    1
		    DstBlock		    "Sum6"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [40, 0; 0, 380]
		    DstBlock		    "Sum6"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum6"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, -35]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [55, 0; 0, -15]
		    DstBlock		    "Sum5"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, -30]
		    DstBlock		    "ex heat\n(W)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum5"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Fcn3"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum5"
		    SrcPort		    1
		    DstBlock		    "fc heat\n(W)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux4"
		    SrcPort		    1
		    DstBlock		    "Fcn3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w (rad/s)"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "T (Nm)"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, -60]
		    DstBlock		    "HC\n(g/s)"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "NOx\n(g/s)"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "PM\n(g/s)"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "O2\n(g/s)"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 175]
		    DstBlock		    "fuel\n(g/s)"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Tex,eo\n(C)"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "MF,ex\n(g/s)"
		    DstPort		    2
		    }
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "CO\n(g/s)"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    Points		    [0, -55]
		    Branch {
		    Points		    [0, -60]
		    DstBlock		    "HC\n(g/s)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "CO\n(g/s)"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "PM\n(g/s)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "O2\n(g/s)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 170]
		    DstBlock		    "fuel\n(g/s)"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Tex,eo\n(C)"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "MF,ex\n(g/s)"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "NOx\n(g/s)"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Tex,eo\n(C)"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, 155]
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Ex Gas Temp\n(C)"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "MF,ex\n(g/s)"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, 195]
		    DstBlock		    "Mux4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Ex Gas Flow\n(g/s)"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "HOT emis\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "NOx\n(g/s)"
		    SrcPort		    1
		    Points		    [25, 0; 0, -15]
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "CO\n(g/s)"
		    SrcPort		    1
		    Points		    [25, 0; 0, 10]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    Labels		    [1, 0]
		    SrcBlock		    "HC\n(g/s)"
		    SrcPort		    1
		    Points		    [45, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "PM\n(g/s)"
		    SrcPort		    1
		    Points		    [45, 0]
		    DstBlock		    "Mux"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "fuel\n(g/s)"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "lhv"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "HOT fuel use\n(g/s)"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    Ports		    [1, 1]
		    Position		    [810, 180, 830, 200]
		    ShowName		    off
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    InitialCondition	    "0"
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    ShowSaturationPort	    off
		    ShowStatePort	    off
		    AbsoluteTolerance	    "auto"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux4"
		    Ports		    [5, 1]
		    Position		    [920, 199, 925, 381]
		    ForegroundColor	    "magenta"
		    ShowName		    off
		    FontName		    "Arial"
		    Inputs		    "[1 4 1 1 1]"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux5"
		    Ports		    [2, 1]
		    Position		    [740, 4, 745, 146]
		    BackgroundColor	    "black"
		    ShowName		    off
		    FontName		    "Arial"
		    Inputs		    "[1 4 ]"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational"
		    Position		    [550, 433, 570, 457]
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector3"
		    Ports		    [1, 1]
		    Position		    [401, 130, 449, 145]
		    Orientation		    "down"
		    NamePlacement	    "alternate"
		    ShowName		    off
		    InputType		    "Vector"
		    ElementSrc		    "Internal"
		    Elements		    "2"
		    RowSrc		    "Internal"
		    Rows		    "1"
		    ColumnSrc		    "Internal"
		    Columns		    "1"
		    InputPortWidth	    "4"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [720, 165, 735, 215]
		    ForegroundColor	    "orange"
		    ShowName		    off
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [435, 50, 455, 70]
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    Ports		    [1]
		    Position		    [600, 462, 695, 478]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|braking|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_braking"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace1"
		    Ports		    [1]
		    Position		    [285, 387, 380, 403]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|ex_th_pwr|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_ex_th_pwr"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace10"
		    Ports		    [1]
		    Position		    [555, 117, 650, 133]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|tmp|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace10"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_tmp"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace11"
		    Ports		    [1]
		    Position		    [765, 227, 860, 243]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|fuel_rate|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace11"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_fuel_rate"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace2"
		    Ports		    [1]
		    Position		    [625, 367, 720, 383]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|o2_flow|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_o2_flow"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace3"
		    Ports		    [1]
		    Position		    [625, 332, 720, 348]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|ex_gas_tmp|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_ex_gas_tmp"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace4"
		    Ports		    [1]
		    Position		    [625, 297, 720, 313]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|ex_gas_flow|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_ex_gas_flow"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace5"
		    Ports		    [1]
		    Position		    [625, 262, 720, 278]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|emis_eo|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_emis_eo"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace6"
		    Ports		    [1]
		    Position		    [275, 177, 335, 193]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|th_pwr|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_th_pwr"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace7"
		    Ports		    [1]
		    Position		    [345, 182, 405, 198]
		    Orientation		    "left"
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|clt_tmp|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_clt_tmp"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace8"
		    Ports		    [1]
		    Position		    [555, 67, 650, 83]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|r_th_pwr|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_r_th_pwr"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace9"
		    Ports		    [1]
		    Position		    [555, 87, 650, 103]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|h_th_pwr|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace9"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_h_th_pwr"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "fc temp"
		    Ports		    [4, 3]
		    Position		    [275, 47, 400, 123]
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "fc temp"
		    Location		    [71, 90, 643, 486]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "veh spd\n(m/s)"
		    Position		    [30, 65, 50, 85]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "key ON?"
		    Position		    [255, 150, 275, 170]
		    Orientation		    "down"
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "fc ON?"
		    Position		    [30, 35, 50, 55]
		    NamePlacement	    "alternate"
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Qfc (W)"
		    Position		    [310, 115, 330, 135]
		    NamePlacement	    "alternate"
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1/"
		    Position		    [385, 123, 410, 147]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Gain		    "1/(0.2*fc_base_mass*fc_pwr_scale*"
"fc_cp)"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1/Ci"
		    Position		    [370, 219, 390, 241]
		    ShowName		    off
		    Gain		    "1/(0.8*fc_base_mass*fc_pwr_scale*"
"fc_cp)"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1/Cx"
		    Position		    [220, 262, 245, 288]
		    ShowName		    off
		    Gain		    "1/(fc_acc_mass*fc_pwr_scale*fc_cp"
")"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1/mcp"
		    Position		    [220, 317, 245, 343]
		    Gain		    "1/(0.1*veh_glider_mass*fc_pwr_sca"
"le*fc_h_cp)"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [495, 330, 551, 370]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [505, 510, 924, 573]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [207, 33]
		    Text		    "This block models the thermal beh"
"avior internal combustion engine (ICE).  \nEmphasis is on the coolant since t"
"his temperature is used to correct engine\nfuel use."
		    }
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [4, 1]
		    Position		    [470, 151, 475, 359]
		    BackgroundColor	    "black"
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "4"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux4"
		    Ports		    [2, 1]
		    Position		    [390, 188, 395, 217]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qc"
		    Ports		    [2, 1]
		    Position		    [355, 114, 365, 156]
		    ShowName		    off
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qc1"
		    Ports		    [3, 1]
		    Position		    [350, 214, 360, 246]
		    ShowName		    off
		    IconShape		    "rectangular"
		    Inputs		    "--+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Tcm"
		    Ports		    [1, 1]
		    Position		    [425, 125, 445, 145]
		    ShowName		    off
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    InitialCondition	    "fc_c_init_tmp"
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    ShowSaturationPort	    off
		    ShowStatePort	    off
		    AbsoluteTolerance	    "auto"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Tcx"
		    Ports		    [1, 1]
		    Position		    [260, 265, 280, 285]
		    ShowName		    off
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    InitialCondition	    "fc_x_init_tmp"
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    ShowSaturationPort	    off
		    ShowStatePort	    off
		    AbsoluteTolerance	    "auto"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Tcx1"
		    Ports		    [1, 1]
		    Position		    [405, 220, 425, 240]
		    ShowName		    off
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    InitialCondition	    "fc_i_init_tmp"
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    ShowSaturationPort	    off
		    ShowStatePort	    off
		    AbsoluteTolerance	    "auto"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Tm"
		    Ports		    [1, 1]
		    Position		    [260, 320, 280, 340]
		    ShowName		    off
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    InitialCondition	    "fc_h_init_tmp"
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    ShowSaturationPort	    off
		    ShowStatePort	    off
		    AbsoluteTolerance	    "auto"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "fc coolant"
		    Ports		    [2, 2, 1]
		    Position		    [225, 187, 310, 218]
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "fc coolant"
		    Location		    [713, 350, 962, 483]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Tcl"
		    Position		    [15, 68, 45, 82]
		    NamePlacement	    "alternate"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Qfc_i "
		    Position		    [15, 88, 45, 102]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [194, 25, 226, 50]
		    NamePlacement	    "alternate"
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [55, 29, 95, 41]
		    ShowName		    off
		    Value		    "fc_tstat"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [165, 62, 180, 93]
		    ShowName		    off
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qhtr"
		    Position		    [65, 68, 95, 82]
		    NamePlacement	    "alternate"
		    FontName		    "Arial"
		    Expr		    "fc_cl2h_eff*fc_h_air_flow*air_cp*"
"(u - amb_tmp)"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qi"
		    Ports		    [2, 1]
		    Position		    [125, 67, 135, 103]
		    ShowName		    off
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [120, 29, 140, 56]
		    ShowName		    off
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_rad"
		    Position		    [205, 73, 235, 87]
		    NamePlacement	    "alternate"
		    Port		    "1"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_htr"
		    Position		    [205, 108, 235, 122]
		    NamePlacement	    "alternate"
		    Port		    "2"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Tcl"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "Qhtr"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -25]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "Qfc_rad"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qfc_i "
		    SrcPort		    1
		    DstBlock		    "Qi"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qhtr"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Qi"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "Qfc_htr"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Qi"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "fc mass heat flow"
		    Ports		    [2, 4]
		    Position		    [100, 141, 200, 354]
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "fc mass heat flow"
		    Location		    [265, 76, 1004, 576]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "veh spd"
		    Position		    [25, 213, 55, 227]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "fc_temp"
		    Position		    [25, 23, 55, 37]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [645, 435, 701, 475]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [481, 510, 978, 592]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [252, 38]
		    Text		    "FUEL CONVERTER MASS HEAT LOSS\nTh"
"is block models the heat loss from a fuel converter (such as an IC engine).  "
"\nConvection (as a function of vehicle speed), radiation, and conduction effe"
"cts are included.\nEngine cylinder (c), interior (i), exterior (x) and hood ("
"h) \nheat flows are estimated based on the temperatures from the previous ite"
"ration."
		    }
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux10"
		    Ports		    [2, 1]
		    Position		    [310, 270, 315, 305]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [2, 1]
		    Position		    [255, 190, 260, 230]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux4"
		    Ports		    [2, 1]
		    Position		    [325, 185, 330, 220]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux5"
		    Ports		    [2, 1]
		    Position		    [270, 380, 275, 420]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux6"
		    Ports		    [2, 1]
		    Position		    [365, 362, 370, 413]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux9"
		    Ports		    [2, 1]
		    Position		    [235, 275, 240, 315]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qh"
		    Ports		    [3, 1]
		    Position		    [585, 342, 595, 438]
		    IconShape		    "rectangular"
		    Inputs		    "-++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2a,r"
		    Position		    [140, 430, 510, 450]
		    FontName		    "Arial"
		    Expr		    "fc_hood_emisv*(5.67e-8)*fc_hood_s"
"area*((amb_tmp+273)^4 - (u(4)+273)^4)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2a,v"
		    Position		    [400, 379, 530, 401]
		    FontName		    "Arial"
		    Expr		    "u(2)*fc_hood_sarea*u(1)"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qh2x"
		    Ports		    [3, 1]
		    Position		    [535, 157, 545, 253]
		    IconShape		    "rectangular"
		    Inputs		    "+++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2x,r"
		    Position		    [380, 240, 505, 260]
		    FontName		    "Arial"
		    Expr		    "fc_emisv*(5.67e-8)*fc_ext_sarea*f"
"c_pwr_scale^0.67*((u(4)+273)^4 - (u(3)+273)^4)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2x,r1"
		    Position		    [345, 326, 495, 344]
		    FontName		    "Arial"
		    Expr		    "fc_emisv*(5.67e-8)*(0.5*fc_ext_sa"
"rea*fc_pwr_scale^0.67)*((amb_tmp+273)^4 - (u(3)+273)^4)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2x,v"
		    Position		    [355, 197, 410, 213]
		    NamePlacement	    "alternate"
		    FontName		    "Arial"
		    Expr		    "u(2)*fc_ext_sarea*fc_pwr_scale^0."
"67*u(1)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2x,v1"
		    Position		    [350, 281, 420, 299]
		    FontName		    "Arial"
		    Expr		    "u(2)*(0.5*fc_ext_sarea*fc_pwr_sca"
"le^0.67)*u(1)"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qi"
		    Ports		    [2, 1]
		    Position		    [560, 44, 570, 91]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qi2c,c"
		    Position		    [110, 21, 250, 39]
		    FontName		    "Arial"
		    Expr		    "fc_c2i_th_cond*(u(2) - u(1))"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qp2a,v5"
		    Position		    [170, 191, 220, 209]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "u(4)-u(3)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qp2a,v6"
		    Position		    [150, 382, 230, 398]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "amb_tmp-u(4)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qp2a,v7"
		    Position		    [125, 277, 205, 293]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "amb_tmp-u(3)"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qx"
		    Ports		    [3, 1]
		    Position		    [590, 171, 600, 219]
		    IconShape		    "rectangular"
		    Inputs		    "-++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qx1"
		    Ports		    [2, 1]
		    Position		    [545, 289, 555, 336]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qx2i,c"
		    Position		    [105, 71, 255, 89]
		    FontName		    "Arial"
		    Expr		    "fc_i2x_th_cond*(u(3) - u(2))"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qx2p,c"
		    Position		    [110, 134, 260, 156]
		    FontName		    "Arial"
		    Expr		    "fc_h2x_th_cond*(u(4) - u(3))"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Va/Vv"
		    Position		    [125, 207, 155, 233]
		    Gain		    "0.5"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Va/Vv1"
		    Position		    [105, 292, 135, 318]
		    Gain		    "0.5"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "h_h2a"
		    Position		    [300, 390, 335, 410]
		    FontName		    "Arial"
		    Expr		    "10 + 6*(abs(u(1))/1000)^0.3 + 60*"
"(abs(u(2))/30)^0.6"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "h_h2x"
		    Position		    [275, 200, 310, 220]
		    FontName		    "Arial"
		    Expr		    "6 + 6*((abs(u(1))/1000))^0.3 + 60"
"*(abs(u(2))/30)^0.6"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "h_h2x1"
		    Position		    [255, 285, 290, 305]
		    FontName		    "Arial"
		    Expr		    "6 + 6*((abs(u(1))/1000))^0.3 + 60"
"*(abs(u(2))/30)^0.6"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_c"
		    Position		    [655, 23, 685, 37]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_i"
		    Position		    [650, 63, 680, 77]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_x"
		    Position		    [650, 188, 680, 202]
		    Port		    "3"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_h"
		    Position		    [655, 383, 685, 397]
		    Port		    "4"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Mux10"
		    SrcPort		    1
		    DstBlock		    "Qh2x,v1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux9"
		    SrcPort		    1
		    DstBlock		    "h_h2x1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qp2a,v7"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Mux9"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [-5, 0; 0, -15; 75, 0]
		    DstBlock		    "Mux10"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "h_h2x1"
		    SrcPort		    1
		    DstBlock		    "Mux10"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Va/Vv1"
		    SrcPort		    1
		    DstBlock		    "Mux9"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux4"
		    SrcPort		    1
		    DstBlock		    "Qh2x,v"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "h_h2x"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qp2a,v5"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -15; 80, 0]
		    DstBlock		    "Mux4"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "h_h2x"
		    SrcPort		    1
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "veh spd"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Va/Vv"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 85]
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "Mux5"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Va/Vv1"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Va/Vv"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qi2c,c"
		    SrcPort		    1
		    Points		    [205, 0]
		    Branch {
		    DstBlock		    "Qfc_c"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Qi"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "fc_temp"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    Points		    [0, 50]
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    DstBlock		    "Qx2p,c"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    Labels		    [1, 0]
		    Points		    [0, 50]
		    Branch {
		    DstBlock		    "Qh2x,r"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    Branch {
		    DstBlock		    "Qp2a,v7"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50]
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "Qp2a,v6"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50]
		    DstBlock		    "Qh2a,r"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Qh2x,r1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "Qp2a,v5"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "Qx2i,c"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Qi2c,c"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Qx2i,c"
		    SrcPort		    1
		    Points		    [200, 0]
		    Branch {
		    DstBlock		    "Qi"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 35; 105, 0; 0, 65]
		    DstBlock		    "Qx"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Qi"
		    SrcPort		    1
		    DstBlock		    "Qfc_i"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qx"
		    SrcPort		    1
		    DstBlock		    "Qfc_x"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qh2x"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, -10]
		    DstBlock		    "Qx"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 155]
		    DstBlock		    "Qh"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Qh"
		    SrcPort		    1
		    DstBlock		    "Qfc_h"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux6"
		    SrcPort		    1
		    DstBlock		    "Qh2a,v"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux5"
		    SrcPort		    1
		    DstBlock		    "h_h2a"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qp2a,v6"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Mux5"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "Mux6"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "h_h2a"
		    SrcPort		    1
		    DstBlock		    "Mux6"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qx1"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Qx"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Qh2x,v"
		    SrcPort		    1
		    DstBlock		    "Qh2x"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qx2p,c"
		    SrcPort		    1
		    Points		    [255, 0]
		    DstBlock		    "Qh2x"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qh2x,r1"
		    SrcPort		    1
		    Points		    [30, 0]
		    DstBlock		    "Qx1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qh2x,v1"
		    SrcPort		    1
		    Points		    [105, 0]
		    DstBlock		    "Qx1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qh2a,r"
		    SrcPort		    1
		    Points		    [55, 0]
		    DstBlock		    "Qh"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Qh2a,v"
		    SrcPort		    1
		    DstBlock		    "Qh"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qh2x,r"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Qh2x"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "old fc coolant \ntemp. (C)"
		    Ports		    [2, 1]
		    Position		    [150, 30, 180, 90]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "old fc coolant \ntemp. (C)"
		    Location		    [64, 373, 534, 579]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "fc on?"
		    Position		    [45, 40, 65, 60]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "veh spd"
		    Position		    [45, 100, 65, 120]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [395, 150, 451, 190]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [351, 607, 683, 747]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [167, 68]
		    Text		    "This block computes engine coolan"
"t temperature,\nassuming that it asymptotically approaches its maximum\ntempe"
"rature when the engine is on, and asymptotically\napproaches the ambient temp"
"erature when the engine\nis off.  Temperatue rise rate is assumed to be a fun"
"ction\nonly of current engine coolant temperature, and the fall\nrate is also"
" a function of vehicle speed and ambient temperature.\nThere is no dependence"
" on engine load or speed."
		    }
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [4, 1]
		    Position		    [210, 32, 240, 158]
		    ShowName		    off
		    Inputs		    "4"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "TEC"
		    Ports		    [1, 1]
		    Position		    [320, 85, 340, 105]
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    InitialCondition	    "fc_i_init_tmp"
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    ShowSaturationPort	    off
		    ShowStatePort	    off
		    AbsoluteTolerance	    "auto"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "compute\nengine dT/dt"
		    Position		    [270, 84, 300, 106]
		    Expr		    "1.1*u[1]*(-u[2]/218)*(95-u[4])+(1"
"-u[1])*u[3]*(u[4]-amb_tmp)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "gamma\n(takes v as input)"
		    Position		    [95, 99, 125, 121]
		    Expr		    "(-8.22e-5*u+8.09e-6*4-1.45e-4)*.4"
"5"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "log(1-40/75)"
		    Position		    [145, 69, 190, 91]
		    Value		    "-0.7621"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "fc coolant \ntemp (C)"
		    Position		    [410, 85, 430, 105]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "compute\nengine dT/dt"
		    SrcPort		    1
		    DstBlock		    "TEC"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gamma\n(takes v as input)"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "log(1-40/75)"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "compute\nengine dT/dt"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fc on?"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "veh spd"
		    SrcPort		    1
		    DstBlock		    "gamma\n(takes v as input)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "TEC"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "fc coolant \ntemp (C)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 80; -210, 0; 0, -35]
		    DstBlock		    "Mux"
		    DstPort		    4
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Tfc_old\n (C)"
		    Position		    [500, 50, 520, 70]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc r,h"
		    Position		    [505, 195, 525, 215]
		    NamePlacement	    "alternate"
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Tfc\n (C)"
		    Position		    [510, 245, 530, 265]
		    Port		    "3"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "fc ON?"
		    SrcPort		    1
		    DstBlock		    "old fc coolant \ntemp. (C)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "veh spd\n(m/s)"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "fc mass heat flow"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "old fc coolant \ntemp. (C)"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "old fc coolant \ntemp. (C)"
		    SrcPort		    1
		    DstBlock		    "Tfc_old\n (C)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Tfc\n (C)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 115; -400, 0]
		    DstBlock		    "fc mass heat flow"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "fc mass heat flow"
		    SrcPort		    4
		    DstBlock		    "1/mcp"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "1/mcp"
		    SrcPort		    1
		    DstBlock		    "Tm"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Tm"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "Tcx"
		    SrcPort		    1
		    Points		    [165, 0; 0, 5]
		    DstBlock		    "Mux3"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "key ON?"
		    SrcPort		    1
		    DstBlock		    "fc coolant"
		    DstPort		    enable
		    }
		    Line {
		    SrcBlock		    "fc mass heat flow"
		    SrcPort		    3
		    DstBlock		    "1/Cx"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "1/Cx"
		    SrcPort		    1
		    DstBlock		    "Tcx"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux4"
		    SrcPort		    1
		    DstBlock		    "Qfc r,h"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Tcx1"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -55; -225, 0]
		    DstBlock		    "fc coolant"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "fc coolant"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Qc1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "fc coolant"
		    SrcPort		    2
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "Qc1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "fc mass heat flow"
		    SrcPort		    2
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, -10]
		    DstBlock		    "fc coolant"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "Qc1"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "Tcm"
		    SrcPort		    1
		    Points		    [0, 45]
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "1/Ci"
		    SrcPort		    1
		    DstBlock		    "Tcx1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qc1"
		    SrcPort		    1
		    DstBlock		    "1/Ci"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fc mass heat flow"
		    SrcPort		    1
		    Points		    [0, -20]
		    DstBlock		    "Qc"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qfc (W)"
		    SrcPort		    1
		    DstBlock		    "Qc"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "1/"
		    SrcPort		    1
		    DstBlock		    "Tcm"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qc"
		    SrcPort		    1
		    DstBlock		    "1/"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [459, 172]
		    Text		    "c"
		    }
		    Annotation {
		    Position		    [459, 221]
		    Text		    "i"
		    }
		    Annotation {
		    Position		    [458, 270]
		    Text		    "x"
		    }
		    Annotation {
		    Position		    [461, 318]
		    Text		    "h"
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "fc temp correct"
		    Ports		    [5, 2, 1]
		    Position		    [445, 179, 585, 281]
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "fc temp correct"
		    Location		    [61, 253, 669, 718]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Coolant T (C)"
		    Position		    [105, 110, 125, 130]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT fuel use\n(g/s)"
		    Position		    [50, 145, 70, 165]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT emis\n(g/s)"
		    Position		    [105, 180, 125, 200]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "T (Nm)"
		    Position		    [50, 346, 85, 364]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w (rad/s)"
		    Position		    [90, 366, 125, 384]
		    Port		    "5"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [424, 30, 456, 55]
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "=1: use map based\n=0: use consta"
"nt equation based"
		    Position		    [85, 24, 145, 56]
		    Value		    "fc_cold"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [425, 125, 455, 155]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [435, 190, 465, 220]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    Ports		    [3, 2, 1]
		    Position		    [210, 105, 350, 205]
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    Location		    [54, 367, 669, 825]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Coolant T (C)"
		    Position		    [65, 175, 85, 195]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT fuel use\n(g/s)"
		    Position		    [105, 30, 125, 50]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT emis\n(g/s)"
		    Position		    [105, 325, 125, 345]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [459, 210, 491, 235]
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [440, 125, 496, 165]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [222, 357, 578, 433]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [177, 38]
		    Text		    "This block determines actual fuel"
" use and engine-out emissions\ngiven the fully hot values and the engine cool"
"ant temperature.\nThe correlations used here were developed at NREL using\nHo"
"t and Cold Engine data collected \nat Oak Ridge National Laboratory."
		    }
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "CO cold/hot"
		    Position		    [245, 174, 275, 196]
		    Expr		    "2.13*pow(u,4.26)+1"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "HC cold/hot"
		    Position		    [245, 124, 275, 146]
		    Expr		    "8.05*pow(u,9.46)+1"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [4, 1]
		    Position		    [320, 127, 330, 268]
		    Inputs		    "4"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "NOx cold/hot"
		    Position		    [245, 219, 275, 241]
		    Expr		    "0.51*pow(u,1.37)+1"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "PM cold/hot"
		    Position		    [245, 264, 275, 286]
		    Expr		    "5.14*pow(u,17.04)+1"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [390, 311, 415, 344]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [365, 33, 395, 57]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [195, 174, 205, 196]
		    ShowName		    off
		    UpperLimit		    "1"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "fuel cold/hot"
		    Position		    [245, 69, 275, 91]
		    Expr		    "0.1*pow(u,0.65)+1"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "lambda"
		    Position		    [145, 174, 175, 196]
		    Expr		    "(fc_tstat-u)/(fc_tstat-20)"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "fuel use\n(g/s)"
		    Position		    [460, 35, 480, 55]
		    Port		    "1"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "EO emis\n(g/s)"
		    Position		    [475, 320, 495, 340]
		    NamePlacement	    "alternate"
		    Port		    "2"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "PM cold/hot"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Mux"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "NOx cold/hot"
		    SrcPort		    1
		    Points		    [20, 0; 0, -15]
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "HC cold/hot"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "CO cold/hot"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -50]
		    Branch {
		    DstBlock		    "HC cold/hot"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -55]
		    DstBlock		    "fuel cold/hot"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    DstBlock		    "NOx cold/hot"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "PM cold/hot"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "lambda"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    Points		    [30, 0; 0, 120]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fuel cold/hot"
		    SrcPort		    1
		    Points		    [70, 0]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "EO emis\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "CO cold/hot"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "fuel use\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "HOT fuel use\n(g/s)"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Coolant T (C)"
		    SrcPort		    1
		    DstBlock		    "lambda"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "HOT emis\n(g/s)"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    Ports		    [5, 2, 1]
		    Position		    [210, 284, 350, 386]
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    Location		    [244, 76, 899, 664]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Coolant T (C)"
		    Position		    [35, 25, 55, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT fuel use\n(g/s)"
		    Position		    [315, 65, 335, 85]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT emis\n(g/s)"
		    Position		    [325, 520, 345, 540]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "T (Nm)"
		    Position		    [30, 101, 65, 119]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w (rad/s)"
		    Position		    [30, 146, 65, 164]
		    Port		    "5"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [564, 230, 596, 255]
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "(Thot-Temp)\n--------------------"
"\n(Thot-Tcold)"
		    Position		    [105, 24, 135, 46]
		    Expr		    "(fc_tstat-u)/(fc_tstat-fc_cold_tm"
"p)"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "CO factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [190, 293, 220, 317]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_co_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "CO factor\ncold-to-hot"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "HC factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [190, 213, 220, 237]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_hc_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "HC factor\ncold-to-hot"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [275, 129, 280, 176]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [260, 189, 265, 236]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [2, 1]
		    Position		    [260, 269, 265, 316]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux4"
		    Ports		    [2, 1]
		    Position		    [260, 344, 265, 391]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux5"
		    Ports		    [2, 1]
		    Position		    [260, 419, 265, 466]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux6"
		    Ports		    [4, 1]
		    Position		    [455, 267, 465, 408]
		    Inputs		    "4"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "NOx factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [190, 368, 220, 392]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_nox_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "NOx factor\ncold-to-hot"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "PM factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [190, 443, 220, 467]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_pm_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "PM factor\ncold-to-hot"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [520, 331, 545, 364]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [520, 68, 550, 92]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [90, 98, 105, 122]
		    ShowName		    off
		    UpperLimit		    "max(fc_map_trq*fc_trq_scale)"
		    LowerLimit		    "min(fc_map_trq*fc_trq_scale)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    Position		    [90, 143, 105, 167]
		    ShowName		    off
		    UpperLimit		    "max(fc_map_spd*fc_spd_scale)"
		    LowerLimit		    "min(fc_map_spd*fc_spd_scale)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio"
		    Position		    [325, 144, 355, 166]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio1"
		    Position		    [325, 214, 355, 236]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio2"
		    Position		    [325, 284, 355, 306]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio3"
		    Position		    [325, 359, 355, 381]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio4"
		    Position		    [320, 434, 350, 456]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "fuel factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [195, 147, 220, 178]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_fuel_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "fuel factor\ncold-to-hot"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "limit to\ndata\nlimits"
		    Position		    [210, 23, 230, 47]
		    UpperLimit		    "1"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "fuel use\n(g/s)"
		    Position		    [585, 70, 605, 90]
		    Port		    "1"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "EO emis\n(g/s)"
		    Position		    [590, 340, 610, 360]
		    Port		    "2"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio4"
		    SrcPort		    1
		    Points		    [60, 0; 0, -55]
		    DstBlock		    "Mux6"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio3"
		    SrcPort		    1
		    Points		    [50, 0; 0, -15]
		    DstBlock		    "Mux6"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio2"
		    SrcPort		    1
		    Points		    [45, 0; 0, 25]
		    DstBlock		    "Mux6"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio1"
		    SrcPort		    1
		    Points		    [45, 0; 0, 60]
		    DstBlock		    "Mux6"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio"
		    SrcPort		    1
		    Points		    [15, 0; 0, -40; 125, 0; 0, -30]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "limit to\ndata\nlimits"
		    SrcPort		    1
		    Points		    [10, 0; 0, 105]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    DstBlock		    "Mux5"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "(Thot-Temp)\n--------------------"
"\n(Thot-Tcold)"
		    SrcPort		    1
		    DstBlock		    "limit to\ndata\nlimits"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux6"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "T (Nm)"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "HOT emis\n(g/s)"
		    SrcPort		    1
		    Points		    [155, 0]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "EO emis\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "fuel use\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux5"
		    SrcPort		    1
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux4"
		    SrcPort		    1
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    Points		    [40, 0]
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "PM factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux5"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "NOx factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "CO factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "HC factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fuel factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Coolant T (C)"
		    SrcPort		    1
		    DstBlock		    "(Thot-Temp)\n--------------------"
"\n(Thot-Tcold)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [55, 0; 0, 60]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    Points		    [0, 75]
		    DstBlock		    "PM factor\ncold-to-hot"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "NOx factor\ncold-to-hot"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "CO factor\ncold-to-hot"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "HC factor\ncold-to-hot"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "fuel factor\ncold-to-hot"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    Points		    [0, 75]
		    DstBlock		    "PM factor\ncold-to-hot"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "NOx factor\ncold-to-hot"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "CO factor\ncold-to-hot"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "HC factor\ncold-to-hot"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "fuel factor\ncold-to-hot"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "HOT fuel use\n(g/s)"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "fc_cold=0"
		    Ports		    [1, 1]
		    Position		    [240, 24, 270, 56]
		    Operator		    "NOT"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "fuel use\n(g/s)"
		    Position		    [495, 130, 515, 150]
		    Port		    "1"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "EO emis\n(g/s)"
		    Position		    [495, 195, 515, 215]
		    Port		    "2"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "w (rad/s)"
		    SrcPort		    1
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    5
		    }
		    Line {
		    SrcBlock		    "T (Nm)"
		    SrcPort		    1
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "EO emis\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "fuel use\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    SrcPort		    2
		    Points		    [65, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    SrcPort		    2
		    Points		    [65, 0]
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    SrcPort		    1
		    Points		    [55, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "fc_cold=0"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [95, 0; 0, 100]
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    DstPort		    enable
		    }
		    }
		    Line {
		    SrcBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "HOT emis\n(g/s)"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    Points		    [0, 145]
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "HOT fuel use\n(g/s)"
		    SrcPort		    1
		    Points		    [95, 0]
		    Branch {
		    Points		    [0, 160]
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Coolant T (C)"
		    SrcPort		    1
		    Points		    [45, 0]
		    Branch {
		    Points		    [0, 175]
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "=1: use map based\n=0: use consta"
"nt equation based"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    Points		    [0, 215; 100, 0]
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    enable
		    }
		    Branch {
		    DstBlock		    "fc_cold=0"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "cumulative fuel \nuse (gal)"
		    Position		    [860, 180, 880, 200]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
		    Position		    [950, 280, 970, 300]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Vv,Tfc"
		    Position		    [775, 65, 795, 85]
		    Port		    "3"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "HOT engine maps "
		    SrcPort		    6
		    Points		    [350, 0]
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    5
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "T (Nm)"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "HOT engine maps "
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 210; 330, 0]
		    Branch {
		    Points		    [0, -190]
		    DstBlock		    "fc temp correct"
		    DstPort		    4
		    }
		    Branch {
		    DstBlock		    "Relational"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "w (rad/s)"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, 105; 370, 0]
		    DstBlock		    "fc temp correct"
		    DstPort		    5
		    }
		    Branch {
		    DstBlock		    "HOT engine maps "
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Mux4"
		    SrcPort		    1
		    DstBlock		    "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux5"
		    SrcPort		    1
		    DstBlock		    "Vv,Tfc"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <veh>\n(m/s)"
		    SrcPort		    1
		    Points		    [115, 0]
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "Mux5"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "fc temp"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "HOT engine maps "
		    SrcPort		    4
		    Points		    [350, 0]
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "HOT engine maps "
		    SrcPort		    5
		    Points		    [350, 0]
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    4
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    DstBlock		    "cumulative fuel \nuse (gal)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "(gal/s)"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "HOT engine maps "
		    SrcPort		    2
		    Points		    [170, 0]
		    DstBlock		    "fc temp correct"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "HOT engine maps "
		    SrcPort		    3
		    Points		    [125, 0; 0, -25]
		    DstBlock		    "fc temp correct"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "fc temp"
		    SrcPort		    3
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "Selector3"
		    DstPort		    1
		    }
		    Branch {
		    Labels		    [1, 0]
		    Points		    [100, 0]
		    Branch {
		    DstBlock		    "Mux5"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 15]
		    DstBlock		    "enhancedToWorkspace10"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "fc temp"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "HOT engine maps "
		    SrcPort		    7
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Selector3"
		    SrcPort		    1
		    Points		    [0, 35]
		    Branch {
		    Points		    [0, 5]
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 5]
		    DstBlock		    "fc temp correct"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "HOT engine maps "
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "fc temp"
		    DstPort		    4
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "fc temp"
		    SrcPort		    2
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    DstBlock		    "enhancedToWorkspace9"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fc temp correct"
		    SrcPort		    2
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "From <vc> "
		    SrcPort		    1
		    Points		    [45, 0]
		    Branch {
		    Points		    [60, 0]
		    Branch {
		    Points		    [265, 0]
		    Branch {
		    Points		    [390, 0]
		    DstBlock		    "Mux4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "fc temp correct"
		    DstPort		    enable
		    }
		    }
		    Branch {
		    Points		    [0, -60]
		    DstBlock		    "fc temp"
		    DstPort		    3
		    }
		    }
		    Branch {
		    DstBlock		    "HOT engine maps "
		    DstPort		    enable
		    }
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    DstBlock		    "fc temp"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "(gal/s)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "enhancedToWorkspace11"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fc temp correct"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    " <fc>"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [0, -15]
		    DstBlock		    "Relational"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational"
		    SrcPort		    1
		    Points		    [0, 0; 5, 0]
		    Branch {
		    DstBlock		    "<fc>"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  Ports			  []
		  Position		  [765, 213, 797, 252]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('fuel_conv"
"erter.htm')]);"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "image(imread('doc_man.jpg'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "help"
		    Location		    [203, 331, 569, 538]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "requested power and energy"
		  Ports			  [2]
		  Position		  [170, 229, 210, 271]
		  ForegroundColor	  "orange"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "requested power and energy"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "trq"
		    Position		    [15, 68, 45, 82]
		    ForegroundColor	    "orange"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "spd"
		    Position		    [50, 83, 80, 97]
		    ForegroundColor	    "orange"
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    Ports		    [1, 1]
		    Position		    [180, 21, 200, 49]
		    ForegroundColor	    "orange"
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    InitialCondition	    "0"
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    ShowSaturationPort	    off
		    ShowStatePort	    off
		    AbsoluteTolerance	    "auto"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "J"
		    Ports		    [1]
		    Position		    [230, 27, 325, 43]
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|energy_r|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "J"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_energy_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [115, 66, 135, 99]
		    ForegroundColor	    "orange"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "hp"
		    Ports		    [1]
		    Position		    [225, 77, 320, 93]
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|pwr_r_hp|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "hp"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_pwr_r_hp"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "w -> hp"
		    Position		    [165, 69, 195, 101]
		    ForegroundColor	    "orange"
		    FontName		    "Arial"
		    Gain		    "0.001341022"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "watts"
		    Ports		    [1]
		    Position		    [230, 137, 325, 153]
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|pwr_r|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "watts"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_pwr_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "w -> hp"
		    SrcPort		    1
		    DstBlock		    "hp"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [0, 0; 5, 0]
		    Branch {
		    DstBlock		    "w -> hp"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 60]
		    DstBlock		    "watts"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    DstBlock		    "J"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "trq"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "spd"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "fuel use"
		  Position		  [750, 45, 770, 65]
		  NamePlacement		  "alternate"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "EO emis\ninfo"
		  Position		  [750, 85, 770, 105]
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed\n avail. to drivel"
"ine\n(Nm), (rad/s)"
		  Position		  [710, 210, 730, 230]
		  NamePlacement		  "alternate"
		  FontName		  "Arial"
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "engine torque"
		  SrcPort		  2
		  Points		  [20, 0; 0, 135; 45, 0]
		  Branch {
		    Points		    [0, -25]
		    DstBlock		    "<sdo>1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [110, 0]
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "engine torque"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "fuel use and EO emis\nno fuel use"
"d at negative torque"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "torque and speed\n avail. to driv"
"eline\n(Nm), (rad/s)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 45]
		    DstBlock		    "Demux2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "fuel use and EO emis\nno fuel used "
"at negative torque"
		  SrcPort		  3
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "fuel use and EO emis\nno fuel used "
"at negative torque"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "EO emis\ninfo"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "engine torque"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -20]
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "torque and speed\n req'd at engine "
"\noutput shaft\n(Nm)"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "Demux"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 180]
		    DstBlock		    "Demux1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Speed Limits"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "fuel use and EO emis\nno fuel used "
"at negative torque"
		  SrcPort		  1
		  Points		  [40, 0]
		  Branch {
		    DstBlock		    "fuel use"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -30; 65, 0]
		    Branch {
		    DstBlock		    "Goto1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "engine speed\nestimator"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -30]
		    Branch {
		    Points		    [-60, 0]
		    DstBlock		    "engine torque"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "fuel use and EO emis\nno fuel use"
"d at negative torque"
		    DstPort		    2
		    }
		  }
		  Branch {
		    Points		    [30, 0; 0, 0]
		    Branch {
		    DstBlock		    "Goto2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Speed Limits"
		  SrcPort		  1
		  Points		  [70, 0]
		  Branch {
		    Points		    [0, -20]
		    DstBlock		    "engine torque"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 45]
		    Branch {
		    DstBlock		    "engine speed\nestimator"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 95; 80, 0]
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 30]
		    Branch {
		    DstBlock		    "<sdo>"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		    }
		    }
		    }
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  DstBlock		  "requested power and energy"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  DstBlock		  "requested power and energy"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  1
		  DstBlock		  "achieved power and energy"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  2
		  DstBlock		  "achieved power and energy"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [280, 46, 325, 74]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 77, 966, 752]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 108, 140, 122]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 88, 210, 137]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "fc_trq_out_r"
		    PropagatedSignals	    "trq in r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "fc_spd_out_r"
		    PropagatedSignals	    "w shaft out r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From2"
		  Position		  [145, 170, 265, 190]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "fc_spd_est"
		  Port {
		    PortNumber		    1
		    Name		    "fc_spd_est"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [3, 1]
		  Position		  [360, 82, 365, 198]
		  ShowName		  off
		  Inputs		  "3"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [430, 133, 460, 147]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  Name			  "fc_spd_est"
		  Labels		  [0, 0]
		  SrcBlock		  "From2"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "fc_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "fc_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [115, 0; 0, 15]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "req out"
	      Position		      [505, 53, 535, 67]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "fuel"
	      Position		      [505, 98, 535, 112]
	      NamePlacement	      "alternate"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "engine out\nemissions"
	      Position		      [580, 133, 610, 147]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\nout\nachieved"
	      Position		      [505, 168, 535, 182]
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [730, 388, 760, 402]
	      Port		      "5"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      Name		      "fc_decceleration_cmd"
	      Labels		      [-1, 0]
	      SrcBlock		      "From5"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      12
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      1
	      DstBlock		      "<sdo>2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      2
	      DstBlock		      "<sdo>4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      3
	      DstBlock		      "<sdo>5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      4
	      DstBlock		      "<sdo>6"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      5
	      DstBlock		      "<sdo>7"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      6
	      DstBlock		      "<sdo>8"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      7
	      DstBlock		      "<sdo>9"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      8
	      DstBlock		      "<sdo>10"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      9
	      DstBlock		      "<sdo>11"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      10
	      DstBlock		      "<sdo>12"
	      DstPort		      1
	    }
	    Line {
	      Name		      "fc_spd_out_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      Name		      "fc_trq_out_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From13"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "fc_spd_est"
	      Labels		      [0, 0]
	      SrcBlock		      "From2"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "fuel"
	      Labels		      [0, 0]
	      SrcBlock		      "From3"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      4
	    }
	    Line {
	      Name		      "fc_spd_out_r"
	      Labels		      [0, 0]
	      SrcBlock		      "From4"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      5
	    }
	    Line {
	      Name		      "engine_speed"
	      Labels		      [0, 0]
	      SrcBlock		      "From9"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      6
	    }
	    Line {
	      Name		      "fc_trq_limited"
	      Labels		      [0, 0]
	      SrcBlock		      "From10"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      7
	    }
	    Line {
	      Name		      "fc_spd_limited"
	      Labels		      [0, 0]
	      SrcBlock		      "From12"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      8
	    }
	    Line {
	      Name		      "fc_clt_tmp"
	      Labels		      [0, 0]
	      SrcBlock		      "From14"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      9
	    }
	    Line {
	      Name		      "fc_hood_temp"
	      Labels		      [0, 0]
	      SrcBlock		      "From6"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      10
	    }
	    Line {
	      SrcBlock		      "trq and spd\nout\nrequested"
	      SrcPort		      1
	      Points		      [0, 0; 25, 0]
	      Branch {
		DstBlock		"ic engine model"
		DstPort			1
	      }
	      Branch {
		Points			[0, -80]
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "ic engine model"
	      SrcPort		      1
	      DstBlock		      "fuel"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "ic engine model"
	      SrcPort		      2
	      DstBlock		      "engine out\nemissions"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "ic engine model"
	      SrcPort		      3
	      DstBlock		      "trq and spd\nout\nachieved"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Demux1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "req out"
	      DstPort		      1
	    }
	    Line {
	      Name		      "fc_braking"
	      Labels		      [0, 0]
	      SrcBlock		      "From1"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      11
	    }
	    Annotation {
	      Position		      [368, 571]
	      Text		      "*"
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Position		      [343, 396]
	      Text		      "*"
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Position		      [391, 592]
	      HorizontalAlignment     "left"
	      Text		      "formerly \nengine_rpm\nrenamed because "
"\nunits are rad/s\n (misleading)"
	    }
	    Annotation {
	      Position		      [402, 26]
	      BackgroundColor	      "yellow"
	      Text		      "MODEL"
	      DropShadow	      on
	      FontName		      "Times New Roman"
	      FontSize		      14
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Position		      [397, 226]
	      BackgroundColor	      "yellow"
	      Text		      "INTERFACE"
	      DropShadow	      on
	      FontName		      "Times New Roman"
	      FontSize		      14
	      FontWeight	      "bold"
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [105, 291, 215, 329]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fcControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "help"
	  Ports			  []
	  Position		  [80, 98, 112, 137]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowName		  off
	  OpenFcn		  "web(['file:\\\\\\' which('fuel_converter.ht"
"m')]);"
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "image(imread('doc_man.jpg'))"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "help"
	    Location		    [203, 331, 569, 538]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [420, 89, 520, 131]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fcReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [390, 289, 490, 331]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fcSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "fuel"
	  Position		  [380, 198, 410, 212]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "engine out\nemissions"
	  Position		  [440, 208, 470, 222]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "trq and spd\nout\nachieved"
	  Position		  [380, 218, 410, 232]
	  Port			  "3"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "trq and spd\nout\nrequested"
	  SrcPort		  1
	  DstBlock		  "IC Engine Model \n& \nInterface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [0, -80]
	  DstBlock		  "IC Engine Model \n& \nInterface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "IC Engine Model \n& \nInterface"
	  SrcPort		  5
	  Points		  [45, 0; 0, 75]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "IC Engine Model \n& \nInterface"
	  SrcPort		  4
	  DstBlock		  "trq and spd\nout\nachieved"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "IC Engine Model \n& \nInterface"
	  SrcPort		  3
	  DstBlock		  "engine out\nemissions"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "IC Engine Model \n& \nInterface"
	  SrcPort		  2
	  DstBlock		  "fuel"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "IC Engine Model \n& \nInterface"
	  SrcPort		  1
	  Points		  [15, 0; 0, -85]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Annotation {
	  Position		  [322, 55]
	  BackgroundColor	  "yellow"
	  Text			  "Internal Combustion Engine"
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Annotation {
      Position		      [209, 251]
      Text		      "-----------------------------------------------"
"---------------------------------------------------------------------"
    }
    Annotation {
      Position		      [78, 285]
      Text		      "sub-models\nfor the fuel converter"
    }
    Annotation {
      Position		      [121, 21]
      ForegroundColor	      "blue"
      BackgroundColor	      "yellow"
      Text		      "IC ENGINE:"
      DropShadow	      on
      FontName		      "Arial"
      FontSize		      14
      FontWeight	      "bold"
    }
  }
}
