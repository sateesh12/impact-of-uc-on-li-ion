Model {
  Name			  "bd_par_auto2"
  Version		  4.1.1
  SampleTimeColors	  off
  LibraryLinkDisplay	  "all"
  WideLines		  off
  ShowLineDimensions	  off
  ShowPortDataTypes	  off
  ShowStorageClass	  off
  ExecutionOrder	  off
  RecordCoverage	  off
  CovPath		  "/"
  CovSaveName		  "covdata"
  CovMetricSettings	  "dw"
  CovNameIncrementing	  off
  CovHtmlReporting	  on
  BlockNameDataTip	  off
  BlockParametersDataTip  on
  BlockDescriptionStringDataTip	off
  ToolBar		  on
  StatusBar		  on
  BrowserShowLibraryLinks on
  BrowserLookUnderMasks	  on
  Created		  "Wed May 31 09:08:08 2000"
  UpdateHistory		  "UpdateHistoryNever"
  ModifiedByFormat	  "%<Auto>"
  LastModifiedBy	  "mokeefe"
  ModifiedDateFormat	  "%<Auto>"
  LastModifiedDate	  "Thu Apr 24 12:10:27 2003"
  ModifiedComment	  "mokeefe -- Wed Apr 16 13:36:53 2003 -- Version 1.22"
"\n"
  ModifiedHistory	  "mokeefe -- Wed Apr 16 13:36:53 2003 -- Version 1.22"
"\n\n\nmokeefe -- Wed Apr 16 13:36:31 2003 -- Version 1.21\n\n\nmokeefe -- Fri"
" Aug 30 07:45:49 2002 -- Version 1.20\nChanged the input to \"mechanical acce"
"ssory loads <acc>/Mechanical Accessory Loads V2 <acc>\" masked parameter inpu"
"t blocks. In R13, the function \"not\" no longer returns double 1 or double 0"
" for true and false but instead returns type logical (boolean). Thus, I am no"
"w multiplying by double 1 which causes a type conversion to double yielding t"
"he desired effect.\n\n\nabrooker -- Tue May 14 11:45:21 2002 -- Version 1.19"
"\n\n\nmokeefe -- Thu Apr 18 08:00:10 2002 -- Version 1.18\nsaving the model:"
"\no \"without the model browser open\"\no with only top-level screen visible "
"\no and with \"fit to view\" enabled\n\n"
  ModelVersionFormat	  "1.%<AutoIncrement:91>"
  ConfigurationManager	  "none"
  SimParamPage		  "Solver"
  StartTime		  "0.0"
  StopTime		  "max(cyc_mph(:,1))"
  SolverMode		  "SingleTasking"
  Solver		  "ode1"
  RelTol		  "1e-3"
  AbsTol		  "1e-3"
  Refine		  "1"
  MaxStep		  "1"
  MinStep		  "auto"
  MaxNumMinSteps	  "-1"
  InitialStep		  "auto"
  FixedStep		  "1"
  MaxOrder		  5
  OutputOption		  "RefineOutputTimes"
  OutputTimes		  "[]"
  LoadExternalInput	  off
  ExternalInput		  "[t, u]"
  SaveTime		  off
  TimeSaveName		  "tout"
  SaveState		  off
  StateSaveName		  "xout"
  SaveOutput		  off
  OutputSaveName	  "yout"
  LoadInitialState	  off
  InitialState		  "xInitial"
  SaveFinalState	  off
  FinalStateName	  "xFinal"
  SaveFormat		  "Array"
  LimitDataPoints	  off
  MaxDataPoints		  "1000"
  Decimation		  "1"
  AlgebraicLoopMsg	  "warning"
  MinStepSizeMsg	  "warning"
  UnconnectedInputMsg	  "warning"
  UnconnectedOutputMsg	  "warning"
  UnconnectedLineMsg	  "none"
  InheritedTsInSrcMsg	  "warning"
  SingleTaskRateTransMsg  "none"
  MultiTaskRateTransMsg	  "error"
  IntegerOverflowMsg	  "warning"
  CheckForMatrixSingularity "none"
  UnnecessaryDatatypeConvMsg "none"
  Int32ToFloatConvMsg	  "warning"
  InvalidFcnCallConnMsg	  "error"
  SignalLabelMismatchMsg  "none"
  LinearizationMsg	  "none"
  VectorMatrixConversionMsg "none"
  SfunCompatibilityCheckMsg "none"
  BlockPriorityViolationMsg "warning"
  ArrayBoundsChecking	  "none"
  ConsistencyChecking	  "none"
  ZeroCross		  on
  Profile		  off
  SimulationMode	  "normal"
  RTWSystemTargetFile	  "grt.tlc"
  RTWInlineParameters	  off
  RTWRetainRTWFile	  off
  RTWTemplateMakefile	  "grt_vc.tmf"
  RTWMakeCommand	  "make_rtw"
  RTWGenerateCodeOnly	  off
  TLCProfiler		  off
  TLCDebug		  off
  TLCCoverage		  off
  AccelSystemTargetFile	  "accel.tlc"
  AccelTemplateMakefile	  "accel_default_tmf"
  AccelMakeCommand	  "make_rtw"
  TryForcingSFcnDF	  off
  ExtModeMexFile	  "ext_comm"
  ExtModeBatchMode	  off
  ExtModeTrigType	  "manual"
  ExtModeTrigMode	  "oneshot"
  ExtModeTrigPort	  "1"
  ExtModeTrigElement	  "any"
  ExtModeTrigDuration	  1000
  ExtModeTrigHoldOff	  0
  ExtModeTrigDelay	  0
  ExtModeTrigDirection	  "rising"
  ExtModeTrigLevel	  0
  ExtModeArchiveMode	  "off"
  ExtModeAutoIncOneShot	  off
  ExtModeIncDirWhenArm	  off
  ExtModeAddSuffixToVar	  off
  ExtModeWriteAllDataToWs off
  ExtModeArmWhenConnect	  off
  ExtModeSkipDownloadWhenConnect off
  ExtModeLogAll		  on
  ExtModeAutoUpdateStatusClock on
  OptimizeBlockIOStorage  on
  BufferReuse		  on
  ParameterPooling	  on
  BlockReductionOpt	  on
  RTWExpressionDepthLimit 5
  BooleanDataType	  off
  BlockDefaults {
    Orientation		    "right"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    NamePlacement	    "normal"
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    ShowName		    on
  }
  AnnotationDefaults {
    HorizontalAlignment	    "center"
    VerticalAlignment	    "middle"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  LineDefaults {
    FontName		    "Helvetica"
    FontSize		    9
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  System {
    Name		    "bd_par_auto2"
    Location		    [2, 73, 967, 748]
    Open		    on
    ModelBrowserVisibility  off
    ModelBrowserWidth	    212
    ScreenColor		    "white"
    PaperOrientation	    "landscape"
    PaperPositionMode	    "auto"
    PaperType		    "usletter"
    PaperUnits		    "inches"
    ZoomFactor		    "98"
    ReportName		    "simulink-default.rpt"
    Block {
      BlockType		      Goto
      Name		      "<cs>"
      Position		      [805, 132, 870, 148]
      GotoTag		      "ex_cat_tmp"
      TagVisibility	      "global"
    }
    Block {
      BlockType		      SubSystem
      Name		      "<cs>\ncontrol strategy"
      Ports		      []
      Position		      [235, 59, 300, 111]
      ShowPortLabels	      on
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskDisplay	      "image(imread('bdi_cs.jpg'))\n"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      System {
	Name			"<cs>\ncontrol strategy"
	Location		[6, 77, 818, 744]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	212
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  "Automatic Transmission\n Control"
	  Ports			  []
	  Position		  [220, 35, 278, 94]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "Automatic Transmission\n Control"
	    Location		    [276, 77, 860, 744]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    428
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "95"
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector1"
	      Ports		      [1, 1]
	      Position		      [650, 206, 655, 244]
	      ShowName		      off
	      OutputSignals	      "shifting"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<shifting>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector10"
	      Ports		      [1, 1]
	      Position		      [240, 46, 245, 84]
	      ShowName		      off
	      OutputSignals	      "eta_gb"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<eta_gb>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector4"
	      Ports		      [1, 1]
	      Position		      [240, 346, 245, 384]
	      ShowName		      off
	      OutputSignals	      "slip_limited"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<slip_limited>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector7"
	      Ports		      [1, 2]
	      Position		      [240, 117, 245, 313]
	      ShowName		      off
	      OutputSignals	      "gb_trq_out_r,gb_spd_out_r"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<gb_trq_out_r>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		2
		Name			"<gb_spd_out_r>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      Position		      [15, 197, 140, 233]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbReqOut"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From12"
	      Position		      [15, 47, 140, 83]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbSensors"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [685, 314, 785, 356]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "htcControl"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      Position		      [685, 144, 785, 186]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbControl"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory"
	      Position		      [300, 55, 315, 75]
	      ShowName		      off
	      X0		      "1"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux1"
	      Ports		      [3, 1]
	      Position		      [610, 25, 620, 305]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux2"
	      Ports		      [2, 1]
	      Position		      [660, 276, 670, 394]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Inputs		      "2"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag5"
	      Position		      [15, 346, 225, 384]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehReqOut"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "gearbox control for automatic transmiss"
"ion"
	      Ports		      [4, 4]
	      Position		      [335, 15, 540, 415]
	      BackgroundColor	      "yellow"
	      DropShadow	      on
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      on
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      Port {
		PortNumber		1
		Name			"gear_ratio"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		2
		Name			"shifting"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		3
		Name			"gear_number"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		4
		Name			"lock_up"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      System {
		Name			"gearbox control for automatic transmi"
"ssion"
		Location		[276, 77, 966, 762]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "eta_gb, t=(i-1)"
		  Position		  [85, 238, 115, 252]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "T_gb_out"
		  Position		  [85, 278, 115, 292]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "w_gb_out"
		  Position		  [85, 318, 115, 332]
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "slip_limited"
		  Position		  [85, 358, 115, 372]
		  Port			  "4"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  From
		  Name			  "From <gb>3"
		  Position		  [110, 116, 200, 134]
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "w_gb_out"
		}
		Block {
		  BlockType		  From
		  Name			  "From <gb>4"
		  Position		  [110, 56, 205, 74]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "eta_gb"
		}
		Block {
		  BlockType		  From
		  Name			  "From <gb>5"
		  Position		  [110, 145, 205, 165]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "slip_limited"
		}
		Block {
		  BlockType		  From
		  Name			  "From<gb>1"
		  Position		  [555, 91, 640, 109]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "gear_ratio"
		}
		Block {
		  BlockType		  From
		  Name			  "From<gb>2"
		  Position		  [555, 166, 640, 184]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "shifting"
		}
		Block {
		  BlockType		  From
		  Name			  "From<gb>3"
		  Position		  [555, 246, 640, 264]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "gear_number"
		}
		Block {
		  BlockType		  From
		  Name			  "From<gb>4"
		  Position		  [110, 86, 200, 104]
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "T_gb_out"
		}
		Block {
		  BlockType		  From
		  Name			  "From<gb>5"
		  Position		  [555, 326, 640, 344]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "locked_up"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <gb>2"
		  Position		  [315, 55, 405, 75]
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  GotoTag		  "gear_ratio"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <gb>3"
		  Position		  [325, 86, 405, 104]
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  GotoTag		  "shifting"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <htc>"
		  Position		  [330, 147, 405, 163]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "locked_up"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <htc>1"
		  Position		  [325, 115, 405, 135]
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  GotoTag		  "gear_number"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility10"
		  Position		  [425, 242, 542, 269]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gear_number"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility11"
		  Position		  [425, 162, 542, 189]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "shifting"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility12"
		  Position		  [425, 87, 542, 114]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gear_ratio"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility13"
		  Position		  [425, 322, 542, 349]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "locked_up"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility6"
		  Position		  [280, 272, 397, 299]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "T_gb_out"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility7"
		  Position		  [280, 312, 397, 339]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "w_gb_out"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility8"
		  Position		  [280, 232, 397, 259]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "eta_gb"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility9"
		  Position		  [280, 352, 397, 379]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "slip_limited"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto10"
		  Position		  [140, 352, 270, 378]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "slip_limited"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto7"
		  Position		  [140, 272, 270, 298]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "T_gb_out"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto8"
		  Position		  [140, 312, 270, 338]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "w_gb_out"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto9"
		  Position		  [140, 232, 270, 258]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "eta_gb"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearbox control\nfor use w/ AT"
		  Ports			  [4, 4]
		  Position		  [255, 54, 290, 166]
		  ForegroundColor	  "magenta"
		  FontName		  "Arial"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "gearbox control\nfor use w/ AT"
		    Location		    [6, 74, 977, 726]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    212
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "73"
		    Block {
		    BlockType		    Inport
		    Name		    "eta_gb"
		    Position		    [45, 85, 65, 105]
		    ForegroundColor	    "yellow"
		    FontName		    "Arial"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_trq_out_r"
		    Position		    [45, 135, 65, 155]
		    ForegroundColor	    "lightBlue"
		    FontName		    "Arial"
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_spd_out_r"
		    Position		    [45, 180, 65, 200]
		    ForegroundColor	    "orange"
		    FontName		    "Arial"
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "tires are at\ntraction limit"
		    Position		    [45, 230, 65, 250]
		    ForegroundColor	    "darkGreen"
		    FontName		    "Arial"
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [770, 475, 826, 515]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [430, 234, 888, 441]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [227, 12]
		    VerticalAlignment	    "top"
		    Text		    "This gearbox control block comput"
"es the current gear number given the gearbox's\nreq'd output torque and speed"
" and an estimate its efficiency.  Upshifts occur, given a\ncertain engine spe"
"ed,  when the estimated engine load falls below the upshift curve\nin engine "
"speed/load space, and downshifts likewise occur when estimated engine\nload r"
"ises above the downshift curve.  Separate upshift and downshift curves are\nd"
"efined for each gear.  An upshift may not be immediately followed by a downsh"
"ift.\nIf the tires are about to slip, don't upshift unless the engine would b"
"e at max. speed.\nEnforce this rule by setting the load to 1 when the tires a"
"re about to slip."
		    }
		    Annotation {
		    Position		    [217, 162]
		    Text		    "Lock-up of the HTC occurs when it"
" is supposed to for the current gear, AND\nthe transmission isn't shifting, A"
"ND\nthe lockup wouldn't precipitate an immediate downshift."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [385, 65, 405, 85]
		    Orientation		    "left"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [320, 315, 340, 335]
		    Orientation		    "left"
		    ShowName		    off
		    Value		    "0.5"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [385, 410, 405, 430]
		    Orientation		    "left"
		    ShowName		    off
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From5"
		    Position		    [105, 290, 195, 310]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_number"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From6"
		    Position		    [185, 350, 275, 370]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain1"
		    Position		    [535, 207, 560, 233]
		    FontName		    "Arial"
		    Gain		    "-1"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto"
		    Position		    [835, 237, 945, 263]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    GotoTag		    "gear_number"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto1"
		    Position		    [905, 107, 1015, 133]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    GotoTag		    "shifting"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [4, 1]
		    Position		    [665, 342, 695, 388]
		    Operator		    "AND"
		    Inputs		    "4"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [320, 344, 350, 376]
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator2"
		    Ports		    [1, 1]
		    Position		    [530, 446, 560, 484]
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [600, 450, 630, 480]
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [255, 112, 285, 143]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    Ports		    [2, 1]
		    Position		    [595, 203, 615, 227]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product4"
		    Ports		    [2, 1]
		    Position		    [255, 457, 285, 488]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [315, 257, 345, 288]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [780, 66, 800, 84]
		    FontName		    "Arial"
		    UpperLimit		    "gb_gears_num"
		    LowerLimit		    "1"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [380, 105, 410, 135]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [380, 450, 410, 480]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "allow downshift?"
		    Ports		    [1, 1]
		    Position		    [485, 32, 515, 68]
		    ForegroundColor	    "blue"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "allow downshift?"
		    Location		    [342, 275, 831, 490]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gearnum"
		    Position		    [35, 35, 55, 55]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [380, 43, 410, 67]
		    FontName		    "Arial"
		    Operator		    "NOR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [150, 60, 185, 80]
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [150, 105, 185, 125]
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [230, 38, 260, 62]
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    Position		    [230, 98, 260, 122]
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "allow shift"
		    Position		    [445, 45, 465, 65]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, 70; -60, 0]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [15, 0; 0, -15]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev gearnum"
		    SrcPort		    1
		    Points		    [50, 0]
		    Branch {
		    Points		    [0, 25]
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "allow shift"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "current\ngear\nnumber"
		    Ports		    [2, 1]
		    Position		    [725, 57, 745, 93]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "delta\ngear\nnumber"
		    Position		    [655, 114, 685, 146]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "downshift \ncommand"
		    Ports		    [3, 1]
		    Position		    [475, 194, 505, 246]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "downshift \ncommand"
		    Location		    [441, 362, 916, 657]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear number"
		    Position		    [45, 98, 75, 112]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine load"
		    Position		    [45, 38, 75, 52]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine speed"
		    Position		    [45, 133, 75, 147]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [130, 107, 165, 143]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [350, 38, 380, 62]
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "load fraction"
		    Ports		    [1, 1]
		    Position		    [240, 100, 270, 150]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "Gear Selector"
		    MaskDescription	    "This block will perform a linear "
"interplation (extrapolation outside of bounds) to determine the shift point l"
"oad fraction associated with the current gear number and speed. \n\nThe Speed"
"s parameter should be defined as an array of vectors containing speeds for ea"
"ch gear number.  The Load Fractions parameter should be defined as a array of"
" vectors containing load fractions indexed by the speeds in the Speeds parame"
"ter for each gear number."
		    MaskHelp		    "Reference the base workspace vari"
"ables - gb_**shift_spd and gb_**shift_load  where ** is either up for upshift"
" conditions or dn for downshift conditions.\n\nOr define the arrays as follow"
"s:\n\n{[spd1 spd2 spd3 spd4]; [spd1 spd2 spd3 spd4]; ...}\n\n{[load1 load2 lo"
"ad3 load4]; [load1 load2 load3 load4]; ...}\n\nwhere each array contains one "
"row for each gear in the gearbox.  Speeds should be defined in rad/s and load"
"s as a decimal fraction.\n\n"
		    MaskPromptString	    "Speeds:|Load Fractions:"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVariables	    "spd=@1;load=@2;"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "gb_dnshift_spd|gb_dnshift_load"
		    MaskVariableAliases	    ","
		    System {
		    Name		    "load fraction"
		    Location		    [464, 440, 704, 522]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 33, 55, 47]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-Function"
		    Ports		    [1, 1]
		    Position		    [80, 25, 160, 55]
		    FunctionName	    "sfun_gearbox"
		    Parameters		    "load, spd"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [185, 33, 215, 47]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-Function"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "command"
		    Position		    [420, 43, 450, 57]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "load fraction"
		    SrcPort		    1
		    Points		    [55, 0; 0, -70]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "load fraction"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine load"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev gear number"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine speed"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "command"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "downshift \ncommand1"
		    Ports		    [3, 1]
		    Position		    [475, 439, 505, 491]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "downshift \ncommand1"
		    Location		    [431, 372, 906, 667]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear number"
		    Position		    [45, 98, 75, 112]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine load"
		    Position		    [45, 38, 75, 52]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine speed"
		    Position		    [45, 133, 75, 147]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [130, 107, 165, 143]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [350, 38, 380, 62]
		    FontName		    "Arial"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "load fraction"
		    Ports		    [1, 1]
		    Position		    [240, 100, 270, 150]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "Gear Selector"
		    MaskDescription	    "This block will perform a linear "
"interplation (extrapolation outside of bounds) to determine the shift point l"
"oad fraction associated with the current gear number and speed. \n\nThe Speed"
"s parameter should be defined as an array of vectors containing speeds for ea"
"ch gear number.  The Load Fractions parameter should be defined as a array of"
" vectors containing load fractions indexed by the speeds in the Speeds parame"
"ter for each gear number."
		    MaskHelp		    "Reference the base workspace vari"
"ables - gb_**shift_spd and gb_**shift_load  where ** is either up for upshift"
" conditions or dn for downshift conditions.\n\nOr define the arrays as follow"
"s:\n\n{[spd1 spd2 spd3 spd4]; [spd1 spd2 spd3 spd4]; ...}\n\n{[load1 load2 lo"
"ad3 load4]; [load1 load2 load3 load4]; ...}\n\nwhere each array contains one "
"row for each gear in the gearbox.  Speeds should be defined in rad/s and load"
"s as a decimal fraction.\n\n"
		    MaskPromptString	    "Speeds:|Load Fractions:"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVariables	    "spd=@1;load=@2;"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "gb_dnshift_spd|gb_dnshift_load"
		    MaskVariableAliases	    ","
		    System {
		    Name		    "load fraction"
		    Location		    [464, 440, 704, 522]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 33, 55, 47]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-Function"
		    Ports		    [1, 1]
		    Position		    [80, 25, 160, 55]
		    FunctionName	    "sfun_gearbox"
		    Parameters		    "load, spd"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [185, 33, 215, 47]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "S-Function"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "command"
		    Position		    [420, 43, 450, 57]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "command"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev gear number"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine load"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "load fraction"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "load fraction"
		    SrcPort		    1
		    Points		    [55, 0; 0, -70]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "engine speed"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "engine\ntorque\ncapability"
		    Position		    [200, 125, 230, 145]
		    FontName		    "Arial"
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_max_trq*fc_trq_scale+eps"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "engine\ntorque\ncapability1"
		    Position		    [200, 470, 230, 490]
		    FontName		    "Arial"
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_max_trq*fc_trq_scale+eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "est. engine trq\nand\nspd"
		    Ports		    [4, 3]
		    Position		    [120, 84, 150, 116]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "est. engine trq\nand\nspd"
		    Location		    [46, 549, 1231, 942]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    327
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "78"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear\nnumber"
		    Position		    [20, 113, 50, 127]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    " prev eta_gb"
		    Position		    [20, 168, 50, 182]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_trq_out_r"
		    Position		    [20, 223, 50, 237]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_spd_out_r"
		    Position		    [20, 283, 50, 297]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [775, 235, 831, 275]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [231, 257, 689, 321]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    385
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [227, 12]
		    VerticalAlignment	    "top"
		    Text		    "Estimate engine torque and speed "
"associated with the previous gear, assuming that\nthe gearbox efficiency is c"
"onstant."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [525, 220, 550, 240]
		    Orientation		    "left"
		    ShowName		    off
		    Value		    "[1 1]"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant5"
		    Position		    [555, 70, 575, 90]
		    Orientation		    "left"
		    ShowName		    off
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    Ports		    [1, 2]
		    Position		    [790, 162, 825, 198]
		    Outputs		    "2"
		    BusSelectionMode	    off
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [245, 50, 340, 70]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "locked_up"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "K_adv"
		    Ports		    [1, 1]
		    Position		    [275, 145, 305, 175]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "K_adv"
		    Location		    [502, 588, 994, 833]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    Position		    [45, 58, 75, 72]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "K_adv=wout/(Tout)^0.5"
		    Position		    [160, 51, 280, 79]
		    FontName		    "Arial"
		    Expr		    "u[2]/u[1]^0.5"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [305, 50, 335, 80]
		    UpperLimit		    "max(htc_k_adv)"
		    LowerLimit		    "min(htc_k_adv)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    Position		    [105, 50, 135, 80]
		    ShowName		    off
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "K_adv"
		    Position		    [385, 58, 415, 72]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "K_adv=wout/(Tout)^0.5"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "K_adv=wout/(Tout)^0.5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    SrcPort		    1
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [620, 36, 650, 69]
		    ForegroundColor	    "red"
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [445, 43, 475, 77]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [380, 45, 410, 75]
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [680, 97, 715, 133]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [245, 142, 255, 178]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [550, 27, 580, 58]
		    ShowName		    off
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "SR Look-Up\nTable\nSR=wout/win"
		    Position		    [350, 210, 380, 240]
		    InputValues		    "htc_k_adv"
		    OutputValues	    "htc_sr"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [85, 160, 115, 190]
		    UpperLimit		    "1"
		    LowerLimit		    "0.7"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    Position		    [845, 175, 875, 205]
		    UpperLimit		    "inf"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [525, 170, 555, 200]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    Position		    [350, 125, 380, 155]
		    InputValues		    "htc_k_adv"
		    OutputValues	    "htc_tr"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "TR,SR"
		    Ports		    [2, 1]
		    Position		    [430, 157, 465, 193]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio1"
		    Position		    [85, 108, 115, 132]
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    OutputValues	    "gb_ratio"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~eng trq\nand spd"
		    Ports		    [2, 1]
		    Position		    [735, 161, 765, 194]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_spd_in_r"
		    Ports		    [2, 1]
		    Position		    [170, 265, 200, 300]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_trq_in_r"
		    Ports		    [3, 1]
		    Position		    [170, 105, 200, 195]
		    Inputs		    "//*"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "est eng trq\n(Nm)"
		    Position		    [915, 103, 945, 117]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "est eng spd\n(rad/s)"
		    Position		    [910, 183, 940, 197]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gb_spd_in_est\n(rad/s)"
		    Position		    [910, 278, 940, 292]
		    ForegroundColor	    "blue"
		    NamePlacement	    "alternate"
		    Port		    "3"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "gb_trq_out_r"
		    SrcPort		    1
		    Points		    [95, 0; 0, -50]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "gb_spd_out_r"
		    SrcPort		    1
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gear ratio1"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 155]
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "TR,SR"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-10, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "~eng trq\nand spd"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    " prev eta_gb"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "est eng spd\n(rad/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant5"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "gear ratio1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    Points		    [40, 0; 0, -60]
		    DstBlock		    "est eng trq\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    Points		    [0, 95; -145, 0]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "~eng trq\nand spd"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "~eng trq\nand spd"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "K_adv"
		    SrcPort		    1
		    Points		    [0, 0; 15, 0]
		    Branch {
		    Points		    [0, -20]
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SrcPort		    1
		    Points		    [30, 0]
		    DstBlock		    "TR,SR"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    SrcPort		    1
		    Points		    [30, 0]
		    DstBlock		    "TR,SR"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "~gb_trq_in_r"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -45; 290, 0]
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -70]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "~gb_spd_in_r"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    Points		    [435, 0]
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "gb_spd_in_est\n(rad/s)"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "est. engine trq\nand spd assuming"
"\nlockup"
		    Ports		    [4, 2]
		    Position		    [115, 429, 145, 461]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "est. engine trq\nand spd assuming"
"\nlockup"
		    Location		    [73, 443, 774, 727]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "new gear\nnumber"
		    Position		    [30, 28, 60, 42]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    " prev eta_gb"
		    Position		    [30, 83, 60, 97]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_trq_out_r"
		    Position		    [30, 138, 60, 152]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_spd_in_est"
		    Position		    [30, 218, 60, 232]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [300, 125, 356, 165]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [231, 257, 689, 321]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [227, 12]
		    VerticalAlignment	    "top"
		    Text		    "Estimate engine torque and speed "
"associated with the current gear, assuming that\nthe gearbox efficiency is co"
"nstant."
		    }
		    }
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [130, 180, 160, 210]
		    X0			    "gb_ratio(1)"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [95, 75, 125, 105]
		    UpperLimit		    "1"
		    LowerLimit		    "0.7"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    Position		    [255, 180, 285, 210]
		    UpperLimit		    "inf"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio1"
		    Position		    [95, 23, 125, 47]
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    OutputValues	    "gb_ratio"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_spd_in_r"
		    Ports		    [3, 1]
		    Position		    [190, 150, 220, 240]
		    Inputs		    "*/*"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "~gb_trq_in_r"
		    Ports		    [3, 1]
		    Position		    [190, 20, 220, 110]
		    Inputs		    "//*"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "est eng trq\n(Nm)"
		    Position		    [320, 58, 350, 72]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "est eng spd\n(rad/s)"
		    Position		    [320, 188, 350, 202]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [45, 0]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    " prev eta_gb"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gear ratio1"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 130]
		    Branch {
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [-35, 0]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "gb_trq_out_r"
		    SrcPort		    1
		    Points		    [100, 0; 0, -50]
		    DstBlock		    "~gb_trq_in_r"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "new gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "gear ratio1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "est eng spd\n(rad/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gb_spd_in_est"
		    SrcPort		    1
		    DstBlock		    "~gb_spd_in_r"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "~gb_trq_in_r"
		    SrcPort		    1
		    DstBlock		    "est eng trq\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "~gb_spd_in_r"
		    SrcPort		    1
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "gear ratio2"
		    Position		    [870, 63, 900, 87]
		    FontName		    "Arial"
		    InputValues		    "[1:length(gb_ratio)]"
		    OutputValues	    "gb_ratio"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "load=T/\n(maxT\nat spd)"
		    Position		    [310, 116, 345, 144]
		    FontName		    "Arial"
		    UpperLimit		    "1"
		    LowerLimit		    "-1"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "load=T/\n(maxT\nat spd)1"
		    Position		    [310, 461, 345, 489]
		    FontName		    "Arial"
		    UpperLimit		    "1"
		    LowerLimit		    "-1"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "lock-up in\nthis gear"
		    Position		    [260, 253, 290, 277]
		    FontName		    "Arial"
		    InputValues		    "[1:length(htc_lockup)]"
		    OutputValues	    "htc_lockup"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "prev gear\nnumber"
		    Position		    [745, 15, 785, 35]
		    Orientation		    "left"
		    ForegroundColor	    "magenta"
		    FontName		    "Arial"
		    X0			    "gb_num_init"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "shifting1"
		    Ports		    [1, 1]
		    Position		    [845, 134, 875, 166]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "shifting1"
		    Location		    [76, 244, 366, 435]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "gear\nnumber"
		    Position		    [15, 50, 35, 70]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [20, 131, 120, 159]
		    FontName		    "Arial"
		    Value		    "gb_shift_delay-1e-6"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [185, 53, 215, 77]
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "time since last shift"
		    Ports		    [1, 1]
		    Position		    [65, 43, 125, 77]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('time since\\nlast shift')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "time since last shift"
		    Location		    [47, 595, 337, 734]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [10, 60, 30, 80]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just shifted"
		    Ports		    [1, 1]
		    Position		    [60, 57, 110, 83]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('just\\nshifted')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "just shifted"
		    Location		    [48, 850, 371, 995]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [55, 55, 75, 75]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [120, 55, 155, 75]
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [190, 58, 220, 82]
		    FontName		    "Arial"
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [250, 60, 270, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 30; 75, 0; 0, -20]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "timer"
		    Ports		    [1, 1]
		    Position		    [140, 55, 175, 85]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('timer')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "timer"
		    Location		    [389, 635, 793, 850]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "trigger"
		    Position		    [15, 125, 35, 145]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [100, 100, 120, 120]
		    FontName		    "Arial"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [100, 150, 120, 170]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [150, 5, 170, 25]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [265, 59, 295, 91]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "no-lag\nReset Integrator"
		    Ports		    [3, 1]
		    Position		    [155, 96, 205, 174]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "No-lag Reset Integrator"
		    MaskDescription	    "No-lag Reset Integrator"
		    MaskHelp		    "Integrates first input using Eule"
"r technique.\\nAt the time step that input 2 <> zero,\\noutput is reset to in"
"put 3."
		    MaskPromptString	    "Initial Value"
		    MaskStyleString	    "edit"
		    MaskTunableValueString  "on"
		    MaskEnableString	    "on"
		    MaskVisibilityString    "on"
		    MaskToolTipString	    "on"
		    MaskInitialization	    "initval=@1;"
		    MaskDisplay		    "disp('1/s\\nw/ reset\\nno lag')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "15"
		    System {
		    Name		    "no-lag\nReset Integrator"
		    Location		    [258, 616, 780, 880]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [60, 100, 80, 120]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    Position		    [60, 140, 80, 160]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_3"
		    Position		    [45, 185, 65, 205]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [125, 205, 145, 225]
		    Orientation		    "up"
		    NamePlacement	    "alternate"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [340, 55, 375, 75]
		    Orientation		    "left"
		    FontName		    "Arial"
		    X0			    "initval"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [160, 96, 180, 114]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [230, 90, 250, 110]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [290, 139, 320, 171]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    Ports		    [0, 1]
		    Position		    [112, 50, 138, 80]
		    Orientation		    "down"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "dt"
		    Location		    [80, 285, 429, 424]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [65, 60, 85, 80]
		    FontName		    "Arial"
		    FontSize		    8
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [125, 85, 160, 105]
		    FontName		    "Arial"
		    FontSize		    8
		    X0			    "-1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 65, 225, 85]
		    FontName		    "Arial"
		    FontSize		    8
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [255, 65, 275, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "in_2==0"
		    Position		    [160, 143, 190, 167]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [455, 145, 475, 165]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -40]
		    DstBlock		    "in_2==0"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_2==0"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [10, 0; 0, 45]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-130, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "dt"
		    SrcPort		    1
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "in_2==0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_3"
		    SrcPort		    1
		    Points		    [200, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "time"
		    Position		    [350, 65, 370, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    Points		    [35, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [35, 0; 0, 50]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "trigger"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -60]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "time"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [225, 60, 245, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "timer"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "just shifted"
		    SrcPort		    1
		    DstBlock		    "timer"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "just shifted"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [250, 55, 270, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "time since last shift"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [15, 0; 0, -75]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gear\nnumber"
		    SrcPort		    1
		    DstBlock		    "time since last shift"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "upshift\n command"
		    Ports		    [3, 1]
		    Position		    [475, 94, 505, 146]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "upshift\n command"
		    Location		    [433, 169, 908, 464]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "prev gear number"
		    Position		    [45, 103, 75, 117]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine load"
		    Position		    [45, 38, 75, 52]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine speed"
		    Position		    [45, 133, 75, 147]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [130, 107, 165, 143]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [350, 38, 380, 62]
		    FontName		    "Arial"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "load fraction"
		    Ports		    [1, 1]
		    Position		    [245, 100, 275, 150]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "Gear Selector"
		    MaskDescription	    "This block will perform a linear "
"interplation (extrapolation outside of bounds) to determine the shift point l"
"oad fraction associated with the current gear number and speed. \n\nThe Speed"
"s parameter should be defined as an array of vectors containing speeds for ea"
"ch gear number.  The Load Fractions parameter should be defined as a array of"
" vectors containing load fractions indexed by the speeds in the Speeds parame"
"ter for each gear number."
		    MaskHelp		    "Reference the base workspace vari"
"ables - gb_**shift_spd and gb_**shift_load  where ** is either up for upshift"
" conditions or dn for downshift conditions.\n\nOr define the arrays as follow"
"s:\n\n{[spd1 spd2 spd3 spd4]; [spd1 spd2 spd3 spd4]; ...}\n\n{[load1 load2 lo"
"ad3 load4]; [load1 load2 load3 load4]; ...}\n\nwhere each array contains one "
"row for each gear in the gearbox.  Speeds should be defined in rad/s and load"
"s as a decimal fraction.\n\n"
		    MaskPromptString	    "Speeds:|Load Fractions:"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVariables	    "spd=@1;load=@2;"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "gb_upshift_spd|gb_upshift_load"
		    MaskVariableAliases	    ","
		    System {
		    Name		    "load fraction"
		    Location		    [1031, 545, 1271, 627]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 33, 55, 47]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-Function"
		    Ports		    [1, 1]
		    Position		    [80, 25, 160, 55]
		    FunctionName	    "sfun_gearbox"
		    Parameters		    "load, spd"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [185, 33, 215, 47]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-Function"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "command"
		    Position		    [420, 43, 450, 57]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "load fraction"
		    SrcPort		    1
		    Points		    [50, 0; 0, -70]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "engine load"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev gear number"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "load fraction"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine speed"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "command"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear ratio"
		    Position		    [935, 65, 955, 85]
		    NamePlacement	    "alternate"
		    FontName		    "Arial"
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "shifting"
		    Position		    [935, 140, 955, 160]
		    FontName		    "Arial"
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear number"
		    Position		    [935, 195, 955, 215]
		    FontName		    "Arial"
		    Port		    "3"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "locked up"
		    Position		    [940, 355, 960, 375]
		    FontName		    "Arial"
		    Port		    "4"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "From5"
		    SrcPort		    1
		    Points		    [0, 0; 0, -35]
		    Branch {
		    Points		    [-100, 0]
		    DstBlock		    "est. engine trq\nand spd assuming"
"\nlockup"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "lock-up in\nthis gear"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "From6"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "lock-up in\nthis gear"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "shifting1"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "shifting"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -30]
		    DstBlock		    "Goto1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "downshift \ncommand1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "load=T/\n(maxT\nat spd)1"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [10, 0; 0, -85]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "downshift \ncommand1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "locked up"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain1"
		    SrcPort		    1
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "upshift\n command"
		    SrcPort		    1
		    Points		    [120, 0]
		    Branch {
		    DstBlock		    "delta\ngear\nnumber"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 10]
		    DstBlock		    "delta\ngear\nnumber"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "upshift\n command"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 100]
		    DstBlock		    "downshift \ncommand"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator2"
		    SrcPort		    1
		    Points		    [0, 0; 5, 0]
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -95]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "est. engine trq\nand spd assuming"
"\nlockup"
		    SrcPort		    2
		    Points		    [35, 0; 0, 25]
		    Branch {
		    Points		    [0, 55; 265, 0; 0, -55]
		    DstBlock		    "downshift \ncommand1"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "engine\ntorque\ncapability1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "est. engine trq\nand\nspd"
		    SrcPort		    3
		    Points		    [20, 0; 0, 90; -80, 0; 0, 260]
		    DstBlock		    "est. engine trq\nand spd assuming"
"\nlockup"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "tires are at\ntraction limit"
		    SrcPort		    1
		    Points		    [290, 0]
		    Branch {
		    Points		    [0, -120]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 225]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "gb_trq_out_r"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 305]
		    DstBlock		    "est. engine trq\nand spd assuming"
"\nlockup"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, -40]
		    DstBlock		    "est. engine trq\nand\nspd"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "eta_gb"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 345]
		    DstBlock		    "est. engine trq\nand spd assuming"
"\nlockup"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "est. engine trq\nand\nspd"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "est. engine trq\nand spd assuming"
"\nlockup"
		    SrcPort		    1
		    Points		    [90, 0]
		    DstBlock		    "Product4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine\ntorque\ncapability1"
		    SrcPort		    1
		    DstBlock		    "Product4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product4"
		    SrcPort		    1
		    DstBlock		    "load=T/\n(maxT\nat spd)1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [5, 0; 0, 75]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "downshift \ncommand"
		    SrcPort		    1
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "load=T/\n(maxT\nat spd)"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "est. engine trq\nand\nspd"
		    SrcPort		    1
		    Points		    [85, 0]
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine\ntorque\ncapability"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "current\ngear\nnumber"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    Points		    [10, 0; 0, -75]
		    DstBlock		    "delta\ngear\nnumber"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "allow downshift?"
		    SrcPort		    1
		    Points		    [45, 0; 0, 160]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "delta\ngear\nnumber"
		    SrcPort		    1
		    Points		    [15, 0; 0, -45]
		    DstBlock		    "current\ngear\nnumber"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "load=T/\n(maxT\nat spd)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    DstBlock		    "shifting1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "gear number"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "prev gear\nnumber"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "gear ratio2"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "prev gear\nnumber"
		    SrcPort		    1
		    Points		    [-165, 0]
		    Branch {
		    Points		    [-125, 0]
		    Branch {
		    Points		    [-355, 0; 0, 60]
		    DstBlock		    "est. engine trq\nand\nspd"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    Branch {
		    DstBlock		    "allow downshift?"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 100]
		    Branch {
		    Points		    [0, 245]
		    DstBlock		    "downshift \ncommand1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "downshift \ncommand"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "upshift\n command"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "current\ngear\nnumber"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "gear ratio2"
		    SrcPort		    1
		    DstBlock		    "gear ratio"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gb_spd_out_r"
		    SrcPort		    1
		    Points		    [30, 0; 0, -75]
		    DstBlock		    "est. engine trq\nand\nspd"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "est. engine trq\nand\nspd"
		    SrcPort		    2
		    Points		    [30, 0; 0, 35]
		    Branch {
		    DstBlock		    "engine\ntorque\ncapability"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 65; 240, 0]
		    Branch {
		    Points		    [0, -65]
		    DstBlock		    "upshift\n command"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "downshift \ncommand"
		    DstPort		    3
		    }
		    }
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear ratio"
		  Position		  [670, 90, 690, 110]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "shifting"
		  Position		  [670, 165, 690, 185]
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear number"
		  Position		  [670, 245, 690, 265]
		  FontName		  "Arial"
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "locked_up"
		  Position		  [670, 325, 690, 345]
		  FontName		  "Arial"
		  Port			  "4"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "T_gb_out"
		  SrcPort		  1
		  DstBlock		  "Goto7"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "w_gb_out"
		  SrcPort		  1
		  DstBlock		  "Goto8"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From<gb>3"
		  SrcPort		  1
		  DstBlock		  "gear number"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From<gb>2"
		  SrcPort		  1
		  DstBlock		  "shifting"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From<gb>1"
		  SrcPort		  1
		  DstBlock		  "gear ratio"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "slip_limited"
		  SrcPort		  1
		  DstBlock		  "Goto10"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "eta_gb, t=(i-1)"
		  SrcPort		  1
		  DstBlock		  "Goto9"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From <gb>5"
		  SrcPort		  1
		  DstBlock		  "gearbox control\nfor use w/ AT"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "From <gb>3"
		  SrcPort		  1
		  DstBlock		  "gearbox control\nfor use w/ AT"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "From<gb>4"
		  SrcPort		  1
		  DstBlock		  "gearbox control\nfor use w/ AT"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From <gb>4"
		  SrcPort		  1
		  DstBlock		  "gearbox control\nfor use w/ AT"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From<gb>5"
		  SrcPort		  1
		  DstBlock		  "locked_up"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gearbox control\nfor use w/ AT"
		  SrcPort		  1
		  DstBlock		  "Goto <gb>2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gearbox control\nfor use w/ AT"
		  SrcPort		  2
		  DstBlock		  "Goto <gb>3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gearbox control\nfor use w/ AT"
		  SrcPort		  3
		  DstBlock		  "Goto <htc>1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gearbox control\nfor use w/ AT"
		  SrcPort		  4
		  DstBlock		  "Goto <htc>"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "Mux1"
	      SrcPort		      1
	      Points		      [0, 0; 10, 0]
	      Branch {
		DstBlock		"Goto2"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Bus\nSelector1"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "gear_number"
	      Labels		      [0, 0]
	      SrcBlock		      "gearbox control for automatic transmiss"
"ion"
	      SrcPort		      3
	      Points		      [50, 0]
	      DstBlock		      "Mux1"
	      DstPort		      3
	    }
	    Line {
	      Name		      "shifting"
	      Labels		      [0, 0]
	      SrcBlock		      "gearbox control for automatic transmiss"
"ion"
	      SrcPort		      2
	      DstBlock		      "Mux1"
	      DstPort		      2
	    }
	    Line {
	      Name		      "gear_ratio"
	      Labels		      [0, 0]
	      SrcBlock		      "gearbox control for automatic transmiss"
"ion"
	      SrcPort		      1
	      Points		      [50, 0]
	      DstBlock		      "Mux1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Memory"
	      SrcPort		      1
	      DstBlock		      "gearbox control for automatic transmiss"
"ion"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From1"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector7"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<gb_trq_out_r>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector7"
	      SrcPort		      1
	      DstBlock		      "gearbox control for automatic transmiss"
"ion"
	      DstPort		      2
	    }
	    Line {
	      Name		      "<eta_gb>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector10"
	      SrcPort		      1
	      DstBlock		      "Memory"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From12"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector10"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag5"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector4"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<slip_limited>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector4"
	      SrcPort		      1
	      DstBlock		      "gearbox control for automatic transmiss"
"ion"
	      DstPort		      4
	    }
	    Line {
	      Name		      "<gb_spd_out_r>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector7"
	      SrcPort		      2
	      DstBlock		      "gearbox control for automatic transmiss"
"ion"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Mux2"
	      SrcPort		      1
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "lock_up"
	      Labels		      [0, 0]
	      SrcBlock		      "gearbox control for automatic transmiss"
"ion"
	      SrcPort		      4
	      DstBlock		      "Mux2"
	      DstPort		      2
	    }
	    Line {
	      Name		      "<shifting>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector1"
	      SrcPort		      1
	      Points		      [0, 40; -15, 0]
	      DstBlock		      "Mux2"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Clutch Control"
	  Ports			  []
	  Position		  [420, 34, 475, 95]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "Clutch Control"
	    Location		    [202, 73, 966, 748]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "80"
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [3, 1]
	      Position		      [785, 122, 800, 548]
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector"
	      Ports		      [1, 1]
	      Position		      [270, 316, 275, 354]
	      ShowName		      off
	      OutputSignals	      "mpha"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<mpha>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector1"
	      Ports		      [1, 1]
	      Position		      [200, 56, 210, 94]
	      ShowName		      off
	      OutputSignals	      "shifting"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<shifting>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector2"
	      Ports		      [1, 1]
	      Position		      [200, 120, 210, 160]
	      ShowName		      off
	      OutputSignals	      "gb_spd_in_a"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<gb_spd_in_a>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector3"
	      Ports		      [1, 1]
	      Position		      [200, 187, 210, 223]
	      ShowName		      off
	      OutputSignals	      "clutch_trq_out_r"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<clutch_trq_out_r>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector4"
	      Ports		      [1, 1]
	      Position		      [200, 248, 210, 292]
	      ShowName		      off
	      OutputSignals	      "clutch_spd_out_r"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<clutch_spd_out_r>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector5"
	      Ports		      [1, 1]
	      Position		      [270, 381, 275, 419]
	      ShowName		      off
	      OutputSignals	      "veh_spd_a_rec"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<veh_spd_a_rec>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector6"
	      Ports		      [1, 1]
	      Position		      [270, 446, 275, 484]
	      ShowName		      off
	      OutputSignals	      "cycle_mph_r"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<cycle_mph_r>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector7"
	      Ports		      [1, 1]
	      Position		      [270, 511, 275, 549]
	      ShowName		      off
	      OutputSignals	      "v_ave_req"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<v_ave_req>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector8"
	      Ports		      [1, 1]
	      Position		      [270, 576, 275, 614]
	      ShowName		      off
	      OutputSignals	      "engine_on"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<engine_on>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Clutch Control"
	      Ports		      [9, 3]
	      Position		      [475, 47, 685, 623]
	      BackgroundColor	      "yellow"
	      DropShadow	      on
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      on
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      Port {
		PortNumber		1
		Name			"clutch_state"
		PropagatedSignals	"clutch_state"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		2
		Name			"launch_speed"
		PropagatedSignals	"launch_speed"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		3
		Name			"launch_flag"
		PropagatedSignals	"launch_flag"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      System {
		Name			"Clutch Control"
		Location		[202, 73, 966, 748]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	204
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "shifting"
		  Position		  [145, 278, 175, 292]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "gb_spd_in_a"
		  Position		  [145, 313, 175, 327]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "T_cl_out"
		  Position		  [145, 353, 175, 367]
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "w_cl_out"
		  Position		  [145, 388, 175, 402]
		  Port			  "4"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "mpha"
		  Position		  [145, 428, 175, 442]
		  Port			  "5"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "veh_spd_a_rec"
		  Position		  [145, 463, 175, 477]
		  Port			  "6"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "cyc_mph_r"
		  Position		  [145, 498, 175, 512]
		  Port			  "7"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "v_ave_req"
		  Position		  [145, 538, 175, 552]
		  Port			  "8"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "engine_on?"
		  Position		  [145, 583, 175, 597]
		  Port			  "9"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [425, 95, 505, 115]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "vc_launch_spd"
		  VectorParams1D	  on
		  Port {
		    PortNumber		    1
		    Name		    "launch_speed"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant4"
		  Position		  [285, 150, 305, 170]
		  ShowName		  off
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant5"
		  Position		  [290, 210, 310, 230]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  From
		  Name			  "From <gb>1"
		  Position		  [20, 51, 115, 69]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "T_cl_out"
		}
		Block {
		  BlockType		  From
		  Name			  "From <gb>2"
		  Position		  [20, 87, 115, 103]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "w_cl_out"
		}
		Block {
		  BlockType		  From
		  Name			  "From <gb>6"
		  Position		  [215, 125, 310, 145]
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "v_ave_req"
		}
		Block {
		  BlockType		  From
		  Name			  "From <mc>2"
		  Position		  [20, 33, 110, 47]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "shifting"
		}
		Block {
		  BlockType		  From
		  Name			  "From par cntrl"
		  Position		  [20, 126, 115, 144]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "engine_on"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility1"
		  Position		  [340, 382, 457, 409]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "w_cl_out"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility2"
		  Position		  [340, 457, 457, 484]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "veh_spd_a_rec"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility3"
		  Position		  [340, 422, 457, 449]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "mpha"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility4"
		  Position		  [340, 492, 457, 519]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "cyc_mph_r"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility5"
		  Position		  [340, 532, 457, 559]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "v_ave_req"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility6"
		  Position		  [340, 307, 457, 334]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_spd_in_a"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility7"
		  Position		  [340, 347, 457, 374]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "T_cl_out"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility8"
		  Position		  [340, 272, 457, 299]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "shifting"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility9"
		  Position		  [340, 577, 457, 604]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "engine_on"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto1"
		  Position		  [200, 577, 330, 603]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "engine_on"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto11"
		  Position		  [200, 272, 330, 298]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "shifting"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto3"
		  Position		  [200, 382, 330, 408]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "w_cl_out"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto4"
		  Position		  [200, 457, 330, 483]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "veh_spd_a_rec"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto5"
		  Position		  [200, 422, 330, 448]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "mpha"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto6"
		  Position		  [200, 492, 330, 518]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "cyc_mph_r"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto7"
		  Position		  [200, 532, 330, 558]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "v_ave_req"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto8"
		  Position		  [200, 307, 330, 333]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_spd_in_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto9"
		  Position		  [200, 347, 330, 373]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "T_cl_out"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator8"
		  Ports			  [2, 1]
		  Position		  [435, 137, 465, 173]
		  ShowName		  off
		  Operator		  "AND"
		  Inputs		  "2"
		  Port {
		    PortNumber		    1
		    Name		    "launch_flag"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "moving next\ntime"
		  Position		  [335, 197, 365, 228]
		  Operator		  ">"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "not\nmoving"
		  Position		  [340, 127, 370, 158]
		  Operator		  "=="
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "parallel clutch\ncontrol"
		  Ports			  [4, 1]
		  Position		  [165, 30, 200, 110]
		  ForegroundColor	  "gray"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  Port {
		    PortNumber		    1
		    Name		    "clutch_state"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  System {
		    Name		    "parallel clutch\ncontrol"
		    Location		    [15, 107, 928, 729]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "84"
		    Block {
		    BlockType		    Inport
		    Name		    "shifting"
		    Position		    [30, 18, 60, 32]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_trq_in_r"
		    Position		    [30, 58, 60, 72]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gb_spd_in_r"
		    Position		    [25, 168, 55, 182]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine on"
		    Position		    [30, 398, 60, 412]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [835, 565, 891, 605]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [315, 744, 773, 944]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [227, 12]
		    VerticalAlignment	    "top"
		    Text		    "This clutch control block determi"
"nes the clutch state given the req'd clutch output torque \nand speed (labell"
"ed as gearbox input torque and speed), and the gear number history.\n        "
"                  conditions                                                 "
"                      clutch state\ngear is being shifted OR (trq <~ 0 AND (e"
"ngine is                                     1 == disengaged\nclutched to avo"
"id compression braking OR spd < idle))                                       "
"                       \n\n(trq >~ 0) AND (spd < launch speed) AND clutch    "
"                                   2 == slipping     \nwas not engaged during"
" previous time step                                                          "
"       \n\nneither of above sets of conditions are met                       "
"                   3 == engaged\n\nBut the clutch is always disengaged when t"
"he engine is off or was off within the past 0.5 s."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [145, 83, 180, 107]
		    Value		    "1e-3"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [145, 124, 225, 146]
		    Value		    "vc_clutch_bool"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [145, 189, 225, 211]
		    Value		    "vc_idle_spd"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [145, 255, 180, 275]
		    Value		    "1e-3"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant4"
		    Position		    [145, 319, 225, 341]
		    Value		    "vc_launch_spd"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant5"
		    Position		    [570, 355, 605, 375]
		    Orientation		    "left"
		    Value		    "2.5"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant6"
		    Position		    [790, 175, 810, 195]
		    Orientation		    "left"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn:\n1 if clutch disengaged\n2 i"
"f clutch slipping\n3 if clutch engaged"
		    Position		    [660, 110, 720, 140]
		    Expr		    "u[1]+2*u[2]*(1-u[1])*(1-u[3])+3*u"
"[3]*(1-u[1])"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [380, 67, 410, 98]
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [2, 1]
		    Position		    [315, 127, 345, 158]
		    Operator		    "OR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [570, 300, 600, 330]
		    Orientation		    "left"
		    X0			    "1+(2*(cyc_mph(1,2)>0))"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [3, 1]
		    Position		    [590, 107, 625, 143]
		    Inputs		    "3"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [300, 57, 330, 88]
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [260, 177, 290, 208]
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    Position		    [260, 242, 290, 273]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator3"
		    Position		    [260, 307, 290, 338]
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [790, 120, 820, 150]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "clutch\ndisengaged"
		    Ports		    [2, 1]
		    Position		    [450, 17, 480, 48]
		    Operator		    "OR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "clutch\nengaged"
		    Ports		    [2, 1]
		    Position		    [520, 117, 550, 148]
		    Operator		    "NOR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "clutch\nslipping"
		    Ports		    [3, 1]
		    Position		    [380, 254, 410, 286]
		    Operator		    "AND"
		    Inputs		    "3"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "clutch was NOT\nfully engaged\ndu"
"ring last time step"
		    Position		    [475, 305, 510, 340]
		    Orientation		    "left"
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "gearbox speed\nestimator"
		    Ports		    [1, 1]
		    Position		    [80, 160, 110, 190]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "gearbox speed\nestimator"
		    Location		    [224, 217, 812, 726]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "gb_spd_in_r\nif no gear change"
		    Position		    [45, 18, 75, 32]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [515, 345, 571, 385]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [497, 485, 832, 570]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [167, 41]
		    Text		    "The requested engine speed is rep"
"laced by an estimate of the\nengine's previous speed whenever the vehicle mis"
"sed the trace\n by more than 1 mph on the last time step."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [165, 240, 185, 260]
		    Orientation		    "left"
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [315, 165, 335, 185]
		    Orientation		    "left"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [230, 360, 250, 380]
		    Orientation		    "left"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [230, 460, 250, 480]
		    Orientation		    "left"
		    Value		    "0.11"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [195, 40, 285, 70]
		    Orientation		    "left"
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gb_spd_in_a"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <cyc>"
		    Position		    [30, 304, 120, 336]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "cyc_mph_r"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <veh>"
		    Position		    [30, 99, 85, 131]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "mpha"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <wh>/\ntire slip model (m/s)"
		    Position		    [30, 184, 120, 216]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "veh_spd_a_rec"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [150, 97, 190, 133]
		    Gain		    "0.447"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical"
		    Ports		    [2, 1]
		    Position		    [375, 317, 405, 348]
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [370, 115, 400, 145]
		    X0			    "cyc_mph(1,2)*0.447/wh_radius*fd_r"
"atio*gb_ratio(gb_num_init)"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [310, 310, 340, 340]
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [3, 1]
		    Position		    [215, 99, 245, 131]
		    Inputs		    "**/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational"
		    Position		    [225, 307, 255, 338]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational1"
		    Position		    [225, 412, 255, 443]
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [160, 192, 190, 223]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [160, 297, 190, 328]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [310, 110, 340, 140]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [445, 120, 475, 150]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    Ports		    [0, 1]
		    Position		    [165, 408, 185, 432]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "dt"
		    Location		    [240, 561, 480, 665]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [25, 25, 45, 45]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [75, 53, 105, 77]
		    X0			    "-1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum4"
		    Ports		    [2, 1]
		    Position		    [130, 27, 160, 58]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [185, 38, 215, 52]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum4"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Sum4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [545, 128, 575, 142]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Product"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    Labels		    [1, 0]
		    SrcBlock		    "From <wh>/\ntire slip model (m/s)"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -25; 155, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [0, -5]
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <cyc>"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <veh>"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 190]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Relational"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational"
		    SrcPort		    1
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gb_spd_in_r\nif no gear change"
		    SrcPort		    1
		    Points		    [350, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    Points		    [0, 50]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational1"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "Logical"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "Logical"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical"
		    SrcPort		    1
		    Points		    [10, 0; 0, -200]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "dt"
		    SrcPort		    1
		    DstBlock		    "Relational1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "clutch\nstate"
		    Position		    [855, 128, 885, 142]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, 180]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "clutch\nstate"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Fcn:\n1 if clutch disengaged\n2 i"
"f clutch slipping\n3 if clutch engaged"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gearbox speed\nestimator"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, 140]
		    DstBlock		    "Relational\nOperator3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [105, 0; 0, 10]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "gb_spd_in_r"
		    SrcPort		    1
		    DstBlock		    "gearbox speed\nestimator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine on"
		    SrcPort		    1
		    Points		    [380, 0; 315, 0; 0, -270]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "Fcn:\n1 if clutch disengaged\n2 i"
"f clutch slipping\n3 if clutch engaged"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "clutch\nengaged"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "clutch\ndisengaged"
		    SrcPort		    1
		    Points		    [10, 0; 0, 40]
		    Branch {
		    Points		    [0, 50]
		    DstBlock		    "clutch\nengaged"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [80, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    DstBlock		    "clutch\nslipping"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "clutch\nslipping"
		    SrcPort		    1
		    Points		    [80, 0; 0, -95]
		    Branch {
		    Points		    [0, -35]
		    DstBlock		    "clutch\nengaged"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [80, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Constant4"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator3"
		    SrcPort		    1
		    Points		    [30, 0; 0, -55]
		    DstBlock		    "clutch\nslipping"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "clutch was NOT\nfully engaged\ndu"
"ring last time step"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant5"
		    SrcPort		    1
		    Points		    [-30, 0; 0, -35]
		    DstBlock		    "clutch was NOT\nfully engaged\ndu"
"ring last time step"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "clutch was NOT\nfully engaged\ndu"
"ring last time step"
		    SrcPort		    1
		    Points		    [-120, 0; 0, -45]
		    DstBlock		    "clutch\nslipping"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [90, 0; 0, -15]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gb_trq_in_r"
		    SrcPort		    1
		    Points		    [70, 0]
		    Branch {
		    Points		    [0, 185]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    Points		    [15, 0; 0, -45]
		    DstBlock		    "clutch\ndisengaged"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "shifting"
		    SrcPort		    1
		    DstBlock		    "clutch\ndisengaged"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant6"
		    SrcPort		    1
		    Points		    [-15, 0; 0, -40]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "repeated cycle:\n speed required at"
"\nend of NEXT step"
		  Ports			  [0, 1]
		  Position		  [220, 187, 255, 223]
		  FontName		  "Arial"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "Forward looking repeating table"
		  MaskDescription	  "Forward looking repeating table.\nE"
"nter values of time and output for first cycle."
		  MaskHelp		  "Repeats cycle given in table with a"
" one time step forward offset. Time values should be monotonically increasing"
"."
		  MaskPromptString	  "Time values:|Output values:"
		  MaskStyleString	  "edit,edit"
		  MaskTunableValueString  "on,on"
		  MaskCallbackString	  "|"
		  MaskEnableString	  "on,on"
		  MaskVisibilityString	  "on,on"
		  MaskToolTipString	  "on,on"
		  MaskVariables		  "t=@1;y=@2;"
		  MaskInitialization	  "period = max(t);"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "cyc_mph(:,1)|cyc_mph(:,2)"
		  MaskVariableAliases	  ","
		  System {
		    Name		    "repeated cycle:\n speed required "
"at\nend of NEXT step"
		    Location		    [59, 74, 434, 236]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [45, 60, 65, 80]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    Position		    [110, 25, 150, 45]
		    Expr		    "rem(u[1],period)"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up Table"
		    Position		    [260, 33, 300, 57]
		    InputValues		    "t"
		    OutputValues	    "y"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [90, 85, 120, 115]
		    X0			    "-0.1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [150, 62, 180, 93]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 26, 235, 59]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [335, 35, 355, 55]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -35]
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [5, 0; 0, -15]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Look-Up Table"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Look-Up Table"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "clutch_state"
		  Position		  [625, 60, 645, 80]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "launch_speed"
		  Position		  [625, 95, 645, 115]
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "launch_flag"
		  Position		  [625, 145, 645, 165]
		  FontName		  "Arial"
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "veh_spd_a_rec"
		  SrcPort		  1
		  DstBlock		  "Goto4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "T_cl_out"
		  SrcPort		  1
		  DstBlock		  "Goto9"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "shifting"
		  SrcPort		  1
		  DstBlock		  "Goto11"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gb_spd_in_a"
		  SrcPort		  1
		  DstBlock		  "Goto8"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "v_ave_req"
		  SrcPort		  1
		  DstBlock		  "Goto7"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "cyc_mph_r"
		  SrcPort		  1
		  DstBlock		  "Goto6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "mpha"
		  SrcPort		  1
		  DstBlock		  "Goto5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "w_cl_out"
		  SrcPort		  1
		  DstBlock		  "Goto3"
		  DstPort		  1
		}
		Line {
		  Name			  "launch_speed"
		  Labels		  [0, 0]
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  DstBlock		  "launch_speed"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "not\nmoving"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator8"
		  DstPort		  1
		}
		Line {
		  Name			  "launch_flag"
		  Labels		  [0, 0]
		  SrcBlock		  "Logical\nOperator8"
		  SrcPort		  1
		  DstBlock		  "launch_flag"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant4"
		  SrcPort		  1
		  Points		  [10, 0; 0, -10]
		  DstBlock		  "not\nmoving"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From <gb>6"
		  SrcPort		  1
		  DstBlock		  "not\nmoving"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "repeated cycle:\n speed required at"
"\nend of NEXT step"
		  SrcPort		  1
		  DstBlock		  "moving next\ntime"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant5"
		  SrcPort		  1
		  DstBlock		  "moving next\ntime"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "moving next\ntime"
		  SrcPort		  1
		  Points		  [50, 0]
		  DstBlock		  "Logical\nOperator8"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From par cntrl"
		  SrcPort		  1
		  Points		  [10, 0; 0, -35]
		  DstBlock		  "parallel clutch\ncontrol"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "From <gb>1"
		  SrcPort		  1
		  DstBlock		  "parallel clutch\ncontrol"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From <gb>2"
		  SrcPort		  1
		  Points		  [0, -15]
		  DstBlock		  "parallel clutch\ncontrol"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "From <mc>2"
		  SrcPort		  1
		  DstBlock		  "parallel clutch\ncontrol"
		  DstPort		  1
		}
		Line {
		  Name			  "clutch_state"
		  Labels		  [1, 0]
		  SrcBlock		  "parallel clutch\ncontrol"
		  SrcPort		  1
		  DstBlock		  "clutch_state"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "engine_on?"
		  SrcPort		  1
		  DstBlock		  "Goto1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From10"
	      Position		      [45, 57, 170, 93]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbControl"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From11"
	      Position		      [45, 122, 170, 158]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From13"
	      Position		      [45, 217, 170, 253]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "clReqOut"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      Position		      [835, 314, 935, 356]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "clControl"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory1"
	      Position		      [345, 130, 360, 150]
	      ShowName		      off
	      X0		      "0"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory2"
	      Position		      [350, 325, 365, 345]
	      ShowName		      off
	      X0		      "cyc_mph(1,2)"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory3"
	      Position		      [350, 390, 365, 410]
	      ShowName		      off
	      X0		      "0"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory4"
	      Position		      [350, 455, 365, 475]
	      ShowName		      off
	      X0		      "cyc_mph(1,2)"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag1"
	      Position		      [45, 316, 255, 354]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag2"
	      Position		      [45, 381, 255, 419]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag3"
	      Position		      [45, 446, 255, 484]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "cycReqOut"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag4"
	      Position		      [45, 511, 255, 549]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehReqOut"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag5"
	      Position		      [45, 576, 255, 614]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "fcControl"
	    }
	    Line {
	      SrcBlock		      "Memory4"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      7
	    }
	    Line {
	      SrcBlock		      "Memory3"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      6
	    }
	    Line {
	      SrcBlock		      "Memory2"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "Memory1"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      2
	    }
	    Line {
	      Name		      "launch_flag"
	      Labels		      [0, 0]
	      SrcBlock		      "Clutch Control"
	      SrcPort		      3
	      Points		      [80, 0]
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "<clutch_spd_out_r>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector4"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      4
	    }
	    Line {
	      Name		      "<clutch_trq_out_r>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector3"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "From13"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		Points			[0, 35]
		DstBlock		"Bus\nSelector4"
		DstPort			1
	      }
	      Branch {
		Points			[0, -30]
		DstBlock		"Bus\nSelector3"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "<gb_spd_in_a>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector2"
	      SrcPort		      1
	      DstBlock		      "Memory1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From11"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<shifting>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector1"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From10"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "launch_speed"
	      Labels		      [0, 0]
	      SrcBlock		      "Clutch Control"
	      SrcPort		      2
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "clutch_state"
	      Labels		      [0, 0]
	      SrcBlock		      "Clutch Control"
	      SrcPort		      1
	      Points		      [80, 0]
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag1"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<mpha>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector"
	      SrcPort		      1
	      DstBlock		      "Memory2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag2"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector5"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<veh_spd_a_rec>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector5"
	      SrcPort		      1
	      DstBlock		      "Memory3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag3"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector6"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<cycle_mph_r>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector6"
	      SrcPort		      1
	      DstBlock		      "Memory4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag4"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector7"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<v_ave_req>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector7"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      8
	    }
	    Line {
	      SrcBlock		      "controlTag5"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector8"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<engine_on>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector8"
	      SrcPort		      1
	      DstBlock		      "Clutch Control"
	      DstPort		      9
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Drive Cycle"
	  Ports			  []
	  Position		  [30, 34, 88, 96]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "Drive Cycle"
	    Location		    [284, 253, 609, 559]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [4, 1]
	      Position		      [500, 20, 515, 260]
	      ShowName		      off
	      Inputs		      "4"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector"
	      Ports		      [1, 1]
	      Position		      [155, 31, 160, 69]
	      ShowName		      off
	      OutputSignals	      "mpha"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<mpha>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [125, 155, 155, 185]
	      Value		      "0"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "controlTag"
	      Position		      [545, 116, 660, 164]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "cycControl"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag1"
	      Position		      [15, 30, 140, 70]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehSensors"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "drive cycle\ndummy controller"
	      Ports		      [4, 4]
	      Position		      [240, 15, 405, 265]
	      BackgroundColor	      "yellow"
	      DropShadow	      on
	      SourceBlock	      "lib_drive_cycle2/drive cycle\ncontrols/"
"drive cycle\ndummy controller"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      Port {
		PortNumber		1
		Name			"mpha"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		2
		Name			"altia_grade"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		3
		Name			"Altia_Run"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		4
		Name			"altia_cyc_mph_r"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Line {
	      SrcBlock		      "controlTag1"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<mpha>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector"
	      SrcPort		      1
	      DstBlock		      "drive cycle\ndummy controller"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [0, 0; 30, 0]
	      Branch {
		DstBlock		"drive cycle\ndummy controller"
		DstPort			3
	      }
	      Branch {
		Points			[0, -60]
		DstBlock		"drive cycle\ndummy controller"
		DstPort			2
	      }
	      Branch {
		Points			[0, 60]
		DstBlock		"drive cycle\ndummy controller"
		DstPort			4
	      }
	    }
	    Line {
	      Name		      "mpha"
	      Labels		      [0, 0]
	      SrcBlock		      "drive cycle\ndummy controller"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      Name		      "altia_grade"
	      Labels		      [0, 0]
	      SrcBlock		      "drive cycle\ndummy controller"
	      SrcPort		      2
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "Altia_Run"
	      Labels		      [0, 0]
	      SrcBlock		      "drive cycle\ndummy controller"
	      SrcPort		      3
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "altia_cyc_mph_r"
	      Labels		      [0, 0]
	      SrcBlock		      "drive cycle\ndummy controller"
	      SrcPort		      4
	      DstBlock		      "Bus\nCreator"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "controlTag"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Electrical\nAccessories"
	  Ports			  []
	  Position		  [325, 159, 383, 221]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "Electrical\nAccessories"
	    Location		    [202, 77, 954, 728]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "85"
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [4, 1]
	      Position		      [645, 73, 660, 542]
	      ShowName		      off
	      Inputs		      "4"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector1"
	      Ports		      [1, 1]
	      Position		      [255, 231, 260, 269]
	      ShowName		      off
	      OutputSignals	      "F_req"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<F_req>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector2"
	      Ports		      [1, 1]
	      Position		      [255, 346, 260, 384]
	      ShowName		      off
	      OutputSignals	      "key_on"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<key_on>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector3"
	      Ports		      [1, 1]
	      Position		      [255, 461, 260, 499]
	      ShowName		      off
	      OutputSignals	      "engine_on"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<engine_on>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [30, 121, 195, 149]
	      ShowName		      off
	      Value		      "ess_on*1"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "controlTag"
	      Position		      [690, 288, 870, 332]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "acceControl"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag2"
	      Position		      [30, 231, 240, 269]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehReqOut"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag3"
	      Position		      [30, 346, 240, 384]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "fcControl"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag4"
	      Position		      [30, 461, 240, 499]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "fcControl"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "electrical accessory\ncontroller"
	      Ports		      [4, 4]
	      Position		      [335, 74, 605, 541]
	      BackgroundColor	      "yellow"
	      DropShadow	      on
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"electrical accessory\ncontroller"
		Location		[175, 103, 975, 436]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"107"
		Block {
		  BlockType		  Inport
		  Name			  "electrical accessories on?"
		  Position		  [130, 77, 155, 103]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		  Port {
		    PortNumber		    1
		    Name		    "acc_on"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "F_req in"
		  Position		  [130, 132, 155, 158]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		  Port {
		    PortNumber		    1
		    Name		    "F_req"
		    PropagatedSignals	    "F_req"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "key_on in"
		  Position		  [130, 192, 155, 218]
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		  Port {
		    PortNumber		    1
		    Name		    "key_on"
		    PropagatedSignals	    "key_on"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "engine_on in"
		  Position		  [130, 252, 155, 278]
		  Port			  "4"
		  LatchInput		  off
		  Interpolate		  on
		  Port {
		    PortNumber		    1
		    Name		    "engine_on"
		    PropagatedSignals	    "engine_on"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "acc_on"
		  Position		  [300, 80, 320, 100]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "F_req"
		  Position		  [300, 135, 320, 155]
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "key_on"
		  Position		  [300, 195, 320, 215]
		  FontName		  "Arial"
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "engine_on"
		  Position		  [300, 255, 320, 275]
		  FontName		  "Arial"
		  Port			  "4"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  Name			  "acc_on"
		  Labels		  [1, 0]
		  SrcBlock		  "electrical accessories on?"
		  SrcPort		  1
		  DstBlock		  "acc_on"
		  DstPort		  1
		}
		Line {
		  Name			  "engine_on"
		  Labels		  [1, 1]
		  SrcBlock		  "engine_on in"
		  SrcPort		  1
		  DstBlock		  "engine_on"
		  DstPort		  1
		}
		Line {
		  Name			  "F_req"
		  Labels		  [1, 1]
		  SrcBlock		  "F_req in"
		  SrcPort		  1
		  DstBlock		  "F_req"
		  DstPort		  1
		}
		Line {
		  Name			  "key_on"
		  Labels		  [1, 0]
		  SrcBlock		  "key_on in"
		  SrcPort		  1
		  DstBlock		  "key_on"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "electrical accessory\ncontroller"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "controlTag"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag3"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<key_on>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector2"
	      SrcPort		      1
	      DstBlock		      "electrical accessory\ncontroller"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "controlTag4"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector3"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<engine_on>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector3"
	      SrcPort		      1
	      DstBlock		      "electrical accessory\ncontroller"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "controlTag2"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<F_req>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector1"
	      SrcPort		      1
	      DstBlock		      "electrical accessory\ncontroller"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "electrical accessory\ncontroller"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "electrical accessory\ncontroller"
	      SrcPort		      2
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "electrical accessory\ncontroller"
	      SrcPort		      3
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "electrical accessory\ncontroller"
	      SrcPort		      4
	      DstBlock		      "Bus\nCreator"
	      DstPort		      4
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Fuel Converter Control\nparallel hybrid\n i"
"c engine"
	  Ports			  []
	  Position		  [614, 34, 668, 96]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "Fuel Converter Control\nparallel hybrid\n"
" ic engine"
	    Location		    [202, 73, 966, 748]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "200"
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [10, 1]
	      Position		      [710, 63, 725, 932]
	      ShowName		      off
	      Inputs		      "10"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector1"
	      Ports		      [1, 1]
	      Position		      [160, 66, 165, 104]
	      ShowName		      off
	      OutputSignals	      "clutch_state"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<clutch_state>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector10"
	      Ports		      [1, 1]
	      Position		      [160, 616, 165, 654]
	      ShowName		      off
	      OutputSignals	      "v_req_limited"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<v_req_limited>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector11"
	      Ports		      [1, 1]
	      Position		      [160, 671, 165, 709]
	      ShowName		      off
	      OutputSignals	      "SOC"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<SOC>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector12"
	      Ports		      [1, 1]
	      Position		      [160, 726, 165, 764]
	      ShowName		      off
	      OutputSignals	      "ess_max_pwr"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<ess_max_pwr>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector13"
	      Ports		      [1, 1]
	      Position		      [160, 781, 165, 819]
	      ShowName		      off
	      OutputSignals	      "fc_clt_tmp"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<fc_clt_tmp>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector14"
	      Ports		      [1, 1]
	      Position		      [160, 836, 165, 874]
	      ShowName		      off
	      OutputSignals	      "T_cl_out"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<T_cl_out>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector15"
	      Ports		      [1, 1]
	      Position		      [160, 891, 165, 929]
	      ShowName		      off
	      OutputSignals	      "w_cl_out"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<w_cl_out>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector2"
	      Ports		      [1, 1]
	      Position		      [145, 506, 150, 544]
	      ShowName		      off
	      OutputSignals	      "shifting"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<shifting>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector3"
	      Ports		      [1, 1]
	      Position		      [160, 396, 165, 434]
	      ShowName		      off
	      OutputSignals	      "acc_mech_trq_a"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<acc_mech_trq_a>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector4"
	      Ports		      [1, 1]
	      Position		      [240, 561, 245, 599]
	      ShowName		      off
	      OutputSignals	      "v_prev"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<v_prev>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector5"
	      Ports		      [1, 1]
	      Position		      [160, 341, 165, 379]
	      ShowName		      off
	      OutputSignals	      "cycle_mph_r"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<cycle_mph_r>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector6"
	      Ports		      [1, 1]
	      Position		      [160, 286, 165, 324]
	      ShowName		      off
	      OutputSignals	      "veh_spd_a_rec"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<veh_spd_a_rec>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector7"
	      Ports		      [1, 1]
	      Position		      [160, 175, 165, 215]
	      ShowName		      off
	      OutputSignals	      "gear_ratio"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<gear_ratio>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector8"
	      Ports		      [1, 1]
	      Position		      [160, 231, 165, 269]
	      ShowName		      off
	      OutputSignals	      "current_veh_mass"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<current_veh_mass>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector9"
	      Ports		      [1, 1]
	      Position		      [160, 121, 165, 159]
	      ShowName		      off
	      OutputSignals	      "mpha"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<mpha>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From5"
	      Position		      [15, 176, 125, 214]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbControl"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From6"
	      Position		      [15, 66, 125, 104]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "clControl"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From7"
	      Position		      [15, 451, 125, 489]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "fcSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From9"
	      Position		      [15, 506, 125, 544]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbControl"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Fuel Converter Control"
	      Ports		      [16, 10]
	      Position		      [315, 72, 600, 923]
	      BackgroundColor	      "yellow"
	      DropShadow	      on
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      Port {
		PortNumber		1
		Name			"clutch_state"
		PropagatedSignals	"clutch_state"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		2
		Name			"mpha_prev"
		PropagatedSignals	"mpha_prev"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		3
		Name			"gear_ratio"
		PropagatedSignals	"gear_ratio"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		4
		Name			"current_veh_mass"
		PropagatedSignals	"current_veh_mass"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		5
		Name			"veh_spd_a_rec_prev"
		PropagatedSignals	"veh_spd_a_rec_prev"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		6
		Name			"cyc_mph_r_prev"
		PropagatedSignals	"cyc_mph_r_prev"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		7
		Name			"acc_mech_trq_est"
		PropagatedSignals	"acc_mech_trq_est"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		8
		Name			"engine_on"
		PropagatedSignals	"engine_on"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		9
		Name			"key_on"
		PropagatedSignals	"key_on"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		10
		Name			"v_prev"
		PropagatedSignals	"v_prev"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      System {
		Name			"Fuel Converter Control"
		Location		[202, 73, 966, 748]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"90"
		Block {
		  BlockType		  Inport
		  Name			  "clutch_state"
		  Position		  [490, 87, 525, 103]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		  Port {
		    PortNumber		    1
		    Name		    "clutch_state"
		    PropagatedSignals	    "clutch_state"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "mpha(t-1) (prev)"
		  Position		  [490, 122, 525, 138]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		  Port {
		    PortNumber		    1
		    Name		    "mpha_prev"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "gear_ratio"
		  Position		  [490, 157, 525, 173]
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		  Port {
		    PortNumber		    1
		    Name		    "gear_ratio"
		    PropagatedSignals	    "gear_ratio"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "current_veh_mass"
		  Position		  [490, 192, 525, 208]
		  Port			  "4"
		  LatchInput		  off
		  Interpolate		  on
		  Port {
		    PortNumber		    1
		    Name		    "current_veh_mass"
		    PropagatedSignals	    "current_veh_mass"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "veh_spd_a_rec(t-1) (prev)"
		  Position		  [490, 227, 525, 243]
		  Port			  "5"
		  LatchInput		  off
		  Interpolate		  on
		  Port {
		    PortNumber		    1
		    Name		    "veh_spd_a_rec_prev"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "cyc_mph_r(t-1) (prev)"
		  Position		  [145, 292, 180, 308]
		  Port			  "6"
		  LatchInput		  off
		  Interpolate		  on
		  Port {
		    PortNumber		    1
		    Name		    "cyc_mph_r_prev"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "acc_mech_trq_est"
		  Position		  [145, 347, 180, 363]
		  Port			  "7"
		  LatchInput		  off
		  Interpolate		  on
		  Port {
		    PortNumber		    1
		    Name		    "acc_mech_trq_est"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "fcSensors"
		  Position		  [140, 392, 175, 408]
		  Port			  "8"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "shifting"
		  Position		  [135, 432, 170, 448]
		  Port			  "9"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "v_prev"
		  Position		  [630, 537, 665, 553]
		  Port			  "10"
		  LatchInput		  off
		  Interpolate		  on
		  Port {
		    PortNumber		    1
		    Name		    "v_prev"
		    PropagatedSignals	    "v_prev"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "v_req_limited"
		  Position		  [150, 577, 185, 593]
		  Port			  "11"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "SOC"
		  Position		  [150, 622, 185, 638]
		  Port			  "12"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "ess_max_pwr"
		  Position		  [150, 667, 185, 683]
		  Port			  "13"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "fc_clt_tmp"
		  Position		  [150, 707, 185, 723]
		  Port			  "14"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "T_cl_out"
		  Position		  [480, 577, 515, 593]
		  Port			  "15"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "w_cl_out"
		  Position		  [480, 617, 515, 633]
		  Port			  "16"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>1"
		  Position		  [220, 429, 315, 451]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "shifting"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>2"
		  Position		  [215, 574, 310, 596]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "v_req_limited"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>4"
		  Position		  [215, 619, 310, 641]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "SOC"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>5"
		  Position		  [215, 664, 310, 686]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "ess_max_pwr"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>6"
		  Position		  [215, 704, 310, 726]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "fc_clt_tmp"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>7"
		  Position		  [555, 574, 650, 596]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "T_cl_out"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>8"
		  Position		  [555, 614, 650, 636]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "w_cl_out"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  From
		  Name			  "From <gb>5"
		  Position		  [145, 172, 240, 188]
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "w_cl_out"
		}
		Block {
		  BlockType		  From
		  Name			  "From <gb>7"
		  Position		  [145, 116, 240, 134]
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "T_cl_out"
		}
		Block {
		  BlockType		  From
		  Name			  "From14"
		  Position		  [570, 430, 690, 450]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "engine_on"
		  Port {
		    PortNumber		    1
		    Name		    "engine_on"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From6"
		  Position		  [570, 485, 690, 505]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "key_on"
		  Port {
		    PortNumber		    1
		    Name		    "key_on"
		    PropagatedSignals	    "ignition key is on"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <fc>"
		  Position		  [365, 115, 430, 135]
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  GotoTag		  "engine_on"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <fc><mc>"
		  Position		  [380, 171, 430, 189]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "key_on"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility1"
		  Position		  [331, 427, 435, 457]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "shifting"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility2"
		  Position		  [456, 427, 560, 457]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "engine_on"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility3"
		  Position		  [456, 477, 560, 507]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "key_on"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility4"
		  Position		  [326, 572, 430, 602]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "v_req_limited"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility5"
		  Position		  [326, 617, 430, 647]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "SOC"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility6"
		  Position		  [326, 662, 430, 692]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "ess_max_pwr"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility7"
		  Position		  [326, 702, 430, 732]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "fc_clt_tmp"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility8"
		  Position		  [666, 572, 770, 602]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "T_cl_out"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility9"
		  Position		  [666, 612, 770, 642]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "w_cl_out"
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [220, 390, 240, 410]
		  ShowName		  off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "engine on\n(parallel hybrid)"
		  Ports			  [2, 2]
		  Position		  [270, 96, 305, 209]
		  ForegroundColor	  "green"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "engine on\n(parallel hybrid)"
		    Location		    [53, 75, 987, 723]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "82"
		    Block {
		    BlockType		    Inport
		    Name		    "trq req'd\nout of clutch\n(N*m)"
		    Position		    [35, 13, 65, 27]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "spd req'd\nout of clutch\n(N*m)"
		    Position		    [30, 103, 60, 117]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "(--)"
		    Position		    [165, 271, 225, 289]
		    ShowName		    off
		    Value		    "cs_lo_soc"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "(--)1"
		    Position		    [115, 376, 190, 394]
		    Value		    "cs_off_trq_frac"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "(--)2"
		    Position		    [745, 105, 785, 125]
		    ForegroundColor	    "green"
		    Value		    "fc_on"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "(--)3"
		    Position		    [520, 322, 570, 338]
		    Value		    "fc_tstat"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES1"
		    Ports		    []
		    Position		    [830, 60, 886, 100]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES1"
		    Location		    [296, 542, 726, 743]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [212, 12]
		    VerticalAlignment	    "top"
		    Text		    "This engine state computer keeps "
"the engine on if:\n[\n1) key is on, AND\n2) (trq is too high AND speed is too"
" high for idle) OR engine is allowed to idle, AND\n3) vehicle speed >= cs_ele"
"ctric_launch_spd [ in m/s ], AND\n4) req'd trq > (cs_off_trq_frac * max_trq_a"
"t_spd) OR SOC<cs_lo_soc\n]\nOR\n[ engine was previously on AND the transmissi"
"on is shifting ]\n\nThe last condition is added to prevent the engine from un"
"realistically\nshutting down for a second or two during a shift."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [110, 27, 145, 43]
		    ShowName		    off
		    Value		    "1e-3"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [325, 82, 395, 98]
		    ShowName		    off
		    Value		    "vc_idle_bool"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant10"
		    Position		    [170, 232, 300, 248]
		    ShowName		    off
		    Value		    "cs_charge_deplete_bool"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant11"
		    Position		    [95, 61, 210, 79]
		    ShowName		    off
		    Value		    "cs_electric_decel_spd"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [105, 117, 175, 133]
		    ShowName		    off
		    Value		    "vc_idle_spd"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant8"
		    Position		    [240, 389, 270, 411]
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <ess>"
		    Position		    [105, 254, 150, 276]
		    BackgroundColor	    "lightBlue"
		    NamePlacement	    "alternate"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "SOC"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>1"
		    Position		    [105, 148, 190, 172]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "v_req_limited"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>2"
		    Position		    [585, 240, 655, 260]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>3"
		    Position		    [85, 480, 170, 500]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "ess_max_pwr"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>4"
		    Position		    [515, 284, 585, 306]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "fc_clt_tmp"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [585, 318, 615, 342]
		    Gain		    "vc_fc_warm_tmp_frac"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator11"
		    Ports		    [1, 1]
		    Position		    [350, 235, 380, 255]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator12"
		    Ports		    [3, 1]
		    Position		    [810, 154, 840, 186]
		    ForegroundColor	    "green"
		    ShowName		    off
		    Operator		    "AND"
		    Inputs		    "3"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator13"
		    Ports		    [2, 1]
		    Position		    [685, 298, 715, 327]
		    ShowName		    off
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator2"
		    Ports		    [2, 1]
		    Position		    [425, 41, 445, 74]
		    ShowName		    off
		    Operator		    "OR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator3"
		    Ports		    [2, 1]
		    Position		    [330, 31, 360, 64]
		    ShowName		    off
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator4"
		    Ports		    [2, 1]
		    Position		    [285, 21, 305, 54]
		    ShowName		    off
		    Operator		    "OR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator5"
		    Ports		    [3, 1]
		    Position		    [585, 125, 615, 235]
		    ShowName		    off
		    Operator		    "AND"
		    Inputs		    "3"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator6"
		    Ports		    [3, 1]
		    Position		    [385, 322, 405, 358]
		    ShowName		    off
		    Operator		    "OR"
		    Inputs		    "3"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator7"
		    Ports		    [2, 1]
		    Position		    [680, 243, 710, 272]
		    ShowName		    off
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator8"
		    Ports		    [4, 1]
		    Position		    [755, 172, 785, 233]
		    ShowName		    off
		    Operator		    "OR"
		    Inputs		    "4"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator9"
		    Ports		    [2, 1]
		    Position		    [520, 160, 545, 195]
		    ShowName		    off
		    Operator		    "OR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up Table"
		    Position		    [205, 175, 235, 205]
		    InputValues		    "[cs_lo_soc cs_hi_soc cs_hi_soc+ep"
"s]"
		    OutputValues	    "[cs_electric_launch_spd_lo cs_ele"
"ctric_launch_spd_hi cs_electric_launch_spd_hi]"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [685, 340, 715, 370]
		    Orientation		    "left"
		    X0			    "cyc_mph(1,2)>0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [235, 347, 265, 378]
		    ShowName		    off
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [345, 432, 375, 463]
		    ShowName		    off
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [275, 153, 300, 182]
		    ShowName		    off
		    Operator		    ">="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [290, 324, 315, 351]
		    ShowName		    off
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    Position		    [255, 257, 285, 288]
		    ShowName		    off
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator3"
		    Position		    [290, 379, 315, 406]
		    ShowName		    off
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator4"
		    Position		    [530, 444, 555, 471]
		    ShowName		    off
		    Operator		    ">="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator5"
		    Position		    [635, 289, 660, 316]
		    ShowName		    off
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Subsystem"
		    Ports		    [1, 1]
		    Position		    [435, 432, 480, 468]
		    ForegroundColor	    "green"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "Running Average"
		    MaskDescription	    "Running Average"
		    MaskHelp		    "Output is the average of the last"
" (Averaging Time) seconds of input."
		    MaskPromptString	    "Averaging Time Steps (#)"
		    MaskStyleString	    "edit"
		    MaskTunableValueString  "on"
		    MaskEnableString	    "on"
		    MaskVisibilityString    "on"
		    MaskToolTipString	    "on"
		    MaskVariables	    "n=@1;"
		    MaskDisplay		    "disp('Running\\nAverage')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "3"
		    System {
		    Name		    "Subsystem"
		    Location		    [137, 366, 771, 685]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [50, 110, 70, 130]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [75, 210, 95, 230]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [75, 274, 115, 296]
		    FontName		    "Arial"
		    Value		    "n"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [380, 224, 420, 246]
		    FontName		    "Arial"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>2"
		    Position		    [120, 88, 190, 102]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    Ports		    [1, 1]
		    Position		    [295, 100, 315, 120]
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    InitialCondition	    "0"
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    ShowSaturationPort	    off
		    ShowStatePort	    off
		    AbsoluteTolerance	    "auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [135, 235, 165, 265]
		    X0			    "-0.1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [170, 30, 200, 60]
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [505, 109, 525, 136]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [210, 271, 230, 289]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [250, 187, 280, 218]
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [440, 105, 460, 125]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [170, 210, 190, 230]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [305, 190, 335, 220]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [450, 190, 480, 220]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch2"
		    Position		    [235, 95, 265, 125]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch3"
		    Position		    [115, 30, 145, 60]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    VariableTransportDelay
		    Name		    "Variable\nTransport Delay"
		    Position		    [375, 137, 405, 168]
		    MaximumDelay	    "n"
		    InitialInput	    "0"
		    MaximumPoints	    "1024"
		    PadeOrder		    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [550, 115, 570, 135]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Variable\nTransport Delay"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "Variable\nTransport Delay"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 30]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -25]
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -15; 175, 0]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [55, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, -45]
		    DstBlock		    "Variable\nTransport Delay"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [80, 0]
		    Branch {
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -10]
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [0, -20]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    Points		    [0, -75]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch2"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch3"
		    SrcPort		    1
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "Switch2"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "Switch3"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Switch2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -30; -120, 0]
		    DstBlock		    "Switch3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "From <vc>2"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 15]
		    DstBlock		    "Switch2"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -15; -120, 0; 0, -35]
		    DstBlock		    "Switch3"
		    DstPort		    2
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch3"
		    Position		    [400, 239, 430, 281]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch4"
		    Position		    [445, 294, 475, 336]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "T>~0"
		    Position		    [170, 12, 200, 43]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [325, 181, 480, 199]
		    VariableName	    "cs_electric_launch_spd_probe"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "key_on"
		    Ports		    [0, 1]
		    Position		    [575, 29, 630, 61]
		    NamePlacement	    "alternate"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "Repeating table"
		    MaskDescription	    "Repeating table.\nEnter values of"
" time and output for first cycle."
		    MaskHelp		    "Repeats cycle given in table. Tim"
"e values should be monotonically increasing."
		    MaskPromptString	    "Time values:|Output values:"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskInitialization	    "period = max(@1); t = @1; y = @2;"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "vc_key_on(:,1)|vc_key_on(:,2)"
		    MaskVariableAliases	    ","
		    Port {
		    PortNumber		    1
		    Name		    "ignition key is on"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		    }
		    System {
		    Name		    "key_on"
		    Location		    [5, 42, 410, 213]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [45, 60, 65, 80]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    Position		    [110, 60, 150, 80]
		    Expr		    "rem(u[1],period)"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up Table"
		    Position		    [210, 58, 250, 82]
		    InputValues		    "t"
		    OutputValues	    "y"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [285, 60, 305, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    DstBlock		    "Look-Up Table"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Look-Up Table"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max_torque\n lookup"
		    Position		    [115, 343, 145, 367]
		    NamePlacement	    "alternate"
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_max_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "spd>set point"
		    Position		    [235, 47, 265, 78]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "w>idle"
		    Position		    [275, 102, 305, 133]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "engine on"
		    Position		    [875, 163, 905, 177]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "key on"
		    Position		    [765, 38, 795, 52]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Subsystem"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <vc>1"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "spd>set point"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator4"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "T>~0"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "spd>set point"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant11"
		    SrcPort		    1
		    DstBlock		    "spd>set point"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator4"
		    SrcPort		    1
		    Points		    [175, 0; 0, -235]
		    DstBlock		    "Logical\nOperator8"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "Subsystem"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <vc>3"
		    SrcPort		    1
		    Points		    [340, 0]
		    DstBlock		    "Relational\nOperator4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "(--)"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <ess>"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, -75]
		    DstBlock		    "Look-Up Table"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator11"
		    SrcPort		    1
		    DstBlock		    "Switch3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Logical\nOperator6"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Switch3"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "Constant10"
		    SrcPort		    1
		    Points		    [0, 20; 25, 0]
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "Logical\nOperator11"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Switch3"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 40]
		    Branch {
		    Points		    [0, 15]
		    DstBlock		    "Switch4"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Switch4"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Look-Up Table"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator9"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch4"
		    SrcPort		    1
		    Points		    [30, 0; 0, -100]
		    DstBlock		    "Logical\nOperator5"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator9"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator5"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator2"
		    SrcPort		    1
		    Points		    [105, 0; 0, 85]
		    DstBlock		    "Logical\nOperator5"
		    DstPort		    1
		    }
		    Line {
		    Name		    "ignition key is on"
		    Labels		    [0, 0]
		    SrcBlock		    "key_on"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    Points		    [0, 105; 70, 0; 0, 20]
		    DstBlock		    "Logical\nOperator12"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "key on"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator8"
		    SrcPort		    1
		    Points		    [0, -25]
		    DstBlock		    "Logical\nOperator12"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "(--)3"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator5"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator13"
		    SrcPort		    1
		    Points		    [10, 0; 0, -105]
		    DstBlock		    "Logical\nOperator8"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "From <vc>4"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator5"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator13"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-15, 0; 0, -35]
		    Branch {
		    DstBlock		    "Logical\nOperator13"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Logical\nOperator7"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator6"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator5"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator8"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "spd req'd\nout of clutch\n(N*m)"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "w>idle"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 245]
		    Branch {
		    DstBlock		    "max_torque\n lookup"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 85]
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "w>idle"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Logical\nOperator3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator3"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "trq req'd\nout of clutch\n(N*m)"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 310]
		    Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 125]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "T>~0"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator7"
		    SrcPort		    1
		    Points		    [5, 0; 0, -65]
		    DstBlock		    "Logical\nOperator8"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <vc>2"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator7"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "T>~0"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    DstBlock		    "w>idle"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch3"
		    SrcPort		    1
		    Points		    [70, 0]
		    DstBlock		    "Logical\nOperator9"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator6"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Switch4"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator3"
		    SrcPort		    1
		    Points		    [50, 0]
		    DstBlock		    "Logical\nOperator6"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant8"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "(--)1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Relational\nOperator3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "max_torque\n lookup"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "(--)2"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Logical\nOperator12"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator12"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "engine on"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 185]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    Annotation {
		    Position		    [666, 217]
		    Text		    "engine not shut \ndown during shi"
"fts"
		    }
		    Annotation {
		    Position		    [563, 379]
		    Text		    "engine on if engine on \nprevious"
"ly and engine \nnot warm"
		    }
		    Annotation {
		    Position		    [496, 72]
		    Text		    "engine not shut off\n rather than"
" idle"
		    }
		    Annotation {
		    Position		    [423, 147]
		    Text		    "engine not \nsuppressed for\nelec"
"tric launch"
		    }
		    Annotation {
		    Position		    [675, 474]
		    Text		    "engine not suppressed if \ness in"
"sufficient "
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "clutch state out"
		  Position		  [655, 88, 685, 102]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "miles per hour out"
		  Position		  [655, 123, 685, 137]
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "gear_ratio out"
		  Position		  [655, 158, 685, 172]
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "current veh mass out"
		  Position		  [655, 193, 685, 207]
		  Port			  "4"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "veh spd a rec out"
		  Position		  [655, 228, 685, 242]
		  Port			  "5"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "cyc_mph_r out"
		  Position		  [285, 293, 315, 307]
		  Port			  "6"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "acc_mech_trq_est out"
		  Position		  [285, 348, 315, 362]
		  Port			  "7"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "engine_on out"
		  Position		  [750, 433, 780, 447]
		  Port			  "8"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "key_on out"
		  Position		  [750, 488, 780, 502]
		  Port			  "9"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "v_prev out"
		  Position		  [750, 538, 780, 552]
		  Port			  "10"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  Name			  "gear_ratio"
		  Labels		  [1, 0]
		  SrcBlock		  "gear_ratio"
		  SrcPort		  1
		  DstBlock		  "gear_ratio out"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fcSensors"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "shifting"
		  SrcPort		  1
		  DstBlock		  "<sdo>1"
		  DstPort		  1
		}
		Line {
		  Name			  "clutch_state"
		  Labels		  [1, 0]
		  SrcBlock		  "clutch_state"
		  SrcPort		  1
		  DstBlock		  "clutch state out"
		  DstPort		  1
		}
		Line {
		  Name			  "mpha_prev"
		  Labels		  [1, 0]
		  SrcBlock		  "mpha(t-1) (prev)"
		  SrcPort		  1
		  DstBlock		  "miles per hour out"
		  DstPort		  1
		}
		Line {
		  Name			  "current_veh_mass"
		  Labels		  [1, 0]
		  SrcBlock		  "current_veh_mass"
		  SrcPort		  1
		  DstBlock		  "current veh mass out"
		  DstPort		  1
		}
		Line {
		  Name			  "veh_spd_a_rec_prev"
		  Labels		  [1, 0]
		  SrcBlock		  "veh_spd_a_rec(t-1) (prev)"
		  SrcPort		  1
		  DstBlock		  "veh spd a rec out"
		  DstPort		  1
		}
		Line {
		  Name			  "cyc_mph_r_prev"
		  Labels		  [1, 0]
		  SrcBlock		  "cyc_mph_r(t-1) (prev)"
		  SrcPort		  1
		  DstBlock		  "cyc_mph_r out"
		  DstPort		  1
		}
		Line {
		  Name			  "acc_mech_trq_est"
		  Labels		  [1, 0]
		  SrcBlock		  "acc_mech_trq_est"
		  SrcPort		  1
		  DstBlock		  "acc_mech_trq_est out"
		  DstPort		  1
		}
		Line {
		  Name			  "v_prev"
		  Labels		  [1, 0]
		  SrcBlock		  "v_prev"
		  SrcPort		  1
		  DstBlock		  "v_prev out"
		  DstPort		  1
		}
		Line {
		  Name			  "engine_on"
		  Labels		  [0, 0]
		  SrcBlock		  "From14"
		  SrcPort		  1
		  DstBlock		  "engine_on out"
		  DstPort		  1
		}
		Line {
		  Name			  "key_on"
		  Labels		  [0, 0]
		  SrcBlock		  "From6"
		  SrcPort		  1
		  DstBlock		  "key_on out"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "engine on\n(parallel hybrid)"
		  SrcPort		  1
		  DstBlock		  "Goto <fc>"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From <gb>7"
		  SrcPort		  1
		  DstBlock		  "engine on\n(parallel hybrid)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From <gb>5"
		  SrcPort		  1
		  DstBlock		  "engine on\n(parallel hybrid)"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "engine on\n(parallel hybrid)"
		  SrcPort		  2
		  DstBlock		  "Goto <fc><mc>"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "v_req_limited"
		  SrcPort		  1
		  DstBlock		  "<sdo>2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "SOC"
		  SrcPort		  1
		  DstBlock		  "<sdo>4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "ess_max_pwr"
		  SrcPort		  1
		  DstBlock		  "<sdo>5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fc_clt_tmp"
		  SrcPort		  1
		  DstBlock		  "<sdo>6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "T_cl_out"
		  SrcPort		  1
		  DstBlock		  "<sdo>7"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "w_cl_out"
		  SrcPort		  1
		  DstBlock		  "<sdo>8"
		  DstPort		  1
		}
		Annotation {
		  Position		  [247, 47]
		  BackgroundColor	  "yellow"
		  Text			  "Controls for Fuel Converter"
		  FontName		  "Arial"
		  FontSize		  18
		  FontWeight		  "bold"
		}
		Annotation {
		  Position		  [264, 398]
		  HorizontalAlignment	  "left"
		  Text			  "This is just to give a matching FRO"
"M block for the sensors"
		}
		Annotation {
		  Position		  [263, 455]
		  Text			  "calculated above"
		}
	      }
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      Position		      [755, 479, 855, 521]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "fcControl"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory1"
	      Position		      [280, 130, 295, 150]
	      ShowName		      off
	      X0		      "0"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory2"
	      Position		      [280, 295, 295, 315]
	      ShowName		      off
	      X0		      "0"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory3"
	      Position		      [280, 350, 295, 370]
	      ShowName		      off
	      X0		      "0"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory5"
	      Position		      [280, 405, 295, 425]
	      ShowName		      off
	      X0		      "0"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag1"
	      Position		      [15, 396, 150, 434]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "accmSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag10"
	      Position		      [15, 781, 150, 819]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "fcSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag11"
	      Position		      [15, 836, 150, 874]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "clSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag12"
	      Position		      [15, 891, 150, 929]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "clSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag2"
	      Position		      [15, 341, 150, 379]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "cycReqOut"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag3"
	      Position		      [15, 286, 150, 324]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag4"
	      Position		      [15, 231, 150, 269]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "cycSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag5"
	      Position		      [15, 561, 225, 599]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehReqOut"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag6"
	      Position		      [15, 121, 150, 159]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag7"
	      Position		      [15, 616, 150, 654]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag8"
	      Position		      [15, 671, 150, 709]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "essSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag9"
	      Position		      [15, 726, 150, 764]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "essSensors"
	    }
	    Line {
	      Name		      "<shifting>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector2"
	      SrcPort		      1
	      DstBlock		      "Fuel Converter Control"
	      DstPort		      9
	    }
	    Line {
	      Name		      "<gear_ratio>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector7"
	      SrcPort		      1
	      DstBlock		      "Fuel Converter Control"
	      DstPort		      3
	    }
	    Line {
	      Name		      "<clutch_state>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector1"
	      SrcPort		      1
	      DstBlock		      "Fuel Converter Control"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From6"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From5"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector7"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From7"
	      SrcPort		      1
	      DstBlock		      "Fuel Converter Control"
	      DstPort		      8
	    }
	    Line {
	      SrcBlock		      "controlTag5"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector4"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<v_prev>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector4"
	      SrcPort		      1
	      DstBlock		      "Fuel Converter Control"
	      DstPort		      10
	    }
	    Line {
	      SrcBlock		      "From9"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag1"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector3"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<acc_mech_trq_a>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector3"
	      SrcPort		      1
	      DstBlock		      "Memory5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Memory5"
	      SrcPort		      1
	      DstBlock		      "Fuel Converter Control"
	      DstPort		      7
	    }
	    Line {
	      SrcBlock		      "controlTag2"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector5"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<cycle_mph_r>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector5"
	      SrcPort		      1
	      DstBlock		      "Memory3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag3"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector6"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<veh_spd_a_rec>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector6"
	      SrcPort		      1
	      DstBlock		      "Memory2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag4"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector8"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<current_veh_mass>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector8"
	      SrcPort		      1
	      DstBlock		      "Fuel Converter Control"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "controlTag6"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector9"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<mpha>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector9"
	      SrcPort		      1
	      DstBlock		      "Memory1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "v_prev"
	      Labels		      [0, 0]
	      SrcBlock		      "Fuel Converter Control"
	      SrcPort		      10
	      DstBlock		      "Bus\nCreator"
	      DstPort		      10
	    }
	    Line {
	      Name		      "key_on"
	      Labels		      [0, 0]
	      SrcBlock		      "Fuel Converter Control"
	      SrcPort		      9
	      DstBlock		      "Bus\nCreator"
	      DstPort		      9
	    }
	    Line {
	      Name		      "engine_on"
	      Labels		      [0, 0]
	      SrcBlock		      "Fuel Converter Control"
	      SrcPort		      8
	      DstBlock		      "Bus\nCreator"
	      DstPort		      8
	    }
	    Line {
	      Name		      "acc_mech_trq_est"
	      Labels		      [0, 0]
	      SrcBlock		      "Fuel Converter Control"
	      SrcPort		      7
	      DstBlock		      "Bus\nCreator"
	      DstPort		      7
	    }
	    Line {
	      Name		      "cyc_mph_r_prev"
	      Labels		      [0, 0]
	      SrcBlock		      "Fuel Converter Control"
	      SrcPort		      6
	      DstBlock		      "Bus\nCreator"
	      DstPort		      6
	    }
	    Line {
	      Name		      "veh_spd_a_rec_prev"
	      Labels		      [0, 0]
	      SrcBlock		      "Fuel Converter Control"
	      SrcPort		      5
	      DstBlock		      "Bus\nCreator"
	      DstPort		      5
	    }
	    Line {
	      Name		      "current_veh_mass"
	      Labels		      [0, 0]
	      SrcBlock		      "Fuel Converter Control"
	      SrcPort		      4
	      DstBlock		      "Bus\nCreator"
	      DstPort		      4
	    }
	    Line {
	      Name		      "gear_ratio"
	      Labels		      [0, 0]
	      SrcBlock		      "Fuel Converter Control"
	      SrcPort		      3
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "mpha_prev"
	      Labels		      [0, 0]
	      SrcBlock		      "Fuel Converter Control"
	      SrcPort		      2
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "clutch_state"
	      Labels		      [0, 0]
	      SrcBlock		      "Fuel Converter Control"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Memory1"
	      SrcPort		      1
	      DstBlock		      "Fuel Converter Control"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Memory2"
	      SrcPort		      1
	      DstBlock		      "Fuel Converter Control"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "Memory3"
	      SrcPort		      1
	      DstBlock		      "Fuel Converter Control"
	      DstPort		      6
	    }
	    Line {
	      SrcBlock		      "controlTag7"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector10"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<v_req_limited>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector10"
	      SrcPort		      1
	      DstBlock		      "Fuel Converter Control"
	      DstPort		      11
	    }
	    Line {
	      SrcBlock		      "controlTag8"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector11"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<SOC>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector11"
	      SrcPort		      1
	      DstBlock		      "Fuel Converter Control"
	      DstPort		      12
	    }
	    Line {
	      SrcBlock		      "controlTag9"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector12"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<ess_max_pwr>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector12"
	      SrcPort		      1
	      DstBlock		      "Fuel Converter Control"
	      DstPort		      13
	    }
	    Line {
	      SrcBlock		      "controlTag10"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector13"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<fc_clt_tmp>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector13"
	      SrcPort		      1
	      DstBlock		      "Fuel Converter Control"
	      DstPort		      14
	    }
	    Line {
	      SrcBlock		      "controlTag11"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector14"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<T_cl_out>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector14"
	      SrcPort		      1
	      DstBlock		      "Fuel Converter Control"
	      DstPort		      15
	    }
	    Line {
	      SrcBlock		      "controlTag12"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector15"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<w_cl_out>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector15"
	      SrcPort		      1
	      DstBlock		      "Fuel Converter Control"
	      DstPort		      16
	    }
	    Annotation {
	      Position		      [452, 27]
	      BackgroundColor	      "yellow"
	      Text		      "Controls for Fuel Converter:\nIC Engine"
" for Parallel Hybrid"
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Hybrid \nEngine Torque Modification\nStrate"
"gy"
	  Ports			  []
	  Position		  [325, 34, 384, 96]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "image(imread('bdi_hybrid_cntrl.jpg'))"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Hybrid \nEngine Torque Modification\nStra"
"tegy"
	    Location		    [214, 73, 966, 748]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [3, 1]
	      Position		      [575, 77, 585, 433]
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector"
	      Ports		      [1, 1]
	      Position		      [150, 116, 155, 154]
	      ShowName		      off
	      OutputSignals	      "tm_spd_out_r"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<tm_spd_out_r>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector1"
	      Ports		      [1, 1]
	      Position		      [150, 236, 155, 274]
	      ShowName		      off
	      OutputSignals	      "SOC"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<SOC>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector2"
	      Ports		      [1, 1]
	      Position		      [150, 356, 155, 394]
	      ShowName		      off
	      OutputSignals	      "engine_on"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<engine_on>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "controlTag"
	      Position		      [625, 234, 725, 276]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "tmControl"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag1"
	      Position		      [15, 116, 125, 154]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "tmReqOut"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag2"
	      Position		      [15, 236, 125, 274]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "essSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag3"
	      Position		      [15, 356, 125, 394]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "fcControl"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "parallel auto hybrid torque control"
	      Ports		      [3, 3]
	      Position		      [250, 77, 485, 433]
	      BackgroundColor	      "yellow"
	      DropShadow	      on
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      Port {
		PortNumber		1
		Name			"tm_torqueMod"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		2
		Name			"tm_torqueMin"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		3
		Name			"tm_enable"
		PropagatedSignals	"engine_on"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      System {
		Name			"parallel auto hybrid torque control"
		Location		[329, 148, 849, 396]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "tm_spd_out_r"
		  Position		  [195, 178, 225, 192]
		  NamePlacement		  "alternate"
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "SOC"
		  Position		  [70, 193, 100, 207]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "engine_on"
		  Position		  [75, 248, 105, 262]
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "chg trq req'd\n(Nm)"
		  Ports			  [1, 1]
		  Position		  [260, 80, 290, 110]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "chg trq req'd\n(Nm)"
		    Location		    [214, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "SOC"
		    Position		    [30, 98, 60, 112]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [25, 48, 170, 72]
		    Value		    "cs_charge_trq*fc_trq_scale"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [325, 105, 365, 125]
		    Value		    "ess_on"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Goal"
		    Position		    [20, 134, 155, 156]
		    Value		    "(cs_lo_soc+cs_hi_soc)/2"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [280, 52, 310, 83]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [230, 142, 260, 173]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Range"
		    Position		    [20, 174, 155, 196]
		    Value		    "(cs_hi_soc-cs_lo_soc)/2"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [330, 55, 360, 85]
		    UpperLimit		    "inf"
		    LowerLimit		    "-inf"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [180, 97, 210, 128]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [420, 65, 450, 95]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "add'l trq req'd\n(Nm)"
		    Position		    [490, 73, 520, 87]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [35, 0; 0, -25]
		    Branch {
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "add'l trq req'd\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Goal"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Range"
		    SrcPort		    1
		    Points		    [55, 0]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "SOC"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "minimum trq\n(Nm)"
		  Ports			  [2, 1]
		  Position		  [260, 177, 290, 208]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "minimum trq\n(Nm)"
		    Location		    [214, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "spd req'd in\n(N*m, rad/s)"
		    Position		    [75, 58, 105, 72]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "SOC"
		    Position		    [75, 128, 105, 142]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "(--)"
		    Position		    [60, 173, 130, 197]
		    Value		    "cs_lo_soc"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [355, 165, 375, 185]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [280, 39, 385, 91]
		    Gain		    "cs_min_trq_frac"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    Position		    [200, 127, 230, 158]
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [405, 130, 435, 160]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max_torque lookup"
		    Position		    [200, 53, 230, 77]
		    InputValues		    "fc_map_spd"
		    OutputValues	    "fc_max_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "minimum trq\n(N*m)"
		    Position		    [480, 138, 510, 152]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "max_torque lookup"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "spd req'd in\n(N*m, rad/s)"
		    SrcPort		    1
		    DstBlock		    "max_torque lookup"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [5, 0; 0, -20]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "minimum trq\n(N*m)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "(--)"
		    SrcPort		    1
		    Points		    [25, 0; 0, -35]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "SOC"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "tm_torqueMod"
		  Position		  [410, 88, 440, 102]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "tm_torqueMin"
		  Position		  [410, 188, 440, 202]
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "tm_enable"
		  Position		  [415, 248, 445, 262]
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "tm_spd_out_r"
		  SrcPort		  1
		  DstBlock		  "minimum trq\n(Nm)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "SOC"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "minimum trq\n(Nm)"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -105]
		    DstBlock		    "chg trq req'd\n(Nm)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "minimum trq\n(Nm)"
		  SrcPort		  1
		  DstBlock		  "tm_torqueMin"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "engine_on"
		  SrcPort		  1
		  DstBlock		  "tm_enable"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "chg trq req'd\n(Nm)"
		  SrcPort		  1
		  DstBlock		  "tm_torqueMod"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      Name		      "tm_torqueMod"
	      Labels		      [0, 0]
	      SrcBlock		      "parallel auto hybrid torque control"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      Name		      "tm_torqueMin"
	      Labels		      [0, 0]
	      SrcBlock		      "parallel auto hybrid torque control"
	      SrcPort		      2
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "tm_enable"
	      Labels		      [0, 0]
	      SrcBlock		      "parallel auto hybrid torque control"
	      SrcPort		      3
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "controlTag"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag1"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<tm_spd_out_r>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector"
	      SrcPort		      1
	      DstBlock		      "parallel auto hybrid torque control"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag2"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<SOC>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector1"
	      SrcPort		      1
	      DstBlock		      "parallel auto hybrid torque control"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "controlTag3"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<engine_on>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector2"
	      SrcPort		      1
	      DstBlock		      "parallel auto hybrid torque control"
	      DstPort		      3
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Mechanical\nAccessories"
	  Ports			  []
	  Position		  [510, 34, 568, 96]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "Mechanical\nAccessories"
	    Location		    [202, 77, 954, 728]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "86"
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [9, 1]
	      Position		      [645, 66, 660, 534]
	      ShowName		      off
	      Inputs		      "9"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector"
	      Ports		      [1, 1]
	      Position		      [255, 86, 260, 124]
	      ShowName		      off
	      OutputSignals	      "fc_spd_est"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<fc_spd_est>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector1"
	      Ports		      [1, 1]
	      Position		      [255, 346, 260, 384]
	      ShowName		      off
	      OutputSignals	      "F_req"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<F_req>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector2"
	      Ports		      [1, 1]
	      Position		      [255, 411, 260, 449]
	      ShowName		      off
	      OutputSignals	      "key_on"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<key_on>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector3"
	      Ports		      [1, 1]
	      Position		      [255, 476, 260, 514]
	      ShowName		      off
	      OutputSignals	      "engine_on"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<engine_on>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [30, 286, 195, 314]
	      ShowName		      off
	      Value		      "not(ess_on)*1"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      Position		      [30, 156, 195, 184]
	      ShowName		      off
	      Value		      "inf"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant2"
	      Position		      [30, 221, 195, 249]
	      ShowName		      off
	      Value		      "(vc_idle_spd*vc_idle_bool)+eps"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "controlTag"
	      Position		      [690, 278, 870, 322]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "accmControl"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag1"
	      Position		      [30, 86, 240, 124]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "fcReqOut"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag2"
	      Position		      [30, 346, 240, 384]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehReqOut"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag3"
	      Position		      [30, 411, 240, 449]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "fcControl"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag4"
	      Position		      [30, 476, 240, 514]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "fcControl"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "mechanical accessory\ncontroller"
	      Ports		      [7, 9]
	      Position		      [335, 68, 605, 532]
	      BackgroundColor	      "yellow"
	      DropShadow	      on
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"mechanical accessory\ncontroller"
		Location		[175, 103, 975, 436]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "accessory reference shaft speed"
		  Position		  [100, 127, 125, 153]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "maximum accessory speed"
		  Position		  [100, 232, 125, 258]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "minimum accessory speed"
		  Position		  [100, 317, 125, 343]
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "electrical accessories on?"
		  Position		  [100, 407, 125, 433]
		  Port			  "4"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "Force required for vehicle motion"
		  Position		  [100, 507, 125, 533]
		  Port			  "5"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "key on?"
		  Position		  [100, 567, 125, 593]
		  Port			  "6"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "engine on?"
		  Position		  [100, 642, 125, 668]
		  Port			  "7"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>1"
		  Position		  [270, 129, 390, 151]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "acc_mech_spd_r"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>2"
		  Position		  [270, 409, 390, 431]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "elec_acc_on_bool"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>4"
		  Position		  [270, 179, 390, 201]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "acc_mech_spd_a"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>5"
		  Position		  [270, 234, 390, 256]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "acc_max_spd"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>6"
		  Position		  [270, 319, 390, 341]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "acc_min_spd"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>7"
		  Position		  [270, 509, 390, 531]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "F_req"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>8"
		  Position		  [270, 569, 390, 591]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "key_on"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>9"
		  Position		  [270, 644, 390, 666]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "engine_on"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [275, 103, 305, 117]
		  ShowName		  off
		  Value			  "eps"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  From
		  Name			  "From"
		  Position		  [410, 76, 505, 104]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "acc_on"
		  Port {
		    PortNumber		    1
		    Name		    "acc_on"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From1"
		  Position		  [410, 141, 535, 169]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "acc_mech_spd_r"
		  Port {
		    PortNumber		    1
		    Name		    "acc_mech_spd_r"
		    PropagatedSignals	    "fc_spd_est"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From10"
		  Position		  [410, 596, 535, 624]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "engine_on"
		  Port {
		    PortNumber		    1
		    Name		    "engine_on"
		    PropagatedSignals	    "engine_on"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From2"
		  Position		  [410, 206, 535, 234]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "acc_mech_spd_a"
		  Port {
		    PortNumber		    1
		    Name		    "acc_mech_spd_a"
		    PropagatedSignals	    "fc_spd_est"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From3"
		  Position		  [410, 271, 535, 299]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "acc_max_spd"
		  Port {
		    PortNumber		    1
		    Name		    "acc_max_spd"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From4"
		  Position		  [410, 336, 535, 364]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "acc_min_spd"
		  Port {
		    PortNumber		    1
		    Name		    "acc_min_spd"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From5"
		  Position		  [65, 24, 160, 46]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "engine_on"
		}
		Block {
		  BlockType		  From
		  Name			  "From6"
		  Position		  [65, 48, 175, 72]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "acc_mech_spd_r"
		}
		Block {
		  BlockType		  From
		  Name			  "From7"
		  Position		  [410, 401, 535, 429]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "elec_acc_on_bool"
		  Port {
		    PortNumber		    1
		    Name		    "elec_acc_on_bool"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From8"
		  Position		  [410, 466, 535, 494]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "F_req"
		  Port {
		    PortNumber		    1
		    Name		    "F_req"
		    PropagatedSignals	    "F_req"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From9"
		  Position		  [410, 531, 535, 559]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "key_on"
		  Port {
		    PortNumber		    1
		    Name		    "key_on"
		    PropagatedSignals	    "key_on"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto2"
		  Position		  [410, 39, 500, 61]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "acc_on"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [2, 1]
		  Position		  [365, 20, 395, 80]
		  ShowName		  off
		  Operator		  "AND"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator"
		  Position		  [325, 43, 345, 87]
		  ShowName		  off
		  Operator		  ">"
		}
		Block {
		  BlockType		  Outport
		  Name			  "acc_on"
		  Position		  [665, 80, 685, 100]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "acc_mech_spd_r"
		  Position		  [665, 145, 685, 165]
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "acc_mech_spd_a"
		  Position		  [665, 210, 685, 230]
		  FontName		  "Arial"
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "acc_max_spd"
		  Position		  [665, 275, 685, 295]
		  FontName		  "Arial"
		  Port			  "4"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "acc_min_spd"
		  Position		  [665, 340, 685, 360]
		  FontName		  "Arial"
		  Port			  "5"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "elec_acc_on_bool"
		  Position		  [665, 405, 685, 425]
		  FontName		  "Arial"
		  Port			  "6"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "F_req"
		  Position		  [665, 470, 685, 490]
		  FontName		  "Arial"
		  Port			  "7"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "key_on"
		  Position		  [665, 535, 685, 555]
		  FontName		  "Arial"
		  Port			  "8"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "engine_on"
		  Position		  [665, 600, 685, 620]
		  FontName		  "Arial"
		  Port			  "9"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "accessory reference shaft speed"
		  SrcPort		  1
		  Points		  [0, 0; 60, 0]
		  Branch {
		    DstBlock		    "<sdo>1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 50]
		    DstBlock		    "<sdo>4"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "maximum accessory speed"
		  SrcPort		  1
		  DstBlock		  "<sdo>5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "minimum accessory speed"
		  SrcPort		  1
		  DstBlock		  "<sdo>6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "electrical accessories on?"
		  SrcPort		  1
		  DstBlock		  "<sdo>2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Force required for vehicle motion"
		  SrcPort		  1
		  DstBlock		  "<sdo>7"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "key on?"
		  SrcPort		  1
		  DstBlock		  "<sdo>8"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "engine on?"
		  SrcPort		  1
		  DstBlock		  "<sdo>9"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From6"
		  SrcPort		  1
		  Points		  [130, 0]
		  DstBlock		  "Relational\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From5"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Relational\nOperator"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  DstBlock		  "Goto2"
		  DstPort		  1
		}
		Line {
		  Name			  "acc_on"
		  Labels		  [0, 0]
		  SrcBlock		  "From"
		  SrcPort		  1
		  DstBlock		  "acc_on"
		  DstPort		  1
		}
		Line {
		  Name			  "engine_on"
		  Labels		  [0, 0]
		  SrcBlock		  "From10"
		  SrcPort		  1
		  DstBlock		  "engine_on"
		  DstPort		  1
		}
		Line {
		  Name			  "key_on"
		  Labels		  [0, 0]
		  SrcBlock		  "From9"
		  SrcPort		  1
		  DstBlock		  "key_on"
		  DstPort		  1
		}
		Line {
		  Name			  "F_req"
		  Labels		  [0, 0]
		  SrcBlock		  "From8"
		  SrcPort		  1
		  DstBlock		  "F_req"
		  DstPort		  1
		}
		Line {
		  Name			  "elec_acc_on_bool"
		  Labels		  [0, 0]
		  SrcBlock		  "From7"
		  SrcPort		  1
		  DstBlock		  "elec_acc_on_bool"
		  DstPort		  1
		}
		Line {
		  Name			  "acc_min_spd"
		  Labels		  [0, 0]
		  SrcBlock		  "From4"
		  SrcPort		  1
		  DstBlock		  "acc_min_spd"
		  DstPort		  1
		}
		Line {
		  Name			  "acc_max_spd"
		  Labels		  [0, 0]
		  SrcBlock		  "From3"
		  SrcPort		  1
		  DstBlock		  "acc_max_spd"
		  DstPort		  1
		}
		Line {
		  Name			  "acc_mech_spd_a"
		  Labels		  [0, 0]
		  SrcBlock		  "From2"
		  SrcPort		  1
		  DstBlock		  "acc_mech_spd_a"
		  DstPort		  1
		}
		Line {
		  Name			  "acc_mech_spd_r"
		  Labels		  [0, 0]
		  SrcBlock		  "From1"
		  SrcPort		  1
		  DstBlock		  "acc_mech_spd_r"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      DstBlock		      "mechanical accessory\ncontroller"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant2"
	      SrcPort		      1
	      DstBlock		      "mechanical accessory\ncontroller"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "mechanical accessory\ncontroller"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "mechanical accessory\ncontroller"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "mechanical accessory\ncontroller"
	      SrcPort		      2
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "mechanical accessory\ncontroller"
	      SrcPort		      3
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "mechanical accessory\ncontroller"
	      SrcPort		      4
	      DstBlock		      "Bus\nCreator"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "mechanical accessory\ncontroller"
	      SrcPort		      5
	      DstBlock		      "Bus\nCreator"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "mechanical accessory\ncontroller"
	      SrcPort		      6
	      DstBlock		      "Bus\nCreator"
	      DstPort		      6
	    }
	    Line {
	      SrcBlock		      "mechanical accessory\ncontroller"
	      SrcPort		      7
	      DstBlock		      "Bus\nCreator"
	      DstPort		      7
	    }
	    Line {
	      SrcBlock		      "mechanical accessory\ncontroller"
	      SrcPort		      8
	      DstBlock		      "Bus\nCreator"
	      DstPort		      8
	    }
	    Line {
	      SrcBlock		      "mechanical accessory\ncontroller"
	      SrcPort		      9
	      DstBlock		      "Bus\nCreator"
	      DstPort		      9
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "controlTag"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag3"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<key_on>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector2"
	      SrcPort		      1
	      DstBlock		      "mechanical accessory\ncontroller"
	      DstPort		      6
	    }
	    Line {
	      SrcBlock		      "controlTag4"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector3"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<engine_on>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector3"
	      SrcPort		      1
	      DstBlock		      "mechanical accessory\ncontroller"
	      DstPort		      7
	    }
	    Line {
	      SrcBlock		      "controlTag1"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<fc_spd_est>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector"
	      SrcPort		      1
	      DstBlock		      "mechanical accessory\ncontroller"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag2"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<F_req>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector1"
	      SrcPort		      1
	      DstBlock		      "mechanical accessory\ncontroller"
	      DstPort		      5
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Motor Controller"
	  Ports			  []
	  Position		  [325, 264, 380, 326]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "Motor Controller"
	    Location		    [202, 77, 966, 744]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "81"
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector"
	      Ports		      [1, 1]
	      Position		      [160, 61, 165, 99]
	      ShowName		      off
	      OutputSignals	      "v_prev"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<v_prev>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector1"
	      Ports		      [1, 1]
	      Position		      [160, 121, 165, 159]
	      ShowName		      off
	      OutputSignals	      "key_on"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<key_on>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector2"
	      Ports		      [1, 1]
	      Position		      [160, 181, 165, 219]
	      ShowName		      off
	      OutputSignals	      "veh_spd_a_rec"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<veh_spd_a_rec>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector3"
	      Ports		      [1, 1]
	      Position		      [155, 241, 160, 279]
	      ShowName		      off
	      OutputSignals	      "bus_voltage"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<bus_voltage>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector4"
	      Ports		      [1, 1]
	      Position		      [155, 301, 160, 339]
	      ShowName		      off
	      OutputSignals	      "mpha"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<mpha>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector5"
	      Ports		      [1, 1]
	      Position		      [155, 361, 160, 399]
	      ShowName		      off
	      OutputSignals	      "cycle_mph_r"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<cycle_mph_r>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector6"
	      Ports		      [1, 1]
	      Position		      [155, 421, 160, 459]
	      ShowName		      off
	      OutputSignals	      "current_veh_mass"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<current_veh_mass>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector7"
	      Ports		      [1, 1]
	      Position		      [155, 481, 160, 519]
	      ShowName		      off
	      OutputSignals	      "shifting"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<shifting>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [15, 547, 290, 573]
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      8
	      Value		      "cyc_mph(1,2)*0.447/wh_radius*fd_ratio*m"
"ax(gb_ratio)*tc_mc_to_fc_ratio"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory"
	      Position		      [250, 250, 265, 270]
	      ShowName		      off
	      X0		      "ess_module_num*mean(ess_voc(1,:))"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory1"
	      Position		      [250, 310, 265, 330]
	      ShowName		      off
	      X0		      "ess_module_num*mean(ess_voc(1,:))"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory2"
	      Position		      [250, 370, 265, 390]
	      ShowName		      off
	      X0		      "ess_module_num*mean(ess_voc(1,:))"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory3"
	      Position		      [250, 190, 265, 210]
	      ShowName		      off
	      X0		      "ess_module_num*mean(ess_voc(1,:))"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [9, 1]
	      Position		      [780, 42, 795, 598]
	      ShowName		      off
	      Inputs		      "9"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag"
	      Position		      [15, 61, 140, 99]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag1"
	      Position		      [15, 121, 140, 159]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "fcControl"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag2"
	      Position		      [15, 181, 140, 219]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag3"
	      Position		      [15, 241, 140, 279]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "essSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag4"
	      Position		      [15, 301, 140, 339]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag5"
	      Position		      [15, 361, 140, 399]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "cycReqOut"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag6"
	      Position		      [15, 421, 140, 459]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "cycSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag7"
	      Position		      [15, 481, 140, 519]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "gbControl"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "motor controller"
	      Ports		      [9, 9]
	      Position		      [330, 50, 665, 590]
	      BackgroundColor	      "yellow"
	      DropShadow	      on
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      Port {
		PortNumber		1
		Name			"v_prev"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		2
		Name			"key_on"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		3
		Name			"veh_spd_a_rec_prev"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		4
		Name			"bus_voltage_prev"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		5
		Name			"mpha_prev"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		6
		Name			"cyc_mph_r_prev"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		7
		Name			"current_veh_mass"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		8
		Name			"shifting"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		9
		Name			"mc_spd_init_est"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      System {
		Name			"motor controller"
		Location		[351, 186, 773, 735]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	204
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "v_prev in"
		  Position		  [125, 38, 155, 52]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "key_on in"
		  Position		  [125, 93, 155, 107]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "veh_spd_a_rec_prev in"
		  Position		  [125, 153, 155, 167]
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "bus voltage previous"
		  Position		  [125, 213, 155, 227]
		  Port			  "4"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "mpha_prev in"
		  Position		  [125, 273, 155, 287]
		  Port			  "5"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "cyc_mph_r_prev in"
		  Position		  [125, 328, 155, 342]
		  Port			  "6"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "current vehicle mass"
		  Position		  [125, 383, 155, 397]
		  Port			  "7"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "shifting"
		  Position		  [125, 438, 155, 452]
		  Port			  "8"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "mc_spd_init_est in"
		  Position		  [125, 493, 155, 507]
		  Port			  "9"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Outport
		  Name			  "v_prev"
		  Position		  [290, 38, 320, 52]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "key_on"
		  Position		  [290, 93, 320, 107]
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "veh_spd_a_rec_prev out"
		  Position		  [290, 153, 320, 167]
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "bus_voltage_prev"
		  Position		  [290, 213, 320, 227]
		  Port			  "4"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "mpha_prev out"
		  Position		  [290, 273, 320, 287]
		  Port			  "5"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "cyc_mph_r_prev"
		  Position		  [290, 328, 320, 342]
		  Port			  "6"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "current_veh_mass"
		  Position		  [290, 383, 320, 397]
		  Port			  "7"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "shifting out"
		  Position		  [290, 438, 320, 452]
		  Port			  "8"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "mc_spd_init_est out"
		  Position		  [290, 493, 320, 507]
		  Port			  "9"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "bus voltage previous"
		  SrcPort		  1
		  DstBlock		  "bus_voltage_prev"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "v_prev in"
		  SrcPort		  1
		  DstBlock		  "v_prev"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "key_on in"
		  SrcPort		  1
		  DstBlock		  "key_on"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "veh_spd_a_rec_prev in"
		  SrcPort		  1
		  DstBlock		  "veh_spd_a_rec_prev out"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "mpha_prev in"
		  SrcPort		  1
		  DstBlock		  "mpha_prev out"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "cyc_mph_r_prev in"
		  SrcPort		  1
		  DstBlock		  "cyc_mph_r_prev"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "current vehicle mass"
		  SrcPort		  1
		  DstBlock		  "current_veh_mass"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "shifting"
		  SrcPort		  1
		  DstBlock		  "shifting out"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "mc_spd_init_est in"
		  SrcPort		  1
		  DstBlock		  "mc_spd_init_est out"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "reqOutTag"
	      Position		      [830, 299, 930, 341]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "mcControl"
	      TagVisibility	      "global"
	    }
	    Line {
	      SrcBlock		      "controlTag"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<v_prev>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector"
	      SrcPort		      1
	      DstBlock		      "motor controller"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag1"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<key_on>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector1"
	      SrcPort		      1
	      DstBlock		      "motor controller"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "controlTag2"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<veh_spd_a_rec>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector2"
	      SrcPort		      1
	      DstBlock		      "Memory3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag3"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector3"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<bus_voltage>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector3"
	      SrcPort		      1
	      DstBlock		      "Memory"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Memory"
	      SrcPort		      1
	      DstBlock		      "motor controller"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "controlTag4"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector4"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<mpha>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector4"
	      SrcPort		      1
	      DstBlock		      "Memory1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag5"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector5"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<cycle_mph_r>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector5"
	      SrcPort		      1
	      DstBlock		      "Memory2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag6"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector6"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<current_veh_mass>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector6"
	      SrcPort		      1
	      DstBlock		      "motor controller"
	      DstPort		      7
	    }
	    Line {
	      SrcBlock		      "controlTag7"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector7"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<shifting>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector7"
	      SrcPort		      1
	      DstBlock		      "motor controller"
	      DstPort		      8
	    }
	    Line {
	      Name		      "v_prev"
	      Labels		      [0, 0]
	      SrcBlock		      "motor controller"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      Name		      "key_on"
	      Labels		      [0, 0]
	      SrcBlock		      "motor controller"
	      SrcPort		      2
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      Name		      "veh_spd_a_rec_prev"
	      Labels		      [0, 0]
	      SrcBlock		      "motor controller"
	      SrcPort		      3
	      DstBlock		      "Mux"
	      DstPort		      3
	    }
	    Line {
	      Name		      "bus_voltage_prev"
	      Labels		      [0, 0]
	      SrcBlock		      "motor controller"
	      SrcPort		      4
	      DstBlock		      "Mux"
	      DstPort		      4
	    }
	    Line {
	      Name		      "mpha_prev"
	      Labels		      [0, 0]
	      SrcBlock		      "motor controller"
	      SrcPort		      5
	      DstBlock		      "Mux"
	      DstPort		      5
	    }
	    Line {
	      Name		      "cyc_mph_r_prev"
	      Labels		      [0, 0]
	      SrcBlock		      "motor controller"
	      SrcPort		      6
	      DstBlock		      "Mux"
	      DstPort		      6
	    }
	    Line {
	      Name		      "current_veh_mass"
	      Labels		      [0, 0]
	      SrcBlock		      "motor controller"
	      SrcPort		      7
	      DstBlock		      "Mux"
	      DstPort		      7
	    }
	    Line {
	      Name		      "shifting"
	      Labels		      [0, 0]
	      SrcBlock		      "motor controller"
	      SrcPort		      8
	      DstBlock		      "Mux"
	      DstPort		      8
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "reqOutTag"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Memory1"
	      SrcPort		      1
	      DstBlock		      "motor controller"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "Memory2"
	      SrcPort		      1
	      DstBlock		      "motor controller"
	      DstPort		      6
	    }
	    Line {
	      SrcBlock		      "Memory3"
	      SrcPort		      1
	      DstBlock		      "motor controller"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "motor controller"
	      DstPort		      9
	    }
	    Line {
	      Name		      "mc_spd_init_est"
	      Labels		      [0, 0]
	      SrcBlock		      "motor controller"
	      SrcPort		      9
	      DstBlock		      "Mux"
	      DstPort		      9
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Power Bus"
	  Ports			  []
	  Position		  [325, 359, 380, 421]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "Power Bus"
	    Location		    [202, 73, 966, 748]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [15, 96, 180, 124]
	      ShowName		      off
	      Value		      "ess_on*1"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "power bus controller"
	      Ports		      [1, 1]
	      Position		      [215, 77, 465, 143]
	      BackgroundColor	      "yellow"
	      DropShadow	      on
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"power bus controller"
		Location		[351, 186, 773, 735]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "enable source two on power bus?"
		  Position		  [125, 38, 155, 52]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Outport
		  Name			  "ess_on"
		  Position		  [300, 38, 330, 52]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "enable source two on power bus?"
		  SrcPort		  1
		  DstBlock		  "ess_on"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "reqOutTag"
	      Position		      [510, 89, 610, 131]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "pbControl"
	      TagVisibility	      "global"
	    }
	    Line {
	      SrcBlock		      "power bus controller"
	      SrcPort		      1
	      DstBlock		      "reqOutTag"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "power bus controller"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Wheel Control"
	  Ports			  []
	  Position		  [120, 36, 178, 94]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "Wheel Control"
	    Location		    [433, 403, 931, 703]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "86"
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector"
	      Ports		      [1, 1]
	      Position		      [270, 146, 275, 184]
	      ShowName		      off
	      OutputSignals	      "v_init"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<v_init>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector1"
	      Ports		      [1, 1]
	      Position		      [270, 276, 275, 314]
	      ShowName		      off
	      OutputSignals	      "current_veh_mass"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<current_veh_mass>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      BusSelector
	      Name		      "Bus\nSelector2"
	      Ports		      [1, 1]
	      Position		      [270, 406, 275, 444]
	      ShowName		      off
	      OutputSignals	      "grade"
	      MuxedOutput	      off
	      Port {
		PortNumber		1
		Name			"<grade>"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "controlTag"
	      Position		      [695, 273, 875, 317]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "vehControl"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag1"
	      Position		      [45, 146, 255, 184]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "cycReqOut"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag2"
	      Position		      [45, 276, 255, 314]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "cycSensors"
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag3"
	      Position		      [45, 406, 255, 444]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "cycSensors"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "dummy controls"
	      Ports		      [3, 1]
	      Position		      [400, 102, 635, 488]
	      BackgroundColor	      "yellow"
	      DropShadow	      on
	      SourceBlock	      "lib_wheel2/vehicle controls/dummy contr"
"ols"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Line {
	      SrcBlock		      "controlTag1"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<v_init>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector"
	      SrcPort		      1
	      DstBlock		      "dummy controls"
	      DstPort		      1
	    }
	    Line {
	      Name		      "<current_veh_mass>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector1"
	      SrcPort		      1
	      DstBlock		      "dummy controls"
	      DstPort		      2
	    }
	    Line {
	      Name		      "<grade>"
	      Labels		      [0, 0]
	      SrcBlock		      "Bus\nSelector2"
	      SrcPort		      1
	      DstBlock		      "dummy controls"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "controlTag3"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag2"
	      SrcPort		      1
	      DstBlock		      "Bus\nSelector1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "dummy controls"
	      SrcPort		      1
	      DstBlock		      "controlTag"
	      DstPort		      1
	    }
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "<sdo> par"
      Ports		      []
      Position		      [134, 62, 197, 106]
      DropShadow	      on
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskDisplay	      "image(imread('bdi_sdo.jpg'))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      System {
	Name			"<sdo> par"
	Location		[214, 77, 1014, 744]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"88"
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector"
	  Ports			  [1, 1]
	  Position		  [155, 16, 160, 54]
	  ShowName		  off
	  OutputSignals		  "key_on"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<key_on>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector1"
	  Ports			  [1, 1]
	  Position		  [155, 66, 160, 104]
	  ShowName		  off
	  OutputSignals		  "slip_limited"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<slip_limited>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector10"
	  Ports			  [1, 1]
	  Position		  [770, 16, 775, 54]
	  ShowName		  off
	  OutputSignals		  "mc_voltage_limited"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<mc_voltage_limited>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector11"
	  Ports			  [1, 1]
	  Position		  [770, 61, 775, 99]
	  ShowName		  off
	  OutputSignals		  "mc_crrnt_limited"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<mc_crrnt_limited>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector12"
	  Ports			  [1, 1]
	  Position		  [770, 111, 775, 149]
	  ShowName		  off
	  OutputSignals		  "mc_trq_limited"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<mc_trq_limited>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector13"
	  Ports			  [1, 1]
	  Position		  [770, 161, 775, 199]
	  ShowName		  off
	  OutputSignals		  "mc_spd_limited"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<mc_spd_limited>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector14"
	  Ports			  [1, 1]
	  Position		  [485, 16, 490, 54]
	  ShowName		  off
	  OutputSignals		  "gear_number"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<gear_number>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector15"
	  Ports			  [1, 1]
	  Position		  [485, 66, 490, 104]
	  ShowName		  off
	  OutputSignals		  "gear_ratio"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<gear_ratio>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector16"
	  Ports			  [1, 1]
	  Position		  [485, 116, 490, 154]
	  ShowName		  off
	  OutputSignals		  "SOC"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<SOC>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector17"
	  Ports			  [1, 1]
	  Position		  [485, 166, 490, 204]
	  ShowName		  off
	  OutputSignals		  "cycle_mph_r"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<cycle_mph_r>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector18"
	  Ports			  [1, 1]
	  Position		  [485, 211, 490, 249]
	  ShowName		  off
	  OutputSignals		  "bus_voltage"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<bus_voltage>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector19"
	  Ports			  [1, 1]
	  Position		  [485, 261, 490, 299]
	  ShowName		  off
	  OutputSignals		  "clutch_state"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<clutch_state>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector2"
	  Ports			  [1, 1]
	  Position		  [155, 116, 160, 154]
	  ShowName		  off
	  OutputSignals		  "brake_limited"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<brake_limited>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector20"
	  Ports			  [1, 1]
	  Position		  [485, 311, 490, 349]
	  ShowName		  off
	  OutputSignals		  "mpha"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<mpha>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector21"
	  Ports			  [1, 1]
	  Position		  [485, 361, 490, 399]
	  ShowName		  off
	  OutputSignals		  "shifting"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<shifting>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector22"
	  Ports			  [1, 1]
	  Position		  [485, 411, 490, 449]
	  ShowName		  off
	  OutputSignals		  "ess_minV_limited"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<ess_minV_limited>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector23"
	  Ports			  [1, 1]
	  Position		  [485, 461, 490, 499]
	  ShowName		  off
	  OutputSignals		  "ess_maxV_limited"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<ess_maxV_limited>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector24"
	  Ports			  [1, 1]
	  Position		  [770, 211, 775, 249]
	  ShowName		  off
	  OutputSignals		  "grade"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<grade>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector25"
	  Ports			  [1, 1]
	  Position		  [770, 256, 775, 294]
	  ShowName		  off
	  OutputSignals		  "elevation"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<elevation>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector26"
	  Ports			  [1, 1]
	  Position		  [770, 306, 775, 344]
	  ShowName		  off
	  OutputSignals		  "distance"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<distance>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector27"
	  Ports			  [1, 1]
	  Position		  [765, 411, 770, 449]
	  ShowName		  off
	  OutputSignals		  "Fr"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<Fr>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector28"
	  Ports			  [1, 1]
	  Position		  [155, 526, 160, 564]
	  ShowName		  off
	  OutputSignals		  "acc_mech_pwr_a"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<acc_mech_pwr_a>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector29"
	  Ports			  [1, 1]
	  Position		  [485, 526, 490, 564]
	  ShowName		  off
	  OutputSignals		  "acc_elec_pwr_a"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<acc_elec_pwr_a>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector3"
	  Ports			  [1, 1]
	  Position		  [155, 161, 160, 199]
	  ShowName		  off
	  OutputSignals		  "fc_trq_limited"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<fc_trq_limited>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector4"
	  Ports			  [1, 1]
	  Position		  [155, 211, 160, 249]
	  ShowName		  off
	  OutputSignals		  "fc_spd_limited"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<fc_spd_limited>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector5"
	  Ports			  [1, 1]
	  Position		  [155, 261, 160, 299]
	  ShowName		  off
	  OutputSignals		  "engine_on"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<engine_on>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector6"
	  Ports			  [1, 1]
	  Position		  [155, 311, 160, 349]
	  ShowName		  off
	  OutputSignals		  "clutch_state"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<clutch_state>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector7"
	  Ports			  [1, 1]
	  Position		  [155, 371, 160, 409]
	  ShowName		  off
	  OutputSignals		  "ess_pwr_limited"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<ess_pwr_limited>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector8"
	  Ports			  [1, 1]
	  Position		  [155, 416, 160, 454]
	  ShowName		  off
	  OutputSignals		  "ess_soc_low_limited"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<ess_soc_low_limited>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  BusSelector
	  Name			  "Bus\nSelector9"
	  Ports			  [1, 1]
	  Position		  [155, 471, 160, 509]
	  ShowName		  off
	  OutputSignals		  "ess_soc_hi_limited"
	  MuxedOutput		  off
	  Port {
	    PortNumber		    1
	    Name		    "<ess_soc_hi_limited>"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  Constant
	  Name			  "Constant"
	  Position		  [165, 345, 185, 365]
	  ShowName		  off
	  Value			  "1"
	  VectorParams1D	  on
	}
	Block {
	  BlockType		  From
	  Name			  "From<main>"
	  Position		  [630, 371, 730, 389]
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "time"
	}
	Block {
	  BlockType		  Logic
	  Name			  "Logical\nOperator"
	  Ports			  [1, 1]
	  Position		  [195, 251, 225, 279]
	  ShowName		  off
	  Operator		  "NOT"
	  Inputs		  "1"
	}
	Block {
	  BlockType		  Logic
	  Name			  "Logical\nOperator1"
	  Ports			  [1, 1]
	  Position		  [210, 23, 240, 47]
	  ShowName		  off
	  Operator		  "NOT"
	  Inputs		  "1"
	}
	Block {
	  BlockType		  RelationalOperator
	  Name			  "Relational\nOperator"
	  Position		  [220, 322, 250, 353]
	  ShowName		  off
	  Operator		  "=="
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace"
	  Position		  [795, 370, 820, 390]
	  ShowName		  off
	  FontName		  "Arial"
	  VariableName		  "t"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "0"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace1"
	  Position		  [565, 322, 615, 338]
	  ShowName		  off
	  VariableName		  "mpha"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace2"
	  Position		  [565, 371, 615, 389]
	  ShowName		  off
	  VariableName		  "shifting"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace3"
	  Position		  [540, 23, 615, 47]
	  ShowName		  off
	  VariableName		  "gear_number"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace38"
	  Position		  [240, 74, 330, 96]
	  ShowName		  off
	  VariableName		  "lim_wh_traction"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace39"
	  Position		  [540, 77, 615, 93]
	  ShowName		  off
	  VariableName		  "gear_ratio"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace4"
	  Position		  [815, 419, 895, 441]
	  ShowName		  off
	  VariableName		  "Fr"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace40"
	  Position		  [540, 126, 615, 144]
	  ShowName		  off
	  VariableName		  "ess_soc_hist"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace41"
	  Position		  [245, 126, 330, 144]
	  ShowName		  off
	  VariableName		  "lim_wh_brake"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace42"
	  Position		  [265, 26, 330, 44]
	  ShowName		  off
	  VariableName		  "lim_key_off"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace43"
	  Position		  [250, 378, 330, 402]
	  ShowName		  off
	  VariableName		  "lim_ess_pwr"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace44"
	  Position		  [555, 174, 615, 196]
	  ShowName		  off
	  VariableName		  "cyc_mph_r"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace45"
	  Position		  [245, 424, 330, 446]
	  ShowName		  off
	  VariableName		  "lim_ess_soc_low"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace46"
	  Position		  [245, 479, 330, 501]
	  ShowName		  off
	  VariableName		  "lim_ess_soc_hi"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace47"
	  Position		  [800, 25, 900, 45]
	  ShowName		  off
	  VariableName		  "lim_mc_voltage"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace48"
	  Position		  [805, 69, 900, 91]
	  ShowName		  off
	  VariableName		  "lim_mc_crrnt"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace49"
	  Position		  [815, 119, 900, 141]
	  ShowName		  off
	  VariableName		  "lim_mc_trq"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace5"
	  Position		  [245, 534, 330, 556]
	  ShowName		  off
	  VariableName		  "acc_mech_pwr_a"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace50"
	  Position		  [810, 172, 900, 188]
	  ShowName		  off
	  VariableName		  "lim_mc_spd"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace51"
	  Position		  [260, 170, 330, 190]
	  ShowName		  off
	  VariableName		  "lim_fc_trq"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace52"
	  Position		  [555, 220, 615, 240]
	  ShowName		  off
	  VariableName		  "pb_voltage"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace53"
	  Position		  [535, 418, 615, 442]
	  ShowName		  off
	  VariableName		  "lim_ess_minV"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace54"
	  Position		  [545, 270, 615, 290]
	  ShowName		  off
	  VariableName		  "clutch_state"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace55"
	  Position		  [265, 326, 330, 354]
	  ShowName		  off
	  VariableName		  "lim_clutch_dis"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace56"
	  Position		  [245, 268, 330, 292]
	  ShowName		  off
	  VariableName		  "lim_engine_off"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace57"
	  Position		  [260, 220, 330, 240]
	  ShowName		  off
	  VariableName		  "lim_fc_spd"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace58"
	  Position		  [535, 469, 615, 491]
	  ShowName		  off
	  VariableName		  "lim_ess_maxV"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace59"
	  Position		  [820, 218, 900, 242]
	  ShowName		  off
	  VariableName		  "grade"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace6"
	  Position		  [575, 534, 660, 556]
	  ShowName		  off
	  VariableName		  "acc_elec_pwr_a"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace60"
	  Position		  [820, 263, 900, 287]
	  ShowName		  off
	  VariableName		  "elevation"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace61"
	  Position		  [820, 313, 900, 337]
	  ShowName		  off
	  VariableName		  "distance"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [15, 16, 125, 54]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fcControl"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag1"
	  Position		  [15, 66, 125, 104]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "vehSensors"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag10"
	  Position		  [630, 16, 740, 54]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "essSensors"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag11"
	  Position		  [630, 61, 740, 99]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "mcSensors"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag12"
	  Position		  [630, 111, 740, 149]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "mcSensors"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag13"
	  Position		  [630, 161, 740, 199]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "mcSensors"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag14"
	  Position		  [345, 16, 455, 54]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbControl"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag15"
	  Position		  [345, 66, 455, 104]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbControl"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag16"
	  Position		  [345, 116, 455, 154]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "essSensors"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag17"
	  Position		  [345, 166, 455, 204]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "cycReqOut"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag18"
	  Position		  [345, 211, 455, 249]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "essSensors"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag19"
	  Position		  [345, 261, 455, 299]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "clControl"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag2"
	  Position		  [15, 116, 125, 154]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "vehSensors"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag20"
	  Position		  [345, 311, 455, 349]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "vehSensors"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag21"
	  Position		  [345, 361, 455, 399]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbControl"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag22"
	  Position		  [345, 411, 455, 449]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "essSensors"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag23"
	  Position		  [345, 461, 455, 499]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "essSensors"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag24"
	  Position		  [630, 211, 740, 249]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "cycSensors"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag25"
	  Position		  [630, 256, 740, 294]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "cycSensors"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag26"
	  Position		  [630, 306, 740, 344]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "cycSensors"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag27"
	  Position		  [625, 411, 735, 449]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "vehSensors"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag28"
	  Position		  [15, 526, 125, 564]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "accmSensors"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag29"
	  Position		  [345, 526, 455, 564]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "acceSensors"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag3"
	  Position		  [15, 161, 125, 199]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fcSensors"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag4"
	  Position		  [15, 211, 125, 249]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fcSensors"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag5"
	  Position		  [15, 261, 125, 299]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fcControl"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag6"
	  Position		  [15, 311, 125, 349]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "clControl"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag7"
	  Position		  [15, 371, 125, 409]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "essSensors"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag8"
	  Position		  [15, 416, 125, 454]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "essSensors"
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag9"
	  Position		  [15, 471, 125, 509]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "essSensors"
	}
	Line {
	  SrcBlock		  "From<main>"
	  SrcPort		  1
	  DstBlock		  "To Workspace"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Logical\nOperator"
	  SrcPort		  1
	  DstBlock		  "To Workspace56"
	  DstPort		  1
	}
	Line {
	  Name			  "<slip_limited>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector1"
	  SrcPort		  1
	  DstBlock		  "To Workspace38"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Logical\nOperator1"
	  SrcPort		  1
	  DstBlock		  "To Workspace42"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector"
	  DstPort		  1
	}
	Line {
	  Name			  "<key_on>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector"
	  SrcPort		  1
	  DstBlock		  "Logical\nOperator1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag1"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector1"
	  DstPort		  1
	}
	Line {
	  Name			  "<brake_limited>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector2"
	  SrcPort		  1
	  DstBlock		  "To Workspace41"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag2"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag3"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector3"
	  DstPort		  1
	}
	Line {
	  Name			  "<fc_trq_limited>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector3"
	  SrcPort		  1
	  DstBlock		  "To Workspace51"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag4"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector4"
	  DstPort		  1
	}
	Line {
	  Name			  "<fc_spd_limited>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector4"
	  SrcPort		  1
	  DstBlock		  "To Workspace57"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag5"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector5"
	  DstPort		  1
	}
	Line {
	  Name			  "<engine_on>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector5"
	  SrcPort		  1
	  Points		  [15, 0]
	  DstBlock		  "Logical\nOperator"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag6"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector6"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Relational\nOperator"
	  SrcPort		  1
	  DstBlock		  "To Workspace55"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Constant"
	  SrcPort		  1
	  Points		  [15, 0]
	  DstBlock		  "Relational\nOperator"
	  DstPort		  2
	}
	Line {
	  Name			  "<clutch_state>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector6"
	  SrcPort		  1
	  DstBlock		  "Relational\nOperator"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag7"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector7"
	  DstPort		  1
	}
	Line {
	  Name			  "<ess_pwr_limited>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector7"
	  SrcPort		  1
	  DstBlock		  "To Workspace43"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag8"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector8"
	  DstPort		  1
	}
	Line {
	  Name			  "<ess_soc_low_limited>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector8"
	  SrcPort		  1
	  DstBlock		  "To Workspace45"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag9"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector9"
	  DstPort		  1
	}
	Line {
	  Name			  "<ess_soc_hi_limited>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector9"
	  SrcPort		  1
	  DstBlock		  "To Workspace46"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag10"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector10"
	  DstPort		  1
	}
	Line {
	  Name			  "<mc_voltage_limited>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector10"
	  SrcPort		  1
	  DstBlock		  "To Workspace47"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag11"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector11"
	  DstPort		  1
	}
	Line {
	  Name			  "<mc_crrnt_limited>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector11"
	  SrcPort		  1
	  DstBlock		  "To Workspace48"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag12"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector12"
	  DstPort		  1
	}
	Line {
	  Name			  "<mc_trq_limited>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector12"
	  SrcPort		  1
	  DstBlock		  "To Workspace49"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag13"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector13"
	  DstPort		  1
	}
	Line {
	  Name			  "<mc_spd_limited>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector13"
	  SrcPort		  1
	  DstBlock		  "To Workspace50"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag14"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector14"
	  DstPort		  1
	}
	Line {
	  Name			  "<gear_number>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector14"
	  SrcPort		  1
	  DstBlock		  "To Workspace3"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag15"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector15"
	  DstPort		  1
	}
	Line {
	  Name			  "<gear_ratio>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector15"
	  SrcPort		  1
	  DstBlock		  "To Workspace39"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag16"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector16"
	  DstPort		  1
	}
	Line {
	  Name			  "<SOC>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector16"
	  SrcPort		  1
	  DstBlock		  "To Workspace40"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag17"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector17"
	  DstPort		  1
	}
	Line {
	  Name			  "<cycle_mph_r>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector17"
	  SrcPort		  1
	  DstBlock		  "To Workspace44"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag18"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector18"
	  DstPort		  1
	}
	Line {
	  Name			  "<bus_voltage>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector18"
	  SrcPort		  1
	  DstBlock		  "To Workspace52"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag19"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector19"
	  DstPort		  1
	}
	Line {
	  Name			  "<clutch_state>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector19"
	  SrcPort		  1
	  DstBlock		  "To Workspace54"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag20"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector20"
	  DstPort		  1
	}
	Line {
	  Name			  "<mpha>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector20"
	  SrcPort		  1
	  DstBlock		  "To Workspace1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag21"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector21"
	  DstPort		  1
	}
	Line {
	  Name			  "<shifting>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector21"
	  SrcPort		  1
	  DstBlock		  "To Workspace2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag22"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector22"
	  DstPort		  1
	}
	Line {
	  Name			  "<ess_minV_limited>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector22"
	  SrcPort		  1
	  DstBlock		  "To Workspace53"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag23"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector23"
	  DstPort		  1
	}
	Line {
	  Name			  "<ess_maxV_limited>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector23"
	  SrcPort		  1
	  DstBlock		  "To Workspace58"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag24"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector24"
	  DstPort		  1
	}
	Line {
	  Name			  "<grade>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector24"
	  SrcPort		  1
	  DstBlock		  "To Workspace59"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag25"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector25"
	  DstPort		  1
	}
	Line {
	  Name			  "<elevation>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector25"
	  SrcPort		  1
	  DstBlock		  "To Workspace60"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag26"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector26"
	  DstPort		  1
	}
	Line {
	  Name			  "<distance>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector26"
	  SrcPort		  1
	  DstBlock		  "To Workspace61"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag27"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector27"
	  DstPort		  1
	}
	Line {
	  Name			  "<Fr>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector27"
	  SrcPort		  1
	  DstBlock		  "To Workspace4"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag28"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector28"
	  DstPort		  1
	}
	Line {
	  Name			  "<acc_mech_pwr_a>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector28"
	  SrcPort		  1
	  DstBlock		  "To Workspace5"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag29"
	  SrcPort		  1
	  DstBlock		  "Bus\nSelector29"
	  DstPort		  1
	}
	Line {
	  Name			  "<acc_elec_pwr_a>"
	  Labels		  [0, 0]
	  SrcBlock		  "Bus\nSelector29"
	  SrcPort		  1
	  DstBlock		  "To Workspace6"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "ACC ELEC <acce>"
      Ports		      [2, 2]
      Position		      [695, 168, 735, 237]
      AncestorBlock	      "lib_accessory2/ACC ELEC <acce>"
      ShowPortLabels	      on
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone Electrical Accessory Mask"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'acce'|Log|{}|{}|'bdi_acc_elec.bmp'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"ACC ELEC <acce>"
	Location		[202, 77, 966, 762]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"automatic"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "elec pwr out r (W)"
	  Position		  [120, 138, 150, 152]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "elec pwr in a (W)"
	  Position		  [120, 163, 150, 177]
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Reference
	  Name			  "ACC ELEC\nmodel\nand\ninterface"
	  Ports			  [3, 4]
	  Position		  [270, 133, 320, 207]
	  LinkData {
	    BlockName		    "electrical accessory model/backward model"
"/electrical accessories (W)"
	    DialogParameters {
	      BlockChoice	      "Electrical Accessories: Time Variable"
	    }
	  }
	  SourceBlock		  "lib_accessory2/ACC ELEC <acce>/ACC ELEC\nmo"
"del\nand\ninterface"
	  SourceType		  ""
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [45, 231, 230, 269]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "acceControl"
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [395, 54, 575, 96]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "acceReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [405, 229, 580, 271]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "acceSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "elec pwr in r (W)"
	  Position		  [390, 153, 420, 167]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "elec pwr out a (W)"
	  Position		  [390, 173, 420, 187]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [0, -55]
	  DstBlock		  "ACC ELEC\nmodel\nand\ninterface"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "elec pwr out r (W)"
	  SrcPort		  1
	  DstBlock		  "ACC ELEC\nmodel\nand\ninterface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "elec pwr in a (W)"
	  SrcPort		  1
	  DstBlock		  "ACC ELEC\nmodel\nand\ninterface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "ACC ELEC\nmodel\nand\ninterface"
	  SrcPort		  1
	  Points		  [25, 0; 0, -65]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "ACC ELEC\nmodel\nand\ninterface"
	  SrcPort		  2
	  DstBlock		  "elec pwr in r (W)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "ACC ELEC\nmodel\nand\ninterface"
	  SrcPort		  3
	  DstBlock		  "elec pwr out a (W)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "ACC ELEC\nmodel\nand\ninterface"
	  SrcPort		  4
	  Points		  [30, 0; 0, 50]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Annotation {
	  Position		  [192, 80]
	  BackgroundColor	  "yellow"
	  Text			  "ELECTRICAL ACCESSORY\nInterface"
	  FontName		  "Arial"
	  FontSize		  22
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "ACC MECH <accm>"
      Ports		      [2, 2]
      Position		      [550, 33, 590, 97]
      AncestorBlock	      "lib_accessory2/ACC MECH <accm>"
      ShowPortLabels	      on
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone Mechanical Accessory Mask"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'accm'|Log|{}|{}|'bdi_acc_pic.bmp'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"ACC MECH <accm>"
	Location		[202, 77, 966, 762]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"automatic"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "trq and spd\nout\nrequested"
	  Position		  [65, 143, 95, 157]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "trq and spd\nin\nachieved"
	  Position		  [65, 168, 95, 182]
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [45, 246, 230, 284]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "accmControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "mechanical accessory\nmodel and interface"
	  Ports			  [3, 4]
	  Position		  [250, 137, 355, 213]
	  AncestorBlock		  "lib_accessory2/ACC MECH <accm>/mechanical a"
"ccessory\nmodel and interface"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "mechanical accessory\nmodel and interface"
	    Location		    [202, 77, 982, 762]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "92"
	    Block {
	      BlockType		      Inport
	      Name		      "T, w out\nrequested"
	      Position		      [120, 108, 150, 122]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "T, w in\nachieved"
	      Position		      [120, 163, 150, 177]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      Position		      [15, 413, 45, 427]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>1"
	      Position		      [105, 304, 225, 326]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_mech_spd_r"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>2"
	      Position		      [105, 444, 225, 466]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "elec_acc_on_bool"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>3"
	      Position		      [105, 269, 225, 291]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_on"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>4"
	      Position		      [105, 339, 225, 361]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_mech_spd_a"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>5"
	      Position		      [105, 374, 225, 396]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_max_spd"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>6"
	      Position		      [105, 409, 225, 431]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_min_spd"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>7"
	      Position		      [105, 479, 225, 501]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "F_req"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>8"
	      Position		      [105, 514, 225, 536]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "key_on"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>9"
	      Position		      [105, 549, 225, 571]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "engine_on"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Block NOTES"
	      Ports		      []
	      Position		      [655, 125, 734, 180]
	      BackgroundColor	      "green"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "disp('Block\\nNOTES')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Block NOTES"
		Location		[376, 286, 928, 570]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
	      }
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [5, 1]
	      Position		      [695, 343, 705, 507]
	      ShowName		      off
	      Inputs		      "5"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 9]
	      Position		      [70, 263, 80, 577]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "9"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From"
	      Position		      [465, 354, 590, 376]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "acc_mech_trq_a"
	      Port {
		PortNumber		1
		Name			"acc_mech_trq_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      Position		      [465, 474, 590, 496]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_APU_speed"
	      Port {
		PortNumber		1
		Name			"w_APU_speed"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From2"
	      Position		      [465, 384, 590, 406]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "acc_mech_pwr_a"
	      Port {
		PortNumber		1
		Name			"acc_mech_pwr_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From3"
	      Position		      [465, 414, 590, 436]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "acc_mech_trq_r"
	      Port {
		PortNumber		1
		Name			"acc_mech_trq_r"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From4"
	      Position		      [465, 444, 590, 466]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "acc_mech_pwr_r"
	      Port {
		PortNumber		1
		Name			"acc_mech_pwr_r"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      Position		      [229, 304, 337, 326]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_mech_spd_r"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility10"
	      Position		      [229, 409, 337, 431]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_min_spd"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility11"
	      Position		      [229, 479, 337, 501]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "F_req"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility12"
	      Position		      [229, 514, 337, 536]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "key_on"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility13"
	      Position		      [229, 549, 337, 571]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "engine_on"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility14"
	      Position		      [354, 474, 462, 496]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "w_APU_speed"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [354, 384, 462, 406]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_mech_pwr_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility3"
	      Position		      [354, 354, 461, 375]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_mech_trq_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      Position		      [229, 339, 337, 361]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_mech_spd_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility5"
	      Position		      [354, 414, 462, 436]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_mech_trq_r"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility6"
	      Position		      [354, 444, 462, 466]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_mech_pwr_r"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility7"
	      Position		      [229, 444, 337, 466]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "elec_acc_on_bool"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility8"
	      Position		      [229, 374, 337, 396]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_max_spd"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility9"
	      Position		      [229, 269, 336, 290]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_on"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Mechanical Accessory\nmodel"
	      Ports		      [2, 2]
	      Position		      [305, 87, 395, 198]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "image(imread('bdi_acc_pic.bmp'))"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Mechanical Accessory\nmodel"
		Location		[202, 73, 966, 750]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"150"
		Block {
		  BlockType		  Inport
		  Name			  "requested shaft\nT and w, out\nto t"
"he driveline \n(Nm ; rad/s; rad/s)"
		  Position		  [45, 98, 75, 112]
		  NamePlacement		  "alternate"
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "achieved shaft and belt\nT and w, i"
"n\nfrom the prime mover\n(Nm ; rad/s)"
		  Position		  [55, 353, 85, 367]
		  NamePlacement		  "alternate"
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [25, 190, 81, 230]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [296, 288, 775, 504]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [252, 253]
		    Text		    "In this model, only one speed is "
"used to predict accessory\nloading. The forward model is \"dummied\" out."
		    }
		    Annotation {
		    Position		    [248, 187]
		    Text		    "A third input is given for access"
"ory load speed. This is done so that\nthe accessory block can use fc_spd_est "
"which is an estimated vehicle speed\n(equal to fc_spd_out under normal circum"
"stances).\nUsing fc_spd_est provides total compatibility with ADVISOR v3.2"
		    }
		    Annotation {
		    Position		    [247, 98]
		    Text		    "In terms of an interface, the mod"
"el assumes belt-driven mechanical loads\nthat run off of a prime mover shaft "
"(e.g., engine shaft)\n\nThis model takes in requested driveline torque and sp"
"eed requests and\naugments torque due to belt driven accessories.\n\nThe torq"
"ue passed along down to the driveline is only torque to move the\nvehicle."
		    }
		    Annotation {
		    Position		    [248, 24]
		    Text		    "This is the mechanical auxiliary "
"loads model."
		    }
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [120, 55, 125, 155]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "trq out r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "w shaft out r"
		    PropagatedSignals	    "spd"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [130, 323, 135, 392]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "trq in achieved from prime mover"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "w shaft achieved by prime mover"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From1"
		  Position		  [195, 149, 320, 171]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "acc_mech_spd_r"
		}
		Block {
		  BlockType		  From
		  Name			  "From15"
		  Position		  [170, 404, 295, 426]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "acc_mech_spd_a"
		}
		Block {
		  BlockType		  From
		  Name			  "From16"
		  Position		  [325, 499, 450, 521]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "acc_mech_trq_r"
		}
		Block {
		  BlockType		  From
		  Name			  "From2"
		  Position		  [195, 119, 320, 141]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "acc_max_spd"
		}
		Block {
		  BlockType		  From
		  Name			  "From3"
		  Position		  [195, 179, 320, 201]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "acc_min_spd"
		}
		Block {
		  BlockType		  From
		  Name			  "From4"
		  Position		  [170, 374, 295, 396]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "acc_max_spd"
		}
		Block {
		  BlockType		  From
		  Name			  "From5"
		  Position		  [170, 434, 295, 456]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "acc_min_spd"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto1"
		  Position		  [490, 221, 620, 249]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "w_APU_speed"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto10"
		  Position		  [745, 381, 875, 409]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "acc_mech_trq_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto11"
		  Position		  [745, 416, 875, 444]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "acc_mech_pwr_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [750, 79, 755, 246]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [935, 321, 940, 394]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "backward model"
		  Ports			  [2, 1]
		  Position		  [475, 41, 690, 199]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  Port {
		    PortNumber		    1
		    Name		    "trq in r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  System {
		    Name		    "backward model"
		    Location		    [202, 77, 966, 762]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "trq1"
		    Position		    [55, 78, 85, 92]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "spd_in"
		    Position		    [60, 188, 90, 202]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [285, 135, 340, 155]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_on"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From1"
		    Position		    [285, 235, 340, 255]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_on"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto8"
		    Position		    [555, 147, 680, 173]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "acc_mech_trq_r"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto9"
		    Position		    [555, 221, 680, 249]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "acc_mech_pwr_r"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [380, 132, 395, 183]
		    ShowName		    off
		    Inputs		    "**"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [380, 207, 395, 258]
		    ShowName		    off
		    Inputs		    "**"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [490, 75, 510, 95]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    Ports		    [1]
		    Position		    [585, 262, 680, 278]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|mech_pwr_r|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "accm_mech_pwr_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace1"
		    Ports		    [1]
		    Position		    [585, 187, 680, 203]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|mech_trq_r|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "accm_mech_trq_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "mechanical accessories (Nm)"
		    Ports		    [1, 2]
		    Position		    [165, 146, 240, 244]
		    ForegroundColor	    "blue"
		    AttributesFormatString  "%<BlockChoice>"
		    ShowPortLabels	    off
		    BlockChoice		    "Mechanical Accessories: Const Mec"
"h Var Elect"
		    TemplateBlock	    "lib_accessory2/ACC MECH\nmodels/m"
"echanical accessories (Nm)"
		    MemberBlocks	    "Mechanical Accessories: Const Mec"
"h Var Elect,Mechanical Accessories: Constant Mechanical & Electrical,Mechanic"
"al Accessories: Speed Dependant and Variable Electrical,Saber Dual Voltage Co"
"sim,Saber Single Voltage Cosim,SindaTransAC"
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "image(imread('bdi_acc_pic_cs.bmp'"
"))"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "mechanical accessories (Nm)"
		    Location		    [148, 182, 646, 482]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    Position		    [20, 40, 40, 60]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Mechanical Accessories:\nConst Me"
"ch Var Elect"
		    Ports		    [1, 2]
		    Position		    [100, 40, 140, 80]
		    ForegroundColor	    "blue"
		    SourceBlock		    "lib_accessory2/ACC MECH\nmodels/M"
"echanical Accessories:\nConst Mech Var Elect"
		    SourceType		    ""
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_acc"
		    Position		    [200, 40, 220, 60]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "P_mech_acc"
		    Position		    [200, 80, 220, 100]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    Points		    [20, 0; 0, 10]
		    DstBlock		    "Mechanical Accessories:\nConst Me"
"ch Var Elect"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mechanical Accessories:\nConst Me"
"ch Var Elect"
		    SrcPort		    1
		    DstBlock		    "T_acc"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mechanical Accessories:\nConst Me"
"ch Var Elect"
		    SrcPort		    2
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "P_mech_acc"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "trq2"
		    Position		    [640, 78, 670, 92]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "From1"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "mechanical accessories (Nm)"
		    SrcPort		    2
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [125, 0]
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto9"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "mechanical accessories (Nm)"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [0, 0; 100, 0]
		    Branch {
		    Points		    [35, 0]
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto8"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "trq2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "trq1"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "spd_in"
		    SrcPort		    1
		    DstBlock		    "mechanical accessories (Nm)"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [362, 415]
		    }
		    Annotation {
		    Position		    [476, 221]
		    Text		    "Power, W, input to accessory"
		    }
		    Annotation {
		    Position		    [546, 65]
		    Text		    "T, Nm, shaft out"
		    }
		    Annotation {
		    Position		    [249, 73]
		    Text		    "T, Nm, driveline"
		    }
		    Annotation {
		    Position		    [447, 147]
		    Text		    "T, Nm, accessory"
		    }
		    Annotation {
		    Position		    [96, 179]
		    Text		    "w_apu, rad/s"
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "f1"
		  Ports			  [1]
		  Position		  [780, 457, 875, 473]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|mech_pwr_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "f1"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "accm_mech_pwr_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "f2"
		  Ports			  [1]
		  Position		  [780, 357, 875, 373]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|mech_trq_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "f2"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "accm_mech_trq_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "forward model"
		  Ports			  [3, 3]
		  Position		  [470, 320, 670, 450]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "forward model"
		    Location		    [202, 74, 955, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "trq_in"
		    Position		    [45, 78, 75, 92]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "spd_in"
		    Position		    [45, 113, 75, 127]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "acc_trq_req"
		    Position		    [45, 148, 75, 162]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From1"
		    Position		    [300, 45, 380, 65]
		    BackgroundColor	    "green"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "pm_trq_a"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From2"
		    Position		    [265, 175, 320, 195]
		    BackgroundColor	    "green"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_spd"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From3"
		    Position		    [260, 100, 315, 120]
		    BackgroundColor	    "green"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_trq_r"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto1"
		    Position		    [105, 110, 165, 130]
		    BackgroundColor	    "green"
		    ShowName		    off
		    GotoTag		    "acc_spd"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto2"
		    Position		    [105, 75, 165, 95]
		    BackgroundColor	    "green"
		    ShowName		    off
		    GotoTag		    "pm_trq_a"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto3"
		    Position		    [105, 145, 165, 165]
		    BackgroundColor	    "green"
		    ShowName		    off
		    GotoTag		    "acc_trq_r"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [365, 146, 380, 199]
		    ShowName		    off
		    Inputs		    "**"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [415, 45, 435, 65]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "trq_out"
		    Position		    [495, 48, 525, 62]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "acc_mech_trq_a"
		    Position		    [495, 103, 525, 117]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "acc_mech_pwr_a"
		    Position		    [495, 168, 525, 182]
		    Port		    "3"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "From1"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "acc_trq_req"
		    SrcPort		    1
		    DstBlock		    "Goto3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "trq_in"
		    SrcPort		    1
		    DstBlock		    "Goto2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From2"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From3"
		    SrcPort		    1
		    Points		    [0, 0; 10, 0]
		    Branch {
		    Points		    [0, 50]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [95, 0]
		    Branch {
		    Points		    [0, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "acc_mech_trq_a"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "acc_mech_pwr_a"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "trq_out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "spd_in"
		    SrcPort		    1
		    DstBlock		    "Goto1"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [81, 363]
		    HorizontalAlignment	    "left"
		    Text		    "pm trq a ==> prime mover (engine/"
"fuel converter/input shaft driving accessories) torque achieved\nacc spd ==> "
"accessory reference shaft speed (may or may not be the same as the engine sha"
"ft speed\nacc trq requested ==> accessory torque requested"
		    }
		    Annotation {
		    Position		    [210, 154]
		    Text		    "acc torque, Nm"
		    }
		    Annotation {
		    Position		    [250, 267]
		    BackgroundColor	    "yellow"
		    Text		    "NOTES"
		    FontName		    "Times New Roman"
		    FontSize		    12
		    FontWeight		    "bold"
		    }
		    Annotation {
		    Position		    [254, 304]
		    Text		    "This simplistic model may not cor"
"rectly account for accessory torque and/or power\nwhen the upstream torque pr"
"ovider is torque or speed limited"
		    }
		    Annotation {
		    Position		    [461, 156]
		    Text		    "Power, W, input to accessory"
		    }
		    Annotation {
		    Position		    [471, 35]
		    Text		    "T, Nm, shaft out"
		    }
		    Annotation {
		    Position		    [209, 83]
		    Text		    "driveline and \nacc torque, Nm"
		    }
		    Annotation {
		    Position		    [377, 102]
		    Text		    "T, Nm, accessory"
		    }
		    Annotation {
		    Position		    [211, 119]
		    Text		    "acc speed, rad/s"
		    }
		  }
		}
		Block {
		  BlockType		  Reference
		  Name			  "limit accessory mechanical\nspeed a"
"chieved"
		  Ports			  [3, 1]
		  Position		  [335, 373, 440, 457]
		  SourceBlock		  "lib_etc/saturation with inputs"
		  SourceType		  "SubSystem"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		}
		Block {
		  BlockType		  Reference
		  Name			  "limit accessory mechanical\nspeed r"
"equest"
		  Ports			  [3, 1]
		  Position		  [340, 118, 445, 202]
		  SourceBlock		  "lib_etc/saturation with inputs"
		  SourceType		  "SubSystem"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		}
		Block {
		  BlockType		  Reference
		  Name			  "mechanical power logging"
		  Ports			  [1]
		  Position		  [835, 488, 875, 512]
		  BackgroundColor	  "darkGreen"
		  SourceBlock		  "lib_accessory2/SubLibraries/mechani"
"cal power logging"
		  SourceType		  ""
		  eff			  "acc_mech_eff"
		}
		Block {
		  BlockType		  Outport
		  Name			  "requested shaft and belt\nT and w, "
"in from\nthe prime mover\n(Nm ; rad/s)"
		  Position		  [825, 158, 855, 172]
		  NamePlacement		  "alternate"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "achieved shaft T and w, out\nto the"
" driveline\n(Nm ; rad/s)"
		  Position		  [1010, 353, 1040, 367]
		  NamePlacement		  "alternate"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "From5"
		  SrcPort		  1
		  DstBlock		  "limit accessory mechanical\nspeed a"
"chieved"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "From4"
		  SrcPort		  1
		  DstBlock		  "limit accessory mechanical\nspeed a"
"chieved"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From15"
		  SrcPort		  1
		  DstBlock		  "limit accessory mechanical\nspeed a"
"chieved"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "limit accessory mechanical\nspeed a"
"chieved"
		  SrcPort		  1
		  Points		  [0, -30]
		  DstBlock		  "forward model"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From3"
		  SrcPort		  1
		  DstBlock		  "limit accessory mechanical\nspeed r"
"equest"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "From2"
		  SrcPort		  1
		  DstBlock		  "limit accessory mechanical\nspeed r"
"equest"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "limit accessory mechanical\nspeed r"
"equest"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    Points		    [0, 75]
		    DstBlock		    "Goto1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "backward model"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "From1"
		  SrcPort		  1
		  DstBlock		  "limit accessory mechanical\nspeed r"
"equest"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From16"
		  SrcPort		  1
		  DstBlock		  "forward model"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "forward model"
		  SrcPort		  3
		  Points		  [45, 0]
		  Branch {
		    Points		    [0, 35]
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "mechanical power logging"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "f1"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Goto11"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "forward model"
		  SrcPort		  2
		  Points		  [45, 0]
		  Branch {
		    Points		    [0, -20]
		    DstBlock		    "f2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 10]
		    DstBlock		    "Goto10"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "achieved shaft T and w, out\nto the"
" driveline\n(Nm ; rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "requested shaft and belt\nT and w, "
"in from\nthe prime mover\n(Nm ; rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "achieved shaft and belt\nT and w, i"
"n\nfrom the prime mover\n(Nm ; rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "requested shaft\nT and w, out\nto t"
"he driveline \n(Nm ; rad/s; rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "trq out r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "backward model"
		  DstPort		  1
		}
		Line {
		  Name			  "w shaft out r"
		  Labels		  [2, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [0, 105; 150, 0; 0, 55; 455, 0]
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  Name			  "trq in r"
		  Labels		  [0, 0]
		  SrcBlock		  "backward model"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "forward model"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  1
		}
		Line {
		  Name			  "trq in achieved from prime mover"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  DstBlock		  "forward model"
		  DstPort		  1
		}
		Line {
		  Name			  "w shaft achieved by prime mover"
		  Labels		  [2, 0]
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [10, 0; 0, 175; 770, 0]
		  DstBlock		  "Mux2"
		  DstPort		  2
		}
		Annotation {
		  Position		  [561, 258]
		  Text			  "Reference Speed for speed dependant"
" accessories"
		}
		Annotation {
		  Position		  [307, 36]
		  BackgroundColor	  "lightBlue"
		  Text			  "Backward-Forward Models"
		  DropShadow		  on
		  FontName		  "Times New Roman"
		  FontSize		  14
		  FontWeight		  "bold"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "help"
	      Ports		      []
	      Position		      [655, 48, 687, 87]
	      BackgroundColor	      "yellow"
	      DropShadow	      on
	      ShowName		      off
	      OpenFcn		      "web(['file:\\\\\\' which('motor_control"
"ler.htm')]);"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "image(imread('doc_man.jpg'))"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"help"
		Location		[203, 331, 569, 538]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [420, 41, 465, 69]
	      NamePlacement	      "alternate"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 77, 966, 752]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "macc_trq_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "macc_spd_out_r"
		    PropagatedSignals	    "spd"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [350, 172, 445, 188]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|pre_acc_spd_out_r|logFl"
"ag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "accm_pre_acc_spd_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [350, 57, 445, 73]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|pre_acc_trq_out_r|logFl"
"ag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "accm_pre_acc_trq_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [430, 103, 460, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  Name			  "macc_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [95, 0]
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 60]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "macc_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [95, 0]
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -35]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out Request"
	      Position		      [555, 48, 585, 62]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "T,w in\nrequest"
	      Position		      [555, 108, 585, 122]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "T, w out\nachieved"
	      Position		      [555, 163, 585, 177]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [735, 418, 765, 432]
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      9
	      DstBlock		      "<sdo>9"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      8
	      DstBlock		      "<sdo>8"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      7
	      DstBlock		      "<sdo>7"
	      DstPort		      1
	    }
	    Line {
	      Name		      "w_APU_speed"
	      Labels		      [0, 0]
	      SrcBlock		      "From1"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      6
	      DstBlock		      "<sdo>2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "Out Request"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      5
	      DstBlock		      "<sdo>6"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      4
	      DstBlock		      "<sdo>5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      3
	      DstBlock		      "<sdo>4"
	      DstPort		      1
	    }
	    Line {
	      Name		      "acc_mech_pwr_r"
	      Labels		      [0, 0]
	      SrcBlock		      "From4"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      4
	    }
	    Line {
	      Name		      "acc_mech_trq_r"
	      Labels		      [0, 0]
	      SrcBlock		      "From3"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "acc_mech_pwr_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From2"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "acc_mech_trq_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      DstBlock		      "<sdo>1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      DstBlock		      "<sdo>3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mechanical Accessory\nmodel"
	      SrcPort		      2
	      DstBlock		      "T, w out\nachieved"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "T, w in\nachieved"
	      SrcPort		      1
	      DstBlock		      "Mechanical Accessory\nmodel"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Mechanical Accessory\nmodel"
	      SrcPort		      1
	      DstBlock		      "T,w in\nrequest"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "T, w out\nrequested"
	      SrcPort		      1
	      Points		      [75, 0]
	      Branch {
		Points			[0, -60]
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Mechanical Accessory\nmodel"
		DstPort			1
	      }
	    }
	    Annotation {
	      Position		      [361, 531]
	      HorizontalAlignment     "left"
	      Text		      "w_APU_speed is the reference speed for "
"accessories requiring a speed lookup\nit may be different from acc_mech_spd_r"
" if that value was limited by acc_max_spd\nor acc_min_spd"
	    }
	    Annotation {
	      Position		      [70, 649]
	      HorizontalAlignment     "left"
	      Text		      "* elec_acc_on_bool Enables/Disables ele"
"ctrical accessories only-- it was originally conceived as a means to have ele"
"ctrical accessory loads be \nsatisfieed by either a mechanical generator or a"
"n electrical power bus\n\nF_req is the force required by the wheels for tract"
"ion power (used as a trigger for brake light accessories)\n\nkey_on is used a"
"s a trigger for some electrical accessories (indicates if the vehicle is \"po"
"wered on\" or not\n\nengine_on is used as a trigger for some electrical acces"
"sories (indicates whether the internal combustion engine is running or not) u"
"sed \nfor starter motor"
	    }
	    Annotation {
	      Position		      [344, 455]
	      Text		      "*"
	    }
	    Annotation {
	      Position		      [456, 277]
	      Text		      "Enables/Disables the entire accessory s"
"ystem"
	    }
	    Annotation {
	      Position		      [347, 246]
	      BackgroundColor	      "lightBlue"
	      Text		      "INTERFACE"
	      DropShadow	      on
	      FontName		      "Times New Roman"
	      FontSize		      14
	      FontWeight	      "bold"
	    }
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [395, 69, 575, 111]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "accmReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [405, 244, 580, 286]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "accmSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "trq and spd\nin \nrequested"
	  Position		  [560, 158, 590, 172]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "trq and spd\nout\nachieved\n"
	  Position		  [560, 178, 590, 192]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "mechanical accessory\nmodel and interface"
	  SrcPort		  4
	  Points		  [5, 0; 0, 60]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  DstBlock		  "mechanical accessory\nmodel and interface"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "mechanical accessory\nmodel and interface"
	  SrcPort		  1
	  Points		  [0, -55]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "mechanical accessory\nmodel and interface"
	  SrcPort		  2
	  DstBlock		  "trq and spd\nin \nrequested"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "trq and spd\nout\nrequested"
	  SrcPort		  1
	  DstBlock		  "mechanical accessory\nmodel and interface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "trq and spd\nin\nachieved"
	  SrcPort		  1
	  DstBlock		  "mechanical accessory\nmodel and interface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "mechanical accessory\nmodel and interface"
	  SrcPort		  3
	  DstBlock		  "trq and spd\nout\nachieved\n"
	  DstPort		  1
	}
	Annotation {
	  Position		  [202, 60]
	  BackgroundColor	  "yellow"
	  Text			  "MECHANICAL ACCESSORY\nInterface"
	  FontName		  "Arial"
	  FontSize		  22
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      Clock
      Name		      "Clock"
      Position		      [130, 20, 150, 40]
      DisplayTime	      off
      Decimation	      "10"
    }
    Block {
      BlockType		      Goto
      Name		      "Goto"
      Position		      [175, 15, 230, 45]
      ForegroundColor	      "red"
      BackgroundColor	      "black"
      ShowName		      off
      FontName		      "Arial"
      FontSize		      12
      FontWeight	      "bold"
      GotoTag		      "time"
      TagVisibility	      "global"
    }
    Block {
      BlockType		      Ground
      Name		      "Ground"
      Position		      [760, 190, 780, 210]
      ShowName		      off
    }
    Block {
      BlockType		      ToWorkspace
      Name		      "HC, CO,\nNOx, PM (g/s)"
      Position		      [805, 77, 855, 93]
      FontName		      "Arial"
      VariableName	      "emis"
      MaxDataPoints	      "inf"
      Decimation	      "1"
      SampleTime	      "0"
      SaveFormat	      "Array"
    }
    Block {
      BlockType		      SubSystem
      Name		      "Interactive Graphics"
      Ports		      []
      Position		      [892, 30, 957, 84]
      ForegroundColor	      "lightBlue"
      BackgroundColor	      "lightBlue"
      AttributesFormatString  "%<BlockChoice>"
      ShowPortLabels	      on
      BlockChoice	      "off"
      TemplateBlock	      "lib_interactive/Interactive Graphics"
      MemberBlocks	      "off,on"
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      System {
	Name			"Interactive Graphics"
	Location		[148, 182, 646, 482]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Reference
	  Name			  "off"
	  Tag			  "Altia_off"
	  Ports			  []
	  Position		  [100, 40, 140, 80]
	  Orientation		  "up"
	  ForegroundColor	  "lightBlue"
	  BackgroundColor	  "lightBlue"
	  SourceBlock		  "lib_interactive/off"
	  SourceType		  ""
	}
      }
    }
    Block {
      BlockType		      Logic
      Name		      "Logical\nOperator1"
      Ports		      [2, 1]
      Position		      [765, 45, 790, 65]
      Orientation	      "left"
      ShowName		      off
      Operator		      "AND"
      Inputs		      "2"
    }
    Block {
      BlockType		      SubSystem
      Name		      "NOTES"
      Ports		      []
      Position		      [20, 237, 70, 271]
      BackgroundColor	      "green"
      ShowName		      off
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskDisplay	      "disp('Version &\\nCopyright')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      System {
	Name			"NOTES"
	Location		[218, 257, 825, 528]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  "NOTES"
	  Ports			  []
	  Position		  [176, 22, 427, 51]
	  BackgroundColor	  "green"
	  ShowName		  off
	  OpenFcn		  "advisor_ver"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "disp('Double-click here or enter ''advisor_"
"ver'' at the Matlab\\ncommand line for ADVISOR version')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "NOTES"
	    Location		    [199, 240, 576, 525]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Annotation {
	      Position		      [187, 133]
	      Text		      "ADVISOR 2.0.2 10/7/98\nCopyright 1998-2"
"003  MRI, NREL.\nAll rights reserved\n\n Notice:  This computer software was "
"\n prepared by NREL/MRI, and hereinafter the Contractor, \nunder Contract No."
" DE-AC36-83CH10093 with \nthe Department of Energy (DOE).  All rights \nin th"
"e computer software are reserved by DOE \non behalf of the United States Gove"
"rnment and \nthe Contractor as provided in the contract.   \nYou are authoriz"
"ed to use this computer software \nfor Governmental purposes but it is not to"
" be \nreleased or distributed to the public.  NEITHER \nTHE GOVERNMENT NOR TH"
"E CONTRACTOR MAKES ANY \nWARRANTY, EXPRESS OR IMPLIED, OR ASSUMES ANY \nLIABI"
"LITY FOR THE USE OF THIS SOFTWARE.\nThis notice including this sentence must "
"\nappear on any copies of this computer software."
	    }
	  }
	}
	Annotation {
	  Position		  [302, 123]
	  Text			  "ADVISOR software developed at NREL.  Copyri"
"ght 1998 Midwest Research Institute.  All rights reserved.\nNotice: These dat"
"a were produced by the Midwest Research Institute (MRI) under Contract No. DE"
"-AC98GO10337\n     with the Department of Energy (DOE).  For a five-year peri"
"od from November 6, 1998, the Government is granted for\nitself and others ac"
"ting on its behalf a nonexclusive, paid-up, irrevocable worldwide license in "
"this data to reproduce,\n prepare derivative works, and perform publicly and "
"display publicly, by or on behalf of the Government.  There is\nprovision for"
" the possible extension of the term of this license.  Subsequent to that peri"
"od or any extension granted,\n the Government is granted for itself and other"
"s acting on its behalf a nonexclusive, paid-up, irrevocable worldwide"
	}
	Annotation {
	  Position		  [306, 201]
	  Text			  "license in this data to reproduce, prepare "
"derivative works, distribute copies to the public, perform publicly and displ"
"ay\npublicly, and to permit others to do so.  The specific term of the licens"
"e can be identified by inquiry made to the MRI\nor DOE. Neither the United St"
"ates nor the DOE, nor any of their employees, make any warranty, express or i"
"mplied, or\nassumes any legal liability or responsibility for the accuracy, c"
"ompleteness, or usefulness of any data, apparatus,\nproduct, or process discl"
"osed, or represents that its use would not infringe privately owned rights."
	}
      }
    }
    Block {
      BlockType		      Terminator
      Name		      "Terminator"
      Position		      [925, 140, 945, 160]
      ShowName		      off
    }
    Block {
      BlockType		      SubSystem
      Name		      "clutch <cl>"
      Ports		      [2, 2]
      Position		      [345, 30, 390, 105]
      BackgroundColor	      "yellow"
      AncestorBlock	      "lib_transmission2/clutch <cl>"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone Clutch Mask"
      MaskDescription	      "Clutch for use with ADVISOR 2"
      MaskHelp		      "First input is req'd clutch output torque and s"
"peed, muxed together.\nSecond input is clutch state, with 1 => disengaged, 2 "
"=> slipping, and 3=> engaged.\nThird input is available clutch input torque a"
"nd limited clutch input speed.\nFirst output is req'd clutch input torque and"
" speed, muxed together.\nSecond output is available clutch output torque and "
"limited clutch output speed.\nThe logic implemented by this block is as follo"
"ws:\n          IF (clutch is disengaged) THEN (req'd input torque=0), (req'd "
"input speed=req'd output speed (the engine control is responsible for computi"
"ng correct engine spin-down speed)), (avail. output torque=0), (limited outpu"
"t speed=req'd output speed)\n          IF (clutch is slipping) THEN (req'd in"
"put torque=req'd output torque), (req'd input speed=user-defined slip speed),"
" (avail. output torque=avail. input torque), (limited output speed=req'd outp"
"ut speed)\n          IF (clutch is engaged) THEN (req'd input torque=req'd ou"
"tput torque), (req'd input speed=req'd output speed), (avail. output torque=a"
"vail. input torque), (limited output speed=limited input speed) \n\nThe clutc"
"h will transmit no more than its maximum torque as driving or braking torque."
      MaskPromptString	      "General Name of this Component [char--evaluated"
"]|Log Variables to Workspace?|Initialization File(s) [cell array of char]|Mod"
"ification Cell [2 column cell array of param and val]|Icon image file name [c"
"har--evaluated]|Input shaft speed when clutch slips (rad/s):|Maximum torque c"
"lutch can transmit:|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,edit,e"
"dit,popup(ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on,on,on"
      MaskCallbackString      "|||||||"
      MaskEnableString	      "on,on,on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;slip_spd=@6;maxtrq=@7;DEBUG=&8;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'cl'|Don't Log|{}|{}|'bdi_cl.jpg'|vc_launch_spd"
"|max(fc_max_trq)*fc_trq_scale|OFF"
      MaskVariableAliases     ",,,,,,,"
      System {
	Name			"clutch <cl>"
	Location		[206, 73, 966, 748]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "T & w\noutput\nrequested"
	  Position		  [105, 188, 135, 202]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "T & w\ninput\nachieved"
	  Position		  [105, 208, 135, 222]
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "clutch model and interface"
	  Ports			  [3, 4]
	  Position		  [230, 182, 270, 243]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "clutch model and interface"
	    Location		    [206, 73, 966, 748]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "T & w\noutput\nrequested"
	      Position		      [250, 68, 280, 82]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "T & w\ninput\nachieved"
	      Position		      [255, 143, 285, 157]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      Position		      [70, 298, 100, 312]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [2, 1]
	      Position		      [645, 274, 650, 341]
	      ShowName		      off
	      Inputs		      "2"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux2"
	      Ports		      [1, 3]
	      Position		      [140, 258, 145, 352]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "3"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      Position		      [485, 277, 560, 303]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_cl_out"
	      Port {
		PortNumber		1
		Name			"T_cl_out"
		PropagatedSignals	"output torque"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From2"
	      Position		      [485, 312, 560, 338]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_cl_out"
	      Port {
		PortNumber		1
		Name			"w_cl_out"
		PropagatedSignals	"output\nspeed\nreq'd"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      Position		      [175, 249, 270, 271]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "clutch_state"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      Position		      [280, 247, 358, 275]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "clutch_state"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      Position		      [395, 277, 473, 305]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "T_cl_out"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [395, 312, 473, 340]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "w_cl_out"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility3"
	      Position		      [280, 292, 358, 320]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "launch_speed"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      Position		      [280, 337, 358, 365]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "launch_flag"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [175, 294, 270, 316]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "launch_speed"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      Position		      [175, 339, 270, 361]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "launch_flag"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "clutch model"
	      Ports		      [2, 2]
	      Position		      [350, 105, 390, 165]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"clutch model"
		Location		[309, 75, 1073, 742]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "T & w\noutput\nrequested"
		  Position		  [30, 58, 60, 72]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "T & w\ninput\nachieved"
		  Position		  [25, 483, 55, 497]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Adjust for\nPossible Launch\nSpeed "
"Request"
		  Ports			  [1, 1]
		  Position		  [470, 160, 510, 220]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "Adjust for\nPossible Launch\nSpee"
"d Request"
		    Location		    [214, 77, 982, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Input\nSpeed Request"
		    Position		    [55, 228, 85, 242]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant6"
		    Position		    [105, 185, 125, 205]
		    ShowName		    off
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From1"
		    Position		    [30, 53, 120, 77]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "launch_speed"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From2"
		    Position		    [30, 97, 105, 123]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "launch_flag"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From4"
		    Position		    [30, 167, 105, 193]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "clutch_state"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [245, 132, 275, 163]
		    ShowName		    off
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch4"
		    Position		    [315, 21, 345, 279]
		    ShowName		    off
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "clutch\ndisengaged"
		    Position		    [160, 172, 190, 203]
		    NamePlacement	    "alternate"
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Input Speed\nRequest\nAdjusted fo"
"r\nLaunch Speed"
		    Position		    [405, 143, 435, 157]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "Switch4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "clutch\ndisengaged"
		    SrcPort		    1
		    Points		    [15, 0; 0, -35]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From2"
		    SrcPort		    1
		    Points		    [100, 0; 0, 30]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant6"
		    SrcPort		    1
		    DstBlock		    "clutch\ndisengaged"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From4"
		    SrcPort		    1
		    DstBlock		    "clutch\ndisengaged"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Input\nSpeed Request"
		    SrcPort		    1
		    DstBlock		    "Switch4"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Switch4"
		    SrcPort		    1
		    DstBlock		    "Input Speed\nRequest\nAdjusted fo"
"r\nLaunch Speed"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From1"
		    SrcPort		    1
		    DstBlock		    "Switch4"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [372, 68]
		    HorizontalAlignment	    "left"
		    BackgroundColor	    "yellow"
		    Text		    "If the clutch is disengaged, unde"
"r certain \ncircumstances, we will want to request that \nthe input speed to "
"the clutch be ramped up to a \ngiven launch speed (decided by the controller)"
"\nso that the clutch can subsequently slip and \nengage with a more realistic"
" speed matching"
		    FontName		    "Arial"
		    FontSize		    12
		    FontWeight		    "bold"
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [140, 255, 160, 275]
		  Value			  "1"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [140, 320, 160, 340]
		  Value			  "2"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [140, 390, 160, 410]
		  Value			  "3"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant3"
		  Position		  [365, 135, 385, 155]
		  Orientation		  "up"
		  NamePlacement		  "alternate"
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant4"
		  Position		  [333, 270, 407, 290]
		  Orientation		  "up"
		  Value			  "slip_spd"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant5"
		  Position		  [315, 490, 335, 510]
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [95, 47, 130, 83]
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "output torque"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "output\nspeed\nreq'd"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [120, 472, 155, 508]
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  From
		  Name			  "From"
		  Position		  [30, 212, 105, 238]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "clutch_state"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <sdo>"
		  Position		  [170, 99, 255, 121]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "T_cl_out"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <sdo>1"
		  Position		  [170, 139, 255, 161]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "w_cl_out"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [1, 1]
		  Position		  [320, 69, 350, 101]
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator1"
		  Ports			  [1, 1]
		  Position		  [315, 199, 345, 231]
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator2"
		  Ports			  [1, 1]
		  Position		  [315, 414, 345, 446]
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [545, 57, 580, 93]
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [495, 482, 530, 518]
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [1, 1]
		  Position		  [85, 534, 115, 566]
		  Inputs		  "1"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [1, 1]
		  Position		  [500, 554, 530, 586]
		  Inputs		  "1"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  Position		  [430, 475, 460, 505]
		  UpperLimit		  "maxtrq"
		  LowerLimit		  "-maxtrq"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation1"
		  Position		  [455, 50, 485, 80]
		  UpperLimit		  "maxtrq"
		  LowerLimit		  "-maxtrq"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [390, 50, 420, 80]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [385, 175, 415, 205]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  Position		  [375, 475, 405, 505]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch3"
		  Position		  [375, 540, 405, 570]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "clutch\ndisengaged"
		  Position		  [190, 217, 220, 248]
		  Operator		  "=="
		  Port {
		    PortNumber		    1
		    Name		    "clutch\ndisengaged"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "clutch\nengaged"
		  Position		  [190, 352, 220, 383]
		  Operator		  "=="
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "clutch\nslipping"
		  Position		  [190, 282, 220, 313]
		  Operator		  "=="
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [550, 562, 645, 578]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|pwr_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [90, 597, 185, 613]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|pwr_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  Ports			  [1]
		  Position		  [245, 22, 340, 38]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [115, 177, 210, 193]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [580, 182, 675, 198]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  Ports			  [1]
		  Position		  [555, 27, 650, 43]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  Ports			  [1]
		  Position		  [515, 447, 610, 463]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  Ports			  [1]
		  Position		  [465, 607, 560, 623]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace8"
		  Ports			  [1]
		  Position		  [230, 597, 325, 613]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace9"
		  Ports			  [1]
		  Position		  [125, 437, 220, 453]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace9"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  Ports			  []
		  Position		  [590, 311, 629, 357]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('clutch.ht"
"m')]);"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "image(imread('doc_man.jpg'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "help"
		    Location		    [203, 331, 569, 538]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "T & w\ninput\nrequest"
		  Position		  [605, 68, 635, 82]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "T & w\noutput\nachieved"
		  Position		  [610, 493, 640, 507]
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "Adjust for\nPossible Launch\nSpeed "
"Request"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "Adjust for\nPossible Launch\nSpeed "
"Request"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    Points		    [0, 35; -75, 0]
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "T & w\noutput\nachieved"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "enhancedToWorkspace"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [0, 35; -45, 0]
		  DstBlock		  "enhancedToWorkspace1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "T & w\ninput\nachieved"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    DstBlock		    "Demux1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "output\nspeed\nreq'd"
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [0, 0; 5, 0]
		  Branch {
		    Points		    [0, 75]
		    Branch {
		    Points		    [-40, 0]
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto <sdo>1"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [100, 0; 0, 105]
		    Branch {
		    Labels		    [1, 0]
		    Points		    [0, 385]
		    DstBlock		    "Switch3"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  Name			  "output torque"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    Points		    [70, 0]
		    Branch {
		    Points		    [0, -25]
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 55]
		    DstBlock		    "Goto <sdo>"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "clutch\nengaged"
		  SrcPort		  1
		  Points		  [5, 0; 0, 185]
		  DstBlock		  "Switch3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Switch3"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 60]
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [50, 0; 0, -45]
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [45, 0; 0, 45]
		  Branch {
		    Points		    [0, 60]
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Switch3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant5"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Logical\nOperator2"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "Switch2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, -20; -50, 0]
		    DstBlock		    "enhancedToWorkspace9"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Switch2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant4"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Logical\nOperator1"
		  SrcPort		  1
		  Points		  [0, -25]
		  DstBlock		  "Switch1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant3"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  Points		  [10, 0; 0, -20]
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  Name			  "clutch\ndisengaged"
		  SrcBlock		  "clutch\ndisengaged"
		  SrcPort		  1
		  Points		  [0, 0; 50, 0]
		  Branch {
		    Labels		    [1, 0]
		    Points		    [0, 195]
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -150]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "clutch\nslipping"
		  SrcPort		  1
		  Points		  [75, 0]
		  DstBlock		  "Logical\nOperator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "clutch\nengaged"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "T & w\ninput\nrequest"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "T & w\noutput\nrequested"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    Points		    [0, 65]
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "clutch\nengaged"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "clutch\nslipping"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "clutch\ndisengaged"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "clutch\nslipping"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "clutch\ndisengaged"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  DstBlock		  "Saturation"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, -35]
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "Saturation1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Saturation1"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    Points		    [0, -30]
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [325, 61, 370, 89]
	      NamePlacement	      "alternate"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 73, 966, 748]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "clutch_trq_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "clutch_spd_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [430, 103, 460, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  Name			  "clutch_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  Name			  "clutch_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "required out"
	      Position		      [390, 68, 420, 82]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [445, 68, 475, 82]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out2"
	      Position		      [445, 143, 475, 157]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [680, 303, 710, 317]
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "required out"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "clutch model"
	      SrcPort		      2
	      DstBlock		      "Out2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "T & w\ninput\nachieved"
	      SrcPort		      1
	      DstBlock		      "clutch model"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "clutch model"
	      SrcPort		      1
	      Points		      [35, 0]
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "T & w\noutput\nrequested"
	      SrcPort		      1
	      Points		      [0, 0; 25, 0]
	      Branch {
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	      Branch {
		Points			[0, 45]
		DstBlock		"clutch model"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "w_cl_out"
	      Labels		      [0, 0]
	      SrcBlock		      "From2"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "T_cl_out"
	      Labels		      [0, 0]
	      SrcBlock		      "From1"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      3
	      Points		      [5, 0; 0, 15]
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      2
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      1
	      Points		      [5, 0; 0, -15]
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Demux2"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [372, 20]
	      BackgroundColor	      "yellow"
	      Text		      "Model"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      Position		      [367, 215]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [15, 270, 180, 310]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "clControl"
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [325, 94, 515, 136]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "clReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [340, 270, 540, 310]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "clSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T & w\ninput\nrequest"
	  Position		  [450, 198, 480, 212]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T & w\noutput\nachieved"
	  Position		  [450, 213, 480, 227]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [0, -55]
	  DstBlock		  "clutch model and interface"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "clutch model and interface"
	  SrcPort		  1
	  Points		  [0, -75]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  Labels		  [2, 0]
	  SrcBlock		  "clutch model and interface"
	  SrcPort		  4
	  Points		  [50, 0]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "clutch model and interface"
	  SrcPort		  3
	  DstBlock		  "T & w\noutput\nachieved"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "T & w\ninput\nachieved"
	  SrcPort		  1
	  DstBlock		  "clutch model and interface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "clutch model and interface"
	  SrcPort		  2
	  DstBlock		  "T & w\ninput\nrequest"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "T & w\noutput\nrequested"
	  SrcPort		  1
	  DstBlock		  "clutch model and interface"
	  DstPort		  1
	}
	Annotation {
	  Position		  [242, 60]
	  BackgroundColor	  "yellow"
	  Text			  "Clutch\nInterface"
	  FontName		  "Arial"
	  FontSize		  22
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      Constant
      Name		      "do ex calcs?"
      Position		      [820, 19, 865, 31]
      Orientation	      "left"
      ShowName		      off
      Value		      "ex_calc"
      VectorParams1D	      on
    }
    Block {
      BlockType		      Constant
      Name		      "do ex calcs?1"
      Position		      [810, 59, 855, 71]
      Orientation	      "left"
      ShowName		      off
      Value		      "fc_emis"
      VectorParams1D	      on
    }
    Block {
      BlockType		      SubSystem
      Name		      "drive cycle\n<cyc>"
      Ports		      [0, 1]
      Position		      [30, 113, 65, 187]
      BackgroundColor	      "yellow"
      AncestorBlock	      "lib_drive_cycle2/drive cycle\n<cyc>"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone Drive Cycle Mask"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG|Vehicle Mass (kg)"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF),edit"
      MaskTunableValueString  "on,on,on,on,on,on,on"
      MaskCallbackString      "||||||"
      MaskEnableString	      "on,on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;veh_mass=@7;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'cyc'|Log|{}|{}|'bdi_cyc.jpg'|OFF|veh_mass"
      MaskVariableAliases     ",,,,,,"
      System {
	Name			"drive cycle\n<cyc>"
	Location		[202, 77, 966, 744]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [45, 136, 225, 174]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "cycControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "drive cycle model and interface"
	  Ports			  [1, 3]
	  Position		  [255, 124, 295, 186]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "drive cycle model and interface"
	    Location		    [202, 77, 966, 744]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      Position		      [30, 370, 50, 390]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [5, 1]
	      Position		      [645, 259, 655, 541]
	      ShowName		      off
	      Inputs		      "5"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Clock
	      Name		      "Clock"
	      Position		      [125, 95, 145, 115]
	      NamePlacement	      "alternate"
	      DisplayTime	      off
	      Decimation	      "10"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [320, 551, 490, 579]
	      ShowName		      off
	      Value		      "veh_mass"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 4]
	      Position		      [90, 298, 95, 462]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "4"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From"
	      Position		      [420, 272, 520, 308]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "distance"
	      Port {
		PortNumber		1
		Name			"distance"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      Position		      [420, 327, 520, 363]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "grade_orig"
	      Port {
		PortNumber		1
		Name			"grade_orig"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From2"
	      Position		      [420, 382, 520, 418]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "grade"
	      Port {
		PortNumber		1
		Name			"grade"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From3"
	      Position		      [420, 437, 520, 473]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "elevation"
	      Port {
		PortNumber		1
		Name			"elevation"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From4"
	      Position		      [420, 492, 520, 528]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "veh_cargo_mass"
	      Port {
		PortNumber		1
		Name			"veh_cargo_mass"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From5"
	      Position		      [110, 132, 210, 168]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "cyc_mph_r_orig"
	      Port {
		PortNumber		1
		Name			"cyc_mph_r_orig"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From6"
	      Position		      [110, 177, 210, 213]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "cyc_mph_r"
	      Port {
		PortNumber		1
		Name			"cyc_mph_r"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      Position		      [140, 303, 255, 337]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mpha"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      Position		      [260, 302, 331, 338]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mpha"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      Position		      [340, 272, 411, 308]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "distance"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility10"
	      Position		      [260, 422, 331, 458]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "altia_cyc_mph_r"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [340, 327, 411, 363]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "grade_orig"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility3"
	      Position		      [260, 342, 331, 378]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "altia_grade"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      Position		      [260, 382, 331, 418]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "Altia_Run"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility5"
	      Position		      [340, 382, 411, 418]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "grade"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility6"
	      Position		      [340, 437, 411, 473]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "elevation"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility7"
	      Position		      [340, 492, 411, 528]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "veh_cargo_mass"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility8"
	      Position		      [30, 132, 101, 168]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "cyc_mph_r_orig"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility9"
	      Position		      [30, 177, 101, 213]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "cyc_mph_r"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [140, 343, 255, 377]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "altia_grade"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      Position		      [140, 383, 255, 417]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "Altia_Run"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto3"
	      Position		      [140, 423, 255, 457]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "altia_cyc_mph_r"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [515, 555, 535, 575]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "++|"
	      SaturateOnIntegerOverflow	on
	      Port {
		PortNumber		1
		Name			"current_veh_mass"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "drive cycle model"
	      Ports		      [0, 1]
	      Position		      [420, 135, 460, 195]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"drive cycle model"
		Location		[202, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"96"
		Block {
		  BlockType		  From
		  Name			  "Altia_Run"
		  Position		  [315, 371, 420, 399]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "Altia_Run"
		}
		Block {
		  BlockType		  From
		  Name			  "Altia_Run1"
		  Position		  [420, 76, 525, 104]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "Altia_Run"
		}
		Block {
		  BlockType		  Backlash
		  Name			  "Backlash"
		  Position		  [130, 40, 160, 60]
		  BacklashWidth		  "0.5"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [720, 480, 776, 520]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [206, 47]
		    Text		    "This block determines the speed r"
"equired of the vehicle.  If cyc_filter_bool\nis true, a centered-in-time aver"
"age of the trace, with backlash, is required of\nthe vehicle.  This may be us"
"eful to smooth out jumps in the trace.  Otherwise,\nthe trace, exactly as pub"
"lished, is required of the vehicle.\nThis block also determines the roadway g"
"rade of the cycle and the \nelevation as a function of the distance travelell"
"ed"
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [55, 114, 95, 136]
		  FontName		  "Arial"
		  Value			  "0.001"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [215, 109, 255, 131]
		  Orientation		  "left"
		  FontName		  "Arial"
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [175, 168, 260, 192]
		  ShowName		  off
		  FontName		  "Arial"
		  Value			  "cyc_filter_bool"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Derivative
		  Name			  "Derivative"
		  Position		  [130, 285, 160, 315]
		  ShowName		  off
		}
		Block {
		  BlockType		  From
		  Name			  "From"
		  Position		  [420, 26, 525, 54]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "altia_cyc_mph_r"
		}
		Block {
		  BlockType		  From
		  Name			  "From1"
		  Position		  [315, 321, 420, 349]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "altia_grade"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto \n<veh><vc><sdo>"
		  Position		  [545, 424, 595, 446]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "grade"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto \n<veh><vc><sdo>1"
		  Position		  [300, 543, 415, 567]
		  BackgroundColor	  "darkGreen"
		  ShowName		  off
		  GotoTag		  "veh_cargo_mass"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <altia>"
		  Position		  [405, 165, 495, 195]
		  Orientation		  "down"
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  GotoTag		  "cyc_mph_r_orig"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <altia>1"
		  Position		  [300, 460, 390, 490]
		  Orientation		  "down"
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  GotoTag		  "grade_orig"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <sdo>1"
		  Position		  [135, 472, 205, 498]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "distance"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <sdo>2"
		  Position		  [715, 382, 775, 408]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "elevation"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <sdo><vc>"
		  Position		  [615, 175, 675, 200]
		  Orientation		  "down"
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "cyc_mph_r"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [1, 1]
		  Position		  [650, 380, 680, 410]
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "cyc_elevation_init"
		  LimitOutput		  off
		  UpperSaturationLimit	  "inf"
		  LowerSaturationLimit	  "-inf"
		  ShowSaturationPort	  off
		  ShowStatePort		  off
		  AbsoluteTolerance	  "auto"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [590, 377, 620, 408]
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator"
		  Position		  [130, 108, 160, 132]
		  FontName		  "Arial"
		  Operator		  ">"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [220, 44, 250, 76]
		  FontName		  "Arial"
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [330, 109, 360, 141]
		  FontName		  "Arial"
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  Position		  [585, 100, 615, 130]
		  Threshold		  "1"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch3"
		  Position		  [470, 390, 500, 420]
		  NamePlacement		  "alternate"
		  Threshold		  "1"
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "Trigonometric\nFunction"
		  Ports			  [1, 1]
		  Position		  [530, 385, 560, 415]
		  ShowName		  off
		  Operator		  "sin"
		  OutputSignalType	  "auto"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "distance\ntravelled (m)"
		  Ports			  [0, 1]
		  Position		  [65, 390, 95, 440]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "distance\ntravelled (m)"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [215, 85, 271, 125]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [206, 37]
		    Text		    "This block calculates the distanc"
"e travelled by the\n vehicle based on the achieved speed."
		    }
		    }
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <veh>"
		    Position		    [20, 29, 85, 51]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "mpha"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    Ports		    [1, 1]
		    Position		    [185, 25, 215, 55]
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    InitialCondition	    "0"
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    ShowSaturationPort	    off
		    ShowStatePort	    off
		    AbsoluteTolerance	    "auto"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "mph-->m/s"
		    Position		    [110, 24, 150, 56]
		    FontName		    "Arial"
		    Gain		    "0.447"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [245, 33, 275, 47]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "mph-->m/s"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <veh>"
		    SrcPort		    1
		    DstBlock		    "mph-->m/s"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [280, 612, 415, 638]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|cargo_mass_vs_time|logF"
"lag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "cyc_cargo_mass_vs_time"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "mph-->m/s"
		  Position		  [680, 99, 720, 131]
		  FontName		  "Arial"
		  Gain			  "0.447"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "repeated cycle\ngrade vs. distance"
		  Ports			  [1, 1]
		  Position		  [150, 397, 185, 433]
		  FontName		  "Arial"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "Repeating table"
		  MaskDescription	  "Repeating table.\nEnter values of i"
"nput and output for first cycle."
		  MaskHelp		  "Repeats cycle given in table. Input"
" values should be monotonically increasing."
		  MaskPromptString	  "Input values:|Output values:"
		  MaskStyleString	  "edit,edit"
		  MaskTunableValueString  "on,on"
		  MaskCallbackString	  "|"
		  MaskEnableString	  "on,on"
		  MaskVisibilityString	  "on,on"
		  MaskToolTipString	  "on,on"
		  MaskVariables		  "t=@1;y=@2;"
		  MaskInitialization	  "period = max(@1);"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "cyc_grade(:,1)|cyc_grade(:,2)"
		  MaskVariableAliases	  ","
		  System {
		    Name		    "repeated cycle\ngrade vs. distanc"
"e"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "distance\ntravelled (m)"
		    Position		    [55, 55, 75, 75]
		    FontName		    "Arial"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    Position		    [125, 55, 165, 75]
		    Expr		    "rem(u[1],period)"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up Table"
		    Position		    [200, 53, 240, 77]
		    InputValues		    "t"
		    OutputValues	    "y"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [275, 55, 295, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Look-Up Table"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    DstBlock		    "Look-Up Table"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "distance\ntravelled (m)"
		    SrcPort		    1
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "repeated cycle\nspeed vs. time"
		  Ports			  [0, 1]
		  Position		  [120, 202, 155, 238]
		  FontName		  "Arial"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "Repeating table"
		  MaskDescription	  "Repeating table.\nEnter values of t"
"ime and output for first cycle."
		  MaskHelp		  "Repeats cycle given in table. Time "
"values should be monotonically increasing."
		  MaskPromptString	  "Time values:|Output values:"
		  MaskStyleString	  "edit,edit"
		  MaskTunableValueString  "on,on"
		  MaskCallbackString	  "|"
		  MaskEnableString	  "on,on"
		  MaskVisibilityString	  "on,on"
		  MaskToolTipString	  "on,on"
		  MaskInitialization	  "period = max(@1); t = @1; y = @2;"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "cyc_mph(:,1)|cyc_mph(:,2)"
		  MaskVariableAliases	  ","
		  System {
		    Name		    "repeated cycle\nspeed vs. time"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [45, 60, 65, 80]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    Position		    [110, 60, 150, 80]
		    Expr		    "rem(u[1],period)"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up Table"
		    Position		    [210, 58, 250, 82]
		    InputValues		    "t"
		    OutputValues	    "y"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [285, 60, 305, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Look-Up Table"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    DstBlock		    "Look-Up Table"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Reference
		  Name			  "repeated cycle\nvehicle cargo mass "
"vs. distance"
		  Ports			  [1, 1]
		  Position		  [145, 537, 180, 573]
		  BackgroundColor	  "darkGreen"
		  FontName		  "Arial"
		  SourceBlock		  "lib_drive_cycle/drive cycle\n<cyc>/"
"repeated cycle\ngrade vs. distance"
		  SourceType		  "Repeating table"
		  t			  "cyc_cargo_mass(:,1)"
		  y			  "cyc_cargo_mass(:,2)"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "super-smooth,\nno-lag trace"
		  Ports			  [0, 1]
		  Position		  [25, 29, 85, 71]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "Smooth Cycle"
		  MaskDescription	  "Smooth Cycle"
		  MaskPromptString	  "Time vector for trace (s):|Speed ve"
"ctor for trace (km/hr):|Averaging time (s):"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "t=@1;y=@2;avgtime=@3;"
		  MaskInitialization	  "period = max(@1);,"
		  MaskDisplay		  "disp('SMOOTH\\nCYCLE')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "cyc_mph(:,1)|cyc_mph(:,2)|cyc_avg_t"
"ime"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "super-smooth,\nno-lag trace"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    SubSystem
		    Name		    "Subsystem"
		    Ports		    [1, 1]
		    Position		    [125, 63, 210, 107]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "Running Average"
		    MaskDescription	    "Running Average"
		    MaskHelp		    "Output is the average of the last"
" (Averaging Time) seconds of input."
		    MaskPromptString	    "Averaging Time (s)"
		    MaskStyleString	    "edit"
		    MaskTunableValueString  "on"
		    MaskEnableString	    "on"
		    MaskVisibilityString    "on"
		    MaskToolTipString	    "on"
		    MaskInitialization	    "n=@1;"
		    MaskDisplay		    "disp('Running\\nAverage')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "avgtime"
		    System {
		    Name		    "Subsystem"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [30, 55, 50, 75]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [255, 154, 295, 176]
		    FontName		    "Arial"
		    Value		    "n"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    Ports		    [1, 1]
		    Position		    [80, 55, 100, 75]
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    InitialCondition	    "0"
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    ShowSaturationPort	    off
		    ShowStatePort	    off
		    AbsoluteTolerance	    "auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [340, 66, 360, 84]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [225, 60, 245, 80]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    TransportDelay
		    Name		    "Transport\nDelay"
		    Position		    [155, 90, 195, 120]
		    DelayTime		    "n"
		    InitialInput	    "0"
		    BufferSize		    "1024"
		    PadeOrder		    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [390, 65, 410, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "Transport\nDelay"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Transport\nDelay"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [15, 0; 0, -85]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "repeated\ncycle"
		    Ports		    [0, 1]
		    Position		    [45, 67, 80, 103]
		    FontName		    "Arial"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "repeated\ncycle"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [45, 60, 65, 80]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    Position		    [110, 60, 150, 80]
		    Expr		    "rem(u+avgtime*0.75,period)"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up Table"
		    Position		    [210, 58, 250, 82]
		    InputValues		    "t"
		    OutputValues	    "y"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [285, 60, 305, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    DstBlock		    "Look-Up Table"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Look-Up Table"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [245, 75, 265, 95]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "repeated\ncycle"
		    SrcPort		    1
		    DstBlock		    "Subsystem"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Subsystem"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "req'd vehicle\nspeed (m/s)"
		  Position		  [750, 105, 770, 125]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "repeated cycle\nvehicle cargo mass "
"vs. distance"
		  SrcPort		  1
		  Points		  [0, 0; 65, 0]
		  Branch {
		    Points		    [0, 70]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Goto \n<veh><vc><sdo>1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Altia_Run"
		  SrcPort		  1
		  Points		  [0, 20]
		  DstBlock		  "Switch3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From1"
		  SrcPort		  1
		  Points		  [30, 0]
		  DstBlock		  "Switch3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Altia_Run1"
		  SrcPort		  1
		  Points		  [0, 25]
		  DstBlock		  "Switch2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From"
		  SrcPort		  1
		  Points		  [40, 0]
		  DstBlock		  "Switch2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "mph-->m/s"
		  SrcPort		  1
		  DstBlock		  "req'd vehicle\nspeed (m/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    DstBlock		    "mph-->m/s"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Goto <sdo><vc>"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  Points		  [10, 0; 0, -55]
		  DstBlock		  "Switch1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  Points		  [-10, 0; 0, -50]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Relational\nOperator"
		  SrcPort		  1
		  Points		  [20, 0; 0, -60]
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Backlash"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "super-smooth,\nno-lag trace"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    Points		    [0, 65]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Backlash"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  Points		  [60, 0]
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "repeated cycle\nspeed vs. time"
		  SrcPort		  1
		  Points		  [155, 0]
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  Points		  [0, 0; 85, 0]
		  Branch {
		    DstBlock		    "Goto <altia>"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Switch2"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Derivative"
		  SrcPort		  1
		  Points		  [410, 0]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Trigonometric\nFunction"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  DstBlock		  "Goto <sdo>2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch3"
		  SrcPort		  1
		  Points		  [0, -5; 5, 0]
		  Branch {
		    Points		    [0, 35]
		    DstBlock		    "Goto \n<veh><vc><sdo>"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Trigonometric\nFunction"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "distance\ntravelled (m)"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    Points		    [0, 70]
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "repeated cycle\nvehicle cargo mas"
"s vs. distance"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto <sdo>1"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Derivative"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "repeated cycle\ngrade vs. distanc"
"e"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "repeated cycle\ngrade vs. distance"
		  SrcPort		  1
		  Points		  [0, 0; 155, 0]
		  Branch {
		    DstBlock		    "Switch3"
		    DstPort		    3
		  }
		  Branch {
		    Labels		    [1, 0]
		    DstBlock		    "Goto <altia>1"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [3, 1]
	      Position		      [305, 85, 350, 215]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 93, 140, 107]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		  Port {
		    PortNumber		    1
		    Name		    "simulation_time"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "In2"
		  Position		  [115, 178, 145, 192]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		  Port {
		    PortNumber		    1
		    Name		    "cycle_mph_r_orig"
		    PropagatedSignals	    "cyc_mph_r_orig"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "In3"
		  Position		  [115, 263, 145, 277]
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		  Port {
		    PortNumber		    1
		    Name		    "cycle_mph_r"
		    PropagatedSignals	    "cyc_mph_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  BusCreator
		  Name			  "Bus\nCreator"
		  Ports			  [4, 1]
		  Position		  [435, 59, 445, 396]
		  ShowName		  off
		  Inputs		  "4"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [115, 341, 245, 369]
		  ShowName		  off
		  Value			  "cyc_mph(1,2)*.447"
		  VectorParams1D	  on
		  Port {
		    PortNumber		    1
		    Name		    "v_init"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [560, 223, 590, 237]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  Name			  "v_init"
		  Labels		  [0, 0]
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  4
		}
		Line {
		  Name			  "cycle_mph_r"
		  Labels		  [0, 0]
		  SrcBlock		  "In3"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  3
		}
		Line {
		  Name			  "cycle_mph_r_orig"
		  Labels		  [0, 0]
		  SrcBlock		  "In2"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Bus\nCreator"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  Name			  "simulation_time"
		  Labels		  [0, 0]
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  1
		}
		Annotation {
		  Position		  [185, 386]
		  Text			  "initial speed in m/s"
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "req'd lookups"
	      Position		      [415, 85, 435, 105]
	      FontName		      "Arial"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "req'd vehicle\nspeed (m/s)"
	      Position		      [580, 155, 600, 175]
	      FontName		      "Arial"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [680, 390, 700, 410]
	      FontName		      "Arial"
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      Name		      "current_veh_mass"
	      Labels		      [0, 0]
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      Points		      [90, 0]
	      DstBlock		      "Bus\nCreator"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      Name		      "cyc_mph_r"
	      Labels		      [0, 0]
	      SrcBlock		      "From6"
	      SrcPort		      1
	      DstBlock		      "signal\nannotator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "cyc_mph_r_orig"
	      Labels		      [0, 0]
	      SrcBlock		      "From5"
	      SrcPort		      1
	      DstBlock		      "signal\nannotator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "veh_cargo_mass"
	      Labels		      [0, 0]
	      SrcBlock		      "From4"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      Name		      "elevation"
	      Labels		      [0, 0]
	      SrcBlock		      "From3"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      4
	    }
	    Line {
	      Name		      "grade"
	      Labels		      [0, 0]
	      SrcBlock		      "From2"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "grade_orig"
	      Labels		      [0, 0]
	      SrcBlock		      "From1"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "distance"
	      Labels		      [0, 0]
	      SrcBlock		      "From"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      4
	      DstBlock		      "Goto3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      3
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      Points		      [0, -55]
	      DstBlock		      "req'd lookups"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Clock"
	      SrcPort		      1
	      DstBlock		      "signal\nannotator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "drive cycle model"
	      SrcPort		      1
	      DstBlock		      "req'd vehicle\nspeed (m/s)"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [212, 255]
	      BackgroundColor	      "yellow"
	      Text		      "DRIVE CYCLE\ninterface"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Position		      [312, 45]
	      BackgroundColor	      "yellow"
	      Text		      "DRIVE CYCLE\nmodel"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	    }
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [440, 63, 615, 107]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "cycReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [440, 204, 610, 246]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "cycSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "req'd vehicle\nspeed (m/s)"
	  Position		  [460, 145, 480, 165]
	  FontName		  "Arial"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "drive cycle model and interface"
	  SrcPort		  3
	  Points		  [60, 0; 0, 50]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "drive cycle model and interface"
	  SrcPort		  1
	  Points		  [60, 0; 0, -50]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  DstBlock		  "drive cycle model and interface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "drive cycle model and interface"
	  SrcPort		  2
	  DstBlock		  "req'd vehicle\nspeed (m/s)"
	  DstPort		  1
	}
	Annotation {
	  Position		  [237, 75]
	  BackgroundColor	  "yellow"
	  Text			  "DRIVE CYCLE"
	  FontName		  "Arial"
	  FontSize		  22
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "ess config"
      Ports		      [1, 1]
      Position		      [880, 179, 945, 221]
      BackgroundColor	      "lightBlue"
      ShowName		      off
      AttributesFormatString  "%<BlockChoice>"
      LinkData {
	BlockName		"energy\nstorage <ess>/controlTag"
	DialogParameters {
	  GotoTag		  "essControl"
	}
	BlockName		"energy\nstorage <ess>/energy\nstorage <ess>/M"
"odel/compute\ncurrent/enhancedToWorkspace2/To Workspace"
	DialogParameters {
	  VariableName		  "ess_current"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	BlockName		"energy\nstorage <ess>/energy\nstorage <ess>/M"
"odel/enhancedToWorkspace/To Workspace"
	DialogParameters {
	  VariableName		  "ess_pwr_out_r"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	BlockName		"energy\nstorage <ess>/energy\nstorage <ess>/M"
"odel/enhancedToWorkspace1/To Workspace"
	DialogParameters {
	  VariableName		  "ess_pwr_loss_a"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	BlockName		"energy\nstorage <ess>/energy\nstorage <ess>/M"
"odel/enhancedToWorkspace2/To Workspace"
	DialogParameters {
	  VariableName		  "ess_mod_tmp"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	BlockName		"energy\nstorage <ess>/energy\nstorage <ess>/M"
"odel/enhancedToWorkspace3/To Workspace"
	DialogParameters {
	  VariableName		  "ess_air_tmp"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	BlockName		"energy\nstorage <ess>/energy\nstorage <ess>/M"
"odel/enhancedToWorkspace4/To Workspace"
	DialogParameters {
	  VariableName		  "ess_air_th_pwr"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	BlockName		"energy\nstorage <ess>/energy\nstorage <ess>/M"
"odel/enhancedToWorkspace5/To Workspace"
	DialogParameters {
	  VariableName		  "ess_pwr_out_a"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	BlockName		"energy\nstorage <ess>/reqOutTag"
	DialogParameters {
	  GotoTag		  "essReqOut"
	  TagVisibility		  "global"
	}
	BlockName		"energy\nstorage <ess>/sensorsTag"
	DialogParameters {
	  GotoTag		  "essSensors"
	  TagVisibility		  "global"
	}
      }
      ShowPortLabels	      off
      BlockChoice	      "energy storage <ess>"
      TemplateBlock	      "lib_energy_storage2/ess config"
      MemberBlocks	      "Ultracapacitor  System,energy storage <ess>,ene"
"rgy storage <ess> RC,energy storage <ess> nnet,energy storage <ess> Saber,ene"
"rgy storage <ess> fundamental model,energy storage <ess> optima fundamental m"
"odel"
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      System {
	Name			"ess config"
	Location		[148, 182, 646, 482]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "power req'd\ninto bus (W)"
	  Position		  [20, 40, 40, 60]
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "energy\nstorage <ess>"
	  Ports			  [1, 1]
	  Position		  [100, 40, 140, 80]
	  BackgroundColor	  "lightBlue"
	  AncestorBlock		  "lib_energy_storage2/energy\nstorage <ess>"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskType		  "Stand-Alone Energy Storage System Mask"
	  MaskPromptString	  "General Name of this Component [char]|Log V"
"ariables to Workspace?|Initialization File(s) [cell array of char]|Modificati"
"on Cell [2 column cell array of param and val]|Icon image file name [char--ev"
"aluated]|DEBUG"
	  MaskStyleString	  "edit,popup(Don't Log|Log Variable),edit,edi"
"t,edit,popup(ON|OFF)"
	  MaskTunableValueString  "on,on,on,on,on,on"
	  MaskCallbackString	  "|||||"
	  MaskEnableString	  "on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on"
	  MaskVariables		  "generalName=@1;logPick=@2;initFileName=@3;m"
"odCell=@4;imgFileName=@5;DEBUG=&6;"
	  MaskInitialization	  "% initialization via m-file script\nadvSACo"
"mpMaskInit;"
	  MaskDisplay		  "image(imread(imgFileName))"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "'ess'|Log Variable|{}|{}|'bdi_ess.jpg'|OFF"
	  MaskVariableAliases	  ",,,,,"
	  System {
	    Name		    "energy\nstorage <ess>"
	    Location		    [202, 77, 966, 744]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "power req'd\ninto bus (W)"
	      Position		      [140, 200, 160, 220]
	      FontName		      "Arial"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Block NOTES"
	      Ports		      []
	      Position		      [75, 90, 131, 130]
	      BackgroundColor	      "green"
	      ShowName		      off
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "disp('Block\\nNOTES')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Block NOTES"
		Location		[256, 329, 741, 634]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Annotation {
		  Position		  [242, 146]
		  Text			  "This is a stand-alone version of an"
" energy storage system\n\nSeveral different models are available"
		}
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "controlTag"
	      Position		      [80, 276, 190, 314]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      CloseFcn		      "tagdialog Close"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "essControl"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "documentation9"
	      Ports		      []
	      Position		      [145, 91, 174, 130]
	      BackgroundColor	      "orange"
	      DropShadow	      on
	      ShowName		      off
	      OpenFcn		      "web(['file:\\\\\\' which('energy_storag"
"e.htm')]);"
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "image(imread('doc_man.jpg'))"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"documentation9"
		Location		[129, 62, 308, 146]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "energy\nstorage <ess>"
	      Ports		      [2, 3]
	      Position		      [240, 198, 305, 242]
	      BackgroundColor	      "yellow"
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "image(imread('bdi_ess.jpg'))"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"energy\nstorage <ess>"
		Location		[202, 77, 963, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "power req'd\ninto bus (W)"
		  Position		  [155, 100, 175, 120]
		  FontName		  "Arial"
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "control"
		  Position		  [55, 395, 75, 415]
		  FontName		  "Arial"
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  BusCreator
		  Name			  "Bus\nCreator"
		  Ports			  [12, 1]
		  Position		  [605, 209, 630, 626]
		  ShowName		  off
		  Inputs		  "12"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  From
		  Name			  "From"
		  Position		  [365, 213, 450, 237]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "ess_tmp"
		  Port {
		    PortNumber		    1
		    Name		    "ess_tmp"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From1"
		  Position		  [365, 248, 450, 272]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "bus_voltage"
		  Port {
		    PortNumber		    1
		    Name		    "bus_voltage"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From10"
		  Position		  [365, 563, 465, 587]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "ess_pwr_limited"
		  Port {
		    PortNumber		    1
		    Name		    "ess_pwr_limited"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From11"
		  Position		  [365, 598, 465, 622]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "ess_minV_limited"
		  Port {
		    PortNumber		    1
		    Name		    "ess_minV_limited"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From2"
		  Position		  [365, 353, 465, 377]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "ess_max_pwr"
		  Port {
		    PortNumber		    1
		    Name		    "ess_max_pwr"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From3"
		  Position		  [365, 318, 480, 342]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "ess_max_chg_pwr"
		  Port {
		    PortNumber		    1
		    Name		    "ess_max_chg_pwr"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From4"
		  Position		  [365, 283, 450, 307]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "ess_pwr_out_a"
		  Port {
		    PortNumber		    1
		    Name		    "ess_pwr_out_a"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From5"
		  Position		  [365, 388, 465, 412]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "SOC"
		  Port {
		    PortNumber		    1
		    Name		    "SOC"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From6"
		  Position		  [365, 423, 465, 447]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "ess_maxV_limited"
		  Port {
		    PortNumber		    1
		    Name		    "ess_maxV_limited"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From7"
		  Position		  [365, 458, 465, 482]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "ess_soc_hi_limited"
		  Port {
		    PortNumber		    1
		    Name		    "ess_soc_hi_limited"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From8"
		  Position		  [365, 493, 465, 517]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "ess_soc_low_limited"
		  Port {
		    PortNumber		    1
		    Name		    "ess_soc_low_limited"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From9"
		  Position		  [365, 528, 465, 552]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "mc_voltage_limited"
		  Port {
		    PortNumber		    1
		    Name		    "mc_voltage_limited"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility"
		  Position		  [270, 212, 355, 234]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "ess_tmp"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility1"
		  Position		  [270, 247, 355, 269]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "bus_voltage"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility10"
		  Position		  [252, 527, 355, 549]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "mc_voltage_limited"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility11"
		  Position		  [270, 562, 355, 584]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "ess_pwr_limited"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility12"
		  Position		  [270, 597, 355, 619]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "ess_minV_limited"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility2"
		  Position		  [270, 352, 355, 374]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "ess_max_pwr"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility3"
		  Position		  [251, 317, 355, 339]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "ess_max_chg_pwr"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility4"
		  Position		  [270, 282, 355, 304]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "ess_pwr_out_a"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility6"
		  Position		  [270, 387, 355, 409]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "SOC"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility7"
		  Position		  [270, 422, 355, 444]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "ess_maxV_limited"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility8"
		  Position		  [270, 457, 355, 479]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "ess_soc_hi_limited"
		}
		Block {
		  BlockType		  GotoTagVisibility
		  Name			  "Goto Tag\nVisibility9"
		  Position		  [270, 492, 355, 514]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "ess_soc_low_limited"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Model"
		  Ports			  [1, 1]
		  Position		  [240, 80, 280, 140]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "Model"
		    Location		    [258, 67, 937, 513]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "power req'd\ninto bus (W)"
		    Position		    [50, 170, 70, 190]
		    FontName		    "Arial"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [555, 375, 611, 415]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [256, 329, 741, 634]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [242, 146]
		    Text		    "This block models the energy stor"
"age system as an SOC-dependent voltage\nin series with an SOC- and current di"
"rection-dependent internal resistance.\nSOC is computed assuming that A-h cap"
"acity is constant, but limited\nsuch that a minimum voltage is never exceeded"
" (replacing the \nprevious Peukert relationship which underpredicted battery "
"capacity).\n\nDischarge power is limited here so as not to bring the bus (bat"
"tery pack) voltage below\nthe minimum controller voltage or the minimum batte"
"ry voltage and so as to allow \nthe solution of the quadratic eq'n for discha"
"rge current.\n\nCharge current is limited to ensure the voltage does not exce"
"ed a maximum\nvoltage\n\nPositive current is discharge current in the convent"
"ion used here.\nPower loss is computed as I*R+losses due to Coulombic (in)eff"
"iciency.\n\nThermal modeling of the battery performance is modeled in the\nOC"
"V, Rint, and capacity."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Const"
		    Position		    [515, 80, 585, 100]
		    Orientation		    "down"
		    ShowName		    off
		    FontName		    "Arial"
		    Value		    "enable_stop"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn"
		    Position		    [335, 284, 365, 306]
		    ShowName		    off
		    Expr		    "u[1]*u[1]*u[2]*(u[1]>=0)+u[1]*u[1"
"]*u[2]*u(4)*u(4)*(u[1]<0)-u[1]*u[3]*(1-u(4))*(u[1]<0)"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto"
		    Position		    [410, 95, 505, 115]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "ess_pwr_out_a"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <cs>"
		    Position		    [575, 330, 635, 350]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "ess_tmp"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <cs>1"
		    Position		    [295, 25, 375, 45]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "ess_max_pwr"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <cs>2"
		    Position		    [290, 60, 395, 80]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "ess_max_chg_pwr"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <mc>, <gc>, <sdo>"
		    Position		    [325, 220, 405, 240]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "bus_voltage"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>, <cs>"
		    Position		    [140, 119, 185, 141]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "SOC"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [510, 265, 525, 285]
		    ShowName		    off
		    X0			    "ess_mod_init_tmp"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [4, 1]
		    Position		    [300, 279, 320, 311]
		    Inputs		    "4"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [325, 178, 355, 202]
		    ShowName		    off
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "SOC\nalgorithm"
		    Ports		    [2, 1]
		    Position		    [330, 111, 360, 144]
		    FontName		    "Arial"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "SOC\nalgorithm"
		    Location		    [98, 388, 878, 660]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "(A)"
		    Position		    [15, 35, 35, 55]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "tmp\n(C)"
		    Position		    [20, 125, 40, 145]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "(sec->hrs)"
		    Position		    [265, 43, 330, 77]
		    Gain		    "1/3600"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "0 <= SOC <= 1"
		    Position		    [650, 121, 680, 139]
		    UpperLimit		    "1"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "A-h\nremaining"
		    Ports		    [2, 1]
		    Position		    [505, 85, 525, 105]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Ah used"
		    Ports		    [2, 1]
		    Position		    [425, 50, 445, 70]
		    ExternalReset	    "none"
		    InitialConditionSource  "external"
		    InitialCondition	    "(1-ess_init_soc)*ess_max_ah_cap"
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    ShowSaturationPort	    off
		    ShowStatePort	    off
		    AbsoluteTolerance	    "auto"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn"
		    Position		    [500, 150, 540, 170]
		    ShowName		    off
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    Position		    [285, 96, 385, 114]
		    ShowName		    off
		    Expr		    "(1-ess_init_soc)*u"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "SOC"
		    Ports		    [2, 1]
		    Position		    [580, 118, 610, 142]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [205, 35, 235, 85]
		    ShowName		    off
		    Threshold		    "0"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "adjusted A"
		    Ports		    [2, 1]
		    Position		    [135, 63, 165, 87]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "coul eff"
		    Position		    [75, 88, 105, 112]
		    InputValues		    "ess_tmp"
		    OutputValues	    "ess_coulombic_eff"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max cap"
		    Position		    [200, 128, 230, 152]
		    InputValues		    "ess_tmp"
		    OutputValues	    "ess_max_ah_cap*ess_cap_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "SOC1"
		    Position		    [725, 120, 745, 140]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "(A)"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [130, 0]
		    Branch {
		    Points		    [0, 15]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "adjusted A"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "(sec->hrs)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "(sec->hrs)"
		    SrcPort		    1
		    Points		    [75, 0]
		    DstBlock		    "Ah used"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Ah used"
		    SrcPort		    1
		    Points		    [40, 0]
		    DstBlock		    "A-h\nremaining"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Fcn"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "SOC"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "SOC"
		    SrcPort		    1
		    DstBlock		    "0 <= SOC <= 1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "A-h\nremaining"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "SOC"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "0 <= SOC <= 1"
		    SrcPort		    1
		    DstBlock		    "SOC1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "tmp\n(C)"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [125, 0]
		    DstBlock		    "max cap"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "coul eff"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "coul eff"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "adjusted A"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "adjusted A"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "max cap"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    Points		    [170, 0; 0, -30; 50, 0]
		    Branch {
		    Points		    [5, 0]
		    DstBlock		    "A-h\nremaining"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Fcn"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, -35]
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Ah used"
		    DstPort		    2
		    }
		    Annotation {
		    Position		    [533, 207]
		    Text		    "SOC=(Max Ah capacity-Ah used)/Max"
" Ah capacity"
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "compute\ncurrent"
		    Ports		    [3, 2]
		    Position		    [225, 161, 255, 219]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "compute\ncurrent"
		    Location		    [50, 278, 909, 675]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Voc"
		    Position		    [155, 80, 175, 100]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Rint"
		    Position		    [155, 130, 175, 150]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "limited output\npower (W)"
		    Position		    [155, 30, 175, 50]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>4"
		    Position		    [725, 208, 840, 232]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "ess_maxV_limited"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Ibty=(Voc-(Voc^2-4RPbty)^.5)\n   "
"    -----------------------------\n(2*R)"
		    Position		    [340, 79, 370, 101]
		    Expr		    "(u[2]-(u[2]^2-4*u[1]*u[3])^.5)/(2"
"*u[3])"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [680, 208, 710, 232]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [3, 1]
		    Position		    [570, 313, 590, 347]
		    Inputs		    "3"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux4"
		    Ports		    [3, 1]
		    Position		    [245, 16, 265, 164]
		    Inputs		    "3"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux5"
		    Ports		    [3, 1]
		    Position		    [250, 186, 270, 274]
		    Inputs		    "3"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Voc-I*R"
		    Position		    [625, 319, 705, 341]
		    Expr		    "u[2]-u[1]*u[3]"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace2"
		    Ports		    [1]
		    Position		    [685, 76, 765, 94]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|current|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "ess max voltage*#batts"
		    Position		    [25, 220, 190, 240]
		    FontName		    "Arial"
		    Value		    "ess_max_volts*ess_module_num"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "iabs min=(Voc-Vmax)/R"
		    Position		    [340, 164, 370, 186]
		    Expr		    "(u(1)-u(2))/u(3)"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "limit current based on \nmax volt"
"age during charge"
		    Position		    [575, 125, 605, 155]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "min charge current\nnot exceeded"
		    Position		    [455, 122, 485, 153]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "I_"
		    Position		    [710, 130, 730, 150]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "V_"
		    Position		    [730, 320, 750, 340]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "limited output\npower (W)"
		    SrcPort		    1
		    DstBlock		    "Mux4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Voc"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 110]
		    Branch {
		    Points		    [0, 130]
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Mux5"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Rint"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, 120]
		    Branch {
		    Points		    [0, 80]
		    DstBlock		    "Mux3"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "Mux5"
		    DstPort		    3
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Ibty=(Voc-(Voc^2-4RPbty)^.5)\n   "
"    -----------------------------\n(2*R)"
		    SrcPort		    1
		    Points		    [55, 0]
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "min charge current\nnot exceeded"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [90, 0; 0, 40]
		    DstBlock		    "limit current based on \nmax volt"
"age during charge"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "iabs min=(Voc-Vmax)/R"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    Points		    [0, -30]
		    DstBlock		    "min charge current\nnot exceeded"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 15; 105, 0; 0, -40]
		    DstBlock		    "limit current based on \nmax volt"
"age during charge"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "limit current based on \nmax volt"
"age during charge"
		    SrcPort		    1
		    Points		    [50, 0]
		    Branch {
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "I_"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 160; -105, 0]
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "min charge current\nnot exceeded"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "limit current based on \nmax volt"
"age during charge"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 80]
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "Voc-I*R"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Voc-I*R"
		    SrcPort		    1
		    DstBlock		    "V_"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux4"
		    SrcPort		    1
		    DstBlock		    "Ibty=(Voc-(Voc^2-4RPbty)^.5)\n   "
"    -----------------------------\n(2*R)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux5"
		    SrcPort		    1
		    Points		    [20, 0; 0, -55]
		    DstBlock		    "iabs min=(Voc-Vmax)/R"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "ess max voltage*#batts"
		    SrcPort		    1
		    DstBlock		    "Mux5"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Goto <sdo>4"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "coul eff"
		    Position		    [250, 368, 280, 392]
		    InputValues		    "ess_tmp"
		    OutputValues	    "ess_coulombic_eff"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "do ex calcs?"
		    Position		    [415, 240, 475, 255]
		    Orientation		    "down"
		    ShowName		    off
		    Value		    "ess_th_calc"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "documentation9"
		    Ports		    []
		    Position		    [625, 376, 654, 415]
		    BackgroundColor	    "orange"
		    DropShadow		    on
		    ShowName		    off
		    OpenFcn		    "web(['file:\\\\\\' which('energy_"
"storage.htm')]);"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "image(imread('doc_man.jpg'))"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "documentation9"
		    Location		    [129, 62, 308, 146]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    Ports		    [1]
		    Position		    [25, 276, 100, 294]
		    Orientation		    "left"
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|pwr_out_r|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace1"
		    Ports		    [1]
		    Position		    [328, 325, 422, 345]
		    Orientation		    "down"
		    NamePlacement	    "alternate"
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|pwr_loss_a|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace2"
		    Ports		    [1]
		    Position		    [555, 266, 635, 284]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|mod_tmp|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace3"
		    Ports		    [1]
		    Position		    [555, 286, 635, 304]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|air_tmp|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace4"
		    Ports		    [1]
		    Position		    [555, 306, 635, 324]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|air_th_pwr|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace5"
		    Ports		    [1]
		    Position		    [420, 136, 500, 154]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|pwr_out_a|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "ess tmp"
		    Ports		    [1, 3, 1]
		    Position		    [400, 268, 490, 322]
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "ess tmp"
		    Location		    [433, 252, 964, 522]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Qess_gen"
		    Position		    [25, 205, 45, 225]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [390, 217, 420, 243]
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "#of mods"
		    Position		    [390, 88, 415, 112]
		    Gain		    "ess_module_num"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1/#of mods"
		    Position		    [95, 203, 120, 227]
		    Gain		    "1/ess_module_num"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1/mcp"
		    Position		    [380, 153, 405, 177]
		    Gain		    "1/(ess_module_mass*ess_mod_cp)"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [445, 220, 501, 260]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [505, 510, 924, 573]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [207, 33]
		    Text		    "This block models the thermal beh"
"avior of a battery module with active air cooling.\nThe module is modeled as "
"a single lumped thermal mass.  \nThe fan is on whenever the battery temp is >"
" the set temp."
		    }
		    }
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [250, 165, 285, 185]
		    Orientation		    "left"
		    FontName		    "Arial"
		    X0			    "cyc_mph(1,2)*.447"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [100, 30, 135, 50]
		    Orientation		    "left"
		    FontName		    "Arial"
		    X0			    "cyc_mph(1,2)*.447"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux20"
		    Ports		    [3, 1]
		    Position		    [195, 84, 200, 156]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "3"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qc"
		    Ports		    [2, 1]
		    Position		    [350, 114, 360, 221]
		    ShowName		    off
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qess_case"
		    Position		    [235, 108, 315, 132]
		    NamePlacement	    "alternate"
		    FontName		    "Arial"
		    Expr		    "(u(2) - u(1))/u(3)"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation3"
		    Position		    [190, 29, 200, 51]
		    Orientation		    "left"
		    ShowName		    off
		    UpperLimit		    "1"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Tair,ave"
		    Ports		    [1, 2, 1]
		    Position		    [30, 107, 140, 158]
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "Tair,ave"
		    Location		    [347, 78, 747, 306]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Qess_case"
		    Position		    [45, 35, 65, 55]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [265, 167, 295, 193]
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [325, 165, 381, 205]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [505, 510, 924, 573]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [207, 33]
		    Text		    "This block determins the average "
"temperature of the cooling air over the module."
		    }
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Tamb-(Q/mcp)/2"
		    Position		    [90, 34, 330, 56]
		    Expr		    "amb_tmp - (u(1)/(ess_mod_airflow*"
"air_cp))/2 "
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "do ex calcs?1"
		    Position		    [35, 105, 115, 125]
		    ShowName		    off
		    Value		    "ess_th_res_on"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Tair_ave"
		    Position		    [355, 35, 375, 55]
		    Port		    "1"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "amb_tmp"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Th Res"
		    Position		    [355, 105, 375, 125]
		    Port		    "2"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "ess_th_res_off"
		    }
		    Line {
		    SrcBlock		    "Tamb-(Q/mcp)/2"
		    SrcPort		    1
		    DstBlock		    "Tair_ave"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qess_case"
		    SrcPort		    1
		    DstBlock		    "Tamb-(Q/mcp)/2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "do ex calcs?1"
		    SrcPort		    1
		    DstBlock		    "Th Res"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Tess2"
		    Ports		    [1, 1]
		    Position		    [420, 155, 440, 175]
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    InitialCondition	    "ess_mod_init_tmp"
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    ShowSaturationPort	    off
		    ShowStatePort	    off
		    AbsoluteTolerance	    "auto"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "thermostat"
		    Position		    [235, 29, 340, 51]
		    Orientation		    "left"
		    NamePlacement	    "alternate"
		    FontName		    "Arial"
		    Expr		    "u(1) - ess_set_tmp"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Tess"
		    Position		    [470, 155, 490, 175]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Tair"
		    Position		    [470, 60, 490, 80]
		    NamePlacement	    "alternate"
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qair"
		    Position		    [470, 90, 490, 110]
		    Port		    "3"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Qc"
		    SrcPort		    1
		    DstBlock		    "1/mcp"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qess_case"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [10, 0]
		    DstBlock		    "Qc"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -20]
		    DstBlock		    "#of mods"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "1/mcp"
		    SrcPort		    1
		    DstBlock		    "Tess2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Tess2"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "Tess"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -85; -80, 0]
		    Branch {
		    Points		    [-185, 0]
		    DstBlock		    "Mux20"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -40]
		    DstBlock		    "thermostat"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Qess_gen"
		    SrcPort		    1
		    DstBlock		    "1/#of mods"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "1/#of mods"
		    SrcPort		    1
		    Points		    [210, 0]
		    DstBlock		    "Qc"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "thermostat"
		    SrcPort		    1
		    DstBlock		    "Saturation3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation3"
		    SrcPort		    1
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [-10, 0]
		    DstBlock		    "Tair,ave"
		    DstPort		    enable
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-230, 0]
		    DstBlock		    "Tair,ave"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "#of mods"
		    SrcPort		    1
		    DstBlock		    "Qair"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux20"
		    SrcPort		    1
		    DstBlock		    "Qess_case"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Tair,ave"
		    SrcPort		    2
		    DstBlock		    "Mux20"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Tair,ave"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Mux20"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "Tair"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "limit power"
		    Ports		    [4, 1]
		    Position		    [220, 249, 250, 306]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "limit power"
		    Location		    [-52, 144, 972, 657]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "SOC"
		    Position		    [15, 45, 35, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Pbty"
		    Position		    [15, 135, 35, 155]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Voc"
		    Position		    [15, 195, 35, 215]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Rint"
		    Position		    [390, 270, 410, 290]
		    Orientation		    "left"
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [245, 60, 280, 80]
		    ShowName		    off
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [290, 99, 315, 121]
		    ShowName		    off
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [705, 284, 730, 306]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant4"
		    Position		    [897, 185, 923, 205]
		    Orientation		    "down"
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant5"
		    Position		    [650, 36, 685, 54]
		    ShowName		    off
		    Value		    ".999"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant6"
		    Position		    [725, 74, 750, 96]
		    ShowName		    off
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [135, 222, 165, 248]
		    ShowName		    off
		    FontName		    "Arial"
		    Gain		    "0.5"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Limits"
		    Ports		    [8]
		    Position		    [700, 333, 730, 472]
		    FontName		    "Arial"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "Limits"
		    Location		    [407, 389, 973, 980]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "SOC \nhigh limited"
		    Position		    [40, 15, 60, 35]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "not SOC \nlow limited"
		    Position		    [35, 70, 55, 90]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "power req"
		    Position		    [35, 145, 55, 165]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "power bat\nlimited"
		    Position		    [35, 220, 55, 240]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "V used"
		    Position		    [35, 300, 55, 320]
		    Port		    "5"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "V mc_min_volts"
		    Position		    [40, 375, 60, 395]
		    Port		    "6"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "V battery (.5Voc)"
		    Position		    [40, 435, 60, 455]
		    Port		    "7"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "V ess_min_volts"
		    Position		    [40, 510, 60, 530]
		    Port		    "8"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>"
		    Position		    [385, 369, 475, 391]
		    BackgroundColor	    "lightBlue"
		    GotoTag		    "ess_pwr_limited"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>1"
		    Position		    [385, 292, 495, 318]
		    BackgroundColor	    "lightBlue"
		    GotoTag		    "mc_voltage_limited"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>2"
		    Position		    [320, 69, 430, 91]
		    BackgroundColor	    "lightBlue"
		    GotoTag		    "ess_soc_low_limited"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>3"
		    Position		    [385, 458, 490, 482]
		    BackgroundColor	    "lightBlue"
		    GotoTag		    "ess_minV_limited"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>4"
		    Position		    [330, 19, 440, 41]
		    BackgroundColor	    "lightBlue"
		    GotoTag		    "ess_soc_hi_limited"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [270, 64, 300, 96]
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [125, 172, 155, 203]
		    ShowName		    off
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator3"
		    Position		    [185, 317, 215, 348]
		    ShowName		    off
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator4"
		    Position		    [190, 402, 220, 433]
		    ShowName		    off
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator5"
		    Position		    [185, 497, 215, 528]
		    ShowName		    off
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "limited\nby battery"
		    Ports		    [2, 1]
		    Position		    [330, 362, 360, 393]
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "limited\nby battery\nmin V"
		    Ports		    [2, 1]
		    Position		    [330, 452, 360, 483]
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "limited by\nmotor controller"
		    Ports		    [2, 1]
		    Position		    [335, 287, 365, 318]
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Line {
		    SrcBlock		    "power bat\nlimited"
		    SrcPort		    1
		    Points		    [50, 0]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "V mc_min_volts"
		    SrcPort		    1
		    Points		    [105, 0]
		    DstBlock		    "Relational\nOperator3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "V used"
		    SrcPort		    1
		    Points		    [70, 0; 0, 15]
		    Branch {
		    DstBlock		    "Relational\nOperator3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 85]
		    Branch {
		    DstBlock		    "Relational\nOperator4"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 95]
		    DstBlock		    "Relational\nOperator5"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "V battery (.5Voc)"
		    SrcPort		    1
		    Points		    [110, 0]
		    DstBlock		    "Relational\nOperator4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "V ess_min_volts"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator5"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "limited by\nmotor controller"
		    SrcPort		    1
		    DstBlock		    "Goto <sdo>1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "limited\nby battery"
		    SrcPort		    1
		    DstBlock		    "Goto <sdo>"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "limited\nby battery\nmin V"
		    SrcPort		    1
		    DstBlock		    "Goto <sdo>3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator3"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "limited by\nmotor controller"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [105, 0; 0, 105]
		    Branch {
		    DstBlock		    "limited by\nmotor controller"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    DstBlock		    "limited\nby battery"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 90]
		    DstBlock		    "limited\nby battery\nmin V"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator4"
		    SrcPort		    1
		    Points		    [90, 0]
		    DstBlock		    "limited\nby battery"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator5"
		    SrcPort		    1
		    Points		    [95, 0]
		    DstBlock		    "limited\nby battery\nmin V"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "power req"
		    SrcPort		    1
		    Points		    [50, 0]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Goto <sdo>2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "not SOC \nlow limited"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "SOC \nhigh limited"
		    SrcPort		    1
		    Points		    [250, 0]
		    DstBlock		    "Goto <sdo>4"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [465, 57, 495, 88]
		    ShowName		    off
		    Operator		    "OR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [2, 1]
		    Position		    [830, 32, 860, 63]
		    ShowName		    off
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [3, 1]
		    Position		    [390, 198, 410, 232]
		    FontName		    "Arial"
		    Inputs		    "3"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [330, 47, 360, 78]
		    ShowName		    off
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator3"
		    Position		    [405, 87, 435, 118]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "SOC>=.999"
		    Position		    [715, 22, 745, 53]
		    Operator		    ">="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "charging\n(Preq is neg)"
		    Position		    [770, 62, 800, 93]
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "discharge\nmax power allowed\n(-0"
".1 is for safety, to prevent\ntaking the square of a tiny\n-ive # in I=I(P) e"
"lsewhere)"
		    Position		    [425, 201, 555, 229]
		    FontName		    "Arial"
		    Expr		    "(u[1]-u[2])*u[2]/u[3]-0.1"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "ess minimum voltage"
		    Position		    [25, 335, 115, 355]
		    FontName		    "Arial"
		    Value		    "ess_min_volts"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "ess_module_num"
		    Position		    [135, 330, 200, 360]
		    FontName		    "Arial"
		    Gain		    "ess_module_num"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "limit by battery max\nor min mc v"
"oltage\nor ess min"
		    Ports		    [3, 1]
		    Position		    [255, 220, 285, 320]
		    Function		    "max"
		    Inputs		    "3"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "mc minimum\nvoltage"
		    Position		    [15, 257, 85, 283]
		    FontName		    "Arial"
		    Value		    "mc_min_volts"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "min"
		    Ports		    [2, 1]
		    Position		    [620, 162, 635, 333]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "no power req if\nSOC<0 and trying"
" \nto discharge"
		    Position		    [770, 245, 800, 275]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "no power req if\nSOC>.999 and try"
"ing \nto charge"
		    Position		    [925, 235, 955, 265]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Pbty, limited"
		    Position		    [1020, 240, 1040, 260]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Pbty"
		    SrcPort		    1
		    Points		    [335, 0]
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "Relational\nOperator3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [230, 0]
		    Branch {
		    DstBlock		    "min"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -75]
		    DstBlock		    "charging\n(Preq is neg)"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator3"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [0, -25]
		    DstBlock		    "no power req if\nSOC<0 and trying"
" \nto discharge"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    Points		    [180, 0; 0, 185]
		    Branch {
		    DstBlock		    "no power req if\nSOC<0 and trying"
" \nto discharge"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "Limits"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Voc"
		    SrcPort		    1
		    Points		    [80, 0]
		    Branch {
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "min"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "no power req if\nSOC<0 and trying"
" \nto discharge"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 130]
		    DstBlock		    "Limits"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "discharge\nmax power allowed\n(-0"
".1 is for safety, to prevent\ntaking the square of a tiny\n-ive # in I=I(P) e"
"lsewhere)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "limit by battery max\nor min mc v"
"oltage\nor ess min"
		    SrcPort		    1
		    Points		    [65, 0]
		    Branch {
		    Points		    [0, -55]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 140]
		    DstBlock		    "Limits"
		    DstPort		    5
		    }
		    }
		    Line {
		    SrcBlock		    "discharge\nmax power allowed\n(-0"
".1 is for safety, to prevent\ntaking the square of a tiny\n-ive # in I=I(P) e"
"lsewhere)"
		    SrcPort		    1
		    Points		    [5, 0; 0, 75]
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "Limits"
		    DstPort		    4
		    }
		    Branch {
		    DstBlock		    "min"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "mc minimum\nvoltage"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "limit by battery max\nor min mc v"
"oltage\nor ess min"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 155]
		    DstBlock		    "Limits"
		    DstPort		    6
		    }
		    }
		    Line {
		    SrcBlock		    "Rint"
		    SrcPort		    1
		    Points		    [-15, 0; 0, -55]
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "limit by battery max\nor min mc v"
"oltage\nor ess min"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -25; 195, 0; 0, 230]
		    DstBlock		    "Limits"
		    DstPort		    7
		    }
		    }
		    Line {
		    SrcBlock		    "ess minimum voltage"
		    SrcPort		    1
		    DstBlock		    "ess_module_num"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "ess_module_num"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, -40]
		    DstBlock		    "limit by battery max\nor min mc v"
"oltage\nor ess min"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, 110]
		    DstBlock		    "Limits"
		    DstPort		    8
		    }
		    }
		    Line {
		    SrcBlock		    "SOC"
		    SrcPort		    1
		    Points		    [190, 0]
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -25]
		    DstBlock		    "SOC>=.999"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "SOC>=.999"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant6"
		    SrcPort		    1
		    DstBlock		    "charging\n(Preq is neg)"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "charging\n(Preq is neg)"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant5"
		    SrcPort		    1
		    DstBlock		    "SOC>=.999"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant4"
		    SrcPort		    1
		    DstBlock		    "no power req if\nSOC>.999 and try"
"ing \nto charge"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "no power req if\nSOC<0 and trying"
" \nto discharge"
		    SrcPort		    1
		    DstBlock		    "no power req if\nSOC>.999 and try"
"ing \nto charge"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "no power req if\nSOC>.999 and try"
"ing \nto charge"
		    SrcPort		    1
		    DstBlock		    "Pbty, limited"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [15, 0; 0, 185]
		    Branch {
		    Points		    [0, 15]
		    DstBlock		    "no power req if\nSOC>.999 and try"
"ing \nto charge"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [-195, 0]
		    DstBlock		    "Limits"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "max pack\npwr (W)1"
		    Ports		    [2, 2]
		    Position		    [235, 26, 265, 59]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "max pack\npwr (W)1"
		    Location		    [19, 84, 877, 663]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "SOC"
		    Position		    [50, 25, 70, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "ess_mod_tmp"
		    Position		    [45, 110, 65, 130]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "#bty"
		    Position		    [195, 173, 285, 197]
		    Orientation		    "left"
		    Value		    "ess_module_num"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [307, 200, 393, 220]
		    Orientation		    "up"
		    ShowName		    off
		    FontName		    "Arial"
		    Value		    "mc_min_volts"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [335, 90, 370, 110]
		    Orientation		    "left"
		    Value		    "0.001"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [645, 190, 680, 210]
		    Orientation		    "left"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant7"
		    Position		    [435, 50, 475, 70]
		    ShowName		    off
		    Value		    "ess_on"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [335, 142, 365, 168]
		    ShowName		    off
		    FontName		    "Arial"
		    Gain		    "0.5"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax1"
		    Ports		    [3, 1]
		    Position		    [415, 149, 445, 181]
		    ShowName		    off
		    Function		    "max"
		    Inputs		    "3"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [3, 1]
		    Position		    [475, 123, 495, 157]
		    FontName		    "Arial"
		    Inputs		    "3"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [3, 1]
		    Position		    [555, 368, 575, 402]
		    Inputs		    "3"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux5"
		    Ports		    [3, 1]
		    Position		    [370, 311, 390, 399]
		    Inputs		    "3"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [225, 118, 255, 142]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    Ports		    [2, 1]
		    Position		    [710, 348, 740, 372]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Rchg\n(ohms)1"
		    Ports		    [2, 1]
		    Position		    [135, 413, 165, 437]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "ess_tmp|ess_soc|ess_r_chg"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "Rchg\n(ohms)1"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Rdis\n(ohms)"
		    Ports		    [2, 1]
		    Position		    [140, 228, 170, 252]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "ess_tmp|ess_soc|ess_r_dis"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "Rdis\n(ohms)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [340, 27, 370, 58]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [645, 140, 675, 170]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "VOC\n(V)"
		    Ports		    [2, 1]
		    Position		    [145, 113, 175, 137]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "ess_tmp|ess_soc|ess_voc"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "VOC\n(V)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Voc-I*R"
		    Position		    [600, 374, 680, 396]
		    Expr		    "u[2]-u[1]*u[3]"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "and"
		    Ports		    [2, 1]
		    Position		    [505, 37, 535, 68]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "iabs min=(Voc-Vmax)/R"
		    Position		    [435, 344, 465, 366]
		    Expr		    "(u(1)-u(2))/u(3)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "max power corresponding\nto minim"
"um voltage"
		    Position		    [520, 131, 615, 159]
		    FontName		    "Arial"
		    Expr		    "(u[1]-u[2])*u[2]/u[3]"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "min ess V"
		    Position		    [315, 252, 480, 278]
		    Orientation		    "left"
		    Value		    "ess_module_num*ess_min_volts"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "min ess V1"
		    Position		    [185, 342, 350, 368]
		    Value		    "ess_module_num*ess_max_volts"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "resistance scale fun"
		    Position		    [225, 410, 255, 440]
		    Gain		    "ess_res_scale_fun(ess_res_scale_c"
"oef,ess_module_num,ess_cap_scale)"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "resistance scale fun1"
		    Position		    [225, 225, 255, 255]
		    Gain		    "ess_res_scale_fun(ess_res_scale_c"
"oef,ess_module_num,ess_cap_scale)"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "max ess\ndischarge\npwr"
		    Position		    [730, 145, 750, 165]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "max ess\ncharge\npwr"
		    Position		    [775, 350, 795, 370]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "#bty"
		    SrcPort		    1
		    Points		    [-10, 0; 0, -50]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Rchg\n(ohms)1"
		    SrcPort		    1
		    DstBlock		    "resistance scale fun"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "resistance scale fun"
		    SrcPort		    1
		    Points		    [95, 0]
		    Branch {
		    Points		    [175, 0; 0, -30]
		    DstBlock		    "Mux3"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "Mux5"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "max ess\ncharge\npwr"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Voc-I*R"
		    SrcPort		    1
		    Points		    [0, -20]
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "iabs min=(Voc-Vmax)/R"
		    SrcPort		    1
		    Points		    [60, 0]
		    Branch {
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "Voc-I*R"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux5"
		    SrcPort		    1
		    DstBlock		    "iabs min=(Voc-Vmax)/R"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "min ess V1"
		    SrcPort		    1
		    DstBlock		    "Mux5"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "max ess\ndischarge\npwr"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "SOC"
		    SrcPort		    1
		    Points		    [45, 0]
		    Branch {
		    Points		    [0, 95]
		    Branch {
		    Points		    [0, 115]
		    Branch {
		    DstBlock		    "Rchg\n(ohms)1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Rdis\n(ohms)"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "VOC\n(V)"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-10, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "max power corresponding\nto minim"
"um voltage"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Rdis\n(ohms)"
		    SrcPort		    1
		    DstBlock		    "resistance scale fun1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "VOC\n(V)"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "resistance scale fun1"
		    SrcPort		    1
		    Points		    [200, 0]
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    Points		    [0, 170]
		    Branch {
		    Points		    [210, 0; 0, 85]
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Mux5"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "MinMax1"
		    SrcPort		    1
		    Points		    [0, -25]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "MinMax1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    Points		    [0, 5]
		    DstBlock		    "max power corresponding\nto minim"
"um voltage"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [35, 0; 0, -30]
		    DstBlock		    "MinMax1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [-5, 0]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "ess_mod_tmp"
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    Points		    [0, 115]
		    Branch {
		    Points		    [0, 185]
		    DstBlock		    "Rchg\n(ohms)1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Rdis\n(ohms)"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "VOC\n(V)"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "min ess V"
		    SrcPort		    1
		    Points		    [0, -20; 90, 0]
		    DstBlock		    "MinMax1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "and"
		    SrcPort		    1
		    Points		    [90, 0]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "and"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant7"
		    SrcPort		    1
		    DstBlock		    "and"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "pack\nVoc, Rint"
		    Ports		    [3, 2]
		    Position		    [130, 152, 160, 208]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "pack\nVoc, Rint"
		    Location		    [133, 354, 681, 657]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "SOC (prev)"
		    Position		    [25, 80, 45, 100]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "req'd battery\npower (W)"
		    Position		    [230, 160, 250, 180]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "mod tmp \n (C)"
		    Position		    [80, 140, 100, 160]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "#bty"
		    Position		    [255, 54, 350, 76]
		    Value		    "ess_module_num"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [380, 28, 410, 52]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Rchg\n(ohms)"
		    Ports		    [2, 1]
		    Position		    [200, 228, 230, 252]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "ess_tmp|ess_soc|ess_r_chg"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "Rchg\n(ohms)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Rdis\n(ohms)"
		    Ports		    [2, 1]
		    Position		    [195, 108, 225, 132]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "ess_tmp|ess_soc|ess_r_dis"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "Rdis\n(ohms)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [365, 154, 395, 186]
		    Threshold		    "0"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "VOC\n(V)"
		    Ports		    [2, 1]
		    Position		    [205, 23, 235, 47]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "ess_tmp|ess_soc|ess_voc"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "VOC\n(V)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "resistance scale fun"
		    Position		    [275, 105, 305, 135]
		    Gain		    "ess_res_scale_fun(ess_res_scale_c"
"oef,ess_module_num,ess_cap_scale)"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "resistance scale fun1"
		    Position		    [280, 225, 310, 255]
		    Gain		    "ess_res_scale_fun(ess_res_scale_c"
"oef,ess_module_num,ess_cap_scale)"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "pack open-\ncircuit voltage"
		    Position		    [450, 30, 470, 50]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "pack\nresistance"
		    Position		    [450, 105, 470, 125]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "resistance scale fun1"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Rchg\n(ohms)"
		    SrcPort		    1
		    DstBlock		    "resistance scale fun1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "resistance scale fun"
		    SrcPort		    1
		    Points		    [40, 0]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Rdis\n(ohms)"
		    SrcPort		    1
		    DstBlock		    "resistance scale fun"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [15, 0; 0, -55]
		    DstBlock		    "pack\nresistance"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "#bty"
		    SrcPort		    1
		    Points		    [5, 0; 0, -20]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "pack open-\ncircuit voltage"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "VOC\n(V)"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "req'd battery\npower (W)"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "SOC (prev)"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "VOC\n(V)"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 35]
		    Branch {
		    DstBlock		    "Rdis\n(ohms)"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 120]
		    DstBlock		    "Rchg\n(ohms)"
		    DstPort		    2
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "mod tmp \n (C)"
		    SrcPort		    1
		    Points		    [55, 0]
		    Branch {
		    Points		    [0, -35]
		    Branch {
		    Points		    [0, -85]
		    DstBlock		    "VOC\n(V)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Rdis\n(ohms)"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 85]
		    DstBlock		    "Rchg\n(ohms)"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "stop sim"
		    Ports		    [1, 0, 1]
		    Position		    [520, 114, 580, 146]
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "stop sim"
		    Location		    [423, 258, 819, 468]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "SOC"
		    Position		    [75, 85, 95, 105]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [170, 25, 190, 45]
		    StatesWhenEnabling	    "held"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Const"
		    Position		    [95, 145, 165, 165]
		    Orientation		    "up"
		    ShowName		    off
		    FontName		    "Arial"
		    Value		    ".001"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [185, 88, 215, 112]
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    Stop
		    Name		    "Stop Simulation"
		    Position		    [255, 83, 295, 117]
		    }
		    Line {
		    SrcBlock		    "Const"
		    SrcPort		    1
		    Points		    [0, -35]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "SOC"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "Stop Simulation"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "power available\nto bus (W)"
		    Position		    [435, 180, 455, 200]
		    FontName		    "Arial"
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "max pack\npwr (W)1"
		    SrcPort		    2
		    Points		    [5, 0]
		    DstBlock		    "Goto <cs>2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [0, 0; 10, 0]
		    Branch {
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    DstBlock		    "Goto <cs>"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 15; -230, 0]
		    Branch {
		    Points		    [-80, 0]
		    Branch {
		    Points		    [-30, 0]
		    Branch {
		    Points		    [0, -305]
		    DstBlock		    "max pack\npwr (W)1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [-85, 0]
		    DstBlock		    "pack\nVoc, Rint"
		    DstPort		    3
		    }
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "coul eff"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, -220]
		    DstBlock		    "SOC\nalgorithm"
		    DstPort		    2
		    }
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "max pack\npwr (W)1"
		    SrcPort		    1
		    DstBlock		    "Goto <cs>1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "coul eff"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "ess tmp"
		    SrcPort		    1
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "ess tmp"
		    SrcPort		    3
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "ess tmp"
		    SrcPort		    2
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "limit power"
		    SrcPort		    1
		    Points		    [5, 0; 0, -35; -50, 0]
		    DstBlock		    "compute\ncurrent"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "pack\nVoc, Rint"
		    SrcPort		    1
		    Points		    [0, 0; 15, 0]
		    Branch {
		    Points		    [0, 120]
		    DstBlock		    "limit power"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [30, 0]
		    DstBlock		    "compute\ncurrent"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "pack\nVoc, Rint"
		    SrcPort		    2
		    Points		    [0, -10; 10, 0]
		    Branch {
		    Points		    [0, 115]
		    Branch {
		    Points		    [0, 30; 90, 0; 0, -40]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "limit power"
		    DstPort		    4
		    }
		    }
		    Branch {
		    Points		    [35, 0]
		    DstBlock		    "compute\ncurrent"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Const"
		    SrcPort		    1
		    DstBlock		    "stop sim"
		    DstPort		    enable
		    }
		    Line {
		    SrcBlock		    "SOC\nalgorithm"
		    SrcPort		    1
		    Points		    [0, 0; 10, 0]
		    Branch {
		    Points		    [0, -25; -170, 0]
		    Branch {
		    Points		    [0, -70]
		    DstBlock		    "max pack\npwr (W)1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [-95, 0; 0, 25]
		    Branch {
		    Points		    [0, 30]
		    Branch {
		    Points		    [0, 95]
		    DstBlock		    "limit power"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "pack\nVoc, Rint"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Goto <sdo>, <cs>"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "stop sim"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "do ex calcs?"
		    SrcPort		    1
		    DstBlock		    "ess tmp"
		    DstPort		    enable
		    }
		    Line {
		    SrcBlock		    "Fcn"
		    SrcPort		    1
		    Points		    [0, 0; 5, 0]
		    Branch {
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "ess tmp"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [0, 0; 35, 0]
		    Branch {
		    Points		    [0, -45]
		    Branch {
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "power available\nto bus (W)"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "compute\ncurrent"
		    SrcPort		    1
		    Points		    [0, -10; 25, 0]
		    Branch {
		    Points		    [0, 20]
		    Branch {
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, -45]
		    DstBlock		    "SOC\nalgorithm"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "power req'd\ninto bus (W)"
		    SrcPort		    1
		    Points		    [0, 0; 30, 0]
		    Branch {
		    Points		    [0, 90; 30, 0]
		    Branch {
		    DstBlock		    "limit power"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 15]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "pack\nVoc, Rint"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "Fcn"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "compute\ncurrent"
		    SrcPort		    2
		    Points		    [0, -10; 15, 0]
		    Branch {
		    Points		    [0, 35]
		    Branch {
		    DstBlock		    "Goto <mc>, <gc>, <sdo>"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    }
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    }
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [105, 395, 125, 415]
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "signal\nannotator"
		  Ports			  [1, 1]
		  Position		  [385, 46, 430, 74]
		  NamePlacement		  "alternate"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "signal\nannotator"
		    Location		    [202, 77, 966, 752]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [110, 103, 140, 117]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    Port {
		    PortNumber		    1
		    Name		    "ess_pwr_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [430, 103, 460, 117]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    Name		    "ess_pwr_out_r"
		    Labels		    [0, 0]
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "required out"
		  Position		  [510, 50, 530, 70]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "power available\nto bus (W)"
		  Position		  [340, 100, 360, 120]
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "sensors"
		  Position		  [655, 410, 675, 430]
		  FontName		  "Arial"
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "signal\nannotator"
		  SrcPort		  1
		  DstBlock		  "required out"
		  DstPort		  1
		}
		Line {
		  Name			  "ess_minV_limited"
		  Labels		  [0, 0]
		  SrcBlock		  "From11"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  12
		}
		Line {
		  Name			  "ess_pwr_limited"
		  Labels		  [0, 0]
		  SrcBlock		  "From10"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  11
		}
		Line {
		  Name			  "mc_voltage_limited"
		  Labels		  [0, 0]
		  SrcBlock		  "From9"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  10
		}
		Line {
		  Name			  "ess_soc_low_limited"
		  Labels		  [0, 0]
		  SrcBlock		  "From8"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  9
		}
		Line {
		  Name			  "ess_soc_hi_limited"
		  Labels		  [0, 0]
		  SrcBlock		  "From7"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  8
		}
		Line {
		  Name			  "ess_maxV_limited"
		  Labels		  [0, 0]
		  SrcBlock		  "From6"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  7
		}
		Line {
		  Name			  "SOC"
		  Labels		  [0, 0]
		  SrcBlock		  "From5"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  6
		}
		Line {
		  Name			  "ess_max_pwr"
		  Labels		  [0, 0]
		  SrcBlock		  "From2"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  5
		}
		Line {
		  Name			  "ess_max_chg_pwr"
		  Labels		  [0, 0]
		  SrcBlock		  "From3"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  4
		}
		Line {
		  Name			  "ess_pwr_out_a"
		  Labels		  [0, 0]
		  SrcBlock		  "From4"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  3
		}
		Line {
		  Name			  "bus_voltage"
		  Labels		  [0, 0]
		  SrcBlock		  "From1"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Bus\nCreator"
		  SrcPort		  1
		  DstBlock		  "sensors"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "control"
		  SrcPort		  1
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
		Line {
		  Name			  "ess_tmp"
		  Labels		  [0, 0]
		  SrcBlock		  "From"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Model"
		  SrcPort		  1
		  DstBlock		  "power available\nto bus (W)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "power req'd\ninto bus (W)"
		  SrcPort		  1
		  Points		  [35, 0]
		  Branch {
		    Points		    [0, -50]
		    DstBlock		    "signal\nannotator"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Model"
		    DstPort		    1
		  }
		}
		Annotation {
		  Position		  [262, 30]
		  BackgroundColor	  "yellow"
		  Text			  "Model"
		  FontName		  "Arial"
		  FontSize		  22
		  FontWeight		  "bold"
		  FontAngle		  "italic"
		}
		Annotation {
		  Position		  [257, 180]
		  BackgroundColor	  "yellow"
		  Text			  "Interface"
		  FontName		  "Arial"
		  FontSize		  22
		  FontWeight		  "bold"
		  FontAngle		  "italic"
		}
	      }
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "reqOutTag"
	      Position		      [365, 124, 465, 166]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "essReqOut"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "sensorsTag"
	      Position		      [365, 274, 465, 316]
	      ForegroundColor	      "red"
	      BackgroundColor	      "black"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	      GotoTag		      "essSensors"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "power available\nto bus (W)"
	      Position		      [425, 210, 445, 230]
	      FontName		      "Arial"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "energy\nstorage <ess>"
	      SrcPort		      3
	      Points		      [25, 0; 0, 60]
	      DstBlock		      "sensorsTag"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "energy\nstorage <ess>"
	      SrcPort		      2
	      DstBlock		      "power available\nto bus (W)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "energy\nstorage <ess>"
	      SrcPort		      1
	      Points		      [40, 0]
	      DstBlock		      "reqOutTag"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controlTag"
	      SrcPort		      1
	      Points		      [15, 0; 0, -65]
	      DstBlock		      "energy\nstorage <ess>"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "power req'd\ninto bus (W)"
	      SrcPort		      1
	      DstBlock		      "energy\nstorage <ess>"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [297, 40]
	      BackgroundColor	      "yellow"
	      Text		      "Energy Storage System"
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	    }
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "power available\nto bus (W)"
	  Position		  [200, 40, 220, 60]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "power req'd\ninto bus (W)"
	  SrcPort		  1
	  Points		  [20, 0; 0, 10]
	  DstBlock		  "energy\nstorage <ess>"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "energy\nstorage <ess>"
	  SrcPort		  1
	  Points		  [20, 0; 0, -10]
	  DstBlock		  "power available\nto bus (W)"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      Reference
      Name		      "exhaust sys\n<ex>"
      Ports		      [1, 2, 1]
      Position		      [735, 73, 785, 117]
      ForegroundColor	      "lightBlue"
      BackgroundColor	      "lightBlue"
      SourceBlock	      "lib_exhaust/exhaust sys\n<ex>"
      SourceType	      ""
    }
    Block {
      BlockType		      SubSystem
      Name		      "final drive <fd>"
      Ports		      [2, 2]
      Position		      [255, 152, 300, 203]
      BackgroundColor	      "yellow"
      AncestorBlock	      "lib_transmission2/final drive <fd>"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone Final Drive Mask"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'fd'|Log|{}|{}|'bdi_fd.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"final drive <fd>"
	Location		[78, 204, 890, 657]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed req'd\nat output side of f"
"inal drive\n(Nm), (rad/s)"
	  Position		  [215, 190, 235, 210]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nat input side of f"
"inal drive\n(Nm), (rad/s)"
	  Position		  [215, 275, 235, 295]
	  FontName		  "Arial"
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Block NOTES"
	  Ports			  []
	  Position		  [135, 60, 191, 100]
	  BackgroundColor	  "green"
	  ShowName		  off
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "disp('Block\\nNOTES')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Block NOTES"
	    Location		    [147, 331, 616, 448]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Annotation {
	      Position		      [227, 67]
	      VerticalAlignment	      "top"
	      Text		      "The inertia torque is the input torque "
"required to accelerate the\nfinal drive's inertia as measured on the input si"
"de."
	    }
	    Annotation {
	      Position		      [227, 37]
	      VerticalAlignment	      "top"
	      Text		      "The loss torque is zero when the gears "
"are not turning,\nand is applied at the input side of the gear reduction."
	    }
	    Annotation {
	      Position		      [222, 17]
	      VerticalAlignment	      "top"
	      Text		      "This final drive model includes loss da"
"ta, rotational inertia, and a gear reduction."
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [175, 381, 285, 419]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fdControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "help"
	  Ports			  []
	  Position		  [95, 60, 127, 102]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowName		  off
	  OpenFcn		  "web(['file:\\\\\\' which('wheel_axle.htm')]"
");"
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "image(imread('doc_man.jpg'))"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "help"
	    Location		    [203, 331, 569, 538]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "model&interface"
	  Ports			  [3, 4]
	  Position		  [340, 217, 380, 278]
	  ForegroundColor	  "red"
	  BackgroundColor	  "lightBlue"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "model&interface"
	    Location		    [214, 77, 966, 744]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "T & w\noutput\nrequest"
	      Position		      [155, 130, 175, 150]
	      NamePlacement	      "alternate"
	      FontName		      "Arial"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "T & w\ninput\nachieved"
	      Position		      [155, 160, 175, 180]
	      FontName		      "Arial"
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      Position		      [160, 315, 180, 335]
	      FontName		      "Arial"
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "Ground"
	      Position		      [330, 315, 350, 335]
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [220, 315, 240, 335]
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "model"
	      Ports		      [2, 2]
	      Position		      [265, 125, 305, 185]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"model"
		Location		[221, 76, 938, 516]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed req'd\nat output s"
"ide of final drive\n(Nm), (rad/s)"
		  Position		  [30, 35, 50, 55]
		  FontName		  "Arial"
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed avail.\nat input s"
"ide of final drive\n(Nm), (rad/s)"
		  Position		  [25, 315, 45, 335]
		  FontName		  "Arial"
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [70, 195, 126, 235]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [147, 331, 616, 448]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [227, 67]
		    VerticalAlignment	    "top"
		    Text		    "The inertia torque is the input t"
"orque required to accelerate the\nfinal drive's inertia as measured on the in"
"put side."
		    }
		    Annotation {
		    Position		    [227, 37]
		    VerticalAlignment	    "top"
		    Text		    "The loss torque is zero when the "
"gears are not turning,\nand is applied at the input side of the gear reductio"
"n."
		    }
		    Annotation {
		    Position		    [222, 17]
		    VerticalAlignment	    "top"
		    Text		    "This final drive model includes l"
"oss data, rotational inertia, and a gear reduction."
		    }
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [115, 26, 135, 59]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [110, 306, 130, 339]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [200, 35, 270, 65]
		  FontName		  "Arial"
		  Gain			  "fd_ratio"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  Position		  [265, 70, 335, 100]
		  FontName		  "Arial"
		  Gain			  "1/fd_ratio"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain2"
		  Position		  [510, 285, 580, 315]
		  FontName		  "Arial"
		  Gain			  "fd_ratio"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain3"
		  Position		  [510, 345, 580, 375]
		  FontName		  "Arial"
		  Gain			  "1/fd_ratio"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [565, 26, 585, 59]
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [620, 311, 640, 344]
		  ShowName		  off
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [3, 1]
		  Position		  [470, 276, 490, 324]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "--+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [3, 1]
		  Position		  [480, 70, 500, 150]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "effect of inertia\n(Nm)"
		  Ports			  [1, 1]
		  Position		  [380, 167, 410, 203]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [4, 399, 457, 562]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "fd input speed (rad/s)"
		    Position		    [50, 25, 70, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [210, 16, 280, 54]
		    FontName		    "Arial"
		    Gain		    "fd_inertia"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Derivative
		    Name		    "d/dt"
		    Position		    [135, 25, 165, 45]
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "drag torque\n(Nm)"
		    Position		    [350, 25, 370, 45]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "fd input speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "d/dt"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "d/dt"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "drag torque\n(Nm)"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [212, 102]
		    VerticalAlignment	    "top"
		    Text		    "The inertia torque is the input t"
"orque required to accelerate the\nfinal drive's inertia as measured on the in"
"put side."
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [180, 282, 275, 298]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fd_trq_in_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [180, 347, 275, 363]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fd_spd_in_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  Ports			  [1]
		  Position		  [615, 412, 710, 428]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fd_spd_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [615, 232, 710, 248]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fd_trq_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [555, 142, 650, 158]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fd_spd_in_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  Ports			  [1]
		  Position		  [555, 102, 650, 118]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fd_trq_in_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  Ports			  [1]
		  Position		  [180, 107, 275, 123]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fd_trq_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  Ports			  [1]
		  Position		  [180, 137, 275, 153]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fd_spd_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  Ports			  []
		  Position		  [30, 195, 62, 237]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('wheel_axl"
"e.htm')]);"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "image(imread('doc_man.jpg'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "help"
		    Location		    [203, 331, 569, 538]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "loss\n(Nm)"
		  Ports			  [1, 1]
		  Position		  [380, 92, 410, 128]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "loss\n(Nm)"
		    Location		    [709, 717, 1135, 911]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "fd output speed (rad/s)"
		    Position		    [60, 55, 80, 75]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [210, 95, 230, 115]
		    Orientation		    "up"
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [285, 49, 315, 81]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "final drive loss torque\n(Nm)"
		    Position		    [115, 14, 195, 36]
		    FontName		    "Arial"
		    Value		    "fd_loss"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "drag torque\n(Nm)"
		    Position		    [380, 55, 400, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -15]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "fd output speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "drag torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "final drive loss torque\n(Nm)"
		    SrcPort		    1
		    Points		    [20, 0; 0, 30]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [232, 142]
		    VerticalAlignment	    "top"
		    Text		    "The loss torque is zero when the "
"gears are not turning,\nand is applied at the input side of the gear reductio"
"n."
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed req'd\nat input si"
"de of final drive\n(Nm), (rad/s)"
		  Position		  [695, 35, 715, 55]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed avail.\nat output "
"side of final drive\n(Nm), (rad/s)"
		  Position		  [695, 320, 715, 340]
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Gain2"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 20]
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Gain3"
		  SrcPort		  1
		  Points		  [15, 0; 0, 0]
		  Branch {
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -25]
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 25]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [130, 0; 0, 30]
		    DstBlock		    "Gain3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    Points		    [0, -25]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -75]
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [0, 0; 15, 0]
		  Branch {
		    Points		    [0, 95]
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Gain"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [25, 0; 0, 50]
		  Branch {
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Gain1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "torque and speed req'd\nat input si"
"de of final drive\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "torque and speed req'd\nat output s"
"ide of final drive\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  Points		  [0, 0; 80, 0]
		  Branch {
		    Points		    [160, 0]
		    Branch {
		    Points		    [0, 100]
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		  }
		  Branch {
		    Points		    [0, 60]
		    Branch {
		    Points		    [0, 75]
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "effect of inertia\n(Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 35, 0]
		  Branch {
		    Points		    [0, -50]
		    DstBlock		    "Sum2"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, 115]
		    DstBlock		    "Sum1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "loss\n(Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 40, 0]
		  Branch {
		    DstBlock		    "Sum2"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "torque and speed avail.\nat output "
"side of final drive\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "torque and speed avail.\nat input s"
"ide of final drive\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Gain2"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [265, 66, 310, 94]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 73, 966, 748]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "fd_trq_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "fd_spd_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [430, 103, 460, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  Name			  "fd_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  Name			  "fd_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "out request"
	      Position		      [390, 70, 410, 90]
	      NamePlacement	      "alternate"
	      FontName		      "Arial"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "T & w input\nrequest"
	      Position		      [385, 130, 405, 150]
	      NamePlacement	      "alternate"
	      FontName		      "Arial"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "T & w\noutput achieved"
	      Position		      [385, 160, 405, 180]
	      FontName		      "Arial"
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [385, 315, 405, 335]
	      FontName		      "Arial"
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "out request"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Ground"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "model"
	      SrcPort		      2
	      DstBlock		      "T & w\noutput achieved"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "T & w\ninput\nachieved"
	      SrcPort		      1
	      DstBlock		      "model"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "T & w\noutput\nrequest"
	      SrcPort		      1
	      Points		      [55, 0]
	      Branch {
		Points			[0, -60]
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	      Branch {
		DstBlock		"model"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "model"
	      SrcPort		      1
	      DstBlock		      "T & w input\nrequest"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [287, 35]
	      BackgroundColor	      "yellow"
	      Text		      "Model"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      Position		      [287, 275]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [445, 94, 545, 136]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fdReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [450, 379, 550, 421]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fdSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nat input side of fi"
"nal drive\n(Nm), (rad/s)"
	  Position		  [495, 205, 515, 225]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed avail.\nat output side of "
"final drive\n(Nm), (rad/s)"
	  Position		  [495, 270, 515, 290]
	  FontName		  "Arial"
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "model&interface"
	  SrcPort		  3
	  Points		  [95, 0]
	  DstBlock		  "torque and speed avail.\nat output side of "
"final drive\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "model&interface"
	  SrcPort		  2
	  Points		  [95, 0]
	  DstBlock		  "torque and speed req'd\nat input side of fi"
"nal drive\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "torque and speed avail.\nat input side of f"
"inal drive\n(Nm), (rad/s)"
	  SrcPort		  1
	  Points		  [0, -35]
	  DstBlock		  "model&interface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "torque and speed req'd\nat output side of f"
"inal drive\n(Nm), (rad/s)"
	  SrcPort		  1
	  Points		  [0, 30]
	  DstBlock		  "model&interface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "model&interface"
	  SrcPort		  4
	  Points		  [50, 0]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [0, -130]
	  DstBlock		  "model&interface"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "model&interface"
	  SrcPort		  1
	  Points		  [0, -110]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "fuel converter\n<fc>"
      Ports		      [1, 3]
      Position		      [640, 25, 710, 75]
      AncestorBlock	      "lib_fuel_converter3/fuel converter\n<fc>"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone IC ENGINE Mask"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'fc'|Log|{}|{}|'bdi_fc.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"fuel converter\n<fc>"
	Location		[214, 77, 966, 744]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "trq and spd\nout\nrequested"
	  Position		  [175, 158, 205, 172]
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Block NOTES"
	  Ports			  []
	  Position		  [80, 140, 136, 180]
	  BackgroundColor	  "green"
	  ShowName		  off
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "disp('Block\\nNOTES')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Block NOTES"
	    Location		    [620, 337, 1026, 424]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Annotation {
	      Position		      [212, 38]
	      Text		      "This block models the internal combusti"
"on engine, and includes inertia effects,\nperformance limits, accessory loads"
", and temperature transient effects on fuel\nuse, engine-out emissions, and c"
"atalyst efficiency.  There are 'leads' to the\nengine controller here, which "
"controller determines whether the engine is on."
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "IC Engine Model \n& \nInterface"
	  Ports			  [2, 5]
	  Position		  [270, 149, 310, 211]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "IC Engine Model \n& \nInterface"
	    Location		    [214, 77, 966, 744]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\nout\nrequested"
	      Position		      [190, 108, 220, 122]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      Position		      [25, 323, 55, 337]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>10"
	      Position		      [140, 394, 235, 416]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "engine_on"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>11"
	      Position		      [140, 424, 235, 446]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "key_on"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>12"
	      Position		      [140, 454, 235, 476]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "v_prev"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>2"
	      Position		      [140, 184, 235, 206]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "clutch_state"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>4"
	      Position		      [140, 214, 235, 236]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mpha_prev"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>5"
	      Position		      [140, 244, 235, 266]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>6"
	      Position		      [140, 274, 235, 296]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "current_veh_mass"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>7"
	      Position		      [140, 304, 235, 326]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "veh_spd_a_rec_prev"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>8"
	      Position		      [140, 334, 235, 356]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "cyc_mph_r_prev"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>9"
	      Position		      [140, 364, 235, 386]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_mech_trq_est"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [11, 1]
	      Position		      [680, 201, 690, 509]
	      ShowName		      off
	      Inputs		      "11"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux1"
	      Ports		      [1, 10]
	      Position		      [80, 189, 110, 471]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "10"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From"
	      Position		      [460, 196, 580, 214]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_spd_out_a"
	      Port {
		PortNumber		1
		Name			"fc_spd_out_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      Position		      [460, 226, 580, 244]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_trq_out_a"
	      Port {
		PortNumber		1
		Name			"fc_trq_out_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From11"
	      Position		      [460, 496, 580, 514]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_trq_out_r"
	      Port {
		PortNumber		1
		Name			"fc_trq_out_r"
		PropagatedSignals	"fc_trq_out_r"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From2"
	      Position		      [460, 256, 580, 274]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_spd_est"
	      Port {
		PortNumber		1
		Name			"fc_spd_est"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From3"
	      Position		      [460, 286, 580, 304]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fuel"
	      Port {
		PortNumber		1
		Name			"fuel"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From4"
	      Position		      [460, 316, 580, 334]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_spd_out_r"
	      Port {
		PortNumber		1
		Name			"fc_spd_out_r"
		PropagatedSignals	"w shaft out r"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From5"
	      Position		      [460, 346, 580, 364]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "engine_speed"
	      Port {
		PortNumber		1
		Name			"engine_speed"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From6"
	      Position		      [460, 376, 580, 394]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_trq_limited"
	      Port {
		PortNumber		1
		Name			"fc_trq_limited"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From7"
	      Position		      [460, 406, 580, 424]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_spd_limited"
	      Port {
		PortNumber		1
		Name			"fc_spd_limited"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From8"
	      Position		      [460, 436, 580, 454]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_clt_tmp"
	      Port {
		PortNumber		1
		Name			"fc_clt_tmp"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From9"
	      Position		      [460, 466, 580, 484]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_hood_temp"
	      Port {
		PortNumber		1
		Name			"fc_hood_temp"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      Position		      [370, 197, 455, 214]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_spd_out_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility10"
	      Position		      [370, 347, 455, 364]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "engine_speed"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility11"
	      Position		      [245, 217, 330, 234]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mpha_prev"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility12"
	      Position		      [245, 247, 330, 264]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility13"
	      Position		      [245, 277, 330, 294]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "current_veh_mass"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility14"
	      Position		      [370, 377, 455, 394]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_trq_limited"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility15"
	      Position		      [245, 307, 330, 324]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "veh_spd_a_rec_prev"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility16"
	      Position		      [245, 337, 330, 354]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "cyc_mph_r_prev"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility17"
	      Position		      [245, 367, 330, 384]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "acc_mech_trq_est"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility18"
	      Position		      [245, 397, 330, 414]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "engine_on"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility19"
	      Position		      [370, 407, 455, 424]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_spd_limited"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [370, 227, 455, 244]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_trq_out_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility20"
	      Position		      [245, 427, 330, 444]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "key_on"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility21"
	      Position		      [245, 457, 330, 474]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "v_prev"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility22"
	      Position		      [370, 437, 455, 454]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_clt_tmp"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility3"
	      Position		      [370, 257, 455, 274]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_spd_est"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      Position		      [245, 187, 330, 204]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "clutch_state"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility5"
	      Position		      [370, 287, 455, 304]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fuel"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility6"
	      Position		      [370, 317, 455, 334]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_spd_out_r"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility7"
	      Position		      [370, 467, 455, 484]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_hood_temp"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility9"
	      Position		      [370, 497, 455, 514]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "fc_trq_out_r"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "ic engine model"
	      Ports		      [1, 3]
	      Position		      [345, 63, 475, 167]
	      BackgroundColor	      "yellow"
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskInitialization      "\n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"ic engine model"
		Location		[344, 77, 950, 728]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed\n req'd at engine "
"\noutput shaft\n(Nm)"
		  Position		  [40, 60, 60, 80]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>"
		  Position		  [440, 245, 520, 265]
		  ShowName		  off
		  GotoTag		  "fc_spd_out_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>1"
		  Position		  [440, 175, 520, 195]
		  ShowName		  off
		  GotoTag		  "fc_trq_out_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [730, 250, 786, 290]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [212, 38]
		    Text		    "This block models the internal co"
"mbustion engine, and includes inertia effects,\nperformance limits, accessory"
" loads, and temperature transient effects on fuel\nuse, engine-out emissions,"
" and catalyst efficiency.  There are 'leads' to the\nengine controller here, "
"which controller determines whether the engine is on."
		    }
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [105, 39, 110, 101]
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  Position		  [155, 132, 240, 158]
		  ShowName		  off
		  GotoTag		  "fc_spd_out_r"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto1"
		  Position		  [810, 14, 870, 36]
		  ShowName		  off
		  GotoTag		  "fuel"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto2"
		  Position		  [410, 120, 485, 140]
		  ShowName		  off
		  GotoTag		  "fc_spd_est"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [715, 65, 720, 120]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [605, 201, 610, 234]
		  ShowName		  off
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Speed Limits"
		  Ports			  [1, 1]
		  Position		  [185, 71, 215, 99]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "Speed Limits"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Speed\nRequested"
		    Position		    [70, 83, 100, 97]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [65, 185, 95, 215]
		    ShowName		    off
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [65, 136, 175, 154]
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "engine_on"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Speed Limits"
		    Position		    [145, 75, 175, 105]
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "vc_idle_spd*vc_idle_bool"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if engine is not on,\nspeed is ze"
"ro"
		    Position		    [235, 62, 270, 228]
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Limited\nSpeed\nRequest"
		    Position		    [305, 138, 335, 152]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "if engine is not on,\nspeed is ze"
"ro"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    DstBlock		    "if engine is not on,\nspeed is ze"
"ro"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "if engine is not on,\nspeed is ze"
"ro"
		    SrcPort		    1
		    DstBlock		    "Limited\nSpeed\nRequest"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Speed Limits"
		    SrcPort		    1
		    DstBlock		    "if engine is not on,\nspeed is ze"
"ro"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Speed\nRequested"
		    SrcPort		    1
		    DstBlock		    "Speed Limits"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "engine speed\nestimator"
		  Ports			  [1, 1]
		  Position		  [320, 113, 350, 147]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "engine speed\nestimator"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "spd\ncommand"
		    Position		    [15, 38, 45, 52]
		    ForegroundColor	    "lightBlue"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "<= max spd"
		    Position		    [780, 100, 810, 130]
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "-inf"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [985, 600, 1041, 640]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [202, 116]
		    Text		    "If the clutch is engaged and the "
"trace was missed in the previous time step:\nThe estimated engine speed for t"
"he current time step is the actual engine\nspeed from the previous time step."
"\n\nIf the clutch is disengaged and the speed is commanded to increase (spin "
"up):\nThe engine speed is the lesser of the commanded speed and the maximum\n"
"speed attainable given the engine capability.\n\nIf the clutch is disengaged "
"at the speed is commanded to decrease (spin down):\nThe engine speed is compu"
"ted by integrating with respect to time the ratio of\n closed-throttle torque"
" to engine inertia.\n\nOtherwise:\nThe engine speed is equal to the speed com"
"mand, but no greater than the\nengine's maximum speed nor less than the engin"
"e's idle speed (if the engine is on.)"
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [355, 210, 375, 230]
		    Orientation		    "left"
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [505, 135, 525, 155]
		    Orientation		    "left"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [420, 330, 440, 350]
		    Orientation		    "left"
		    Value		    "2"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [315, 380, 335, 400]
		    Value		    "2"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant4"
		    Position		    [860, 160, 930, 180]
		    Value		    "vc_idle_spd"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant5"
		    Position		    [420, 580, 440, 600]
		    Orientation		    "left"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [55, 496, 170, 514]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_trq_est"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <cyc>"
		    Position		    [220, 274, 310, 306]
		    ForegroundColor	    "green"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "cyc_mph_r_prev"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [220, 359, 310, 391]
		    ForegroundColor	    "red"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "clutch_state"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>1"
		    Position		    [860, 245, 930, 265]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "engine_on"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <veh>"
		    Position		    [220, 69, 275, 101]
		    ForegroundColor	    "cyan"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "mpha_prev"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <wh>/\ntire slip model (m/s)"
		    Position		    [220, 154, 310, 186]
		    ForegroundColor	    "blue"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "veh_spd_a_rec_prev"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [340, 67, 380, 103]
		    Gain		    "0.447"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>1"
		    Position		    [945, 29, 1030, 51]
		    GotoTag		    "fc_spd_limited"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    InitialCondition
		    Name		    "IC"
		    Position		    [560, 80, 590, 110]
		    Value		    "cyc_mph(1,2)*0.447/wh_radius*fd_r"
"atio*gb_ratio(gb_num_init)"
		    }
		    Block {
		    BlockType		    InitialCondition
		    Name		    "IC1"
		    Position		    [490, 280, 520, 310]
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [565, 287, 595, 318]
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [2, 1]
		    Position		    [890, 22, 920, 53]
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator2"
		    Ports		    [1, 1]
		    Position		    [650, 164, 680, 196]
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory2"
		    Position		    [840, 45, 870, 75]
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory3"
		    Position		    [890, 605, 920, 635]
		    Orientation		    "left"
		    ForegroundColor	    "orange"
		    X0			    "cyc_mph(1,2)*0.447/wh_radius*fd_r"
"atio*max(gb_ratio)"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory4"
		    Position		    [295, 35, 325, 65]
		    ForegroundColor	    "gray"
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [215, 422, 245, 453]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax1"
		    Ports		    [2, 1]
		    Position		    [880, 107, 910, 138]
		    Function		    "max"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [3, 1]
		    Position		    [405, 69, 435, 101]
		    Inputs		    "**/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [545, 556, 565, 574]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [880, 198, 910, 227]
		    Orientation		    "left"
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational"
		    Position		    [415, 277, 445, 308]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [380, 367, 410, 398]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [780, 12, 810, 43]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    Position		    [75, 272, 105, 303]
		    Operator		    ">="
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [350, 162, 380, 193]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [350, 267, 380, 298]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    Ports		    [2, 1]
		    Position		    [380, 442, 410, 473]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum3"
		    Ports		    [2, 1]
		    Position		    [590, 560, 610, 580]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum4"
		    Ports		    [2, 1]
		    Position		    [145, 427, 175, 458]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [500, 80, 530, 110]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [650, 90, 680, 120]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch2"
		    Position		    [715, 100, 745, 130]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch:\nmap torque"
		    Position		    [285, 435, 315, 465]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "T closed\nthrottle"
		    Position		    [75, 528, 105, 552]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_ct_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "T_max"
		    Position		    [75, 338, 105, 362]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_max_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "alpha"
		    Position		    [470, 436, 515, 484]
		    Gain		    "1/(fc_inertia+eps)"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "clutch\ndisengaged"
		    Position		    [415, 517, 445, 548]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    Ports		    [0, 1]
		    Position		    [475, 555, 505, 585]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "dt"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [65, 30, 85, 50]
		    FontName		    "Arial"
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [125, 55, 160, 75]
		    FontName		    "Arial"
		    X0			    "-0.1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 35, 225, 55]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [255, 35, 275, 55]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "effect of inertia\n(Nm)"
		    Ports		    [2, 1]
		    Position		    [75, 386, 105, 424]
		    FontName		    "Arial"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "req'd spd\n(rad/s)"
		    Position		    [60, 80, 80, 100]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "prev spd"
		    Position		    [60, 130, 80, 150]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [40, 175, 60, 195]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [120, 19, 180, 41]
		    FontName		    "Arial"
		    Value		    "fc_inertia"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [95, 210, 130, 230]
		    FontName		    "Arial"
		    X0			    "-0.1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [3, 1]
		    Position		    [285, 77, 315, 113]
		    Inputs		    "**/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [115, 85, 135, 105]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [160, 180, 180, 200]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "(Nm)"
		    Position		    [385, 85, 405, 105]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [40, 0; 0, 55]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [5, 0; 0, -25]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "prev spd"
		    SrcPort		    1
		    Points		    [5, 0; 0, -40]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "req'd spd\n(rad/s)"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [40, 0; 0, -85]
		    DstBlock		    "Product1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just started\nspin-down/spin-up"
		    Ports		    [1, 1]
		    Position		    [560, 468, 590, 502]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "just started\nspin-down/spin-up"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "state"
		    Position		    [15, 20, 35, 40]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [220, 23, 250, 47]
		    FontName		    "Arial"
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [165, 83, 195, 107]
		    FontName		    "Arial"
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [110, 85, 145, 105]
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "trigger"
		    Position		    [295, 25, 315, 45]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "state"
		    SrcPort		    1
		    Points		    [50, 0]
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "trigger"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "no-lag\nReset Integrator"
		    Ports		    [3, 1]
		    Position		    [635, 446, 685, 524]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "No-lag Reset Integrator"
		    MaskDescription	    "No-lag Reset Integrator"
		    MaskHelp		    "Integrates first input using Eule"
"r technique.\\nAt the time step that input 2 <> zero,\\noutput is reset to in"
"put 3."
		    MaskPromptString	    "Initial Value"
		    MaskStyleString	    "edit"
		    MaskTunableValueString  "on"
		    MaskEnableString	    "on"
		    MaskVisibilityString    "on"
		    MaskToolTipString	    "on"
		    MaskInitialization	    "initval=@1;"
		    MaskDisplay		    "disp('1/s\\nw/ reset\\nno lag')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "vc_idle_spd"
		    System {
		    Name		    "no-lag\nReset Integrator"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [60, 100, 80, 120]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    Position		    [60, 140, 80, 160]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_3"
		    Position		    [45, 185, 65, 205]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [105, 155, 125, 175]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [340, 55, 375, 75]
		    Orientation		    "left"
		    FontName		    "Arial"
		    X0			    "initval"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [160, 96, 180, 114]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [230, 90, 250, 110]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [290, 139, 320, 171]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    Ports		    [0, 1]
		    Position		    [112, 50, 138, 80]
		    Orientation		    "down"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "dt"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [65, 60, 85, 80]
		    FontName		    "Arial"
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [125, 85, 160, 105]
		    FontName		    "Arial"
		    X0			    "-0.1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 65, 225, 85]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [255, 65, 275, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "in_2==0"
		    Position		    [160, 143, 190, 167]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [455, 145, 475, 165]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "in_2==0"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_2==0"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [10, 0; 0, 45]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-130, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "dt"
		    SrcPort		    1
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "in_2==0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_3"
		    SrcPort		    1
		    Points		    [195, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [990, 118, 1020, 132]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Sum3"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "just started\nspin-down/spin-up"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Switch2"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    Points		    [30, 0; 0, -200]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator2"
		    SrcPort		    1
		    Points		    [5, 0; 0, -65]
		    DstBlock		    "Switch2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "spd\ncommand"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, 235]
		    Branch {
		    Points		    [0, 115]
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, -20; 210, 0]
		    Branch {
		    Points		    [345, 0; 0, 90]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory4"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "effect of inertia\n(Nm)"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum4"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "T_max"
		    SrcPort		    1
		    Points		    [70, 0; 0, 80]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    DstBlock		    "Switch:\nmap torque"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "T closed\nthrottle"
		    SrcPort		    1
		    Points		    [155, 0; 0, -80]
		    DstBlock		    "Switch:\nmap torque"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    Points		    [80, 0; 0, 120; 65, 0; 0, 40]
		    DstBlock		    "Switch:\nmap torque"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch:\nmap torque"
		    SrcPort		    1
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Memory2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Goto <sdo>1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory2"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch2"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, -95]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "<= max spd"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    Points		    [-25, 0; 0, -85]
		    DstBlock		    "MinMax1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "MinMax1"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    Points		    [0, 495]
		    DstBlock		    "Memory3"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant4"
		    SrcPort		    1
		    Points		    [0, 35]
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <vc>1"
		    SrcPort		    1
		    Points		    [0, -35]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "<= max spd"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "MinMax1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -20; -75, 0; 0, -60]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Memory3"
		    SrcPort		    1
		    Points		    [-315, 0]
		    Branch {
		    Points		    [-525, 0; 0, -80]
		    Branch {
		    DstBlock		    "T closed\nthrottle"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -125]
		    Branch {
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -65]
		    Branch {
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -55]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    }
		    }
		    }
		    Branch {
		    Points		    [0, -45]
		    DstBlock		    "Sum3"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    Points		    [0, 150]
		    DstBlock		    "clutch\ndisengaged"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "clutch\ndisengaged"
		    SrcPort		    1
		    Points		    [5, 0; 0, -50]
		    Branch {
		    DstBlock		    "just started\nspin-down/spin-up"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -305]
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "Switch2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant5"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "clutch\ndisengaged"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "alpha"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "dt"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "alpha"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [135, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Product"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "IC"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational"
		    SrcPort		    1
		    DstBlock		    "IC1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Relational"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <veh>"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    Points		    [0, 190]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "From <cyc>"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "IC"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    Labels		    [1, 0]
		    SrcBlock		    "From <wh>/\ntire slip model (m/s)"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, -25; 155, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, -25; -45, 0]
		    DstBlock		    "Sum4"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [190, 0]
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Memory4"
		    SrcPort		    1
		    Points		    [60, 0]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "IC1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [247, 263]
		    Text		    "from last time step"
		    }
		    Annotation {
		    Position		    [236, 142]
		    Text		    "from last time step"
		    }
		    Annotation {
		    Position		    [217, 61]
		    Text		    "from last time step"
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "engine torque"
		  Ports			  [3, 2]
		  Position		  [315, 48, 345, 82]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "engine torque"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "fc_trq_out_r"
		    Position		    [40, 48, 70, 62]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "spd command"
		    Position		    [40, 93, 70, 107]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "engine spd"
		    Position		    [40, 138, 70, 152]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [710, 460, 766, 500]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [167, 81]
		    Text		    "If the engine is not spinning dow"
"n with the clutch disengaged:\n1.  Engine brake (aka map) torque is given by "
"the required shaft\ntorque plus enough torque to accelerate the engine's rota"
"ting\nparts as commanded and torque to power the accessories, \nsubject to th"
"e engine's torque limits at the current speed.\n2.  Shaft torque is engine br"
"ake torque less the effects of inertia\nand accessories.\n\nIf the engine is "
"spinning down:\n1.  Engine brake/map torque is the closed-throttle torque.\n2"
".  Shaft torque is zero."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [595, 215, 615, 235]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [120, 455, 140, 475]
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [35, 437, 105, 463]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "clutch_state"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>"
		    Position		    [440, 18, 520, 42]
		    GotoTag		    "fc_trq_limited"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [255, 382, 285, 413]
		    Operator		    "OR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [385, 77, 415, 108]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax1"
		    Ports		    [2, 1]
		    Position		    [440, 77, 470, 108]
		    Function		    "max"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [260, 40, 280, 120]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [550, 105, 570, 185]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [315, 75, 345, 105]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [640, 140, 670, 170]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "T_closed\nthrottle"
		    Ports		    [1, 1]
		    Position		    [185, 286, 215, 314]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "T_closed\nthrottle"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    Position		    [15, 45, 35, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [80, 46, 110, 64]
		    FontName		    "Arial"
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "min(fc_map_spd)*fc_spd_scale"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "ctt lookup"
		    Position		    [150, 43, 180, 67]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_ct_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_closed\nthrottle"
		    Position		    [215, 45, 235, 65]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "ctt lookup"
		    SrcPort		    1
		    DstBlock		    "T_closed\nthrottle"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "ctt lookup"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "T_max"
		    Ports		    [1, 1]
		    Position		    [185, 230, 215, 260]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "T_max"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    Position		    [20, 45, 40, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto Fuzzy controller <cs>"
		    Position		    [175, 94, 265, 116]
		    GotoTag		    "engine_speed"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [85, 46, 115, 64]
		    FontName		    "Arial"
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "min(fc_map_spd)*fc_spd_scale"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max_torque lookup"
		    Position		    [180, 43, 210, 67]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_max_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_max"
		    Position		    [260, 45, 280, 65]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "max_torque lookup"
		    SrcPort		    1
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "max_torque lookup"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50]
		    DstBlock		    "Goto Fuzzy controller <cs>"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "clutch not\ndisengaged"
		    Position		    [185, 442, 215, 473]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "effect of inertia\n(Nm)"
		    Ports		    [1, 1]
		    Position		    [185, 91, 215, 129]
		    FontName		    "Arial"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "engine spd\n(rad/s)"
		    Position		    [30, 15, 50, 35]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">=0"
		    Position		    [310, 50, 340, 80]
		    UpperLimit		    "inf"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [605, 320, 661, 360]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [207, 56]
		    Text		    "Torque required to accelerate the"
" engine inertia is taken from the engine\nacceleration, and is assumed to be "
"no less than zero if the trace was missed\nat all on the previous time step."
"\n\nThe torque required to accelerate the engine's inertia is never assumed t"
"o\nbe more than the product of the engine's maximum torque and the engine's\n"
"contribution to the total vehicle inertia."
		    }
		    }
		    }
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [310, 265, 330, 285]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [485, 314, 545, 336]
		    Orientation		    "left"
		    FontName		    "Arial"
		    Value		    "fc_inertia"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [360, 157, 510, 183]
		    Value		    "max(fc_max_trq)*fc_trq_scale"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [195, 275, 235, 295]
		    Orientation		    "left"
		    Value		    "0.01"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <cyc>"
		    Position		    [25, 219, 115, 251]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "cyc_mph_r_prev"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <veh>"
		    Position		    [25, 174, 80, 206]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "mpha_prev"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [365, 300, 400, 320]
		    FontName		    "Arial"
		    X0			    "-0.1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [95, 35, 120, 65]
		    X0			    "vc_idle_spd*vc_key_on(1,2)"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [585, 257, 615, 288]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [535, 147, 565, 178]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [3, 1]
		    Position		    [490, 262, 520, 298]
		    Inputs		    "*/*"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational"
		    Position		    [190, 222, 220, 253]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [150, 20, 170, 40]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [430, 270, 450, 290]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    Ports		    [2, 1]
		    Position		    [135, 212, 165, 243]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [375, 225, 405, 255]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "engine inertia as a function of t"
"otal\nvehicle inertia (generous approximation)"
		    Ports		    [0, 1]
		    Position		    [505, 70, 535, 120]
		    Orientation		    "down"
		    BackgroundColor	    "darkGreen"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "engine inertia as a function of t"
"otal\nvehicle inertia (generous approximation)"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [195, 25, 265, 55]
		    Orientation		    "down"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [322, 275, 353, 310]
		    Orientation		    "down"
		    NamePlacement	    "alternate"
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [580, 205, 600, 225]
		    Orientation		    "down"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "++|"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--denomenator"
		    Position		    [389, 155, 791, 180]
		    Orientation		    "down"
		    Expr		    "fc_inertia*(u*fd_ratio/wh_radius)"
"^2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--numerator"
		    Position		    [29, 95, 431, 120]
		    Orientation		    "down"
		    Expr		    "fc_inertia*(u*fd_ratio/wh_radius)"
"^2"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "veh mass calc"
		    Ports		    [0, 1]
		    Position		    [445, 206, 525, 224]
		    BackgroundColor	    "magenta"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "veh mass calc"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [70, 51, 170, 79]
		    BackgroundColor	    "lightBlue"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "current_veh_mass"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [215, 58, 245, 72]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [325, 370, 355, 385]
		    Orientation		    "down"
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    Points		    [0, 5]
		    Branch {
		    DstBlock		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--numerator"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [360, 0]
		    DstBlock		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--denomenator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "veh mass calc"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--denomenator"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--numerator"
		    SrcPort		    1
		    Points		    [0, 135]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [0, 30]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "(Nm)"
		    Position		    [635, 265, 655, 285]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [120, 0; 0, 35]
		    Branch {
		    DstBlock		    ">=0"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 185]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "engine inertia as a function of t"
"otal\nvehicle inertia (generous approximation)"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    DstBlock		    "(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <cyc>"
		    SrcPort		    1
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <veh>"
		    SrcPort		    1
		    Points		    [25, 0; 0, 30]
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [55, 0; 0, 30]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-5, 0]
		    DstBlock		    "Product1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [5, 0; 0, -25]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [10, 0; 0, 0]
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Relational"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    ">=0"
		    SrcPort		    1
		    Points		    [5, 0; 0, 165]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "Relational"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "engine spd\n(rad/s)"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "engine commanded\nnot to decelera"
"te"
		    Position		    [185, 372, 215, 403]
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "limited"
		    Position		    [385, 12, 415, 43]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "map torque (Nm)"
		    Position		    [700, 88, 730, 102]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "torque to shaft (Nm)"
		    Position		    [705, 148, 735, 162]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "spd command"
		    SrcPort		    1
		    Points		    [25, 0; 0, 295]
		    DstBlock		    "engine commanded\nnot to decelera"
"te"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "effect of inertia\n(Nm)"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Branch {
		    Labels		    [1, 0]
		    Points		    [0, -10]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "fc_trq_out_r"
		    SrcPort		    1
		    Points		    [170, 0]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine spd"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    Points		    [0, -35; 55, 0]
		    Branch {
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 270]
		    DstBlock		    "engine commanded\nnot to decelera"
"te"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 100]
		    Branch {
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "T_closed\nthrottle"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "clutch not\ndisengaged"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [340, 0; 0, -305]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, -70]
		    DstBlock		    "limited"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [15, 0]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "MinMax1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [40, 0]
		    Branch {
		    Points		    [0, 30]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "map torque (Nm)"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, -30; -125, 0; 0, -30]
		    DstBlock		    "limited"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "T_closed\nthrottle"
		    SrcPort		    1
		    Points		    [80, 0]
		    Branch {
		    Points		    [125, 0]
		    DstBlock		    "MinMax1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "T_max"
		    SrcPort		    1
		    Points		    [150, 0]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    Points		    [0, -10]
		    DstBlock		    "MinMax1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "limited"
		    SrcPort		    1
		    DstBlock		    "Goto <sdo>"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    Points		    [5, 0; 0, -310]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine commanded\nnot to decelera"
"te"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    DstBlock		    "clutch not\ndisengaged"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    DstBlock		    "clutch not\ndisengaged"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "torque to shaft (Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [145, 172, 240, 188]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_spd_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [405, 147, 500, 163]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_est|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_spd_est"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [805, 77, 900, 93]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|fuel|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_fuel"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [425, 282, 520, 298]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_spd_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  Ports			  [1]
		  Position		  [540, 172, 635, 188]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_trq_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  Ports			  [1]
		  Position		  [145, 27, 240, 43]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_trq_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  Ports			  [1]
		  Position		  [385, 27, 480, 43]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|brake_trq|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "fc_brake_trq"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fuel use and EO emis Configurable S"
"ubsystem"
		  Ports			  [2, 3]
		  Position		  [515, 39, 680, 121]
		  BackgroundColor	  "lightBlue"
		  AttributesFormatString  "%<BlockChoice>"
		  LinkData {
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace1/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_th_pwr"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace10/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_ex_gas_tmp"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace11/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_ex_th_pwr"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace12/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_clt_tmp"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace2/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_o2_flow"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace3/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_r_th_pwr"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace5/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_h_th_pwr"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace6/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_tmp"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace7/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_fuel_rate"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace8/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_emis_eo"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    BlockName		    "fuel use and EO emis/enhancedToWo"
"rkspace9/To Workspace"
		    DialogParameters {
		    VariableName	    "fc_ex_gas_flow"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		  }
		  ShowPortLabels	  on
		  BlockChoice		  "fuel use and EO emis"
		  TemplateBlock		  "lib_fuel_converter3/configurable su"
"bsystems/fuel use and EO emis Configurable Subsystem"
		  MemberBlocks		  "fuel use and EO emis,fuel use and E"
"O emis Neural Network Model"
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "fuel use and EO emis Configurable"
" Subsystem"
		    Location		    [148, 182, 646, 482]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "T (Nm)"
		    Position		    [20, 40, 40, 60]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w (rad/s)"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "fuel use and EO emis"
		    Ports		    [2, 3]
		    Position		    [100, 40, 140, 80]
		    BackgroundColor	    "lightBlue"
		    SourceBlock		    "lib_fuel_converter3/configurable "
"subsystems/fuel use and EO emis"
		    SourceType		    "SubSystem"
		    ShowPortLabels	    "on"
		    TreatAsAtomicUnit	    "off"
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "cumulative fuel \nuse (gal)"
		    Position		    [200, 40, 220, 60]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
		    Position		    [200, 80, 220, 100]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Vv,Tfc"
		    Position		    [200, 120, 220, 140]
		    Port		    "3"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "T (Nm)"
		    SrcPort		    1
		    DstBlock		    "fuel use and EO emis"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w (rad/s)"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "fuel use and EO emis"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "fuel use and EO emis"
		    SrcPort		    1
		    Points		    [20, 0; 0, 5]
		    DstBlock		    "cumulative fuel \nuse (gal)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fuel use and EO emis"
		    SrcPort		    2
		    Points		    [20, 0; 0, 30]
		    DstBlock		    "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fuel use and EO emis"
		    SrcPort		    3
		    Points		    [10, 0; 0, 55]
		    DstBlock		    "Vv,Tfc"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  Ports			  []
		  Position		  [690, 248, 722, 287]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('fuel_conv"
"erter.htm')]);"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "image(imread('doc_man.jpg'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "help"
		    Location		    [203, 331, 569, 538]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "fuel use"
		  Position		  [750, 45, 770, 65]
		  NamePlacement		  "alternate"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "EO emis\ninfo"
		  Position		  [750, 85, 770, 105]
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed\n avail. to drivel"
"ine\n(Nm), (rad/s)"
		  Position		  [710, 210, 730, 230]
		  NamePlacement		  "alternate"
		  FontName		  "Arial"
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Speed Limits"
		  SrcPort		  1
		  Points		  [70, 0]
		  Branch {
		    Points		    [0, 45]
		    Branch {
		    Points		    [0, 95; 80, 0]
		    Branch {
		    Points		    [0, 30]
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "<sdo>"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "engine speed\nestimator"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, -20]
		    DstBlock		    "engine torque"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "engine speed\nestimator"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [30, 0; 0, 0]
		    Branch {
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto2"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, -30]
		    Branch {
		    DstBlock		    "fuel use and EO emis Configurable"
" Subsystem"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [-60, 0]
		    DstBlock		    "engine torque"
		    DstPort		    3
		    }
		  }
		}
		Line {
		  SrcBlock		  "fuel use and EO emis Configurable S"
"ubsystem"
		  SrcPort		  1
		  Points		  [40, 0]
		  Branch {
		    Points		    [0, -30; 65, 0]
		    Branch {
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto1"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "fuel use"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 60]
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Speed Limits"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "torque and speed\n req'd at engine "
"\noutput shaft\n(Nm)"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, -20]
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "engine torque"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "EO emis\ninfo"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fuel use and EO emis Configurable S"
"ubsystem"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fuel use and EO emis Configurable S"
"ubsystem"
		  SrcPort		  3
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "torque and speed\n avail. to drivel"
"ine\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "engine torque"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "fuel use and EO emis Configurable"
" Subsystem"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "engine torque"
		  SrcPort		  2
		  Points		  [20, 0; 0, 135; 45, 0]
		  Branch {
		    Points		    [110, 0]
		    Branch {
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, -25]
		    DstBlock		    "<sdo>1"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [285, 21, 330, 49]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 77, 966, 752]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 108, 140, 122]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 88, 210, 137]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "fc_trq_out_r"
		    PropagatedSignals	    "trq in r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "fc_spd_out_r"
		    PropagatedSignals	    "w shaft out r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From2"
		  Position		  [280, 170, 400, 190]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "fc_spd_est"
		  Port {
		    PortNumber		    1
		    Name		    "fc_spd_est"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  Position		  [315, 88, 470, 112]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "fc_trq_out_r"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [1, 1]
		  Position		  [485, 87, 490, 203]
		  ShowName		  off
		  Inputs		  "1"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  Position		  [315, 115, 335, 135]
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [555, 138, 585, 152]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  Name			  "fc_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
		Line {
		  Name			  "fc_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Goto"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "fc_spd_est"
		  Labels		  [0, 0]
		  SrcBlock		  "From2"
		  SrcPort		  1
		  Points		  [65, 0]
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "req out"
	      Position		      [505, 28, 535, 42]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "fuel"
	      Position		      [505, 73, 535, 87]
	      NamePlacement	      "alternate"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "engine out\nemissions"
	      Position		      [580, 108, 610, 122]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\nout\nachieved"
	      Position		      [505, 143, 535, 157]
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [710, 348, 740, 362]
	      Port		      "5"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "req out"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Demux1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "ic engine model"
	      SrcPort		      3
	      DstBlock		      "trq and spd\nout\nachieved"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "ic engine model"
	      SrcPort		      2
	      DstBlock		      "engine out\nemissions"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "ic engine model"
	      SrcPort		      1
	      DstBlock		      "fuel"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd\nout\nrequested"
	      SrcPort		      1
	      Points		      [25, 0]
	      Branch {
		Points			[0, -80]
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	      Branch {
		DstBlock		"ic engine model"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      10
	      DstBlock		      "<sdo>12"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      9
	      DstBlock		      "<sdo>11"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      8
	      DstBlock		      "<sdo>10"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      7
	      DstBlock		      "<sdo>9"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      6
	      DstBlock		      "<sdo>8"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      5
	      DstBlock		      "<sdo>7"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      4
	      DstBlock		      "<sdo>6"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      3
	      DstBlock		      "<sdo>5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      2
	      DstBlock		      "<sdo>4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      1
	      DstBlock		      "<sdo>2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "fc_spd_out_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      Name		      "fc_trq_out_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From1"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "fc_spd_est"
	      Labels		      [0, 0]
	      SrcBlock		      "From2"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "fuel"
	      Labels		      [0, 0]
	      SrcBlock		      "From3"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      4
	    }
	    Line {
	      Name		      "fc_spd_out_r"
	      Labels		      [0, 0]
	      SrcBlock		      "From4"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      5
	    }
	    Line {
	      Name		      "engine_speed"
	      Labels		      [0, 0]
	      SrcBlock		      "From5"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      6
	    }
	    Line {
	      Name		      "fc_trq_limited"
	      Labels		      [0, 0]
	      SrcBlock		      "From6"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      7
	    }
	    Line {
	      Name		      "fc_spd_limited"
	      Labels		      [0, 0]
	      SrcBlock		      "From7"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      8
	    }
	    Line {
	      Name		      "fc_clt_tmp"
	      Labels		      [0, 0]
	      SrcBlock		      "From8"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      9
	    }
	    Line {
	      Name		      "fc_hood_temp"
	      Labels		      [0, 0]
	      SrcBlock		      "From9"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      10
	    }
	    Line {
	      Name		      "fc_trq_out_r"
	      Labels		      [0, 0]
	      SrcBlock		      "From11"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      11
	    }
	    Annotation {
	      Position		      [411, 577]
	      HorizontalAlignment     "left"
	      Text		      "formerly \nengine_rpm\nrenamed because "
"\nunits are rad/s\n (misleading)"
	    }
	    Annotation {
	      Position		      [353, 356]
	      Text		      "*"
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Position		      [388, 556]
	      Text		      "*"
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Position		      [109, 507]
	    }
	    Annotation {
	      Position		      [85, 517]
	      HorizontalAlignment     "left"
	      Text		      "mpha_prev, cyc_mph_r_prev, and veh_spd_"
"a_rec_prev\nare all from the previous time step"
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [105, 256, 215, 294]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fcControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "help"
	  Ports			  []
	  Position		  [80, 63, 112, 102]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowName		  off
	  OpenFcn		  "web(['file:\\\\\\' which('fuel_converter.ht"
"m')]);"
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "image(imread('doc_man.jpg'))"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "help"
	    Location		    [203, 331, 569, 538]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [420, 84, 520, 126]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fcReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [415, 259, 515, 301]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "fcSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "fuel"
	  Position		  [380, 163, 410, 177]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "engine out\nemissions"
	  Position		  [440, 173, 470, 187]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "trq and spd\nout\nachieved"
	  Position		  [380, 183, 410, 197]
	  Port			  "3"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "IC Engine Model \n& \nInterface"
	  SrcPort		  1
	  Points		  [15, 0; 0, -55]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "IC Engine Model \n& \nInterface"
	  SrcPort		  2
	  DstBlock		  "fuel"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "IC Engine Model \n& \nInterface"
	  SrcPort		  3
	  DstBlock		  "engine out\nemissions"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "IC Engine Model \n& \nInterface"
	  SrcPort		  4
	  DstBlock		  "trq and spd\nout\nachieved"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "IC Engine Model \n& \nInterface"
	  SrcPort		  5
	  Points		  [45, 0; 0, 80]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [0, -80]
	  DstBlock		  "IC Engine Model \n& \nInterface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "trq and spd\nout\nrequested"
	  SrcPort		  1
	  DstBlock		  "IC Engine Model \n& \nInterface"
	  DstPort		  1
	}
	Annotation {
	  Position		  [322, 55]
	  BackgroundColor	  "yellow"
	  Text			  "Internal Combustion Engine"
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "gearbox <gb>\nold"
      Ports		      [2, 2]
      Position		      [335, 153, 400, 197]
      BackgroundColor	      "yellow"
      AncestorBlock	      "lib_transmission2/gearbox <gb>\nold"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone Gearbox Mask"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'gb'|Log|{}|{}|'bdi_gb.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"gearbox <gb>\nold"
	Location		[198, 77, 966, 744]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed req'd\nat output side of g"
"earbox\n(Nm), (rad/s)"
	  Position		  [125, 185, 145, 205]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nat input side of g"
"earbox\n(Nm), (rad/s)"
	  Position		  [125, 210, 145, 230]
	  FontName		  "Arial"
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Block NOTES"
	  Ports			  []
	  Position		  [60, 95, 116, 135]
	  BackgroundColor	  "green"
	  ShowName		  off
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "disp('Block\\nNOTES')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Block NOTES"
	    Location		    [364, 407, 866, 589]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Annotation {
	      Position		      [252, 142]
	      VerticalAlignment	      "top"
	      Text		      "This is a good assumption, at least for"
" the VW 4-speed manual transaxle of SAE 820741. \nIn the VW transaxle, effici"
"ency is fairly independent of torque and speed at high torques."
	    }
	    Annotation {
	      Position		      [252, 107]
	      VerticalAlignment	      "top"
	      Text		      "Available output torque is estimated as"
"suming that the gearbox efficiency for theavailable input\ntorque andspeed is"
" the same as the gearbox efficiency for the REQUESTED input torque."
	    }
	    Annotation {
	      Position		      [252, 72]
	      VerticalAlignment	      "top"
	      Text		      "The inertia torque is the input torque "
"required to accelerate the\nfinal drive's inertia as measured on the input si"
"de."
	    }
	    Annotation {
	      Position		      [252, 37]
	      VerticalAlignment	      "top"
	      Text		      "The loss torque is zero when the gears "
"are not turning,\nand is applied at the input side of the gear reduction."
	    }
	    Annotation {
	      Position		      [247, 17]
	      VerticalAlignment	      "top"
	      Text		      "This gearbox model includes loss data, "
"rotational inertia, and a gear reduction."
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [85, 291, 195, 329]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "gearbox model & interface"
	  Ports			  [3, 4]
	  Position		  [250, 183, 300, 257]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "gearbox model & interface"
	    Location		    [198, 77, 966, 744]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\noutput\nrequest"
	      Position		      [285, 148, 315, 162]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\ninput\nachieved"
	      Position		      [285, 178, 315, 192]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "controls"
	      Position		      [40, 348, 70, 362]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [5, 1]
	      Position		      [740, 284, 750, 466]
	      ShowName		      off
	      Inputs		      "5"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux2"
	      Ports		      [1, 3]
	      Position		      [105, 273, 120, 437]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "3"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>1"
	      Position		      [520, 295, 620, 315]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gb_spd_in_a"
	      Port {
		PortNumber		1
		Name			"gb_spd_in_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>2"
	      Position		      [520, 330, 620, 350]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "T_gb_out"
	      Port {
		PortNumber		1
		Name			"T_gb_out"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>3"
	      Position		      [520, 365, 620, 385]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_gb_out"
	      Port {
		PortNumber		1
		Name			"w_gb_out"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>4"
	      Position		      [520, 400, 620, 420]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "eta_gb"
	      Port {
		PortNumber		1
		Name			"eta_gb"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>5"
	      Position		      [520, 435, 620, 455]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gb_trq_out_a"
	      Port {
		PortNumber		1
		Name			"gb_trq_out_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      Position		      [290, 397, 379, 425]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_number"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      Position		      [425, 292, 514, 320]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gb_spd_in_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [290, 287, 379, 315]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility3"
	      Position		      [290, 342, 379, 370]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      Position		      [425, 327, 514, 355]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "T_gb_out"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility5"
	      Position		      [425, 362, 514, 390]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "w_gb_out"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility6"
	      Position		      [425, 397, 514, 425]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "eta_gb"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility7"
	      Position		      [425, 432, 514, 460]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gb_trq_out_a"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [180, 399, 280, 421]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_number"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      Position		      [180, 289, 280, 311]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "gear_ratio"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto3"
	      Position		      [180, 344, 280, 366]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "gearbox\nmodel"
	      Ports		      [2, 2]
	      Position		      [400, 140, 440, 200]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"gearbox\nmodel"
		Location		[198, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed req'd\nat output s"
"ide of gearbox\n(Nm), (rad/s)"
		  Position		  [25, 25, 45, 45]
		  FontName		  "Arial"
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed avail.\nat input s"
"ide of gearbox\n(Nm), (rad/s)"
		  Position		  [30, 460, 50, 480]
		  FontName		  "Arial"
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [730, 565, 786, 605]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [252, 142]
		    VerticalAlignment	    "top"
		    Text		    "This is a good assumption, at lea"
"st for the VW 4-speed manual transaxle of SAE 820741. \nIn the VW transaxle, "
"efficiency is fairly independent of torque and speed at high torques."
		    }
		    Annotation {
		    Position		    [252, 107]
		    VerticalAlignment	    "top"
		    Text		    "Available output torque is estima"
"ted assuming that the gearbox efficiency for theavailable input\ntorque andsp"
"eed is the same as the gearbox efficiency for the REQUESTED input torque."
		    }
		    Annotation {
		    Position		    [252, 72]
		    VerticalAlignment	    "top"
		    Text		    "The inertia torque is the input t"
"orque required to accelerate the\nfinal drive's inertia as measured on the in"
"put side."
		    }
		    Annotation {
		    Position		    [252, 37]
		    VerticalAlignment	    "top"
		    Text		    "The loss torque is zero when the "
"gears are not turning,\nand is applied at the input side of the gear reductio"
"n."
		    }
		    Annotation {
		    Position		    [247, 17]
		    VerticalAlignment	    "top"
		    Text		    "This gearbox model includes loss "
"data, rotational inertia, and a gear reduction."
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [510, 150, 530, 170]
		  Orientation		  "left"
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [110, 219, 130, 261]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [115, 451, 135, 484]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc>"
		  Position		  [105, 111, 190, 129]
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "gear_number"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  Position		  [290, 489, 385, 521]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_spd_in_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto4"
		  Position		  [645, 403, 730, 427]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "gb_trq_out_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [1, 1]
		  Position		  [425, 174, 455, 206]
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [660, 36, 680, 69]
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [640, 443, 660, 512]
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Pout/Pin neglecting inertia"
		  Ports			  [4, 1]
		  Position		  [515, 266, 545, 319]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "Pout/Pin neglecting inertia"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Tin"
		    Position		    [25, 85, 45, 105]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Tinertia"
		    Position		    [25, 140, 45, 160]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Tout"
		    Position		    [25, 5, 45, 25]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    Position		    [25, 40, 45, 60]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [320, 225, 340, 245]
		    Orientation		    "up"
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Pout/Pin\n(neglecting\ninertia)"
		    Ports		    [2, 1]
		    Position		    [295, 89, 320, 116]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('/')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Pout/Pin\n(neglecting\ninertia)"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [30, 50, 50, 70]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    Position		    [10, 80, 30, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn"
		    Position		    [60, 79, 90, 101]
		    FontName		    "Arial"
		    FontSize		    8
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [130, 56, 150, 74]
		    FontName		    "Arial"
		    FontSize		    8
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [180, 55, 200, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Fcn"
		    SrcPort		    1
		    Points		    [15, 0; 0, -20]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "Fcn"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [215, 101, 235, 119]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [285, 158, 315, 182]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [425, 135, 455, 165]
		    UpperLimit		    "inf"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [365, 134, 395, 166]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Tin-Tinertia"
		    Ports		    [2, 1]
		    Position		    [75, 85, 95, 120]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "make division\nbombproof"
		    Ports		    [1, 1]
		    Position		    [145, 83, 175, 137]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "make division\nbombproof"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Tin-Tinertia"
		    Position		    [55, 168, 85, 182]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [325, 275, 381, 315]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [250, 64]
		    Text		    "this block added 10 July 2001 by "
"mpo:\noriginally a -eps was added to the denominator by default. \nHowever, c"
"ases were ecountered where Tin-Tineratia was equal to -eps causing\nthe denom"
"inator to be zero. This added checking is more rhobust"
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [190, 265, 210, 285]
		    Orientation		    "up"
		    FontName		    "Arial"
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [105, 265, 125, 285]
		    Orientation		    "up"
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [235, 217, 245, 248]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [145, 213, 175, 237]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "make division\nbombproof"
		    Ports		    [2, 1]
		    Position		    [315, 165, 335, 200]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [385, 178, 415, 192]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Tin-Tinertia"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "make division\nbombproof"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [0, -30]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [15, 0; 0, -45]
		    DstBlock		    "make division\nbombproof"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -20]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "make division\nbombproof"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [332, 112]
		    Text		    "only add eps if Tin-Tinertia is ="
"= 0 (this avoids problems when Tin-Tineratia == -eps \nwhich happens from tim"
"e to time"
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Pout/Pin"
		    Position		    [490, 140, 510, 160]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [140, 0; 0, 55]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Pout/Pin\n(neglecting\ninertia)"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Tout"
		    SrcPort		    1
		    Points		    [225, 0; 0, 80]
		    DstBlock		    "Pout/Pin\n(neglecting\ninertia)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Tin-Tinertia"
		    SrcPort		    1
		    Points		    [20, 0; 0, 5]
		    Branch {
		    DstBlock		    "make division\nbombproof"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "Pout/Pin"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [15, 0; 0, -20]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Pout/Pin\n(neglecting\ninertia)"
		    SrcPort		    1
		    Points		    [10, 0; 0, 35]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Tin"
		    SrcPort		    1
		    DstBlock		    "Tin-Tinertia"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Tinertia"
		    SrcPort		    1
		    Points		    [5, 0; 0, -40]
		    DstBlock		    "Tin-Tinertia"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "make division\nbombproof"
		    SrcPort		    1
		    Points		    [0, 5]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [0, -5]
		    Branch {
		    Points		    [-75, 0; 0, -40]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [20, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    Annotation {
		    Position		    [242, 292]
		    VerticalAlignment	    "top"
		    Text		    "Pout/Pin, neglecting inertia, is "
"used to estimate the output torque given the\ninput torque in a very simple f"
"orward-facing calculation."
		    }
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [350, 446, 370, 464]
		  ShowName		  off
		  FontName		  "Arial"
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [2, 1]
		  Position		  [515, 356, 535, 374]
		  ShowName		  off
		  FontName		  "Arial"
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [3, 1]
		  Position		  [430, 65, 450, 145]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [460, 430, 480, 465]
		  ShowName		  off
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [505, 100, 535, 130]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "effect of inertia\n(Nm)"
		  Ports			  [1, 1]
		  Position		  [345, 162, 375, 198]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "gb input speed (rad/s)"
		    Position		    [50, 25, 70, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [195, 15, 300, 55]
		    FontName		    "Arial"
		    Gain		    "gb_inertia"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Derivative
		    Name		    "d/dt"
		    Position		    [125, 25, 155, 45]
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "drag torque\n(Nm)"
		    Position		    [350, 25, 370, 45]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "gb input speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "d/dt"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "d/dt"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "drag torque\n(Nm)"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [212, 102]
		    VerticalAlignment	    "top"
		    Text		    "The inertia torque is the input t"
"orque required to accelerate the\ngearbox's inertia as measured on the input "
"side."
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [180, 517, 275, 533]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_spd_in_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [180, 427, 275, 443]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_trq_in_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  Ports			  [1]
		  Position		  [635, 542, 730, 558]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_spd_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [635, 367, 730, 383]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_trq_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [635, 327, 730, 343]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|ni_trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_ni_trq_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  Ports			  [1]
		  Position		  [610, 157, 705, 173]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_spd_in_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  Ports			  [1]
		  Position		  [610, 107, 705, 123]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_trq_in_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  Ports			  [1]
		  Position		  [145, 187, 240, 203]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_spd_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace8"
		  Ports			  [1]
		  Position		  [145, 162, 240, 178]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_trq_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace9"
		  Ports			  [1]
		  Position		  [145, 142, 240, 158]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|gear_number|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace9"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "gb_gear_number"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearbox controller interface"
		  Ports			  [3, 2]
		  Position		  [190, 219, 295, 281]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "gearbox controller interface"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "T_gb_out"
		    Position		    [40, 45, 60, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w_gb_out"
		    Position		    [40, 105, 60, 125]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "eta_gb"
		    Position		    [40, 170, 60, 190]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [205, 79, 310, 111]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>1"
		    Position		    [205, 134, 310, 166]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>"
		    Position		    [95, 39, 165, 71]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "T_gb_out"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>1"
		    Position		    [95, 99, 170, 131]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "w_gb_out"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>2"
		    Position		    [95, 164, 170, 196]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "eta_gb"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace1"
		    Ports		    [1]
		    Position		    [360, 32, 455, 48]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|gear_ratio|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace8"
		    Ports		    [1]
		    Position		    [360, 207, 455, 223]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|shifting|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gear_ratio"
		    Position		    [345, 85, 365, 105]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "shifting"
		    Position		    [345, 140, 365, 160]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "From <vc>1"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "shifting"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "T_gb_out"
		    SrcPort		    1
		    DstBlock		    "Goto <vc>"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w_gb_out"
		    SrcPort		    1
		    DstBlock		    "Goto <vc>1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "eta_gb"
		    SrcPort		    1
		    DstBlock		    "Goto <vc>2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, -55]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "gear_ratio"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearing\n(Nm) (rad/s)"
		  Ports			  [2, 2]
		  Position		  [265, 22, 300, 73]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "gearing\n(Nm) (rad/s)"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "output shaft\ntorque and speed\n "
"(Nm), (rad/s)"
		    Position		    [55, 25, 75, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    Position		    [55, 120, 75, 140]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    Ports		    [1, 2]
		    Position		    [140, 16, 160, 49]
		    FontName		    "Arial"
		    Outputs		    "2"
		    BusSelectionMode	    off
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    Position		    [300, 69, 330, 91]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [355, 21, 375, 39]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    Ports		    [2, 1]
		    Position		    [355, 116, 375, 134]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "input shaft torque (Nm)"
		    Position		    [455, 20, 475, 40]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "input shaft speed (rad/s)"
		    Position		    [455, 115, 475, 135]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    Points		    [60, 0; 0, 80]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [190, 0]
		    Branch {
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "output shaft\ntorque and speed\n "
"(Nm), (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    Points		    [0, -45]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "input shaft torque (Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "input shaft speed (rad/s)"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "gearing (Nm) (rad/s)1"
		  Ports			  [3, 2]
		  Position		  [520, 438, 555, 512]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "gearing (Nm) (rad/s)1"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "input shaft torque (Nm)"
		    Position		    [75, 15, 95, 35]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "input shaft speed (rad/s)"
		    Position		    [75, 120, 95, 140]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    Position		    [75, 70, 95, 90]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    Position		    [175, 69, 205, 91]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [275, 21, 295, 39]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    Ports		    [2, 1]
		    Position		    [275, 116, 295, 134]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "output shaft torque (Nm)"
		    Position		    [375, 20, 395, 40]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "output shaft speed (rad/s)"
		    Position		    [375, 115, 395, 135]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "input shaft speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "input shaft torque (Nm)"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "output shaft torque (Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "output shaft speed (rad/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [45, 0]
		    Branch {
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -45]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    Points		    [25, 0; 0, 40]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  Ports			  []
		  Position		  [684, 564, 717, 607]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('gearbox.h"
"tm')]);"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "image(imread('doc_man.jpg'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "help"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "loss\n(Nm)"
		  Ports			  [3, 1]
		  Position		  [340, 84, 375, 126]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskPromptString	  "table of efficiency values (spd rad"
"/s, trq Nm)|vector of output torque values for lookup table (Nm)|vector of ou"
"tput speeds for lookup table (rad/s)|Speed scale for the transmission gear bo"
"x|Torque scale for the transmission gear box"
		  MaskStyleString	  "edit,edit,edit,edit,edit"
		  MaskTunableValueString  "on,on,on,on,on"
		  MaskCallbackString	  "||||"
		  MaskEnableString	  "on,on,on,on,on"
		  MaskVisibilityString	  "on,on,on,on,on"
		  MaskToolTipString	  "on,on,on,on,on"
		  MaskVariables		  "tx_eff_map=@1;tx_map_trq=@2;tx_map_"
"spd=@3;gb_spd_scale=@4;gb_trq_scale=@5;"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "tx_eff_map|tx_map_trq|tx_map_spd|gb"
"_spd_scale|gb_trq_scale"
		  MaskVariableAliases	  ",,,,"
		  System {
		    Name		    "loss\n(Nm)"
		    Location		    [198, 77, 966, 728]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "output torque\nand speed\n(Nm), ("
"rad/s)"
		    Position		    [50, 60, 70, 80]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    Position		    [45, 520, 65, 540]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear_number"
		    Position		    [45, 445, 65, 465]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "3D discrete lookup\ntable (sfun)"
		    Ports		    [3, 1]
		    Position		    [285, 279, 315, 331]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskPromptString	    "Row Lookup|Column Lookup|Lookup M"
"atrix"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "tx_map_spd=@1;tx_map_trq=@2;tx_ef"
"f_map=@3;"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "tx_map_spd|tx_map_trq|tx_eff_map"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "3D discrete lookup\ntable (sfun)"
		    Location		    [135, 114, 743, 588]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "lookup speed (rad/s)"
		    Position		    [45, 68, 75, 82]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "lookup trq (Nm)"
		    Position		    [40, 208, 70, 222]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gear_number \n(e.g., 1, 2, 3)"
		    Position		    [40, 348, 70, 362]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [3, 1]
		    Position		    [225, 3, 235, 427]
		    ShowName		    off
		    Inputs		    "3"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [125, 60, 155, 90]
		    UpperLimit		    "max(tx_map_spd)"
		    LowerLimit		    "min(tx_map_spd)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [120, 200, 150, 230]
		    UpperLimit		    "max(tx_map_trq)"
		    LowerLimit		    "min(tx_map_trq)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    Position		    [120, 340, 150, 370]
		    UpperLimit		    "size(tx_eff_map,3)"
		    LowerLimit		    "1"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "discrete interp2d"
		    Ports		    [1, 1]
		    Position		    [255, 199, 380, 231]
		    FunctionName	    "sfun_discreteLookup3d"
		    Parameters		    "tx_map_trq, tx_map_spd, tx_eff_ma"
"p"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "tx_eff"
		    Position		    [405, 208, 435, 222]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "gear_number \n(e.g., 1, 2, 3)"
		    SrcPort		    1
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "lookup trq (Nm)"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "lookup speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "discrete interp2d"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "discrete interp2d"
		    SrcPort		    1
		    DstBlock		    "tx_eff"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Abs
		    Name		    "Abs"
		    Position		    [300, 16, 330, 34]
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [885, 595, 941, 635]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [370, 401, 872, 583]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [247, 17]
		    VerticalAlignment	    "top"
		    Text		    "Revision Notes:"
		    }
		    Annotation {
		    Position		    [252, 37]
		    VerticalAlignment	    "top"
		    Text		    "09/20/02:tm modifed lower input t"
"o switch after T_loss_at_input to pass the \ntotal torque input as the loss w"
"hen tx_eff=0\n5 July 2001:mpo changing loss block to a lookup table methodolo"
"gy\n12/20/00:tm revised loss saturation block. lower limit changed \nfrom 1 t"
"o 0 and upper limit changed from 100 to inf to prevent over or under penaltie"
"s"
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [600, 305, 625, 325]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [350, 386, 375, 404]
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [620, 223, 645, 237]
		    ShowName		    off
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [915, 370, 940, 390]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant4"
		    Position		    [1000, 420, 1025, 440]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    Ports		    [1, 2]
		    Position		    [110, 41, 115, 99]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "2"
		    BusSelectionMode	    off
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [525, 291, 590, 309]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "T_out"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From10"
		    Position		    [500, 200, 605, 220]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "tx_eff"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From11"
		    Position		    [870, 353, 955, 367]
		    NamePlacement	    "alternate"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "w_out"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From4"
		    Position		    [500, 395, 640, 415]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "one_minus_tx_eff"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From5"
		    Position		    [500, 444, 630, 466]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "T_out_abs"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From6"
		    Position		    [500, 495, 605, 515]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From7"
		    Position		    [500, 75, 640, 95]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "one_minus_tx_eff"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From8"
		    Position		    [500, 119, 630, 141]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "T_out_abs"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From9"
		    Position		    [500, 165, 605, 185]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_ratio"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto"
		    Position		    [135, 439, 240, 471]
		    GotoTag		    "gear_number"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto1"
		    Position		    [135, 516, 240, 544]
		    GotoTag		    "gear_ratio"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto2"
		    Position		    [180, 45, 285, 65]
		    NamePlacement	    "alternate"
		    GotoTag		    "T_out"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto3"
		    Position		    [180, 75, 285, 95]
		    GotoTag		    "w_out"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto4"
		    Position		    [415, 290, 455, 320]
		    GotoTag		    "tx_eff"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto5"
		    Position		    [430, 337, 550, 363]
		    GotoTag		    "one_minus_tx_eff"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto6"
		    Position		    [355, 15, 460, 35]
		    GotoTag		    "T_out_abs"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [4, 1]
		    Position		    [765, 63, 785, 242]
		    ShowName		    off
		    Inputs		    "**//"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [3, 1]
		    Position		    [720, 382, 740, 528]
		    Inputs		    "**/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [715, 292, 745, 323]
		    Operator		    ">="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [975, 351, 990, 384]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [395, 340, 415, 360]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [865, 294, 895, 326]
		    FontName		    "Arial"
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [1050, 304, 1080, 336]
		    FontName		    "Arial"
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch2"
		    Position		    [660, 204, 690, 236]
		    ShowName		    off
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch3"
		    Position		    [810, 229, 840, 261]
		    ShowName		    off
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    Ports		    [1]
		    Position		    [140, 567, 235, 583]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|current_gear_ratio|lo"
"gFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "ensure efficiency\nis between \n0"
"% and 100%,\ninclusive"
		    Position		    [340, 290, 370, 320]
		    NamePlacement	    "alternate"
		    UpperLimit		    "1"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "gear number (1st, 2nd, 3rd, etc.)"
		    Position		    [135, 356, 230, 374]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "gear_number"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "product1"
		    Ports		    [2, 1]
		    Position		    [760, 251, 790, 284]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "scaled trq_out"
		    Ports		    [2, 1]
		    Position		    [185, 284, 200, 326]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "scaled w_out"
		    Ports		    [2, 1]
		    Position		    [205, 236, 220, 269]
		    NamePlacement	    "alternate"
		    Inputs		    "/*"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "spd scale"
		    Position		    [15, 237, 95, 253]
		    NamePlacement	    "alternate"
		    Value		    "gb_spd_scale"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "spd_out"
		    Position		    [105, 253, 190, 267]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "w_out"
		    }
		    Block {
		    BlockType		    From
		    Name		    "trq out"
		    Position		    [15, 286, 95, 304]
		    NamePlacement	    "alternate"
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "T_out"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "trq scale"
		    Position		    [85, 307, 165, 323]
		    Value		    "gb_trq_scale"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "loss torque at\ninput shaft (Nm)"
		    Position		    [1120, 310, 1140, 330]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "output torque\nand speed\n(Nm), ("
"rad/s)"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    DstBlock		    "Goto3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gear number (1st, 2nd, 3rd, etc.)"
		    SrcPort		    1
		    Points		    [0, -35; 35, 0]
		    DstBlock		    "3D discrete lookup\ntable (sfun)"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [45, 0; 0, -135]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "From4"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From6"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "From5"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From7"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From8"
		    SrcPort		    1
		    Points		    [100, 0]
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 130]
		    DstBlock		    "product1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "From9"
		    SrcPort		    1
		    Points		    [105, 0]
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, 100]
		    DstBlock		    "product1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "loss torque at\ninput shaft (Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant4"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "From11"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [5, 0; 0, -50]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    DstBlock		    "Goto2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -30]
		    DstBlock		    "Abs"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Abs"
		    SrcPort		    1
		    DstBlock		    "Goto6"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "3D discrete lookup\ntable (sfun)"
		    SrcPort		    1
		    DstBlock		    "ensure efficiency\nis between \n0"
"% and 100%,\ninclusive"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "ensure efficiency\nis between \n0"
"% and 100%,\ninclusive"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Goto4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    }
		    Line {
		    Labels		    [1, 0]
		    SrcBlock		    "scaled w_out"
		    SrcPort		    1
		    Points		    [0, 35]
		    DstBlock		    "3D discrete lookup\ntable (sfun)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "trq out"
		    SrcPort		    1
		    DstBlock		    "scaled trq_out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "scaled trq_out"
		    SrcPort		    1
		    DstBlock		    "3D discrete lookup\ntable (sfun)"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "trq scale"
		    SrcPort		    1
		    DstBlock		    "scaled trq_out"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Goto5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "spd_out"
		    SrcPort		    1
		    DstBlock		    "scaled w_out"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "spd scale"
		    SrcPort		    1
		    DstBlock		    "scaled w_out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "gear_number"
		    SrcPort		    1
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch2"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "From10"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Switch2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 10; 0, 0]
		    Branch {
		    DstBlock		    "Switch2"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Switch3"
		    DstPort		    2
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    DstBlock		    "Switch2"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Switch3"
		    SrcPort		    1
		    Points		    [0, 55]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Switch3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "product1"
		    SrcPort		    1
		    DstBlock		    "Switch3"
		    DstPort		    3
		    }
		    Annotation {
		    Position		    [278, 191]
		    ForegroundColor	    "white"
		    BackgroundColor	    "black"
		    Text		    "\nLOOKUP TABLE FOR TRANSMISSION E"
"FFICIENCY\n"
		    }
		    Annotation {
		    Position		    [838, 414]
		    Text		    "T_loss_at_input"
		    }
		    Annotation {
		    Position		    [833, 488]
		    Text		    "\"Regen\" case\n(energy flowing f"
"rom\nwheel side of transmission\nto engine side of transmission)"
		    }
		    Annotation {
		    Position		    [840, 198]
		    Text		    "T_loss_at_input"
		    }
		    Annotation {
		    Position		    [874, 121]
		    Text		    "Normal \"Powered\" case\n(energy "
"flow from engine\nthrough transmission to wheels)"
		    }
		    Annotation {
		    Position		    [1067, 275]
		    Text		    "Switch to Determine \nif Gears ar"
"e Turning\n--No loss if gears \nare not turning"
		    }
		    Annotation {
		    Position		    [903, 278]
		    Text		    "Switch for Powered\n or Regen Cas"
"e"
		    }
		    Annotation {
		    Position		    [1034, 501]
		    Text		    "Note: saturation block keeps\nlos"
"s positive-- for both powered\nand regen cases, a\npositive value represents "
"a \"loss\""
		    }
		    Annotation {
		    Position		    [1069, 400]
		    Text		    "no_loss case"
		    }
		    Annotation {
		    Position		    [376, 87]
		    Text		    "speed at transmission output, rad"
"/s"
		    }
		    Annotation {
		    Position		    [371, 55]
		    Text		    "torque at transmission output, Nm"
		    }
		    Annotation {
		    Position		    [269, 276]
		    Text		    "spd"
		    }
		    Annotation {
		    Position		    [263, 297]
		    Text		    "trq"
		    }
		    Annotation {
		    Position		    [254, 318]
		    Text		    "gear"
		    }
		    Annotation {
		    Position		    [990, 198]
		    ForegroundColor	    "white"
		    BackgroundColor	    "black"
		    Text		    "\nTORQUE LOSS CALCULATION\n"
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed req'd\nat input si"
"de of gearbox\n(Nm), (rad/s)"
		  Position		  [745, 45, 765, 65]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed avail.\nat output "
"side of gearbox\n(Nm), (rad/s)"
		  Position		  [735, 470, 755, 490]
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "From <vc>"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, 15; -90, 0; 0, 15]
		    DstBlock		    "enhancedToWorkspace9"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  Points		  [80, 0]
		  DstBlock		  "enhancedToWorkspace4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [0, 0; 60, 0]
		  Branch {
		    Points		    [0, -85]
		    DstBlock		    "Product1"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Sum3"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "torque and speed avail.\nat output "
"side of gearbox\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "gearing (Nm) (rad/s)1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "torque and speed avail.\nat input s"
"ide of gearbox\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Pout/Pin neglecting inertia"
		  SrcPort		  1
		  Points		  [35, 0; 0, 55; -255, 0]
		  Branch {
		    Points		    [-155, 0]
		    DstBlock		    "gearbox controller interface"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, 100]
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "torque and speed req'd\nat input si"
"de of gearbox\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gearing\n(Nm) (rad/s)"
		  SrcPort		  1
		  Points		  [100, 0; 0, 45]
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gearing\n(Nm) (rad/s)"
		  SrcPort		  2
		  Points		  [0, 0; 15, 0]
		  Branch {
		    Points		    [0, 120]
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [235, 0]
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "effect of inertia\n(Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    Points		    [0, -50]
		    DstBlock		    "Sum2"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, 105]
		    Branch {
		    DstBlock		    "Pout/Pin neglecting inertia"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 155]
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "torque and speed req'd\nat output s"
"ide of gearbox\n(Nm), (rad/s)"
		  SrcPort		  1
		  Points		  [0, 0; 45, 0]
		  Branch {
		    Labels		    [1, 0]
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "gearing\n(Nm) (rad/s)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [0, 0; 10, 0]
		  Branch {
		    Points		    [0, -40; -20, 0; 0, -15]
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "gearbox controller interface"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, -15; -30, 0; 0, -45]
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [35, 0]
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "Pout/Pin neglecting inertia"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "gearbox controller interface"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "gearing (Nm) (rad/s)1"
		  SrcPort		  2
		  Points		  [0, 0; 60, 0]
		  Branch {
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "gearing (Nm) (rad/s)1"
		  SrcPort		  1
		  Points		  [0, 0; 50, 0]
		  Branch {
		    Points		    [0, -45]
		    Branch {
		    DstBlock		    "Goto4"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -40]
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [0, 0; 15, 0]
		  Branch {
		    DstBlock		    "gearing (Nm) (rad/s)1"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 30]
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    Points		    [0, 165]
		    DstBlock		    "Pout/Pin neglecting inertia"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Switch"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "gearbox controller interface"
		  SrcPort		  2
		  Points		  [110, 0]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  Points		  [25, 0; 0, -75]
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  Points		  [0, 0; 45, 0]
		  Branch {
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -70]
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [-15, 0]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "loss\n(Nm)"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "gearbox controller interface"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, -25; -65, 0; 0, -105; -45, 0]
		    Branch {
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -45]
		    DstBlock		    "gearing\n(Nm) (rad/s)"
		    DstPort		    2
		    }
		  }
		  Branch {
		    Points		    [0, 80; 170, 0]
		    Branch {
		    DstBlock		    "Pout/Pin neglecting inertia"
		    DstPort		    4
		    }
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    Points		    [0, 140]
		    DstBlock		    "gearing (Nm) (rad/s)1"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    }
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [390, 76, 445, 104]
	      NamePlacement	      "alternate"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "gb_trq_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "gb_spd_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [430, 103, 460, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  Name			  "gb_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  Name			  "gb_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "requested\noutput"
	      Position		      [475, 83, 505, 97]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\ninput\nrequest"
	      Position		      [530, 148, 560, 162]
	      NamePlacement	      "alternate"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\noutput\nachieved"
	      Position		      [530, 178, 560, 192]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [780, 368, 810, 382]
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      Name		      "gb_trq_out_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>5"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "requested\noutput"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "gearbox\nmodel"
	      SrcPort		      2
	      DstBlock		      "trq and spd\noutput\nachieved"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd\ninput\nachieved"
	      SrcPort		      1
	      DstBlock		      "gearbox\nmodel"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "gearbox\nmodel"
	      SrcPort		      1
	      DstBlock		      "trq and spd\ninput\nrequest"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd\noutput\nrequest"
	      SrcPort		      1
	      Points		      [55, 0]
	      Branch {
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	      Branch {
		DstBlock		"gearbox\nmodel"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      3
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      2
	      DstBlock		      "Goto3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      1
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controls"
	      SrcPort		      1
	      DstBlock		      "Demux2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      Name		      "eta_gb"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>4"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      4
	    }
	    Line {
	      Name		      "w_gb_out"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>3"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "T_gb_out"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>2"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "gb_spd_in_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>1"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [422, 260]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      Position		      [422, 25]
	      BackgroundColor	      "yellow"
	      Text		      "Model"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "help"
	  Ports			  []
	  Position		  [64, 39, 97, 82]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowName		  off
	  OpenFcn		  "web(['file:\\\\\\' which('gearbox.htm')]);"
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "image(imread('doc_man.jpg'))"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "help"
	    Location		    [203, 331, 569, 538]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [355, 84, 455, 126]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [360, 289, 460, 331]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "gbSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nat input side of ge"
"arbox\n(Nm), (rad/s)"
	  Position		  [400, 200, 420, 220]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed avail.\nat output side of "
"gearbox\n(Nm), (rad/s)"
	  Position		  [400, 220, 420, 240]
	  FontName		  "Arial"
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "gearbox model & interface"
	  SrcPort		  4
	  Points		  [40, 0]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [0, -65]
	  DstBlock		  "gearbox model & interface"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "gearbox model & interface"
	  SrcPort		  3
	  DstBlock		  "torque and speed avail.\nat output side of "
"gearbox\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "torque and speed avail.\nat input side of g"
"earbox\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "gearbox model & interface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "torque and speed req'd\nat output side of g"
"earbox\n(Nm), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "gearbox model & interface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "gearbox model & interface"
	  SrcPort		  2
	  DstBlock		  "torque and speed req'd\nat input side of ge"
"arbox\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "gearbox model & interface"
	  SrcPort		  1
	  Points		  [0, -85]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Annotation {
	  Position		  [282, 55]
	  BackgroundColor	  "yellow"
	  Text			  "Gearbox"
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "help"
      Ports		      []
      Position		      [30, 35, 77, 97]
      DropShadow	      on
      ShowName		      off
      OpenFcn		      "web(['file:\\\\\\' which('advisor_doc.htm')]);"
      ShowPortLabels	      on
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskDisplay	      "image(imread('doc_man.jpg'))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      System {
	Name			"help"
	Location		[205, 333, 571, 540]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "hydraulic\ntorque\nconverter <htc>\nHEV"
      Ports		      [2, 2]
      Position		      [430, 148, 480, 212]
      BackgroundColor	      "yellow"
      AncestorBlock	      "lib_transmission2/hydraulic\ntorque\nconverter "
"<htc>\nHEV"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone HTC Mask"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'htc'|Log|{}|{}|'bdi_htc.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"hydraulic\ntorque\nconverter <htc>\nHEV"
	Location		[214, 77, 966, 744]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "T & w output\nrequested"
	  Position		  [40, 128, 70, 142]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "T & w input\navailable"
	  Position		  [40, 148, 70, 162]
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "HTC for parallel\nHEV and Interface"
	  Ports			  [3, 4]
	  Position		  [190, 120, 230, 185]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "HTC for parallel\nHEV and Interface"
	    Location		    [318, 74, 1082, 741]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "79"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\noutput\nrequest"
	      Position		      [220, 213, 250, 227]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\ninput\nachieved"
	      Position		      [220, 243, 250, 257]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      Position		      [70, 408, 100, 422]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 2]
	      Position		      [115, 396, 120, 434]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "2"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      Position		      [145, 378, 260, 402]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      Position		      [265, 378, 354, 401]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [265, 428, 354, 451]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "locked_up"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [145, 428, 260, 452]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "locked_up"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "Ground"
	      Position		      [485, 410, 505, 430]
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "model for parallel HEV"
	      Ports		      [2, 2]
	      Position		      [360, 203, 400, 267]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"model for parallel HEV"
		Location		[439, 489, 921, 773]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "req'd output\ntrq and spd\n(Nm), (r"
"ad/s)"
		  Position		  [40, 188, 70, 202]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "trq and spd\navailable at\ninput (N"
"m), (rad/s)"
		  Position		  [65, 498, 95, 512]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Saturate
		  Name			  ">0\n"
		  Position		  [640, 265, 670, 295]
		  UpperLimit		  "inf"
		  LowerLimit		  "0"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Saturate
		  Name			  ">0."
		  Position		  [655, 535, 685, 565]
		  UpperLimit		  "inf"
		  LowerLimit		  "0"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [895, 540, 951, 580]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [433, 528, 892, 678]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [227, 12]
		    VerticalAlignment	    "top"
		    Text		    "This block predicts the relative "
"speed of the HTC input (pump) and output\n(turbine).  Torque converter lockup"
" is modeled.\n"
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [625, 80, 645, 100]
		  ShowName		  off
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux2"
		  Ports			  [1, 2]
		  Position		  [95, 156, 105, 234]
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux3"
		  Ports			  [1, 2]
		  Position		  [185, 476, 220, 529]
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc>"
		  Position		  [560, 130, 635, 150]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "shifting"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [885, 182, 920, 218]
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [765, 467, 800, 503]
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  Ports			  [2, 1]
		  Position		  [210, 271, 220, 309]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "SR"
		  Ports			  [2, 2]
		  Position		  [300, 282, 330, 318]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "SR"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "T,w\nreq out"
		    Position		    [50, 30, 70, 50]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w in"
		    Position		    [415, 45, 435, 65]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">0"
		    Position		    [665, 235, 695, 265]
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [245, 270, 265, 290]
		    Orientation		    "left"
		    ShowName		    off
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [250, 542, 350, 568]
		    ShowName		    off
		    Value		    "vc_idle_spd+eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [355, 195, 385, 215]
		    ShowName		    off
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [170, 153, 235, 177]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "locked_up"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "K_adv"
		    Ports		    [1, 1]
		    Position		    [170, 80, 200, 110]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "K_adv"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    Position		    [20, 58, 50, 72]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">0"
		    Position		    [95, 50, 125, 80]
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "K_adv=wout/(Tout)^0.5"
		    Position		    [155, 51, 275, 79]
		    FontName		    "Arial"
		    Expr		    "u[2]/u[1]^0.5"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [315, 50, 345, 80]
		    UpperLimit		    "max(htc_k_adv)"
		    LowerLimit		    "min(htc_k_adv)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "K_adv"
		    Position		    [400, 58, 430, 72]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "K_adv=wout/(Tout)^0.5"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    SrcPort		    1
		    DstBlock		    ">0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    ">0"
		    SrcPort		    1
		    DstBlock		    "K_adv=wout/(Tout)^0.5"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "K_adv_coast"
		    Ports		    [1, 1]
		    Position		    [215, 355, 245, 385]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "K_adv_coast"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    Position		    [20, 58, 50, 72]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "K_adv=wout/(abs(Tout))^0.5"
		    Position		    [125, 51, 245, 79]
		    FontName		    "Arial"
		    Expr		    "u[2]/abs(u[1]+eps)^0.5"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [310, 50, 340, 80]
		    ForegroundColor	    "red"
		    UpperLimit		    "max(htc_k_adv_coast)"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "K_adv_coast"
		    Position		    [400, 58, 430, 72]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Req'd output\ntrq and spd\n(Nm), "
"(rad/s)"
		    SrcPort		    1
		    DstBlock		    "K_adv=wout/(abs(Tout))^0.5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "K_adv_coast"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "K_adv=wout/(abs(Tout))^0.5"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [1, 1]
		    Position		    [355, 149, 385, 181]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [345, 261, 375, 289]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [500, 427, 530, 458]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [250, 232, 280, 263]
		    ShowName		    off
		    Operator		    ">="
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "SR Look-Up\nTable\nSR=wout/win"
		    Position		    [335, 75, 365, 105]
		    InputValues		    "htc_k_adv"
		    OutputValues	    "htc_sr"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "SR Look-Up\nTable\nSR=wout/win\nc"
"oast"
		    Position		    [335, 355, 365, 385]
		    InputValues		    "fliplr(htc_k_adv_coast)"
		    OutputValues	    "fliplr(htc_sr_coast)"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "SRmax=\nwout/win,min"
		    Ports		    [2, 1]
		    Position		    [435, 525, 455, 565]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "T"
		    Ports		    [1, 1]
		    Position		    [175, 225, 205, 255]
		    InputType		    "Vector"
		    ElementSrc		    "Internal"
		    Elements		    "1"
		    RowSrc		    "Internal"
		    Rows		    "1"
		    ColumnSrc		    "Internal"
		    Columns		    "1"
		    InputPortWidth	    "2"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    Ports		    [1]
		    Position		    [255, 192, 350, 208]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|locked|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_locked"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace1"
		    Ports		    [1]
		    Position		    [395, 267, 490, 283]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|coasting|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_coasting"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if coasting"
		    Position		    [595, 235, 625, 265]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "locked up,\nthen SR=1"
		    Position		    [420, 150, 450, 180]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "min,max"
		    Position		    [425, 355, 455, 385]
		    UpperLimit		    "inf"
		    LowerLimit		    "1"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "shifting SR"
		    Ports		    [3, 1]
		    Position		    [510, 35, 540, 75]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "shifting SR"
		    Location		    [83, 256, 974, 642]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "T,w\nreq out"
		    Position		    [35, 35, 55, 55]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w in"
		    Position		    [35, 85, 55, 105]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "SR"
		    Position		    [50, 330, 70, 350]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "-3200 rpm/second\nallowable in en"
"gine\nspeed"
		    Position		    [220, 153, 310, 187]
		    Gain		    "-3200*pi/30"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">0"
		    Position		    [90, 80, 120, 110]
		    UpperLimit		    "inf"
		    LowerLimit		    "eps"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [40, 150, 60, 170]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>1"
		    Position		    [555, 280, 630, 300]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory3"
		    Position		    [160, 80, 190, 110]
		    ShowName		    off
		    X0			    "eps"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory4"
		    Position		    [95, 165, 125, 195]
		    ShowName		    off
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [580, 157, 610, 188]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "SRmax=\nwout/win,min"
		    Ports		    [2, 1]
		    Position		    [510, 40, 530, 80]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "dt=t-(t-1)"
		    Ports		    [2, 1]
		    Position		    [155, 153, 185, 182]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "shifting,\nthen limit \nengine sp"
"eed\nchange"
		    Position		    [665, 275, 695, 305]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "win,min=\nwin,prev+rate*dt"
		    Ports		    [2, 1]
		    Position		    [345, 92, 375, 123]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "wout,req"
		    Ports		    [1, 1]
		    Position		    [345, 30, 375, 60]
		    InputType		    "Vector"
		    ElementSrc		    "Internal"
		    Elements		    "2"
		    RowSrc		    "Internal"
		    Rows		    "1"
		    ColumnSrc		    "Internal"
		    Columns		    "1"
		    InputPortWidth	    "2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "SR\nlimited"
		    Position		    [790, 280, 810, 300]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Memory4"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "dt=t-(t-1)"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "Memory4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "dt=t-(t-1)"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "dt=t-(t-1)"
		    SrcPort		    1
		    DstBlock		    "-3200 rpm/second\nallowable in en"
"gine\nspeed"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory3"
		    SrcPort		    1
		    Points		    [135, 0]
		    DstBlock		    "win,min=\nwin,prev+rate*dt"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "win,min=\nwin,prev+rate*dt"
		    SrcPort		    1
		    Points		    [115, 0]
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "wout,req"
		    SrcPort		    1
		    Points		    [115, 0]
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "T,w\nreq out"
		    SrcPort		    1
		    DstBlock		    "wout,req"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <vc>1"
		    SrcPort		    1
		    DstBlock		    "shifting,\nthen limit \nengine sp"
"eed\nchange"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "SRmax=\nwout/win,min"
		    SrcPort		    1
		    Points		    [30, 0; 0, 95]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "SR"
		    SrcPort		    1
		    Points		    [375, 0]
		    Branch {
		    Points		    [195, 0; 0, -40]
		    DstBlock		    "shifting,\nthen limit \nengine sp"
"eed\nchange"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, -160]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "shifting,\nthen limit \nengine sp"
"eed\nchange"
		    SrcPort		    1
		    DstBlock		    "SR\nlimited"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "shifting,\nthen limit \nengine sp"
"eed\nchange"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w in"
		    SrcPort		    1
		    DstBlock		    ">0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    ">0"
		    SrcPort		    1
		    DstBlock		    "Memory3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "-3200 rpm/second\nallowable in en"
"gine\nspeed"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "win,min=\nwin,prev+rate*dt"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "wout,req"
		    Ports		    [1, 1]
		    Position		    [285, 490, 315, 520]
		    InputType		    "Vector"
		    ElementSrc		    "Internal"
		    Elements		    "2"
		    RowSrc		    "Internal"
		    Rows		    "1"
		    ColumnSrc		    "Internal"
		    Columns		    "1"
		    InputPortWidth	    "2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "SR"
		    Position		    [730, 240, 750, 260]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "coasting"
		    Position		    [730, 325, 750, 345]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [0, 5; 45, 0]
		    Branch {
		    Points		    [250, 0]
		    DstBlock		    "if coasting"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 20; -20, 0; 0, 15]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "T,w\nreq out"
		    SrcPort		    1
		    Points		    [55, 0]
		    Branch {
		    Points		    [0, 200]
		    Branch {
		    DstBlock		    "T"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 130]
		    Branch {
		    DstBlock		    "K_adv_coast"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 135]
		    DstBlock		    "wout,req"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "K_adv"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "shifting SR"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "SR Look-Up\nTable\nSR=wout/win\nc"
"oast"
		    SrcPort		    1
		    DstBlock		    "min,max"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-5, 0]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "T"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "locked up,\nthen SR=1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "locked up,\nthen SR=1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "locked up,\nthen SR=1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w in"
		    SrcPort		    1
		    DstBlock		    "shifting SR"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "locked up,\nthen SR=1"
		    SrcPort		    1
		    Points		    [15, 0; 0, -95]
		    DstBlock		    "shifting SR"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "shifting SR"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "if coasting"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "SRmax=\nwout/win,min"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "wout,req"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "SRmax=\nwout/win,min"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "min,max"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    Points		    [45, 0]
		    DstBlock		    "if coasting"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "K_adv_coast"
		    SrcPort		    1
		    DstBlock		    "SR Look-Up\nTable\nSR=wout/win\nc"
"oast"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "if coasting"
		    SrcPort		    1
		    DstBlock		    ">0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    ">0"
		    SrcPort		    1
		    DstBlock		    "SR"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 60]
		    DstBlock		    "coasting"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "K_adv"
		    SrcPort		    1
		    Points		    [115, 0]
		    DstBlock		    "SR Look-Up\nTable\nSR=wout/win"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "T, shifting"
		  Ports			  [5, 1]
		  Position		  [150, 88, 180, 152]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "T, shifting"
		    Location		    [235, 172, 799, 660]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "TR"
		    Position		    [40, 83, 70, 97]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd \ninput trq"
		    Position		    [35, 28, 65, 42]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Req'd output\ntrq"
		    Position		    [35, 213, 65, 227]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "htc_spd_in_a"
		    Position		    [45, 288, 75, 302]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "SR"
		    Position		    [60, 388, 90, 402]
		    Port		    "5"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>2"
		    Position		    [140, 170, 215, 190]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [200, 50, 230, 80]
		    ShowName		    off
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [170, 380, 200, 410]
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [440, 202, 470, 233]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    Position		    [235, 380, 265, 410]
		    InputValues		    "htc_sr"
		    OutputValues	    "htc_tr"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "T_max"
		    Ports		    [2, 1]
		    Position		    [425, 252, 455, 283]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "T_max"
		    Location		    [289, 327, 860, 583]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    Position		    [20, 45, 40, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "TR"
		    Position		    [25, 180, 45, 200]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [505, 195, 561, 235]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [435, 526, 819, 628]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [192, 36]
		    Text		    "Notes: engine_on flag causes alge"
"bric loop. Is it necessary? \nDoesn't seem to be. Disabled 10/31/00:tm"
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [225, 140, 255, 170]
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [135, 85, 165, 115]
		    Gain		    "tc_mc_to_fc_ratio"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain1"
		    Position		    [255, 85, 285, 115]
		    Gain		    "tc_mc_to_fc_ratio"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [75, 46, 105, 64]
		    FontName		    "Arial"
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "min(fc_map_spd)*fc_spd_scale"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [310, 46, 330, 79]
		    ShowName		    off
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [365, 60, 395, 90]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Tin*TR=\nTout"
		    Ports		    [2, 1]
		    Position		    [435, 65, 455, 105]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max_torque \nmc lookup1"
		    Position		    [195, 88, 225, 112]
		    InputValues		    "mc_map_spd*mc_spd_scale"
		    OutputValues	    "mc_max_trq*mc_overtrq_factor*mc_t"
"rq_scale"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max_torque lookup"
		    Position		    [195, 43, 225, 67]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_max_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_max\nmax gain from htc"
		    Position		    [510, 75, 530, 95]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Tin*TR=\nTout"
		    SrcPort		    1
		    DstBlock		    "T_max\nmax gain from htc"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "TR"
		    SrcPort		    1
		    Points		    [370, 0]
		    DstBlock		    "Tin*TR=\nTout"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "max_torque lookup"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "max_torque lookup"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "max_torque \nmc lookup1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "max_torque \nmc lookup1"
		    SrcPort		    1
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [80, 0; 0, -80]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain1"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [55, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Tin*TR=\nTout"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Tin*TR=\nTout,req"
		    Ports		    [2, 1]
		    Position		    [145, 45, 165, 85]
		    ShowName		    off
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "engine speed\nestimator"
		    Ports		    [1, 1]
		    Position		    [360, 280, 390, 310]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "engine speed\nestimator"
		    Location		    [354, 221, 713, 375]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "htc_spd_in_a"
		    Position		    [40, 38, 70, 52]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory2"
		    Position		    [120, 30, 150, 60]
		    ShowName		    off
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [190, 38, 220, 52]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "htc_spd_in_a"
		    SrcPort		    1
		    DstBlock		    "Memory2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory2"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "shifting,\noverride zero\nTreques"
"t"
		    Position		    [305, 195, 335, 225]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T req"
		    Position		    [500, 213, 530, 227]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "From <vc>2"
		    SrcPort		    1
		    Points		    [15, 0; 0, 30]
		    DstBlock		    "shifting,\noverride zero\nTreques"
"t"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Req'd output\ntrq"
		    SrcPort		    1
		    DstBlock		    "shifting,\noverride zero\nTreques"
"t"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "htc_spd_in_a"
		    SrcPort		    1
		    DstBlock		    "engine speed\nestimator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "SR"
		    SrcPort		    1
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine speed\nestimator"
		    SrcPort		    1
		    Points		    [5, 0; 0, -35]
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    DstBlock		    "T req"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SrcPort		    1
		    Points		    [140, 0]
		    DstBlock		    "T_max"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "shifting,\noverride zero\nTreques"
"t"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "T_max"
		    SrcPort		    1
		    Points		    [10, 0; 0, -25; -45, 0]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [40, 0; 0, 135]
		    DstBlock		    "shifting,\noverride zero\nTreques"
"t"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Req'd \ninput trq"
		    SrcPort		    1
		    Points		    [60, 0]
		    DstBlock		    "Tin*TR=\nTout,req"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "TR"
		    SrcPort		    1
		    Points		    [55, 0]
		    DstBlock		    "Tin*TR=\nTout,req"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Tin*TR=\nTout,req"
		    SrcPort		    1
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "TR"
		  Ports			  [2, 1]
		  Position		  [375, 37, 405, 73]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "TR"
		    Location		    [112, 213, 910, 692]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "SR"
		    Position		    [60, 80, 80, 100]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "coasting"
		    Position		    [230, 265, 250, 285]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "1/SR*TR \nfor coast"
		    Position		    [555, 89, 580, 111]
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [250, 195, 280, 215]
		    ShowName		    off
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <vc>"
		    Position		    [155, 153, 220, 177]
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "locked_up"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [1, 1]
		    Position		    [250, 149, 280, 181]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [290, 259, 320, 291]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    Position		    [230, 75, 260, 105]
		    InputValues		    "htc_sr"
		    OutputValues	    "htc_tr"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "TR Look-Up\nTable\nTR=Tout/Tin\nc"
"oast"
		    Position		    [245, 380, 275, 410]
		    InputValues		    "htc_sr_coast"
		    OutputValues	    "htc_tr_coast"
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace11"
		    Position		    [700, 85, 770, 105]
		    ShowName		    off
		    VariableName	    "htc_efficiency"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "effic=SR*TR"
		    Ports		    [2, 1]
		    Position		    [480, 45, 500, 85]
		    Inputs		    "**"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if coasting"
		    Position		    [400, 260, 430, 290]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "if coasting1"
		    Position		    [640, 80, 670, 110]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "locked up,\nthen TR=1"
		    Position		    [315, 150, 345, 180]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "min,max"
		    Position		    [320, 380, 350, 410]
		    UpperLimit		    "htc_max_coast_tr"
		    LowerLimit		    "htc_min_coast_tr"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "TR"
		    Position		    [620, 265, 640, 285]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "locked up,\nthen TR=1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "locked up,\nthen TR=1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "From <vc>"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "locked up,\nthen TR=1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "locked up,\nthen TR=1"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "if coasting"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "TR Look-Up\nTable\nTR=Tout/Tin\nc"
"oast"
		    SrcPort		    1
		    DstBlock		    "min,max"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "min,max"
		    SrcPort		    1
		    Points		    [30, 0]
		    DstBlock		    "if coasting"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "SR"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    Points		    [0, 305]
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin\nc"
"oast"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "TR Look-Up\nTable\nTR=Tout/Tin"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -35]
		    DstBlock		    "effic=SR*TR"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "coasting"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "if coasting"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "TR"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "effic=SR*TR"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "if coasting"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -45; 280, 0; 0, -135]
		    DstBlock		    "if coasting1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "effic=SR*TR"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    Points		    [90, 0]
		    DstBlock		    "if coasting1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "1/SR*TR \nfor coast"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "1/SR*TR \nfor coast"
		    SrcPort		    1
		    Points		    [40, 0]
		    DstBlock		    "if coasting1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "if coasting1"
		    SrcPort		    1
		    DstBlock		    "To Workspace11"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Tin=\nTout,req/TR"
		  Ports			  [2, 1]
		  Position		  [510, 45, 530, 85]
		  Inputs		  "/*"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Tout=\nTin*TR"
		  Ports			  [2, 1]
		  Position		  [450, 460, 470, 500]
		  Inputs		  "**"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Tout_a = \nTout-\nTinertia"
		  Ports			  [2, 1]
		  Position		  [640, 457, 695, 488]
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Treq, in = \nTin+\nTinertia"
		  Ports			  [2, 1]
		  Position		  [775, 87, 830, 118]
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "effect of inertia\n(Nm)"
		  Ports			  [1, 1]
		  Position		  [505, 192, 535, 228]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [332, 316, 823, 469]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "turbine/output\nspeed (rad/s)"
		    Position		    [50, 15, 70, 35]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [30, 74, 135, 96]
		    FontName		    "Arial"
		    Value		    "htc_inertia"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [290, 13, 310, 57]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Derivative
		    Name		    "d/dt"
		    Position		    [155, 15, 185, 35]
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "inertia torque\n(Nm)"
		    Position		    [380, 25, 400, 45]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "d/dt"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "turbine/output\nspeed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "d/dt"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [70, 0; 0, -40]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "inertia torque\n(Nm)"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [247, 117]
		    VerticalAlignment	    "top"
		    Text		    "This block computes the torque re"
"quired to overcome the inertia of the\nturbine (plus 1/2 fluid in htc)."
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [275, 507, 370, 523]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_spd_in_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [275, 462, 370, 478]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_trq_in_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace10"
		  Ports			  [1]
		  Position		  [895, 142, 990, 158]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace10"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_trq_in_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  Ports			  [1]
		  Position		  [465, 427, 560, 443]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|sr_hist|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_sr_hist"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [465, 357, 560, 373]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|tr_hist|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_tr_hist"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [660, 402, 755, 418]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_inertia|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_trq_inertia"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  Ports			  [1]
		  Position		  [770, 432, 865, 448]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_trq_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  Ports			  [1]
		  Position		  [770, 542, 865, 558]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_spd_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  Ports			  [1]
		  Position		  [230, 152, 325, 168]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_trq_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace8"
		  Ports			  [1]
		  Position		  [230, 52, 325, 68]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_spd_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace9"
		  Ports			  [1]
		  Position		  [895, 272, 990, 288]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace9"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "htc_spd_in_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Switch
		  Name			  "shifting,\nignore inertia\ntorque i"
"n request"
		  Position		  [690, 140, 720, 170]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Product
		  Name			  "win=\nwout/SR"
		  Ports			  [2, 1]
		  Position		  [450, 260, 470, 300]
		  Inputs		  "*/"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "wout=\nwin*SR"
		  Ports			  [2, 1]
		  Position		  [440, 530, 460, 570]
		  Inputs		  "**"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "req'd input\ntrq and spd\n(Nm), (ra"
"d/s)"
		  Position		  [980, 193, 1010, 207]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "trq and spd\navailable at\noutput ("
"Nm), (rad/s)"
		  Position		  [900, 478, 930, 492]
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "From <vc>"
		  SrcPort		  1
		  Points		  [25, 0; 0, 15]
		  DstBlock		  "shifting,\nignore inertia\ntorque i"
"n request"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  ">0."
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -55]
		    DstBlock		    "Mux3"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "wout=\nwin*SR"
		  SrcPort		  1
		  DstBlock		  ">0."
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux3"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    Points		    [0, -20]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Tout=\nTin*TR"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "trq and spd\navailable at\ninput (N"
"m), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Tout=\nTin*TR"
		  SrcPort		  1
		  DstBlock		  "Tout_a = \nTout-\nTinertia"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "trq and spd\navailable at\noutput ("
"Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "win=\nwout/SR"
		  SrcPort		  1
		  DstBlock		  ">0\n"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "T, shifting"
		  SrcPort		  1
		  Points		  [0, 0; 0, 60]
		  Branch {
		    Points		    [0, 100]
		    DstBlock		    "Mux4"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [25, 0]
		    Branch {
		    Points		    [0, -20]
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [210, 0; 0, -105]
		    DstBlock		    "Tin=\nTout,req/TR"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  1
		  Points		  [5, 0; 0, -55]
		  DstBlock		  "T, shifting"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Demux3"
		  SrcPort		  2
		  Points		  [0, 0; 10, 0]
		  Branch {
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "wout=\nwin*SR"
		    DstPort		    2
		    }
		  }
		  Branch {
		    Points		    [0, -55]
		    Branch {
		    Points		    [0, -150]
		    DstBlock		    "SR"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [-110, 0; 0, -330]
		    DstBlock		    "T, shifting"
		    DstPort		    4
		    }
		  }
		}
		Line {
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "SR"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "SR"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    Points		    [55, 0]
		    Branch {
		    DstBlock		    "win=\nwout/SR"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "wout=\nwin*SR"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [-270, 0]
		    DstBlock		    "T, shifting"
		    DstPort		    5
		    }
		    }
		  }
		  Branch {
		    Points		    [0, -245]
		    DstBlock		    "TR"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Tout_a = \nTout-\nTinertia"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    Points		    [0, -35]
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  2
		  Points		  [0, 0; 85, 0]
		  Branch {
		    Points		    [0, -155]
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -10]
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [240, 0; 0, 5]
		    Branch {
		    DstBlock		    "win=\nwout/SR"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		    }
		    }
		  }
		}
		Line {
		  SrcBlock		  ">0\n"
		  SrcPort		  1
		  Points		  [175, 0; 0, 0]
		  Branch {
		    DstBlock		    "enhancedToWorkspace9"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -70]
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [25, 0]
		  DstBlock		  "shifting,\nignore inertia\ntorque i"
"n request"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "effect of inertia\n(Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 75, 0]
		  Branch {
		    Points		    [0, 200]
		    Branch {
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Tout_a = \nTout-\nTinertia"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [20, 0; 0, -45]
		    DstBlock		    "shifting,\nignore inertia\ntorque"
" in request"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "TR"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    Points		    [0, 310]
		    Branch {
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "Tout=\nTin*TR"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [55, 0]
		    Branch {
		    DstBlock		    "Tin=\nTout,req/TR"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -25; -350, 0]
		    DstBlock		    "T, shifting"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "SR"
		  SrcPort		  2
		  Points		  [25, 0]
		  DstBlock		  "TR"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "req'd input\ntrq and spd\n(Nm), (ra"
"d/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Treq, in = \nTin+\nTinertia"
		  SrcPort		  1
		  Points		  [0, 45; 15, 0]
		  Branch {
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "enhancedToWorkspace10"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, -135; -725, 0; 0, 105]
		    DstBlock		    "T, shifting"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "shifting,\nignore inertia\ntorque i"
"n request"
		  SrcPort		  1
		  Points		  [35, 0]
		  DstBlock		  "Treq, in = \nTin+\nTinertia"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Tin=\nTout,req/TR"
		  SrcPort		  1
		  Points		  [225, 0]
		  DstBlock		  "Treq, in = \nTin+\nTinertia"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "req'd output\ntrq and spd\n(Nm), (r"
"ad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux2"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [350, 141, 405, 169]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 73, 966, 748]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "htc_trq_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "htc_spd_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [430, 103, 460, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  Name			  "htc_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  Name			  "htc_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "requested\noutput"
	      Position		      [500, 148, 530, 162]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\ninput\nrequest"
	      Position		      [500, 213, 530, 227]
	      NamePlacement	      "alternate"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\noutput\nachieved"
	      Position		      [500, 243, 530, 257]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [640, 413, 670, 427]
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Ground"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      Points		      [5, 0]
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      Points		      [0, -15]
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "requested\noutput"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd\ninput\nachieved"
	      SrcPort		      1
	      DstBlock		      "model for parallel HEV"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "model for parallel HEV"
	      SrcPort		      2
	      DstBlock		      "trq and spd\noutput\nachieved"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "model for parallel HEV"
	      SrcPort		      1
	      DstBlock		      "trq and spd\ninput\nrequest"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd\noutput\nrequest"
	      SrcPort		      1
	      Points		      [0, 0; 50, 0]
	      Branch {
		DstBlock		"model for parallel HEV"
		DstPort			1
	      }
	      Branch {
		Points			[0, -65]
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	    }
	    Annotation {
	      Position		      [382, 335]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      Position		      [377, 110]
	      BackgroundColor	      "yellow"
	      Text		      "Model"
	      FontName		      "Arial"
	      FontSize		      18
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [15, 211, 125, 249]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "htcControl"
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [390, 44, 490, 86]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "htcReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [390, 209, 490, 251]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "htcSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T & w input\nrequested"
	  Position		  [410, 138, 440, 152]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T & w output\navailable"
	  Position		  [350, 153, 380, 167]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [5, 0; 0, -55]
	  DstBlock		  "HTC for parallel\nHEV and Interface"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "T & w input\navailable"
	  SrcPort		  1
	  DstBlock		  "HTC for parallel\nHEV and Interface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "T & w output\nrequested"
	  SrcPort		  1
	  DstBlock		  "HTC for parallel\nHEV and Interface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "HTC for parallel\nHEV and Interface"
	  SrcPort		  3
	  DstBlock		  "T & w output\navailable"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "HTC for parallel\nHEV and Interface"
	  SrcPort		  2
	  DstBlock		  "T & w input\nrequested"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "HTC for parallel\nHEV and Interface"
	  SrcPort		  4
	  Points		  [85, 0; 0, 55]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "HTC for parallel\nHEV and Interface"
	  SrcPort		  1
	  Points		  [85, 0; 0, -65]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Annotation {
	  Position		  [222, 35]
	  BackgroundColor	  "yellow"
	  Text			  "Hydraulic Torque Converter"
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "motor/controller\n<mc>"
      Ports		      [2, 2]
      Position		      [580, 173, 645, 222]
      AncestorBlock	      "lib_electric_machine2/motor//controller\n<mc>"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone Motor/Controller Mask"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'mc'|Log|{}|{}|'bdi_mc.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"motor/controller\n<mc>"
	Location		[206, 73, 966, 748]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "trq and spd\nout\nrequested"
	  Position		  [100, 163, 130, 177]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "electric power\nin\nachieved"
	  Position		  [100, 188, 130, 202]
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [155, 241, 265, 279]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "mcControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "motor model &\ninterface"
	  Ports			  [3, 4]
	  Position		  [310, 156, 375, 259]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "motor model &\ninterface"
	    Location		    [202, 73, 966, 748]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "96"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\nout\nrequested"
	      Position		      [205, 48, 235, 62]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "electric power\nin\nachieved"
	      Position		      [205, 138, 235, 152]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      Position		      [20, 358, 50, 372]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>1"
	      Position		      [110, 249, 230, 271]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "key_on"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>2"
	      Position		      [110, 424, 230, 446]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "current_veh_mass"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>3"
	      Position		      [110, 214, 230, 236]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "v_prev"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>4"
	      Position		      [110, 284, 230, 306]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "veh_spd_a_rec_prev"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>5"
	      Position		      [110, 319, 230, 341]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "bus_voltage_prev"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>6"
	      Position		      [110, 354, 230, 376]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mpha_prev"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>7"
	      Position		      [110, 459, 230, 481]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>8"
	      Position		      [110, 389, 230, 411]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "cyc_mph_r_prev"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>9"
	      Position		      [110, 494, 230, 516]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mc_init_spd_est"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Block NOTES"
	      Ports		      []
	      Position		      [75, 90, 154, 145]
	      BackgroundColor	      "green"
	      ShowName		      off
	      FontName		      "Arial"
	      FontSize		      16
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "disp('Block\\nNOTES')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Block NOTES"
		Location		[376, 286, 928, 570]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Annotation {
		  Position		  [249, 153]
		  Text			  "Note: The block interface will auto"
"-configure itself based upon the generalName variable set in \nthe subsystem "
"component mask. The user must connect and create/configure the control block "
"\nup correctly based upon the control (nControl), sensor (nSensors), and requ"
"ested out signals (nReqOut)."
		}
		Annotation {
		  Position		  [247, 32]
		  VerticalAlignment	  "top"
		  Text			  "This motor/controller model include"
"s loss data, rotational inertia, and performance limits."
		}
		Annotation {
		  Position		  [256, 84]
		  Text			  "Available torque is computed from a"
"vailable power by assuming that the ratio of rotor torque to input\n(electric"
") power is the same for the actual/achievable situation as was computed for t"
"he request.  This\nis mathematically equivalent to assuming that the motor/co"
"ntroller efficiency.  Rotor speed for the\nactual/achievable calculations is "
"as computed in the 'request' branch."
		}
	      }
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [9, 1]
	      Position		      [700, 229, 715, 511]
	      ShowName		      off
	      Inputs		      "9"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 9]
	      Position		      [75, 209, 85, 521]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "9"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From"
	      Position		      [470, 239, 595, 261]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "mc_trq_out_a"
	      Port {
		PortNumber		1
		Name			"mc_trq_out_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      Position		      [470, 419, 595, 441]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "mc_max_crrnt"
	      Port {
		PortNumber		1
		Name			"mc_max_crrnt"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From2"
	      Position		      [470, 269, 595, 291]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "mc_spd_out_a"
	      Port {
		PortNumber		1
		Name			"mc_spd_out_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From3"
	      Position		      [470, 299, 595, 321]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "mc_trq_limited"
	      Port {
		PortNumber		1
		Name			"mc_trq_limited"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From4"
	      Position		      [470, 329, 595, 351]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "P_mc_in_1lim"
	      Port {
		PortNumber		1
		Name			"P_mc_in_1lim"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From5"
	      Position		      [470, 359, 595, 381]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_mc_out_r"
	      Port {
		PortNumber		1
		Name			"w_mc_out_r"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From6"
	      Position		      [470, 389, 595, 411]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "mc_spd_limited"
	      Port {
		PortNumber		1
		Name			"mc_spd_limited"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From7"
	      Position		      [470, 449, 595, 471]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "P_mc_in_r"
	      Port {
		PortNumber		1
		Name			"P_mc_in_r"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From8"
	      Position		      [470, 479, 595, 501]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "mc_crrnt_limited"
	      Port {
		PortNumber		1
		Name			"mc_crrnt_limited"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      Position		      [234, 249, 342, 271]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "key_on"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility10"
	      Position		      [234, 354, 342, 376]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mpha_prev"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility11"
	      Position		      [359, 389, 467, 411]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mc_spd_limited"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility12"
	      Position		      [234, 424, 342, 446]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "current_veh_mass"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility13"
	      Position		      [234, 389, 342, 411]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "cyc_mph_r_prev"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility14"
	      Position		      [359, 419, 467, 441]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mc_max_crrnt"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility15"
	      Position		      [234, 459, 342, 481]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "shifting"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility16"
	      Position		      [359, 449, 467, 471]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "P_mc_in_r"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility17"
	      Position		      [359, 479, 467, 501]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mc_crrnt_limited"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility18"
	      Position		      [234, 494, 342, 516]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mc_init_spd_est"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [359, 269, 467, 291]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mc_spd_out_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility3"
	      Position		      [359, 239, 466, 260]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mc_trq_out_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      Position		      [234, 284, 342, 306]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "veh_spd_a_rec_prev"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility5"
	      Position		      [359, 299, 467, 321]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mc_trq_limited"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility6"
	      Position		      [359, 329, 467, 351]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "P_mc_in_1lim"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility7"
	      Position		      [359, 359, 467, 381]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "w_mc_out_r"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility8"
	      Position		      [234, 319, 342, 341]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "bus_voltage_prev"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility9"
	      Position		      [234, 214, 341, 235]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "v_prev"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "help"
	      Ports		      []
	      Position		      [80, 28, 112, 67]
	      BackgroundColor	      "yellow"
	      DropShadow	      on
	      ShowName		      off
	      OpenFcn		      "web(['file:\\\\\\' which('motor_control"
"ler.htm')]);"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "image(imread('doc_man.jpg'))"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"help"
		Location		[203, 331, 569, 538]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "mc model"
	      Ports		      [2, 2]
	      Position		      [330, 80, 380, 120]
	      BackgroundColor	      "yellow"
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"mc model"
		Location		[206, 77, 966, 736]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed\n req'd at rotor\n"
"(Nm), (rad/s)"
		  Position		  [45, 70, 65, 90]
		  FontName		  "Arial"
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "available motor\ninput power (W)"
		  Position		  [35, 315, 55, 335]
		  FontName		  "Arial"
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>"
		  Position		  [445, 263, 540, 287]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "mc_trq_out_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "<sdo>1"
		  Position		  [385, 358, 490, 382]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "mc_spd_out_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  From
		  Name			  "<vc>"
		  Position		  [560, 392, 620, 408]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "v_prev"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [765, 190, 821, 230]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [206, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [256, 69]
		    Text		    "Available torque is computed from"
" available power by assuming that the ratio of rotor torque to input\n(electr"
"ic) power is the same for the actual/achievable situation as was computed for"
" the request.  This\nis mathematically equivalent to assuming that the motor/"
"controller efficiency.  Rotor speed for the\nactual/achievable calculations i"
"s as computed in the 'request' branch."
		    }
		    Annotation {
		    Position		    [247, 17]
		    VerticalAlignment	    "top"
		    Text		    "This motor/controller model inclu"
"des loss data, rotational inertia, and performance limits."
		    }
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [100, 21, 125, 134]
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn"
		  Position		  [575, 371, 600, 389]
		  ShowName		  off
		  Expr			  "u(3)-u(1)*u(2)"
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc>"
		  Position		  [560, 411, 630, 429]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "key_on"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [500, 302, 520, 353]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [550, 351, 555, 404]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "N-m drive torque\nper W input"
		  Ports			  [2, 1]
		  Position		  [665, 152, 695, 183]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "N-m drive torque\nper W input"
		    Location		    [206, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "req'd input power\n(W)"
		    Position		    [55, 50, 75, 70]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "req'd rotor drive torque\n(Nm)"
		    Position		    [55, 120, 75, 140]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [395, 160, 451, 200]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [206, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [223, 58]
		    Text		    "This block determines the ratio o"
"f req'd rotor torque to req'd electrical input power,\n which is proportional"
" to efficiency if the motor is providing torque.  This ratio is used\nto comp"
"ute actual rotor torque given some input power which may be different from\nt"
"he req'd value.\n\nIf the denominator, the req'd input power, is zero, this b"
"lock outputs inf,\nwhich is a flag used by the block .../rotor drive torque a"
"vailable (Nm)."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [90, 15, 110, 35]
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [205, 155, 225, 175]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [295, 155, 315, 175]
		    Value		    "inf"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [220, 47, 250, 78]
		    Inputs		    "/*"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [260, 92, 290, 123]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [150, 37, 180, 68]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [345, 60, 375, 90]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Nm per W"
		    Position		    [425, 65, 445, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -50]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "req'd input power\n(W)"
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Nm per W"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [25, 0; 0, -35]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "req'd rotor drive torque\n(Nm)"
		    SrcPort		    1
		    Points		    [120, 0; 0, -60]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  Position		  [190, 90, 220, 120]
		  UpperLimit		  "max(mc_map_spd)*mc_spd_scale"
		  LowerLimit		  "0"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [385, 45, 405, 65]
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [385, 305, 405, 325]
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Constant
		  Name			  "do ex calcs?"
		  Position		  [665, 335, 725, 350]
		  Orientation		  "down"
		  ShowName		  off
		  Value			  "mc_th_calc"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "documentation10"
		  Ports			  []
		  Position		  [835, 191, 864, 230]
		  BackgroundColor	  "orange"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('motor_con"
"troller.htm')]);"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "image(imread('doc_man.jpg'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "documentation10"
		    Location		    [206, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "effect of inertia\n(Nm)"
		  Ports			  [1, 1]
		  Position		  [320, 86, 350, 124]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "effect of inertia\n(Nm)"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "mc_spd_out_a"
		    Position		    [35, 25, 55, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [500, 195, 556, 235]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [226, 34]
		    Text		    "Torque required to accelerate the"
" motor's inertia is calculated from the rate of change\nof mc_spd_out_a.  It "
"is no greater than the product of the maximum motor torque and\nthe fractiona"
"l contribution of the motor's inertia to the total vehicle inertia."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [75, 330, 95, 350]
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [140, 83, 405, 107]
		    Value		    "max(mc_max_trq)*mc_trq_scale*mc_o"
"vertrq_factor"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [190, 334, 355, 356]
		    Orientation		    "left"
		    Value		    "gb_ratio(1)*fd_ratio/wh_radius"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <wh>/\ntire slip model (m/s)"
		    Position		    [10, 259, 105, 291]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "veh_spd_a_rec_prev"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [165, 14, 245, 56]
		    Gain		    "mc_inertia"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [105, 175, 135, 205]
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [480, 27, 510, 58]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [425, 87, 455, 118]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [135, 267, 165, 298]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [195, 280, 225, 310]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Derivative
		    Name		    "alpha"
		    Position		    [100, 25, 130, 45]
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "motor inertia as a function of to"
"tal\nvehicle inertia (generous approximation)"
		    Ports		    [1, 1]
		    Position		    [285, 125, 315, 175]
		    Orientation		    "up"
		    BackgroundColor	    "darkGreen"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "motor inertia as a function of to"
"tal\nvehicle inertia (generous approximation)"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "gear ratio"
		    Position		    [55, 20, 85, 30]
		    Orientation		    "down"
		    NamePlacement	    "alternate"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [85, 201, 205, 229]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "current_veh_mass"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [162, 275, 193, 310]
		    Orientation		    "down"
		    NamePlacement	    "alternate"
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [265, 205, 285, 225]
		    Orientation		    "down"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "++|"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--denomenator"
		    Position		    [230, 160, 320, 180]
		    Orientation		    "down"
		    Expr		    "mc_inertia*u^2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--numerator"
		    Position		    [23, 100, 117, 120]
		    Orientation		    "down"
		    Expr		    "mc_inertia*u^2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [165, 370, 195, 385]
		    Orientation		    "down"
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [0, 30]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--denomenator"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gear ratio"
		    SrcPort		    1
		    Points		    [0, 30]
		    Branch {
		    Points		    [205, 0]
		    DstBlock		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--denomenator"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--numerator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "engine inertia\nas a fraction of"
"\ntotal vehicle\ninertia \n(generous\napproximation)--numerator"
		    SrcPort		    1
		    Points		    [0, 135]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "overall gear ratio\n/\nwh_radius"
		    Ports		    [2, 1]
		    Position		    [190, 182, 220, 213]
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [555, 35, 575, 55]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [0, -30; -55, 0]
		    DstBlock		    "overall gear ratio\n/\nwh_radius"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-5, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "From <wh>/\ntire slip model (m/s)"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "motor inertia as a function of to"
"tal\nvehicle inertia (generous approximation)"
		    SrcPort		    1
		    Points		    [0, -10]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "overall gear ratio\n/\nwh_radius"
		    SrcPort		    1
		    Points		    [75, 0]
		    DstBlock		    "motor inertia as a function of to"
"tal\nvehicle inertia (generous approximation)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "mc_spd_out_a"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "alpha"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 155]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "alpha"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "overall gear ratio\n/\nwh_radius"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enforce\ntorque\nlimit"
		  Ports			  [2, 1]
		  Position		  [435, 44, 470, 91]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "enforce\ntorque\nlimit"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "req'd motor\ntorque (Nm)"
		    Position		    [45, 68, 75, 82]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "limited motor\nspeed (rad/s)"
		    Position		    [45, 148, 75, 162]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [470, 155, 526, 195]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [207, 39]
		    Text		    "This block enforces the maximum t"
"orque production and absorption\ncapability limits of the motor.  It assumes "
"that exactly as much torque\ncan be absorbed as can be produced at a given sp"
"eed."
		    }
		    }
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>"
		    Position		    [490, 16, 595, 44]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "mc_trq_limited"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [340, 67, 370, 98]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax1"
		    Ports		    [2, 1]
		    Position		    [340, 132, 370, 163]
		    Function		    "max"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    Position		    [440, 12, 470, 43]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [440, 80, 470, 110]
		    Threshold		    "0"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    Ports		    [1]
		    Position		    [215, 167, 310, 183]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|max_trq_vec|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_max_trq_vec"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max gen torque"
		    Position		    [140, 185, 170, 205]
		    InputValues		    "mc_map_spd*mc_spd_scale"
		    OutputValues	    "mc_max_gen_trq*mc_overtrq_factor*"
"mc_trq_scale"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max torque"
		    Position		    [140, 145, 170, 165]
		    InputValues		    "mc_map_spd*mc_spd_scale"
		    OutputValues	    "mc_max_trq*mc_overtrq_factor*mc_t"
"rq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "limited motor\ntorque (Nm)"
		    Position		    [520, 88, 550, 102]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "max gen torque"
		    SrcPort		    1
		    Points		    [150, 0]
		    DstBlock		    "MinMax1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "limited motor\nspeed (rad/s)"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "max gen torque"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "max torque"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    DstBlock		    "Goto <sdo>"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "MinMax1"
		    SrcPort		    1
		    Points		    [30, 0; 0, -45]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "limited motor\ntorque (Nm)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -25; -65, 0]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "req'd motor\ntorque (Nm)"
		    SrcPort		    1
		    Points		    [225, 0]
		    Branch {
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "MinMax1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [80, 0; 0, -25]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    }
		    Branch {
		    Points		    [0, -55]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "max torque"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [20, 0; 0, -65]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [220, 367, 315, 383]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|pwr_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_pwr_in_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [142, 270, 238, 290]
		  Orientation		  "up"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|ni_trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_ni_trq_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  Ports			  [1]
		  Position		  [35, 197, 130, 213]
		  Orientation		  "left"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_spd_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [35, 157, 130, 173]
		  Orientation		  "left"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_trq_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [567, 335, 663, 355]
		  Orientation		  "up"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|pwr_loss|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_pwr_loss"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  Ports			  [1]
		  Position		  [765, 377, 860, 393]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|mc_tmp|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_mc_tmp"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  Ports			  [1]
		  Position		  [765, 412, 860, 428]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|clt_th_pwr|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_clt_th_pwr"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  Ports			  [1]
		  Position		  [745, 97, 840, 113]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|pwr_in_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_pwr_in_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace8"
		  Ports			  [1]
		  Position		  [385, 407, 480, 423]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_spd_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace9"
		  Ports			  [1]
		  Position		  [450, 222, 545, 238]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace9"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_trq_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "mc tmp"
		  Ports			  [3, 2, 1]
		  Position		  [645, 366, 745, 434]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "mc tmp"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Qmc_gen"
		    Position		    [35, 35, 55, 55]
		    NamePlacement	    "alternate"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "veh spd"
		    Position		    [35, 65, 55, 85]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "key ON?"
		    Position		    [455, 35, 475, 55]
		    NamePlacement	    "alternate"
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [30, 122, 60, 148]
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1/mcp"
		    Position		    [590, 93, 615, 117]
		    Gain		    "1/(mc_mass*mc_cp)"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">=0"
		    Position		    [640, 35, 650, 55]
		    NamePlacement	    "alternate"
		    UpperLimit		    "Inf"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    ">=0 "
		    Position		    [170, 35, 180, 55]
		    NamePlacement	    "alternate"
		    UpperLimit		    "Inf"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [675, 135, 731, 175]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [172, 38]
		    Text		    "This block models the thermal beh"
"avior of a motor \nand controller  with active fluid cooling.\nThe module is "
"modeled as a single lumped thermal mass.  \nThe fan is on whenever the batter"
"y temp is > the set temp."
		    }
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux10"
		    Ports		    [2, 1]
		    Position		    [320, 74, 325, 121]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux9"
		    Ports		    [2, 1]
		    Position		    [240, 65, 245, 105]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qa"
		    Position		    [350, 91, 390, 109]
		    NamePlacement	    "alternate"
		    FontName		    "Arial"
		    Expr		    "u(1)*(mc_sarea*mc_trq_scale*mc_sp"
"d_scale)*u(2)"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qc1"
		    Ports		    [2, 1]
		    Position		    [560, 86, 570, 119]
		    ShowName		    off
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qnet"
		    Ports		    [3, 1]
		    Position		    [410, 54, 420, 146]
		    NamePlacement	    "alternate"
		    IconShape		    "rectangular"
		    Inputs		    "+++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qp2a,v7"
		    Position		    [145, 86, 220, 104]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "amb_tmp-u(1)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qr"
		    Position		    [350, 122, 390, 138]
		    FontName		    "Arial"
		    Expr		    "0.9*(5.67e-8)*(mc_sarea*mc_trq_sc"
"ale*mc_spd_scale)*((amb_tmp+273)^4 - (u(1)+273)^4)"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Tmc3"
		    Ports		    [1, 1]
		    Position		    [630, 95, 650, 115]
		    ShowName		    off
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    InitialCondition	    "mc_init_tmp"
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    ShowSaturationPort	    off
		    ShowStatePort	    off
		    AbsoluteTolerance	    "auto"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Va/Vv"
		    Position		    [90, 62, 120, 88]
		    Gain		    "0.5"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "ha"
		    Position		    [260, 76, 295, 94]
		    NamePlacement	    "alternate"
		    FontName		    "Arial"
		    Expr		    "6 + 6*((abs(u(2))/1000))^0.25 + 6"
"0*(abs(u(1))/30)^0.63"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "mc coolant"
		    Ports		    [2, 1, 1]
		    Position		    [445, 77, 530, 108]
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "mc coolant"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Tcl"
		    Position		    [15, 58, 45, 72]
		    NamePlacement	    "alternate"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Qmc "
		    Position		    [20, 78, 50, 92]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [186, 25, 223, 43]
		    NamePlacement	    "alternate"
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [50, 44, 95, 56]
		    ShowName		    off
		    Value		    "mc_tstat"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [165, 62, 180, 93]
		    ShowName		    off
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [120, 44, 140, 71]
		    ShowName		    off
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qmc_clt"
		    Position		    [200, 73, 230, 87]
		    NamePlacement	    "alternate"
		    Port		    "1"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Tcl"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qmc "
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "Qmc_clt"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Tmc"
		    Position		    [695, 95, 715, 115]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qmc_clt"
		    Position		    [695, 35, 715, 55]
		    Port		    "2"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Qnet"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, 25; 115, 0]
		    DstBlock		    "Qc1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "mc coolant"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Qc1"
		    SrcPort		    1
		    DstBlock		    "1/mcp"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "1/mcp"
		    SrcPort		    1
		    DstBlock		    "Tmc3"
		    DstPort		    1
		    }
		    Line {
		    Labels		    [0, 0]
		    SrcBlock		    "Tmc3"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, 50; -330, 0]
		    Branch {
		    Points		    [-205, 0]
		    DstBlock		    "Qp2a,v7"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Qr"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Tmc"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, -40; -225, 0]
		    DstBlock		    "mc coolant"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "mc coolant"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "Qc1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    ">=0"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    ">=0"
		    SrcPort		    1
		    DstBlock		    "Qmc_clt"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "key ON?"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "mc coolant"
		    DstPort		    enable
		    }
		    Line {
		    SrcBlock		    "veh spd"
		    SrcPort		    1
		    DstBlock		    "Va/Vv"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qa"
		    SrcPort		    1
		    DstBlock		    "Qnet"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    ">=0 "
		    SrcPort		    1
		    Points		    [210, 0]
		    DstBlock		    "Qnet"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qmc_gen"
		    SrcPort		    1
		    DstBlock		    ">=0 "
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qr"
		    SrcPort		    1
		    DstBlock		    "Qnet"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Qp2a,v7"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, 15]
		    DstBlock		    "Mux10"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Mux9"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "ha"
		    SrcPort		    1
		    DstBlock		    "Mux10"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Va/Vv"
		    SrcPort		    1
		    DstBlock		    "Mux9"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux9"
		    SrcPort		    1
		    DstBlock		    "ha"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux10"
		    SrcPort		    1
		    DstBlock		    "Qa"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "motor controller\nlogic interface"
		  Ports			  [2, 1]
		  Position		  [620, 14, 695, 76]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "motor controller\nlogic interface"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "w_mc_out_r"
		    Position		    [40, 205, 60, 225]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "P_mc_in_1lim"
		    Position		    [40, 105, 60, 125]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From1"
		    Position		    [90, 154, 215, 176]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "shifting"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From4"
		    Position		    [100, 44, 225, 66]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "bus_voltage_prev"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>"
		    Position		    [95, 197, 185, 233]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "w_mc_out_r"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>1"
		    Position		    [95, 98, 185, 132]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "P_mc_in_1lim"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <vc>2"
		    Position		    [460, 43, 550, 77]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "P_mc_in_r"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "motor controller\nlogic"
		    Ports		    [4, 1]
		    Position		    [275, 40, 305, 160]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "motor controller\nlogic"
		    Location		    [206, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "bus voltage \nprevious"
		    Position		    [40, 30, 60, 50]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "req'd input\npower (W)"
		    Position		    [40, 160, 60, 180]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "req'd output\nspd (rad/s)"
		    Position		    [40, 280, 60, 300]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "shifting"
		    Position		    [40, 385, 60, 405]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Abs
		    Name		    "Abs"
		    Position		    [205, 123, 235, 147]
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Abs
		    Name		    "Abs1"
		    Position		    [105, 278, 135, 302]
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [590, 385, 646, 425]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [206, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [257, 40]
		    Text		    "This block models a motor/control"
"ler's logic, modulating the power input requirement as follows:\n- enforcing "
"the maximum current limit of the motor/controller\n- shutting the motor off i"
"f the average speed over the time step ==0\n- shutting the motor off if the t"
"ransmission is shifting."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [95, 79, 165, 101]
		    FontName		    "Arial"
		    Value		    "mc_max_crrnt"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [140, 348, 175, 372]
		    FontName		    "Arial"
		    Value		    "0.001"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [500, 232, 520, 258]
		    Orientation		    "left"
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>"
		    Position		    [545, 23, 645, 47]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "mc_crrnt_limited"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [434, 240, 466, 275]
		    Orientation		    "up"
		    NamePlacement	    "alternate"
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    MinMax
		    Name		    "MinMax"
		    Ports		    [2, 1]
		    Position		    [270, 37, 300, 68]
		    Function		    "min"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [210, 36, 230, 54]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [230, 282, 260, 313]
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    Position		    [490, 17, 520, 48]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Sign"
		    Ports		    [1, 1]
		    Position		    [270, 157, 300, 183]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "Sign"
		    MaskDescription	    "y = sign(x)"
		    MaskHelp		    "Sign Function:\\n\\t\\t\\ty = 1 i"
"f x > 0\\n\\t\\t\\ty = 0 if x = 0\\n\\t\\t\\ty = -1 if x < 0"
		    MaskDisplay		    "plot(-50,-50,50,50,[-50,50],[0,0]"
",[0,0],[-50,50],[-40,0],[-30,-30],[0,40],[30,30])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Sign"
		    Location		    [206, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [35, 30, 55, 50]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [65, 105, 85, 125]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [140, 32, 170, 63]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [140, 92, 170, 123]
		    Operator		    "<"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [215, 64, 235, 91]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [265, 70, 285, 90]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [10, 0; 0, 20]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -25]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, -60]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    Points		    [0, 60]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [495, 180, 525, 210]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "current-limited\npower"
		    Ports		    [2, 1]
		    Position		    [365, 51, 385, 69]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "true if motor\nshould be\nshut do"
"wn"
		    Ports		    [2, 1]
		    Position		    [385, 292, 415, 323]
		    Operator		    "OR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "req'd input\npower (W)1"
		    Position		    [590, 185, 610, 205]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "shifting"
		    SrcPort		    1
		    Points		    [290, 0; 0, -80]
		    DstBlock		    "true if motor\nshould be\nshut do"
"wn"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [0, -40]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "true if motor\nshould be\nshut do"
"wn"
		    SrcPort		    1
		    Points		    [30, 0]
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "bus voltage \nprevious"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [20, 0; 0, -40]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "req'd input\npower (W)"
		    SrcPort		    1
		    Points		    [105, 0]
		    Branch {
		    Points		    [0, -35]
		    DstBlock		    "Abs"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sign"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Abs"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "MinMax"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sign"
		    SrcPort		    1
		    Points		    [20, 0; 0, -105]
		    DstBlock		    "current-limited\npower"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "req'd input\npower (W)1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "current-limited\npower"
		    SrcPort		    1
		    Points		    [60, 0; 0, 125]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -20]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "MinMax"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "current-limited\npower"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    DstBlock		    "Goto <sdo>"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "true if motor\nshould be\nshut do"
"wn"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -55]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "req'd output\nspd (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Abs1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Abs1"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "P_mc_in_r"
		    Position		    [485, 90, 505, 110]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "w_mc_out_r"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Goto <vc>"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -70; 120, 0; 0, -30]
		    DstBlock		    "motor controller\nlogic"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "P_mc_in_1lim"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Goto <vc>1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -30]
		    DstBlock		    "motor controller\nlogic"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "motor controller\nlogic"
		    SrcPort		    1
		    Points		    [110, 0; 15, 0]
		    Branch {
		    DstBlock		    "P_mc_in_r"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -40]
		    DstBlock		    "Goto <vc>2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "From4"
		    SrcPort		    1
		    DstBlock		    "motor controller\nlogic"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From1"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "motor controller\nlogic"
		    DstPort		    4
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "motor speed\nestimator"
		  Ports			  [1, 1]
		  Position		  [255, 64, 285, 96]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "motor speed\nestimator"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "mc_spd_out_a"
		    Position		    [45, 33, 75, 47]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "<= max spd"
		    Position		    [545, 120, 575, 150]
		    UpperLimit		    "max(mc_map_spd)*mc_spd_scale"
		    LowerLimit		    "-inf"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [730, 360, 786, 400]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [167, 41]
		    Text		    "The requested motor speed is repl"
"aced by an estimate of the\nmotor's previous speed, for loss and max. torque "
"calculations,\nwhenever the vehicle missed the trace by more than 1 mph\non t"
"he last time step."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [165, 240, 185, 260]
		    Orientation		    "left"
		    Value		    "eps"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [315, 165, 335, 185]
		    Orientation		    "left"
		    ShowName		    off
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [230, 360, 250, 380]
		    Orientation		    "left"
		    Value		    "2"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <cyc>"
		    Position		    [30, 304, 120, 336]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "cyc_mph_r_prev"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <cyc>1"
		    Position		    [230, 203, 345, 237]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "mc_init_spd_est"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <veh>"
		    Position		    [30, 99, 85, 131]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "mpha_prev"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <wh>/\ntire slip model (m/s)"
		    Position		    [30, 184, 120, 216]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "veh_spd_a_rec_prev"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [150, 97, 190, 133]
		    Gain		    "0.447"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>1"
		    Position		    [705, 42, 800, 68]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "mc_spd_limited"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    InitialCondition
		    Name		    "IC"
		    Position		    [310, 310, 340, 340]
		    Value		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [2, 1]
		    Position		    [660, 37, 690, 68]
		    Operator		    "AND"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [178, 60, 212, 80]
		    Orientation		    "down"
		    NamePlacement	    "alternate"
		    ShowName		    off
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory2"
		    Position		    [605, 60, 635, 90]
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [3, 1]
		    Position		    [215, 99, 245, 131]
		    Inputs		    "**/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational"
		    Position		    [225, 307, 255, 338]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [545, 27, 575, 58]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [160, 192, 190, 223]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [160, 297, 190, 328]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [310, 110, 340, 140]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [465, 120, 495, 150]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    Ports		    [1]
		    Position		    [630, 187, 725, 203]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|spd_est|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "mc_spd_est"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "init via port"
		    Ports		    [2, 1]
		    Position		    [380, 96, 430, 149]
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "init via port"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "signal in"
		    Position		    [170, 168, 200, 182]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "signal init"
		    Position		    [175, 308, 205, 322]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [225, 230, 255, 260]
		    ShowName		    off
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    InitialCondition
		    Name		    "IC"
		    Position		    [295, 230, 325, 260]
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [425, 230, 455, 260]
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "signal out"
		    Position		    [510, 238, 540, 252]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "signal init"
		    SrcPort		    1
		    Points		    [170, 0; 0, -60]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "signal out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "IC"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "IC"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "signal in"
		    SrcPort		    1
		    Points		    [155, 0; 0, 60]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [625, 128, 655, 142]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "init via port"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "IC"
		    SrcPort		    1
		    Points		    [95, 0; 0, -190]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational"
		    SrcPort		    1
		    DstBlock		    "IC"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Relational"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From <veh>"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    Points		    [0, 190]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "From <cyc>"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "init via port"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    Labels		    [1, 0]
		    SrcBlock		    "From <wh>/\ntire slip model (m/s)"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, -25; 155, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Product"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "mc_spd_out_a"
		    SrcPort		    1
		    Points		    [0, 0; 115, 0]
		    Branch {
		    Points		    [255, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory2"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Goto <sdo>1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Memory2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "<= max spd"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -100]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "<= max spd"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 60]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, -40; -65, 0; 0, -45]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "From <cyc>1"
		    SrcPort		    1
		    Points		    [5, 0; 0, -85]
		    DstBlock		    "init via port"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [0, 20]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Lookup2D
		  Name			  "motor/controller\ninput power\nmap "
"(W)"
		  Position		  [530, 40, 590, 80]
		  RowIndex		  "mc_map_spd*mc_spd_scale"
		  ColumnIndex		  "mc_map_trq*mc_trq_scale"
		  OutputValues		  "mc_inpwr_map*mc_spd_scale*mc_trq_sc"
"ale"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "rotor drive torque\navailable (Nm)"
		  Ports			  [2, 1]
		  Position		  [115, 300, 145, 335]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "rotor drive torque\navailable (Nm"
")"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "torque per unit\ninput power (N-m"
"/W)"
		    Position		    [55, 15, 75, 35]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "available input power\n(W)"
		    Position		    [55, 90, 75, 110]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [395, 155, 451, 195]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [206, 77, 966, 736]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [243, 78]
		    Text		    "This block computes the actual ro"
"tor torque given the actual motor input power and\nthe ratio (req'd rotor tor"
"que)/(req'd input power).\n\nIf the above ratio has the value inf, which impl"
"ies that the req'd input power is zero,\nthen the actual rotor torque is assu"
"med to be zero.  This is not reflective of reality, of course:\nwith zero inp"
"ut power, the rotor torque would be the motor spin-loss torque at the given s"
"peed.\nBecause this simplification occurs only when req'd input power is zero"
", it does not.\naffect fuel economy or max effort acceleration calculations."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [205, 110, 225, 130]
		    Value		    "inf"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [155, 140, 175, 160]
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [220, 17, 250, 48]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [260, 62, 290, 93]
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [345, 30, 375, 60]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "rotor drive\ntorque\navailable"
		    Position		    [425, 35, 445, 55]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "torque per unit\ninput power (N-m"
"/W)"
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "rotor drive\ntorque\navailable"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [25, 0; 0, -35]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "available input power\n(W)"
		    SrcPort		    1
		    Points		    [120, 0; 0, -60]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [150, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "req'd motor\ninput power (W)"
		  Position		  [770, 35, 790, 55]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "drive torque and\nspeed avail. at r"
"otor\n(Nm), (rad/s)"
		  Position		  [765, 290, 785, 310]
		  NamePlacement		  "alternate"
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "motor speed\nestimator"
		  SrcPort		  1
		  Points		  [45, 0]
		  Branch {
		    Points		    [0, -45; 180, 0]
		    DstBlock		    "motor/controller\ninput power\nma"
"p (W)"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "enforce\ntorque\nlimit"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "motor speed\nestimator"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 45; 60, 0; 0, 190; 45, 0]
		    Branch {
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 30]
		    Branch {
		    DstBlock		    "<sdo>1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		    }
		    }
		  }
		}
		Line {
		  Labels		  [1, 0]
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -40]
		    Branch {
		    DstBlock		    "<sdo>"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -45]
		    DstBlock		    "enhancedToWorkspace9"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "N-m drive torque\nper W input"
		  SrcPort		  1
		  Points		  [25, 0; 0, 85; -625, 0]
		  DstBlock		  "rotor drive torque\navailable (Nm)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "enforce\ntorque\nlimit"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "effect of inertia\n(Nm)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -45]
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 205]
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "enforce\ntorque\nlimit"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "motor/controller\ninput power\nma"
"p (W)"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 105]
		    DstBlock		    "N-m drive torque\nper W input"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "motor controller\nlogic interface"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "req'd motor\ninput power (W)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "motor/controller\ninput power\nmap "
"(W)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "motor controller\nlogic interface"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 100]
		    DstBlock		    "N-m drive torque\nper W input"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -30]
		    DstBlock		    "drive torque and\nspeed avail. at"
" rotor\n(Nm), (rad/s)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 35]
		    DstBlock		    "Mux3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "Fcn"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Fcn"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "mc tmp"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "do ex calcs?"
		  SrcPort		  1
		  DstBlock		  "mc tmp"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "mc tmp"
		  SrcPort		  1
		  DstBlock		  "enhancedToWorkspace5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "mc tmp"
		  SrcPort		  2
		  DstBlock		  "enhancedToWorkspace6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "<vc>"
		  SrcPort		  1
		  DstBlock		  "mc tmp"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From <vc>"
		  SrcPort		  1
		  DstBlock		  "mc tmp"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [25, 0]
		  Branch {
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, 100]
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, -75]
		    DstBlock		    "motor controller\nlogic interface"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "available motor\ninput power (W)"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "rotor drive torque\navailable (Nm"
")"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 65; 70, 0]
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "torque and speed\n req'd at rotor\n"
"(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "rotor drive torque\navailable (Nm)"
		  SrcPort		  1
		  Points		  [40, 0]
		  Branch {
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    2
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [425, 41, 470, 69]
	      NamePlacement	      "alternate"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 73, 966, 748]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "mc_trq_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "mc_spd_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [430, 103, 460, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  Name			  "mc_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  Name			  "mc_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out Request"
	      Position		      [535, 48, 565, 62]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "electric power\nin \nrequested"
	      Position		      [535, 83, 565, 97]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\nout\nachieved\n"
	      Position		      [535, 143, 565, 157]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [740, 363, 770, 377]
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      Name		      "mc_max_crrnt"
	      Labels		      [0, 0]
	      SrcBlock		      "From1"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      7
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "Out Request"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      7
	      DstBlock		      "<sdo>2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      6
	      DstBlock		      "<sdo>8"
	      DstPort		      1
	    }
	    Line {
	      Name		      "mc_spd_limited"
	      Labels		      [0, 0]
	      SrcBlock		      "From6"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      6
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      5
	      DstBlock		      "<sdo>6"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      4
	      DstBlock		      "<sdo>5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      3
	      DstBlock		      "<sdo>4"
	      DstPort		      1
	    }
	    Line {
	      Name		      "w_mc_out_r"
	      Labels		      [0, 0]
	      SrcBlock		      "From5"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      5
	    }
	    Line {
	      Name		      "P_mc_in_1lim"
	      Labels		      [0, 0]
	      SrcBlock		      "From4"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      4
	    }
	    Line {
	      Name		      "mc_trq_limited"
	      Labels		      [0, 0]
	      SrcBlock		      "From3"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "mc_spd_out_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From2"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "mc_trq_out_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      DstBlock		      "<sdo>1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      DstBlock		      "<sdo>3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "mc model"
	      SrcPort		      2
	      Points		      [50, 0; 0, 40]
	      DstBlock		      "trq and spd\nout\nachieved\n"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "mc model"
	      SrcPort		      1
	      DstBlock		      "electric power\nin \nrequested"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "electric power\nin\nachieved"
	      SrcPort		      1
	      Points		      [25, 0; 0, -35]
	      DstBlock		      "mc model"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "trq and spd\nout\nrequested"
	      SrcPort		      1
	      Points		      [25, 0]
	      Branch {
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	      Branch {
		Points			[0, 35]
		DstBlock		"mc model"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      8
	      DstBlock		      "<sdo>7"
	      DstPort		      1
	    }
	    Line {
	      Name		      "P_mc_in_r"
	      Labels		      [0, 0]
	      SrcBlock		      "From7"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      8
	    }
	    Line {
	      Name		      "mc_crrnt_limited"
	      Labels		      [0, 0]
	      SrcBlock		      "From8"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      9
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      9
	      DstBlock		      "<sdo>9"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [362, 190]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [430, 99, 530, 141]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "mcReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [440, 239, 540, 281]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "mcSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "electric power\nin \nrequested"
	  Position		  [595, 178, 625, 192]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "trq and spd\nout\nachieved\n"
	  Position		  [595, 198, 625, 212]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "motor model &\ninterface"
	  SrcPort		  3
	  Points		  [0, -15]
	  DstBlock		  "trq and spd\nout\nachieved\n"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "electric power\nin\nachieved"
	  SrcPort		  1
	  Points		  [160, 0]
	  DstBlock		  "motor model &\ninterface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "trq and spd\nout\nrequested"
	  SrcPort		  1
	  Points		  [160, 0]
	  DstBlock		  "motor model &\ninterface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "motor model &\ninterface"
	  SrcPort		  2
	  Points		  [0, -10]
	  DstBlock		  "electric power\nin \nrequested"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "motor model &\ninterface"
	  SrcPort		  1
	  Points		  [0, -50]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [20, 0; 0, -15]
	  DstBlock		  "motor model &\ninterface"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "motor model &\ninterface"
	  SrcPort		  4
	  Points		  [20, 0; 0, 15]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Annotation {
	  Position		  [357, 50]
	  BackgroundColor	  "yellow"
	  Text			  "MOTOR/ CONTROLLER\nInterface"
	  FontName		  "Arial"
	  FontSize		  22
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "power\nbus <pb>"
      Ports		      [3, 3]
      Position		      [800, 177, 850, 223]
      BackgroundColor	      "yellow"
      AncestorBlock	      "lib_power_bus2/power\nbus <pb>"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone Power Bus Mask"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'pb'|Log|{}|{}|'bdi_pb.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"power\nbus <pb>"
	Location		[214, 77, 966, 744]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "req'd power\noutput (W)"
	  Position		  [110, 128, 140, 142]
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "power available\nfrom source one\n(W)"
	  Position		  [110, 188, 140, 202]
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "power available\nfrom source two\n(W)"
	  Position		  [110, 258, 140, 272]
	  Port			  "3"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Block NOTES"
	  Ports			  []
	  Position		  [35, 90, 91, 130]
	  BackgroundColor	  "green"
	  ShowName		  off
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "disp('Block\\nNOTES')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Block NOTES"
	    Location		    [620, 337, 1026, 424]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Annotation {
	      Position		      [212, 38]
	      Text		      "This block models the internal combusti"
"on engine, and includes inertia effects,\nperformance limits, accessory loads"
", and temperature transient effects on fuel\nuse, engine-out emissions, and c"
"atalyst efficiency.  There are 'leads' to the\nengine controller here, which "
"controller determines whether the engine is on."
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [45, 326, 155, 364]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "pbControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "help"
	  Ports			  []
	  Position		  [35, 33, 67, 72]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowName		  off
	  OpenFcn		  "web(['file:\\\\\\' which('fuel_converter.ht"
"m')]);"
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "image(imread('doc_man.jpg'))"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "help"
	    Location		    [203, 331, 569, 538]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "power bus"
	  Ports			  [4, 5]
	  Position		  [295, 199, 335, 261]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "power bus"
	    Location		    [214, 73, 966, 748]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "power out req"
	      Position		      [125, 163, 155, 177]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "power available\nfrom source one"
	      Position		      [125, 218, 155, 232]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "power available from\nsource two"
	      Position		      [215, 253, 245, 267]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      Position		      [40, 403, 70, 417]
	      Port		      "4"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 1]
	      Position		      [90, 391, 95, 429]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "1"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      Position		      [135, 397, 260, 423]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "enable_source_two"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      Position		      [265, 397, 404, 427]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "enable_source_two"
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "Ground"
	      Position		      [445, 405, 465, 425]
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "model"
	      Ports		      [3, 3]
	      Position		      [270, 160, 310, 220]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"model"
		Location		[214, 73, 966, 748]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "req'd power\noutput (W)"
		  Position		  [25, 48, 55, 62]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "power available\nfrom generator\n(W"
")"
		  Position		  [135, 128, 165, 142]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "power available\nfrom energy storag"
"e\n(W)"
		  Position		  [135, 213, 165, 227]
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Abs
		  Name			  "Abs"
		  Position		  [335, 220, 360, 240]
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Abs
		  Name			  "Abs1"
		  Position		  [215, 295, 245, 325]
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [570, 290, 626, 330]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [257, 381, 1212, 813]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [168, 33]
		    Text		    "This power bus requires power fro"
"m (or distributes power to)\nthe generator first, taking the balance from the"
" energy\nstorage system."
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [325, 257, 360, 273]
		  ShowName		  off
		  Value			  "1e-9"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [290, 317, 325, 333]
		  ShowName		  off
		  Value			  "1e-11"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [475, 262, 495, 278]
		  ShowName		  off
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant8"
		  Position		  [469, 175, 491, 195]
		  Orientation		  "up"
		  ShowName		  off
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  From
		  Name			  "From"
		  Position		  [305, 157, 445, 183]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "enable_source_two"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator"
		  Position		  [380, 222, 410, 253]
		  ShowName		  off
		  Operator		  "<="
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator1"
		  Position		  [350, 302, 380, 333]
		  ShowName		  off
		  Operator		  "<="
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [385, 112, 415, 143]
		  ShowName		  off
		  IconShape		  "rectangular"
		  Inputs		  "+-"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [2, 1]
		  Position		  [285, 189, 315, 231]
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [510, 223, 535, 277]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [510, 123, 535, 177]
		  ShowName		  off
		  Threshold		  "0.5"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [180, 27, 275, 43]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|pwr_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "pb_pwr_out_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [565, 192, 660, 208]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|pwr_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "pb_pwr_out_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Logic
		  Name			  "not(and(u1,u2))"
		  Ports			  [2, 1]
		  Position		  [435, 232, 465, 263]
		  NamePlacement		  "alternate"
		  Operator		  "NAND"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Outport
		  Name			  "power req'd from\ngenerator (W)"
		  Position		  [580, 48, 610, 62]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "power req'd from\nenergy storage\n("
"W)"
		  Position		  [580, 143, 610, 157]
		  NamePlacement		  "alternate"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "output power\n available at bus"
		  Position		  [585, 243, 615, 257]
		  NamePlacement		  "alternate"
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "power available\nfrom energy storag"
"e\n(W)"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant8"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "From"
		  SrcPort		  1
		  Points		  [0, -20]
		  DstBlock		  "Switch1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "power req'd from\nenergy storage\n("
"W)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Abs"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [175, 0]
		    DstBlock		    "Switch"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Abs"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  Points		  [0, 0; 5, 0]
		  Branch {
		    Points		    [0, -50]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "output power\n available at bus"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Abs1"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Relational\nOperator1"
		  SrcPort		  1
		  Points		  [35, 0]
		  DstBlock		  "not(and(u1,u2))"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "not(and(u1,u2))"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Relational\nOperator"
		  SrcPort		  1
		  DstBlock		  "not(and(u1,u2))"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "power available\nfrom generator\n(W"
")"
		  SrcPort		  1
		  Points		  [0, 0; 85, 0]
		  Branch {
		    Points		    [0, 65]
		    DstBlock		    "Sum2"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "req'd power\noutput (W)"
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    Points		    [0, 255]
		    DstBlock		    "Abs1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [75, 0]
		    Branch {
		    Points		    [0, -20]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [190, 0]
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "power req'd from\ngenerator (W)"
		    DstPort		    1
		    }
		    }
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [265, 86, 310, 114]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[214, 73, 966, 748]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		  Port {
		    PortNumber		    1
		    Name		    "main power out"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [430, 103, 460, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  Name			  "main power out"
		  Labels		  [0, 0]
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "required out"
	      Position		      [440, 93, 470, 107]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "power in req from \nsource one"
	      Position		      [440, 163, 470, 177]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "power in req from \nsource two"
	      Position		      [440, 228, 470, 242]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "power out available"
	      Position		      [440, 293, 470, 307]
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [555, 408, 585, 422]
	      Port		      "5"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "Ground"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "required out"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "power available from\nsource two"
	      SrcPort		      1
	      Points		      [0, -50]
	      DstBlock		      "model"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "model"
	      SrcPort		      3
	      Points		      [15, 0; 0, 90]
	      DstBlock		      "power out available"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "power available\nfrom source one"
	      SrcPort		      1
	      Points		      [45, 0; 0, -35]
	      DstBlock		      "model"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "model"
	      SrcPort		      2
	      Points		      [35, 0; 0, 45]
	      DstBlock		      "power in req from \nsource two"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "power out req"
	      SrcPort		      1
	      Points		      [0, 0; 80, 0]
	      Branch {
		Points			[0, -70]
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	      Branch {
		DstBlock		"model"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "model"
	      SrcPort		      1
	      DstBlock		      "power in req from \nsource one"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [287, 50]
	      BackgroundColor	      "yellow"
	      Text		      "Power Bus Model"
	      DropShadow	      on
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      Position		      [292, 340]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      DropShadow	      on
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [420, 34, 520, 76]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "pbReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [425, 324, 525, 366]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "pbSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "power req'd from\nsource one (W)"
	  Position		  [490, 148, 520, 162]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "power req'd from\nsource two\n(W)"
	  Position		  [490, 223, 520, 237]
	  NamePlacement		  "alternate"
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "output power\n available at bus"
	  Position		  [490, 273, 520, 287]
	  NamePlacement		  "alternate"
	  Port			  "3"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "power bus"
	  SrcPort		  5
	  Points		  [30, 0; 0, 95]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "power bus"
	  SrcPort		  4
	  Points		  [65, 0; 0, 40]
	  DstBlock		  "output power\n available at bus"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "power bus"
	  SrcPort		  3
	  DstBlock		  "power req'd from\nsource two\n(W)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "power bus"
	  SrcPort		  2
	  Points		  [65, 0; 0, -65]
	  DstBlock		  "power req'd from\nsource one (W)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "power bus"
	  SrcPort		  1
	  Points		  [30, 0; 0, -155]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [60, 0; 0, -90]
	  DstBlock		  "power bus"
	  DstPort		  4
	}
	Line {
	  SrcBlock		  "power available\nfrom source two\n(W)"
	  SrcPort		  1
	  Points		  [65, 0; 0, -25]
	  DstBlock		  "power bus"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "power available\nfrom source one\n(W)"
	  SrcPort		  1
	  Points		  [55, 0; 0, 30]
	  DstBlock		  "power bus"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "req'd power\noutput (W)"
	  SrcPort		  1
	  Points		  [65, 0; 0, 75]
	  DstBlock		  "power bus"
	  DstPort		  1
	}
	Annotation {
	  Position		  [202, 75]
	  BackgroundColor	  "yellow"
	  Text			  "Power Bus (PB)"
	  DropShadow		  on
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "torque\ncoupler <tc>"
      Ports		      [3, 3]
      Position		      [515, 157, 555, 213]
      BackgroundColor	      "yellow"
      AncestorBlock	      "lib_transmission2/torque\ncoupler <tc>"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone Torque Coupler Mask"
      MaskPromptString	      "General Name of this Component [char--evaluated"
"]|Log Variables to Workspace?|Initialization File(s) [cell array of char]|Mod"
"ification Cell [2 column cell array of param and val]|Icon image file name [c"
"har--evaluated]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'tc'|Don't Log|{}|{}|'bdi_tc.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"torque\ncoupler <tc>"
	Location		[77, 121, 971, 758]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"76"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed req'd\nat output side of t"
"orque coupler\n(Nm), (rad/s)"
	  Position		  [100, 130, 120, 150]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nat main input\n(Nm"
"), (rad/s)"
	  Position		  [100, 185, 120, 205]
	  FontName		  "Arial"
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed avail.\nat motor input to "
"tc\n(Nm), (rad/s)"
	  Position		  [100, 255, 120, 275]
	  FontName		  "Arial"
	  Port			  "3"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [60, 331, 170, 369]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "tcControl"
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [540, 19, 640, 61]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "tcReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [535, 329, 635, 371]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "tcSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "tc model & interface"
	  Ports			  [4, 5]
	  Position		  [330, 169, 370, 231]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "tc model & interface"
	    Location		    [202, 43, 966, 766]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\noutput\nrequest"
	      Position		      [115, 98, 145, 112]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd avail.\nat main input"
	      Position		      [90, 180, 110, 200]
	      NamePlacement	      "alternate"
	      FontName		      "Arial"
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd avail.\nat motor input to t"
"c"
	      Position		      [120, 200, 140, 220]
	      FontName		      "Arial"
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "controls"
	      Position		      [120, 323, 150, 337]
	      Port		      "4"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "Ground"
	      Position		      [245, 320, 265, 340]
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [185, 320, 205, 340]
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [200, 91, 255, 119]
	      NamePlacement	      "alternate"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "tc_trq_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "tc_spd_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [430, 103, 460, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  Name			  "tc_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  Name			  "tc_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "tc model"
	      Ports		      [3, 3]
	      Position		      [205, 160, 245, 220]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"tc model"
		Location		[210, 51, 907, 778]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed req'd\nat output s"
"ide of torque coupler\n(Nm), (rad/s)"
		  Position		  [65, 45, 85, 65]
		  FontName		  "Arial"
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed avail.\nat main in"
"put\n(Nm), (rad/s)"
		  Position		  [65, 245, 85, 265]
		  FontName		  "Arial"
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed avail.\nat motor i"
"nput to tc\n(Nm), (rad/s)"
		  Position		  [50, 565, 70, 585]
		  FontName		  "Arial"
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [640, 680, 696, 720]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [633, 487, 1083, 797]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [222, 263]
		    Text		    "speed, while the motor's speed ma"
"y be different.  The ratio of motor speed to main\noutput speed is stored in "
"the variable tc_mc_to_fc_spd_ratio."
		    }
		    Annotation {
		    Position		    [222, 32]
		    VerticalAlignment	    "top"
		    Text		    "This block models a chain- or bel"
"t-driven torque coupler, with three gears:  one each\nfor the motor, main inp"
"ut (the engine or gearbox), and main output (to the gearbox\nor final drive)."
"  It includes losses in the chain or belt, but leaves inertia effects to be\n"
"considered in the appropriate component.\n\nThe entire torque required out of"
" the torque coupler (plus losses) is required from the\nengine.  The engine p"
"rovides only as much torque as its engine controller (see the\n<vc> block) al"
"lows.  Any remaining unmet torque request is submitted to the motor,\nwhich m"
"eets the request to the best of its ability.\n\nThe torque converter output s"
"peed is limited by the maximum speeds of both the\nmotor and the engine.\n\nT"
"he loss torque is zero when the gears are not turning, and is applied at the "
"output\n gear.\n\nThe gears connecting the main input and main output to the "
"torque converter's belt\nor chain are assumed to be of the same size, so that"
" main input speed = main output"
		    }
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [150, 36, 170, 69]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [150, 236, 170, 269]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux2"
		  Ports			  [1, 2]
		  Position		  [150, 556, 170, 589]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax"
		  Ports			  [2, 1]
		  Position		  [220, 317, 250, 348]
		  Function		  "min"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax1"
		  Ports			  [2, 1]
		  Position		  [400, 617, 430, 648]
		  Function		  "min"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [490, 36, 510, 69]
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [515, 221, 535, 254]
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [505, 556, 525, 589]
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [1, 1]
		  Position		  [60, 390, 85, 420]
		  ShowName		  off
		  Inputs		  "1"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [1, 1]
		  Position		  [60, 430, 85, 460]
		  ShowName		  off
		  Inputs		  "1"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "effect of motor torque\nat output o"
"f tc (Nm)"
		  Position		  [215, 492, 320, 568]
		  FontName		  "Arial"
		  Gain			  "tc_mc_to_fc_ratio"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [60, 167, 155, 183]
		  Orientation		  "left"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [60, 127, 155, 143]
		  Orientation		  "left"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  Ports			  [1]
		  Position		  [155, 417, 250, 433]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|pwr_in_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [495, 477, 590, 493]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|trq_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [495, 517, 590, 533]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_out_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [145, 85, 205, 115]
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  Ports			  []
		  Position		  [596, 679, 627, 722]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('torque_co"
"upler.htm')]);"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "image(imread('doc_man.jpg'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "help"
		    Location		    [203, 331, 569, 538]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "loss\n(Nm)"
		  Ports			  [1, 1]
		  Position		  [230, 62, 260, 98]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "loss\n(Nm)"
		    Location		    [247, 304, 673, 498]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "tc output speed (rad/s)"
		    Position		    [60, 55, 80, 75]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [210, 95, 230, 115]
		    Orientation		    "up"
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [285, 49, 315, 81]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "torque coupler loss torque\n(Nm)"
		    Position		    [115, 14, 195, 36]
		    FontName		    "Arial"
		    Value		    "tc_loss"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "drag torque\n(Nm)"
		    Position		    [380, 55, 400, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "torque coupler loss torque\n(Nm)"
		    SrcPort		    1
		    Points		    [20, 0; 0, 30]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "drag torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "tc output speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -15]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Annotation {
		    Position		    [232, 142]
		    VerticalAlignment	    "top"
		    Text		    "The loss torque is zero when the "
"gears are not turning,\nand is applied at the torque coupler's output gear."
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "speed of output gear\ncorresponding"
" to motor spd\n(rad/s)"
		  Position		  [210, 605, 330, 675]
		  FontName		  "Arial"
		  Gain			  "1/tc_mc_to_fc_ratio"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "speed req'd\nof motor (rad/s)"
		  Position		  [360, 297, 465, 373]
		  FontName		  "Arial"
		  Gain			  "tc_mc_to_fc_ratio"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "sum\n"
		  Ports			  [2, 1]
		  Position		  [115, 385, 135, 465]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "torque avail.\nat output side\nof t"
"c (Nm)"
		  Ports			  [3, 1]
		  Position		  [405, 449, 425, 521]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "total torque\nreq'd at output\ngear"
" (Nm)"
		  Ports			  [2, 1]
		  Position		  [300, 27, 320, 98]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "total torque req'd\nof motor (Nm)"
		  Position		  [340, 195, 460, 265]
		  FontName		  "Arial"
		  Gain			  "1/tc_mc_to_fc_ratio"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "unmet\ntorque\nrequest\n(Nm)"
		  Ports			  [2, 1]
		  Position		  [295, 192, 315, 263]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+-"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed req'd\nat main inp"
"ut to torque coupler\n(Nm), (rad/s)"
		  Position		  [615, 45, 635, 65]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed req'd\nat motor in"
"put to torque coupler\n(Nm), (rad/s)"
		  Position		  [610, 230, 630, 250]
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed avail.\nat output "
"side of torque coupler\n(Nm), (rad/s)"
		  Position		  [610, 565, 630, 585]
		  FontName		  "Arial"
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "sum\n"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "torque and speed avail.\nat motor i"
"nput to tc\n(Nm), (rad/s)"
		  SrcPort		  1
		  Points		  [50, 0]
		  Branch {
		    Points		    [0, -75; -95, 0; 0, -55]
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Demux2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "torque and speed avail.\nat main in"
"put\n(Nm), (rad/s)"
		  SrcPort		  1
		  Points		  [45, 0]
		  Branch {
		    Points		    [0, 115; -105, 0; 0, 35]
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Demux1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "sum\n"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "sum\n"
		  SrcPort		  1
		  DstBlock		  "enhancedToWorkspace2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "torque and speed req'd\nat main inp"
"ut to torque coupler\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "torque and speed req'd\nat output s"
"ide of torque coupler\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [25, 0; 0, 20]
		  Branch {
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 65]
		    Branch {
		    Points		    [235, 0; 0, -85]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 30]
		    Branch {
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 150]
		    DstBlock		    "MinMax"
		    DstPort		    1
		    }
		    }
		  }
		}
		Line {
		  SrcBlock		  "total torque\nreq'd at output\ngear"
" (Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    Points		    [35, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 105; -70, 0]
		    DstBlock		    "unmet\ntorque\nrequest\n(Nm)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "unmet\ntorque\nrequest\n(Nm)"
		  SrcPort		  1
		  DstBlock		  "total torque req'd\nof motor (Nm)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [0, 80]
		  DstBlock		  "MinMax"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "torque and speed req'd\nat motor in"
"put to torque coupler\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "total torque req'd\nof motor (Nm)"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "speed req'd\nof motor (rad/s)"
		  SrcPort		  1
		  Points		  [5, 0; 0, -90]
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "loss\n(Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 5, 0]
		  Branch {
		    DstBlock		    "total torque\nreq'd at output\nge"
"ar (Nm)"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 380]
		    DstBlock		    "torque avail.\nat output side\nof"
" tc (Nm)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [0, 0; 85, 0]
		  Branch {
		    DstBlock		    "unmet\ntorque\nrequest\n(Nm)"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 240]
		    DstBlock		    "torque avail.\nat output side\nof"
" tc (Nm)"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  1
		  Points		  [15, 0; 0, -35]
		  DstBlock		  "effect of motor torque\nat output o"
"f tc (Nm)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "effect of motor torque\nat output o"
"f tc (Nm)"
		  SrcPort		  1
		  Points		  [45, 0; 0, -20]
		  DstBlock		  "torque avail.\nat output side\nof t"
"c (Nm)"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "torque and speed avail.\nat output "
"side of torque coupler\n(Nm), (rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  2
		  Points		  [15, 0; 0, 60]
		  DstBlock		  "speed of output gear\ncorresponding"
" to motor spd\n(rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "speed of output gear\ncorresponding"
" to motor spd\n(rad/s)"
		  SrcPort		  1
		  DstBlock		  "MinMax1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "MinMax"
		  SrcPort		  1
		  Points		  [0, 0; 80, 0]
		  Branch {
		    DstBlock		    "speed req'd\nof motor (rad/s)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 290]
		    DstBlock		    "MinMax1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [0, 0; 5, 0]
		  Branch {
		    Points		    [0, 90]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "total torque\nreq'd at output\nge"
"ar (Nm)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "torque avail.\nat output side\nof t"
"c (Nm)"
		  SrcPort		  1
		  Points		  [0, 0; 30, 0]
		  Branch {
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 80]
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "MinMax1"
		  SrcPort		  1
		  Points		  [25, 0; 0, -55; 10, 0]
		  Branch {
		    Points		    [0, -55]
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux2"
		    DstPort		    2
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "requested\noutput"
	      Position		      [305, 98, 335, 112]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd req'd\nat main input"
	      Position		      [290, 160, 310, 180]
	      NamePlacement	      "alternate"
	      FontName		      "Arial"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd req'd\nat motor input to to"
"rque coupler"
	      Position		      [400, 180, 420, 200]
	      NamePlacement	      "alternate"
	      FontName		      "Arial"
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd avail.\nat output side of t"
"orque coupler"
	      Position		      [360, 200, 380, 220]
	      FontName		      "Arial"
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [295, 323, 325, 337]
	      Port		      "5"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "Ground"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controls"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "requested\noutput"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd\noutput\nrequest"
	      SrcPort		      1
	      Points		      [0, 0; 25, 0]
	      Branch {
		Points			[0, 0]
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	      Branch {
		Points			[0, 65]
		DstBlock		"tc model"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "trq and spd avail.\nat motor input to t"
"c"
	      SrcPort		      1
	      DstBlock		      "tc model"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "tc model"
	      SrcPort		      3
	      DstBlock		      "trq and spd avail.\nat output side of t"
"orque coupler"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd avail.\nat main input"
	      SrcPort		      1
	      DstBlock		      "tc model"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "tc model"
	      SrcPort		      2
	      DstBlock		      "trq and spd req'd\nat motor input to to"
"rque coupler"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "tc model"
	      SrcPort		      1
	      DstBlock		      "trq and spd req'd\nat main input"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [222, 35]
	      BackgroundColor	      "yellow"
	      Text		      "Model"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      Position		      [232, 275]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nat main input to to"
"rque coupler\n(Nm), (rad/s)"
	  Position		  [610, 125, 630, 145]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed req'd\nat motor input to t"
"orque coupler\n(Nm), (rad/s)"
	  Position		  [610, 190, 630, 210]
	  FontName		  "Arial"
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed avail.\nat output side of "
"torque coupler\n(Nm), (rad/s)"
	  Position		  [610, 260, 630, 280]
	  FontName		  "Arial"
	  Port			  "3"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "tc model & interface"
	  SrcPort		  5
	  Points		  [50, 0; 0, 130]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "tc model & interface"
	  SrcPort		  4
	  Points		  [115, 0; 0, 60]
	  DstBlock		  "torque and speed avail.\nat output side of "
"torque coupler\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "tc model & interface"
	  SrcPort		  3
	  DstBlock		  "torque and speed req'd\nat motor input to t"
"orque coupler\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "tc model & interface"
	  SrcPort		  2
	  Points		  [115, 0; 0, -55]
	  DstBlock		  "torque and speed req'd\nat main input to to"
"rque coupler\n(Nm), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "tc model & interface"
	  SrcPort		  1
	  Points		  [95, 0; 0, -140]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [100, 0; 0, -125]
	  DstBlock		  "tc model & interface"
	  DstPort		  4
	}
	Line {
	  SrcBlock		  "torque and speed avail.\nat motor input to "
"tc\n(Nm), (rad/s)"
	  SrcPort		  1
	  Points		  [50, 0; 0, -55]
	  DstBlock		  "tc model & interface"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "torque and speed avail.\nat main input\n(Nm"
"), (rad/s)"
	  SrcPort		  1
	  DstBlock		  "tc model & interface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "torque and speed req'd\nat output side of t"
"orque coupler\n(Nm), (rad/s)"
	  SrcPort		  1
	  Points		  [125, 0; 0, 40]
	  DstBlock		  "tc model & interface"
	  DstPort		  1
	}
	Annotation {
	  Position		  [352, 55]
	  BackgroundColor	  "yellow"
	  Text			  "Torque Coupler"
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "torque modification\n strategy <cs>"
      Ports		      [1, 1]
      Position		      [445, 32, 475, 68]
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone Torque Modification Strategy Mask"
      MaskPromptString	      "General Name of this Component [char]|Log Varia"
"bles to Workspace?|Initialization File(s) [cell array of char]|Modification C"
"ell [2 column cell array of param and val]|Icon image file name [char--evalua"
"ted]|DEBUG"
      MaskStyleString	      "edit,popup(Don't Log|Log),edit,edit,edit,popup("
"ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;logPick=@2;initFileName=@3;modCe"
"ll=@4;imgFileName=@5;DEBUG=&6;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'tm'|Log|{}|{}|'bdi_hybrid_cntrl.jpg'|OFF"
      MaskVariableAliases     ",,,,,"
      System {
	Name			"torque modification\n strategy <cs>"
	Location		[170, 202, 774, 548]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "original torque and speed req'd\n(Nm), (rad"
"/s)"
	  Position		  [175, 215, 195, 235]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Block NOTES"
	  Ports			  []
	  Position		  [110, 115, 166, 155]
	  BackgroundColor	  "green"
	  ShowName		  off
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "disp('Block\\nNOTES')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Block NOTES"
	    Location		    [364, 407, 866, 589]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Annotation {
	      Position		      [252, 122]
	      VerticalAlignment	      "top"
	      Text		      "This model allows for increasing or dec"
"reasing of torque along a connection for purposes\nof hybrid charging and con"
"trol strategy."
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [135, 311, 245, 349]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "tmControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "help1"
	  Ports			  []
	  Position		  [114, 59, 147, 102]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowName		  off
	  OpenFcn		  "web(['file:\\\\\\' which('cs_tips.htm')]);"
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "image(imread('doc_man.jpg'))"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "help1"
	    Location		    [203, 331, 569, 538]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [405, 104, 505, 146]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "tmReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [410, 309, 510, 351]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "tmSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "torque mod \nmodel & interface"
	  Ports			  [2, 3]
	  Position		  [300, 203, 350, 277]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "torque mod \nmodel & interface"
	    Location		    [198, 77, 966, 744]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "98"
	    Block {
	      BlockType		      Inport
	      Name		      "trq and spd\noutput\nrequest"
	      Position		      [285, 148, 315, 162]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "controls"
	      Position		      [40, 348, 70, 362]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [4, 1]
	      Position		      [685, 271, 695, 454]
	      ShowName		      off
	      Inputs		      "4"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux2"
	      Ports		      [1, 3]
	      Position		      [105, 273, 120, 437]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "3"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>1"
	      Position		      [400, 282, 500, 308]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "tm_torqueMod"
	      Port {
		PortNumber		1
		Name			"tm_torqueMod"
		PropagatedSignals	"tm_torqueMod"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>2"
	      Position		      [400, 327, 500, 353]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "tm_torqueMin"
	      Port {
		PortNumber		1
		Name			"tm_torqueMin"
		PropagatedSignals	"tm_torqueMin"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>3"
	      Position		      [400, 372, 500, 398]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "tm_enable"
	      Port {
		PortNumber		1
		Name			"tm_enable"
		PropagatedSignals	"tm_enable"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>4"
	      Position		      [400, 416, 555, 444]
	      BackgroundColor	      "lightBlue"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "modifiedTorqueRequest"
	      Port {
		PortNumber		1
		Name			"modifiedTorqueRequest"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      Position		      [400, 447, 546, 477]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "modifiedTorqueRequest"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [290, 287, 379, 315]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "tm_torqueMod"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility3"
	      Position		      [290, 342, 379, 370]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "tm_torqueMin"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      Position		      [290, 397, 379, 425]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "tm_enable"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [180, 344, 280, 366]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "tm_torqueMin"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      Position		      [180, 289, 280, 311]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "tm_torqueMod"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto3"
	      Position		      [180, 399, 280, 421]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "tm_enable"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "model"
	      Ports		      [1, 1]
	      Position		      [400, 125, 440, 185]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"model"
		Location		[198, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "T, w\noriginal"
		  Position		  [15, 143, 45, 157]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [425, 130, 445, 150]
		  Orientation		  "up"
		  ShowName		  off
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [105, 131, 110, 169]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "trq"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "spd"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc>"
		  Position		  [230, 125, 300, 145]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "tm_enable"
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc>1"
		  Position		  [135, 40, 235, 60]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "tm_torqueMod"
		}
		Block {
		  BlockType		  From
		  Name			  "From <vc>2"
		  Position		  [230, 95, 340, 115]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "tm_torqueMin"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  Position		  [525, 91, 670, 119]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "modifiedTorqueRequest"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax"
		  Ports			  [2, 1]
		  Position		  [375, 69, 405, 116]
		  Function		  "max"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [515, 131, 520, 169]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [280, 70, 300, 90]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++|"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [450, 90, 480, 120]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  Ports			  []
		  Position		  [71, 69, 102, 112]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('Parallel."
"htm')])"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "image(imread('doc_man.jpg'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "help"
		    Location		    [203, 331, 569, 538]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "T,w\nmodified"
		  Position		  [555, 143, 585, 157]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "From <vc>2"
		  SrcPort		  1
		  DstBlock		  "MinMax"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  Points		  [0, 35; 10, 0]
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -35]
		    DstBlock		    "Goto"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "MinMax"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "MinMax"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From <vc>1"
		  SrcPort		  1
		  Points		  [50, 0]
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From <vc>"
		  SrcPort		  1
		  Points		  [110, 0; 0, -30]
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "T,w\nmodified"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "T, w\noriginal"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "trq"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [65, 0; 0, -60]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  Name			  "spd"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal\nannotator"
	      Ports		      [1, 1]
	      Position		      [390, 76, 445, 104]
	      NamePlacement	      "alternate"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal\nannotator"
		Location		[202, 77, 966, 744]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [205, 91, 210, 129]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		  Port {
		    PortNumber		    1
		    Name		    "tm_trq_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "tm_spd_out_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [360, 91, 365, 129]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [430, 103, 460, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  Name			  "tm_spd_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  Name			  "tm_trq_out_r"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "requested\noutput"
	      Position		      [475, 83, 505, 97]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq and spd\ninput\nrequest"
	      Position		      [530, 148, 560, 162]
	      NamePlacement	      "alternate"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [725, 358, 755, 372]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "signal\nannotator"
	      SrcPort		      1
	      DstBlock		      "requested\noutput"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "model"
	      SrcPort		      1
	      DstBlock		      "trq and spd\ninput\nrequest"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "trq and spd\noutput\nrequest"
	      SrcPort		      1
	      Points		      [55, 0]
	      Branch {
		DstBlock		"signal\nannotator"
		DstPort			1
	      }
	      Branch {
		DstBlock		"model"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      1
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "controls"
	      SrcPort		      1
	      DstBlock		      "Demux2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      Name		      "tm_torqueMod"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>1"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      2
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux2"
	      SrcPort		      3
	      DstBlock		      "Goto3"
	      DstPort		      1
	    }
	    Line {
	      Name		      "tm_torqueMin"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>2"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "tm_enable"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>3"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "modifiedTorqueRequest"
	      Labels		      [0, 0]
	      SrcBlock		      "From <vc>4"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      4
	    }
	    Annotation {
	      Position		      [422, 260]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      Position		      [422, 25]
	      BackgroundColor	      "yellow"
	      Text		      "Model"
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "modified torque and speed req'd\n(Nm), (rad"
"/s)"
	  Position		  [455, 230, 475, 250]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "torque mod \nmodel & interface"
	  SrcPort		  3
	  Points		  [40, 0]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [0, -70]
	  DstBlock		  "torque mod \nmodel & interface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "original torque and speed req'd\n(Nm), (rad"
"/s)"
	  SrcPort		  1
	  DstBlock		  "torque mod \nmodel & interface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "torque mod \nmodel & interface"
	  SrcPort		  2
	  DstBlock		  "modified torque and speed req'd\n(Nm), (rad"
"/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "torque mod \nmodel & interface"
	  SrcPort		  1
	  Points		  [0, -90]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Annotation {
	  Position		  [322, 70]
	  BackgroundColor	  "yellow"
	  Text			  "Torque Modification Strategy"
	  DropShadow		  on
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      ToWorkspace
      Name		      "total fuel used (gal)"
      Position		      [740, 12, 790, 28]
      FontName		      "Arial"
      VariableName	      "gal"
      MaxDataPoints	      "inf"
      Decimation	      "1"
      SampleTime	      "0"
      SaveFormat	      "Array"
    }
    Block {
      BlockType		      SubSystem
      Name		      "vehicle, wheel, & axle\nfront/rear <wh>\n2 axle"
" --> 1 driveline"
      Ports		      [2, 1]
      Position		      [110, 135, 210, 190]
      AncestorBlock	      "lib_wheel2/vehicle, wheel, & axle\nfront//rear "
"<wh>\n2 axle --> 1 driveline"
      ShowPortLabels	      on
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskType		      "Stand-Alone Vehicle, Wheel, & Axle Mask"
      MaskPromptString	      "General Name of Vehicle Component [char]|Genera"
"l Name of Wheel Component [char]|Log Variables to Workspace?|Initialization F"
"ile(s) for VEH and WH [cell array of char]|Modification Cell [2 column cell a"
"rray of param and val]|Icon image file name [char--evaluated]|DEBUG"
      MaskStyleString	      "edit,edit,popup(Don't Log|Log),edit,edit,edit,p"
"opup(ON|OFF)"
      MaskTunableValueString  "on,on,on,on,on,on,on"
      MaskCallbackString      "||||||"
      MaskEnableString	      "on,on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on,on"
      MaskVariables	      "generalName=@1;generalName01=@2;logPick=@3;init"
"FileName=@4;modCell=@5;imgFileName=@6;DEBUG=&7;"
      MaskInitialization      "% initialization via m-file script\nadvSACompMa"
"skInit;"
      MaskDisplay	      "image(imread(imgFileName))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "'veh'|'wh'|Log|{}|{}|'bdi_wh&veh.jpg'|OFF"
      MaskVariableAliases     ",,,,,,"
      System {
	Name			"vehicle, wheel, & axle\nfront/rear <wh>\n2 ax"
"le --> 1 driveline"
	Location		[376, 73, 966, 748]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "veh spd r"
	  Position		  [65, 110, 85, 130]
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "trq & spd a"
	  Position		  [65, 165, 85, 185]
	  FontName		  "Arial"
	  Port			  "2"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  From
	  Name			  "controlTag"
	  Position		  [75, 291, 285, 329]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  CloseFcn		  "tagdialog Close"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "vehControl"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "models and interface"
	  Ports			  [3, 3]
	  Position		  [110, 91, 600, 259]
	  DropShadow		  on
	  AncestorBlock		  "lib_wheel2/vehicle, wheel, & axle\nfront//r"
"ear <wh>\n2 axle --> 1 driveline/models and interface"
	  FontName		  "Arial"
	  FontSize		  8
	  FontWeight		  "bold"
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "models and interface"
	    Location		    [376, 77, 966, 744]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "vehicle speed\nreq'd at end of\ntime st"
"ep (m/s)"
	      Position		      [175, 120, 195, 140]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	      Port {
		PortNumber		1
		Name			"veh_spd_r"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "torque and speed\navailable from\ndrive"
"train into axles\n(Nm), (rad/s)"
	      Position		      [510, 170, 530, 190]
	      FontName		      "Arial"
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "control"
	      Position		      [15, 330, 35, 350]
	      ForegroundColor	      "lightBlue"
	      FontName		      "Arial"
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "2 axle -->\n1 driveline\nconverter"
	      Ports		      [3, 3]
	      Position		      [585, 130, 610, 190]
	      ForegroundColor	      "magenta"
	      SourceBlock	      "lib_wheel2/Submodels/2 axle -->\n1 driv"
"eline\nconverter"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>2"
	      Position		      [210, 369, 295, 391]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "grade"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      BusCreator
	      Name		      "Bus\nCreator"
	      Ports		      [27, 1]
	      Position		      [765, 255, 790, 1085]
	      ShowName		      off
	      Inputs		      "27"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 3]
	      Position		      [70, 278, 85, 402]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "3"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <logic>1"
	      Position		      [520, 330, 635, 350]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Fr"
	      Port {
		PortNumber		1
		Name			"Fr"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      Position		      [515, 270, 635, 290]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "mpha"
	      Port {
		PortNumber		1
		Name			"mpha"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From10"
	      Position		      [530, 570, 650, 590]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "F_front_brake"
	      Port {
		PortNumber		1
		Name			"F_front_brake"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From11"
	      Position		      [530, 600, 650, 620]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "F_rear_brake"
	      Port {
		PortNumber		1
		Name			"F_rear_brake"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From12"
	      Position		      [530, 630, 650, 650]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "w_wheel_ach"
	      Port {
		PortNumber		1
		Name			"w_wheel_ach"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From13"
	      Position		      [530, 660, 650, 680]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "F_rear_drivetrain_ach"
	      Port {
		PortNumber		1
		Name			"F_rear_drivetrain_ach"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From14"
	      Position		      [530, 690, 650, 710]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "F_max_front_brake"
	      Port {
		PortNumber		1
		Name			"F_max_front_brake"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From15"
	      Position		      [530, 720, 650, 740]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "F_max_rear_brake"
	      Port {
		PortNumber		1
		Name			"F_max_rear_brake"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From16"
	      Position		      [530, 750, 650, 770]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "brake_limited"
	      Port {
		PortNumber		1
		Name			"brake_limited"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From17"
	      Position		      [530, 780, 650, 800]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "veh_spd_a_rec"
	      Port {
		PortNumber		1
		Name			"veh_spd_a_rec"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From18"
	      Position		      [530, 810, 650, 830]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "F_req"
	      Port {
		PortNumber		1
		Name			"F_req"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From19"
	      Position		      [530, 840, 650, 860]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "v_ave_req"
	      Port {
		PortNumber		1
		Name			"v_ave_req"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From2"
	      Position		      [515, 300, 635, 320]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "v_prev"
	      Port {
		PortNumber		1
		Name			"v_prev"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From20"
	      Position		      [530, 900, 650, 920]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "v_req_limited"
	      Port {
		PortNumber		1
		Name			"v_req_limited"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From21"
	      Position		      [530, 930, 650, 950]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "wt_front_axle"
	      Port {
		PortNumber		1
		Name			"wt_front_axle"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From22"
	      Position		      [530, 870, 650, 890]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "F_req_limited"
	      Port {
		PortNumber		1
		Name			"F_req_limited"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From23"
	      Position		      [530, 960, 650, 980]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "wt_rear_axle"
	      Port {
		PortNumber		1
		Name			"wt_rear_axle"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From24"
	      Position		      [530, 990, 650, 1010]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "front_traction_ratio"
	      Port {
		PortNumber		1
		Name			"front_traction_ratio"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From25"
	      Position		      [530, 1020, 650, 1040]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "slip_limited"
	      Port {
		PortNumber		1
		Name			"slip_limited"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From26"
	      Position		      [530, 1050, 650, 1070]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "F_rear_brake_req"
	      Port {
		PortNumber		1
		Name			"F_rear_brake_req"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From3"
	      Position		      [530, 360, 650, 380]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "veh_pwr_accel_a"
	      Port {
		PortNumber		1
		Name			"veh_pwr_accel_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From4"
	      Position		      [530, 390, 650, 410]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "veh_pwr_drag_a"
	      Port {
		PortNumber		1
		Name			"veh_pwr_drag_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From5"
	      Position		      [530, 420, 650, 440]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "veh_pwr_ascent_a"
	      Port {
		PortNumber		1
		Name			"veh_pwr_ascent_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From6"
	      Position		      [530, 450, 650, 470]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "veh_pwr_rr_a"
	      Port {
		PortNumber		1
		Name			"veh_pwr_rr_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From7"
	      Position		      [530, 480, 650, 500]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "wh_trq_a"
	      Port {
		PortNumber		1
		Name			"wh_trq_a"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From8"
	      Position		      [530, 510, 650, 530]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "F_front_brake_req"
	      Port {
		PortNumber		1
		Name			"F_front_brake_req"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From9"
	      Position		      [530, 540, 650, 560]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "F_drivetrain_ach"
	      Port {
		PortNumber		1
		Name			"F_drivetrain_ach"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility"
	      Position		      [338, 286, 414, 310]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "v_init"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility1"
	      Position		      [420, 330, 507, 346]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "Fr"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility10"
	      Position		      [419, 512, 520, 529]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "F_front_brake_req"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility11"
	      Position		      [419, 542, 520, 559]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "F_drivetrain_ach"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility12"
	      Position		      [419, 572, 520, 589]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "F_front_brake"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility13"
	      Position		      [419, 602, 520, 619]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "F_rear_brake"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility14"
	      Position		      [419, 632, 520, 649]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "w_wheel_ach"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility15"
	      Position		      [419, 662, 520, 679]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "F_rear_drivetrain_ach"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility16"
	      Position		      [419, 692, 520, 709]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "F_max_front_brake"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility17"
	      Position		      [419, 722, 520, 739]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "F_max_rear_brake"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility18"
	      Position		      [419, 752, 520, 769]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "brake_limited"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility19"
	      Position		      [300, 369, 397, 389]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "grade"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility2"
	      Position		      [420, 302, 505, 319]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "v_prev"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility20"
	      Position		      [419, 782, 520, 799]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "veh_spd_a_rec"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility21"
	      Position		      [419, 812, 520, 829]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "F_req"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility22"
	      Position		      [419, 842, 520, 859]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "v_ave_req"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility23"
	      Position		      [419, 902, 520, 919]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "v_req_limited"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility24"
	      Position		      [419, 932, 520, 949]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "wt_front_axle"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility25"
	      Position		      [419, 872, 520, 889]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "F_req_limited"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility26"
	      Position		      [419, 962, 520, 979]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "wt_rear_axle"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility27"
	      Position		      [419, 992, 520, 1009]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "front_traction_ratio"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility28"
	      Position		      [419, 1022, 520, 1039]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "slip_limited"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility29"
	      Position		      [419, 1052, 520, 1069]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "F_rear_brake_req"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility3"
	      Position		      [420, 272, 505, 289]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "mpha"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility4"
	      Position		      [300, 326, 414, 355]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "current_veh_mass"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility5"
	      Position		      [418, 362, 520, 380]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "veh_pwr_accel_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility6"
	      Position		      [418, 392, 520, 410]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "veh_pwr_drag_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility7"
	      Position		      [419, 422, 520, 439]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "veh_pwr_ascent_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility8"
	      Position		      [419, 452, 520, 469]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "veh_pwr_rr_a"
	    }
	    Block {
	      BlockType		      GotoTagVisibility
	      Name		      "Goto Tag\nVisibility9"
	      Position		      [419, 482, 520, 499]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "wh_trq_a"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [145, 286, 295, 314]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "v_init"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      Position		      [145, 326, 295, 354]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "current_veh_mass"
	      TagVisibility	      "scoped"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "signal annotator"
	      Ports		      [1, 1]
	      Position		      [285, 35, 325, 95]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"signal annotator"
		Location		[516, 137, 624, 194]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"automatic"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "veh_spd_r"
		  Position		  [95, 48, 125, 62]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		  Port {
		    PortNumber		    1
		    Name		    "veh_spd_r"
		    PropagatedSignals	    "veh_spd_r"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  BusCreator
		  Name			  "Bus\nCreator1"
		  Ports			  [6, 1]
		  Position		  [240, 27, 250, 383]
		  ShowName		  off
		  Inputs		  "6"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  From
		  Name			  "From18"
		  Position		  [40, 105, 160, 125]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "F_req"
		  Port {
		    PortNumber		    1
		    Name		    "F_req"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From19"
		  Position		  [40, 165, 160, 185]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "v_ave_req"
		  Port {
		    PortNumber		    1
		    Name		    "v_ave_req"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From2"
		  Position		  [40, 225, 160, 245]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "v_prev"
		  Port {
		    PortNumber		    1
		    Name		    "v_prev"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From22"
		  Position		  [40, 285, 160, 305]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "F_req_limited"
		  Port {
		    PortNumber		    1
		    Name		    "F_req_limited"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  From
		  Name			  "From25"
		  Position		  [40, 345, 160, 365]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "slip_limited"
		  Port {
		    PortNumber		    1
		    Name		    "slip_limited"
		    TestPoint		    off
		    LinearAnalysisOutput    off
		    LinearAnalysisInput	    off
		    RTWStorageClass	    "Auto"
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [435, 198, 465, 212]
		  NamePlacement		  "alternate"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  Name			  "veh_spd_r"
		  Labels		  [0, 0]
		  SrcBlock		  "veh_spd_r"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Bus\nCreator1"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  Name			  "F_req"
		  Labels		  [0, 0]
		  SrcBlock		  "From18"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator1"
		  DstPort		  2
		}
		Line {
		  Name			  "v_ave_req"
		  Labels		  [0, 0]
		  SrcBlock		  "From19"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator1"
		  DstPort		  3
		}
		Line {
		  Name			  "v_prev"
		  Labels		  [0, 0]
		  SrcBlock		  "From2"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator1"
		  DstPort		  4
		}
		Line {
		  Name			  "F_req_limited"
		  Labels		  [0, 0]
		  SrcBlock		  "From22"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator1"
		  DstPort		  5
		}
		Line {
		  Name			  "slip_limited"
		  Labels		  [0, 0]
		  SrcBlock		  "From25"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator1"
		  DstPort		  6
		}
		Annotation {
		  Position		  [273, 265]
		  HorizontalAlignment	  "left"
		  Text			  "The signals placed in here all need"
" to be made available\nbefore all of the vehSignals mux bar can be resolved\n"
"\nOnly those signals which can be calculated without dependency on\ninput con"
"trol signals or achieved effort/flow results should be placed here..."
		}
	      }
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "slip, braking, traction calcs"
	      Ports		      []
	      Position		      [525, 55, 625, 105]
	      BackgroundColor	      "yellow"
	      DropShadow	      on
	      LinkData {
		BlockName		"config traction control"
		DialogParameters {
		  BlockChoice		  "traction control 2 axle"
		}
	      }
	      FontName		      "Arial"
	      FontSize		      12
	      FontWeight	      "bold"
	      SourceBlock	      "lib_wheel2/vehicle, wheel, & axle\nfron"
"t//rear <wh>/models and interface/slip, braking, traction calcs"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "vehicle <veh>"
	      Ports		      [2, 1]
	      Position		      [270, 118, 325, 162]
	      BackgroundColor	      "yellow"
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "image(imread('bdi_veh.jpg'))"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"vehicle <veh>"
		Location		[202, 73, 966, 748]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "vehicle speed\nreq'd at end of\ntim"
"e step (m/s)"
		  Position		  [50, 25, 70, 45]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "tractive force and\nlinear speed\na"
"chievable\n(N)"
		  Position		  [65, 385, 85, 405]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Gain
		  Name			  "(m/s) -> (mph)"
		  Position		  [375, 449, 420, 491]
		  FontName		  "Arial"
		  Gain			  "2.23713646532438"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [550, 275, 606, 315]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [99, 240]
		    HorizontalAlignment	    "left"
		    Text		    "2003-April-02, Michael O'Keefe\nM"
"odel updated to use a \"stand-alone\" mask format"
		    }
		    Annotation {
		    Position		    [97, 122]
		    HorizontalAlignment	    "left"
		    VerticalAlignment	    "top"
		    Text		    "A slight simplification, the assu"
"mption that (speed_at_end_of_time_step)^2 is roughly equal to\n(speed_at_end_"
"of_time_step)*(speed_at_beginning_of_time_step), is used to avoid solving\na "
"quadratic equation in the solution of v=v(Ftract)."
		    }
		    Annotation {
		    Position		    [97, 47]
		    HorizontalAlignment	    "left"
		    VerticalAlignment	    "top"
		    Text		    "This block uses the required vehi"
"cle speed with vehicle parameters and the previous speed\nand classic, straig"
"htforward equations to determine the tractive force required at the tire/road"
" interface."
		    }
		    Annotation {
		    Position		    [97, 177]
		    HorizontalAlignment	    "left"
		    VerticalAlignment	    "top"
		    Text		    "If no drivetrain component ran up"
" against its performance limit during the time step, the achieved speed\nis t"
"aken to be the requested speed."
		    }
		    Annotation {
		    Position		    [97, 92]
		    HorizontalAlignment	    "left"
		    VerticalAlignment	    "top"
		    Text		    "Given the tractive force availabl"
"e, this block uses the same equations to determine the achievable speed."
		    }
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [145, 432, 185, 508]
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  From
		  Name			  "From"
		  Position		  [355, 389, 415, 411]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "v_init"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [190, 24, 220, 56]
		  ShowName		  off
		  FontName		  "Arial"
		  Gain			  "0.5"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <sdo><cyc>"
		  Position		  [440, 455, 505, 485]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "mpha"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <vc> and\n<wh>/tire slip model"
		  Position		  [535, 339, 595, 361]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "v_prev"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <vc> and\n<wh>/tire slip model"
"1"
		  Position		  [435, 49, 495, 71]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "Fr"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [440, 105, 480, 140]
		  ShowName		  off
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [145, 30, 165, 50]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [4, 1]
		  Position		  [365, 13, 385, 217]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "++++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [210, 482, 305, 498]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "veh_spd_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [210, 442, 305, 458]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|force_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "veh_force_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  Ports			  [1]
		  Position		  [450, 232, 545, 248]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|spd_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "veh_spd_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [450, 177, 545, 193]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|force_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "veh_force_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [425, 17, 520, 33]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName|Fr|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "veh_Fr"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "force req'd to accelerate\n(N)"
		  Ports			  [2, 1]
		  Position		  [285, 262, 315, 318]
		  FontName		  "Arial"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "force req'd to accelerate\n(N)"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "v(m/s)"
		    Position		    [60, 80, 80, 100]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "v prev"
		    Position		    [60, 130, 80, 150]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [40, 175, 60, 195]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [95, 210, 130, 230]
		    FontName		    "Arial"
		    X0			    "-0.1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [3, 1]
		    Position		    [285, 77, 315, 113]
		    Inputs		    "**/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [115, 85, 135, 105]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [160, 180, 180, 200]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "current veh mass"
		    Ports		    [0, 1]
		    Position		    [95, 21, 135, 39]
		    BackgroundColor	    "darkGreen"
		    SourceBlock		    "lib_wheel2/Submodels/current veh "
"mass"
		    SourceType		    "SubSystem"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "(N)"
		    Position		    [385, 85, 405, 105]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "current veh mass"
		    SrcPort		    1
		    Points		    [85, 0; 0, 55]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [5, 0; 0, -25]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "(N)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "v prev"
		    SrcPort		    1
		    Points		    [5, 0; 0, -40]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "v(m/s)"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [40, 0; 0, -85]
		    DstBlock		    "Product1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "force req'd to ascend\n(N)"
		  Ports			  [1, 1]
		  Position		  [285, 94, 315, 146]
		  FontName		  "Arial"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "force req'd to ascend\n(N)"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "average vehicle speed\nover time "
"step (m/s)"
		    Position		    [70, 105, 90, 125]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [50, 14, 190, 36]
		    FontName		    "Arial"
		    Value		    "veh_gravity"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [315, 135, 335, 155]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From<cyc>"
		    Position		    [55, 64, 115, 86]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "grade"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [3, 1]
		    Position		    [310, 34, 340, 66]
		    BackgroundColor	    "darkGreen"
		    Inputs		    "3"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [380, 72, 410, 158]
		    FontName		    "Arial"
		    Threshold		    "0"
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "Trigonometric\nFunction"
		    Ports		    [1, 1]
		    Position		    [155, 60, 185, 90]
		    Operator		    "atan"
		    OutputSignalType	    "auto"
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "Trigonometric\nFunction1"
		    Ports		    [1, 1]
		    Position		    [235, 60, 265, 90]
		    Operator		    "sin"
		    OutputSignalType	    "auto"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "current veh mass"
		    Ports		    [0, 1]
		    Position		    [195, 136, 235, 154]
		    BackgroundColor	    "darkGreen"
		    SourceBlock		    "lib_wheel2/Submodels/current veh "
"mass"
		    SourceType		    "SubSystem"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "(N)"
		    Position		    [450, 105, 470, 125]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "current veh mass"
		    SrcPort		    1
		    Points		    [55, 0]
		    DstBlock		    "Product"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "average vehicle speed\nover time "
"step (m/s)"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "(N)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [100, 0]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From<cyc>"
		    SrcPort		    1
		    DstBlock		    "Trigonometric\nFunction"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Trigonometric\nFunction1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -25]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Trigonometric\nFunction"
		    SrcPort		    1
		    DstBlock		    "Trigonometric\nFunction1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "force req'd to overcome\naerodynami"
"c drag (N)"
		  Ports			  [1, 1]
		  Position		  [285, 175, 315, 235]
		  FontName		  "Arial"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "force req'd to overcome\naerodyna"
"mic drag (N)"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "average vehicle speed\nover time "
"step (m/s)"
		    Position		    [75, 20, 95, 40]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [50, 78, 260, 102]
		    FontName		    "Arial"
		    Value		    "veh_air_density*veh_CD*veh_FA*0.5"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [3, 1]
		    Position		    [315, 22, 335, 58]
		    FontName		    "Arial"
		    Inputs		    "3"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "D aero(N)"
		    Position		    [385, 30, 405, 50]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "D aero(N)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Product"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "average vehicle speed\nover time "
"step (m/s)"
		    SrcPort		    1
		    Points		    [170, 0]
		    Branch {
		    Points		    [0, 10]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  Ports			  []
		  Position		  [511, 274, 542, 317]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('vehicle.h"
"tm')]);"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "image(imread('doc_man.jpg'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "help"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "memory & init speed"
		  Ports			  [2, 1]
		  Position		  [435, 376, 460, 409]
		  NamePlacement		  "alternate"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "memory & init speed"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "signal in"
		    Position		    [170, 168, 200, 182]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "signal init"
		    Position		    [175, 308, 205, 322]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [225, 230, 255, 260]
		    ShowName		    off
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    InitialCondition
		    Name		    "IC"
		    Position		    [295, 230, 325, 260]
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [265, 165, 305, 185]
		    FontName		    "Arial"
		    X0			    "0"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [425, 230, 455, 260]
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "signal out"
		    Position		    [510, 238, 540, 252]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "signal init"
		    SrcPort		    1
		    Points		    [170, 0; 0, -60]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "signal out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "IC"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [50, 0; 0, 60]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "IC"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "signal in"
		    SrcPort		    1
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [171, 84]
		    HorizontalAlignment	    "left"
		    Text		    "2003-April-02, Michael O'Keefe\n"
"\nThis block passes through the last speed achieved unless this is the initia"
"l condition in which\ncase the initial speed value (a supplied control signal"
") is passed through. For backwards \ncompatibility, the value of v_init shoul"
"d be cyc_mph(1,2)*0.447"
		    }
		    Annotation {
		    Position		    [217, 348]
		    Text		    "cyc_mph(1,2)*.447"
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "power logging--achieved"
		  Ports			  [2]
		  Position		  [340, 518, 475, 567]
		  ForegroundColor	  "orange"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "power logging--achieved"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "veh_force_a"
		    Position		    [85, 68, 115, 82]
		    ForegroundColor	    "orange"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "veh_spd_a"
		    Position		    [160, 83, 190, 97]
		    ForegroundColor	    "orange"
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    Ports		    [1, 1]
		    Position		    [290, 21, 310, 49]
		    ForegroundColor	    "orange"
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    InitialCondition	    "0"
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    ShowSaturationPort	    off
		    ShowStatePort	    off
		    AbsoluteTolerance	    "auto"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Joules"
		    Ports		    [1]
		    Position		    [330, 27, 425, 43]
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|energy_a|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "Joules"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "veh_energy_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [225, 66, 245, 99]
		    ForegroundColor	    "orange"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "horse power"
		    Ports		    [1]
		    Position		    [330, 77, 425, 93]
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|pwr_a_hp|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "horse power"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "veh_pwr_a_hp"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "w -> hp"
		    Position		    [275, 69, 305, 101]
		    ForegroundColor	    "orange"
		    FontName		    "Arial"
		    Gain		    "0.001341022"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "watts"
		    Ports		    [1]
		    Position		    [330, 137, 425, 153]
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|pwr_a|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "watts"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "veh_pwr_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "w -> hp"
		    SrcPort		    1
		    DstBlock		    "horse power"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [0, 0; 5, 0]
		    Branch {
		    DstBlock		    "w -> hp"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 60]
		    DstBlock		    "watts"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    DstBlock		    "Joules"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "veh_force_a"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "veh_spd_a"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "power logging--request"
		  Ports			  [2]
		  Position		  [560, 188, 695, 237]
		  ForegroundColor	  "orange"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "power logging--request"
		    Location		    [214, 73, 966, 766]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "veh_force_r"
		    Position		    [85, 68, 115, 82]
		    ForegroundColor	    "orange"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "veh_spd_r"
		    Position		    [160, 83, 190, 97]
		    ForegroundColor	    "orange"
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    Ports		    [1, 1]
		    Position		    [290, 21, 310, 49]
		    ForegroundColor	    "orange"
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    InitialCondition	    "0"
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    ShowSaturationPort	    off
		    ShowStatePort	    off
		    AbsoluteTolerance	    "auto"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Joules"
		    Ports		    [1]
		    Position		    [330, 27, 425, 43]
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|energy_r|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "Joules"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "veh_energy_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [225, 66, 245, 99]
		    ForegroundColor	    "orange"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "horse power"
		    Ports		    [1]
		    Position		    [330, 77, 425, 93]
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|pwr_r_hp|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "horse power"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "veh_pwr_r_hp"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "w -> hp"
		    Position		    [275, 69, 305, 101]
		    ForegroundColor	    "orange"
		    FontName		    "Arial"
		    Gain		    "0.001341022"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "watts"
		    Ports		    [1]
		    Position		    [330, 137, 425, 153]
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|pwr_r|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "watts"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "veh_pwr_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "w -> hp"
		    SrcPort		    1
		    DstBlock		    "horse power"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [0, 0; 5, 0]
		    Branch {
		    DstBlock		    "w -> hp"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 60]
		    DstBlock		    "watts"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    DstBlock		    "Joules"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "veh_force_r"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "veh_spd_r"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "record achieved\nforce outputs"
		  Ports			  [2]
		  Position		  [535, 372, 600, 468]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "record achieved\nforce outputs"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "spd_prev"
		    Position		    [35, 78, 65, 92]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "spd"
		    Position		    [35, 48, 65, 62]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [390, 75, 450, 95]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "vel_ave"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From1"
		    Position		    [390, 195, 450, 215]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "vel_ave"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From2"
		    Position		    [390, 285, 450, 305]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "vel_ave"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From3"
		    Position		    [395, 370, 455, 390]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "vel_ave"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain1"
		    Position		    [160, 174, 190, 206]
		    ShowName		    off
		    FontName		    "Arial"
		    Gain		    "0.5"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto4"
		    Position		    [560, 69, 695, 91]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "veh_pwr_accel_a"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto5"
		    Position		    [570, 189, 705, 211]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "veh_pwr_drag_a"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto6"
		    Position		    [230, 136, 290, 154]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    GotoTag		    "vel_ave"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto7"
		    Position		    [565, 279, 700, 301]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "veh_pwr_ascent_a"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto9"
		    Position		    [570, 364, 705, 386]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "veh_pwr_rr_a"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [475, 61, 520, 94]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [475, 181, 520, 214]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [475, 271, 520, 304]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    Ports		    [2, 1]
		    Position		    [480, 356, 525, 389]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    Ports		    [2, 1]
		    Position		    [115, 180, 135, 200]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    Ports		    [1]
		    Position		    [585, 117, 680, 133]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|pwr_accel_a|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "veh_pwr_accel_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace1"
		    Ports		    [1]
		    Position		    [585, 232, 680, 248]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|pwr_drag_a|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "veh_pwr_drag_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace2"
		    Ports		    [1]
		    Position		    [585, 322, 680, 338]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|pwr_ascent_a|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "veh_pwr_ascent_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace3"
		    Ports		    [1]
		    Position		    [585, 412, 680, 428]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName|pwr_rr_a|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "veh_pwr_rr_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "force req'd to accelerate\n(N)"
		    Ports		    [2, 1]
		    Position		    [280, 42, 310, 98]
		    FontName		    "Arial"
		    SourceBlock		    "lib_wheel2/vehicle, wheel, & axle"
"\nfront//rear <wh>/models and interface/vehicle <veh>/force req'd to accelera"
"te\n(N)"
		    SourceType		    "SubSystem"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "force req'd to ascend\n(N)"
		    Ports		    [1, 1]
		    Position		    [280, 254, 310, 306]
		    FontName		    "Arial"
		    SourceBlock		    "lib_wheel2/vehicle, wheel, & axle"
"\nfront//rear <wh>/models and interface/vehicle <veh>/force req'd to ascend\n"
"(N)"
		    SourceType		    "SubSystem"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "force req'd to overcome\naerodyna"
"mic drag (N)"
		    Ports		    [1, 1]
		    Position		    [280, 160, 310, 220]
		    FontName		    "Arial"
		    SourceBlock		    "lib_wheel2/vehicle, wheel, & axle"
"\nfront//rear <wh>/models and interface/vehicle <veh>/force req'd to overcome"
"\naerodynamic drag (N)"
		    SourceType		    "SubSystem"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "rolling resistance force"
		    Ports		    [1, 1]
		    Position		    [280, 338, 310, 392]
		    AttributesFormatString  "%<BlockChoice>"
		    ShowPortLabels	    off
		    BlockChoice		    "force req'd to overcome rolling r"
"esistance (N)"
		    TemplateBlock	    "lib_wheel2/Submodels/rolling resi"
"stance force"
		    MemberBlocks	    "force req'd to overcome rolling r"
"esistance (N),force req'd to overcome rolling resistance (N) j2452"
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "rolling resistance force"
		    Location		    [148, 182, 646, 482]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "average vehicle speed\nover time "
"step (m/s)"
		    Position		    [20, 40, 40, 60]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "force req'd to overcome\nrolling "
"resistance (N)"
		    Ports		    [1, 1]
		    Position		    [100, 40, 140, 80]
		    FontName		    "Arial"
		    SourceBlock		    "lib_wheel2/Submodels/force req'd "
"to overcome\nrolling resistance (N)"
		    SourceType		    "SubSystem"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Fr\n(N)"
		    Position		    [200, 80, 220, 100]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "average vehicle speed\nover time "
"step (m/s)"
		    SrcPort		    1
		    Points		    [20, 0; 0, 10]
		    DstBlock		    "force req'd to overcome\nrolling "
"resistance (N)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "force req'd to overcome\nrolling "
"resistance (N)"
		    SrcPort		    1
		    Points		    [20, 0; 0, 30]
		    DstBlock		    "Fr\n(N)"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Gain1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "force req'd to overcome\naerodyna"
"mic drag (N)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -45]
		    DstBlock		    "Goto6"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 90]
		    Branch {
		    Points		    [0, 85]
		    DstBlock		    "rolling resistance force"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "force req'd to ascend\n(N)"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    Points		    [0, 0; 20, 0]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto9"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "From3"
		    SrcPort		    1
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    Points		    [0, 0; 20, 0]
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto7"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "From2"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From1"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [0, 0; 25, 0]
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto5"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [0, 0; 20, 0]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto4"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "force req'd to accelerate\n(N)"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "rolling resistance force"
		    SrcPort		    1
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "force req'd to ascend\n(N)"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "force req'd to overcome\naerodyna"
"mic drag (N)"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "spd_prev"
		    SrcPort		    1
		    Points		    [0, 0; 25, 0]
		    Branch {
		    DstBlock		    "force req'd to accelerate\n(N)"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 110]
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "spd"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "force req'd to accelerate\n(N)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [298, 144]
		    HorizontalAlignment	    "left"
		    Text		    "local tag"
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "rolling resistance force"
		  Ports			  [1, 1]
		  Position		  [285, 13, 315, 67]
		  AttributesFormatString  "%<BlockChoice>"
		  ShowPortLabels	  off
		  BlockChoice		  "force req'd to overcome rolling res"
"istance (N)"
		  TemplateBlock		  "lib_wheel2/Submodels/rolling resist"
"ance force"
		  MemberBlocks		  "force req'd to overcome rolling res"
"istance (N),force req'd to overcome rolling resistance (N) j2452"
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "rolling resistance force"
		    Location		    [148, 182, 646, 482]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "average vehicle speed\nover time "
"step (m/s)"
		    Position		    [20, 40, 40, 60]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "force req'd to overcome\nrolling "
"resistance (N)"
		    Ports		    [1, 1]
		    Position		    [100, 40, 140, 80]
		    FontName		    "Arial"
		    SourceBlock		    "lib_wheel2/Submodels/force req'd "
"to overcome\nrolling resistance (N)"
		    SourceType		    "SubSystem"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Fr\n(N)"
		    Position		    [200, 80, 220, 100]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "average vehicle speed\nover time "
"step (m/s)"
		    SrcPort		    1
		    Points		    [20, 0; 0, 10]
		    DstBlock		    "force req'd to overcome\nrolling "
"resistance (N)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "force req'd to overcome\nrolling "
"resistance (N)"
		    SrcPort		    1
		    Points		    [20, 0; 0, 30]
		    DstBlock		    "Fr\n(N)"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "vehicle speed"
		  Ports			  [2, 1]
		  Position		  [285, 357, 315, 408]
		  AttributesFormatString  "%<BlockChoice>"
		  ShowPortLabels	  off
		  BlockChoice		  "vehicle speed (m/s)"
		  TemplateBlock		  "lib_wheel2/Submodels/vehicle speed"
		  MemberBlocks		  "vehicle speed (m/s),vehicle speed ("
"m/s) j2452"
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "vehicle speed"
		    Location		    [148, 182, 646, 482]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "vehicle speed at\nbeginning of ti"
"me step\n(m/s)"
		    Position		    [20, 40, 40, 60]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "available tractive force\nand lin"
"ear speed\n(N), (m/s)"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "vehicle speed (m/s)"
		    Ports		    [2, 1]
		    Position		    [100, 40, 140, 80]
		    SourceBlock		    "lib_wheel2/Submodels/vehicle spee"
"d (m//s)"
		    SourceType		    "SubSystem"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vehicle speed\nachievable at\nend"
" of time step\n(m/s)"
		    Position		    [200, 40, 220, 60]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "vehicle speed at\nbeginning of ti"
"me step\n(m/s)"
		    SrcPort		    1
		    DstBlock		    "vehicle speed (m/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "available tractive force\nand lin"
"ear speed\n(N), (m/s)"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "vehicle speed (m/s)"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "vehicle speed (m/s)"
		    SrcPort		    1
		    Points		    [20, 0; 0, -10]
		    DstBlock		    "vehicle speed\nachievable at\nend"
" of time step\n(m/s)"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "tractive force and speed\nrequired "
"of tire and wheel\n(N), (m/s)"
		  Position		  [550, 115, 570, 135]
		  NamePlacement		  "alternate"
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "From"
		  SrcPort		  1
		  DstBlock		  "memory & init speed"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "vehicle speed"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "memory & init speed"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "record achieved\nforce outputs"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "(m/s) -> (mph)"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "tractive force and\nlinear speed\na"
"chievable\n(N)"
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    DstBlock		    "vehicle speed"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 75]
		    DstBlock		    "Demux1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "rolling resistance force"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [0, 85]
		    Branch {
		    Points		    [0, 0]
		    DstBlock		    "force req'd to overcome\naerodyna"
"mic drag (N)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35; 175, 0; 0, 0]
		    Branch {
		    Points		    [0, -110]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "power logging--request"
		    DstPort		    2
		    }
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "force req'd to ascend\n(N)"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "vehicle speed\nreq'd at end of\ntim"
"e step (m/s)"
		  SrcPort		  1
		  Points		  [45, 0]
		  Branch {
		    Points		    [0, 240]
		    DstBlock		    "force req'd to accelerate\n(N)"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "tractive force and speed\nrequired "
"of tire and wheel\n(N), (m/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 70; 5, 0]
		    Branch {
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 15]
		    DstBlock		    "power logging--request"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 15; 120, 0; 0, 65]
		    DstBlock		    "power logging--achieved"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 65]
		    DstBlock		    "power logging--achieved"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "force req'd to overcome\naerodynami"
"c drag (N)"
		  SrcPort		  1
		  Points		  [10, 0; 0, -65]
		  DstBlock		  "Sum1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "force req'd to accelerate\n(N)"
		  SrcPort		  1
		  Points		  [25, 0; 0, -100]
		  DstBlock		  "Sum1"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "memory & init speed"
		  SrcPort		  1
		  Points		  [35, 0; 0, -45]
		  Branch {
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "record achieved\nforce outputs"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Goto <vc> and\n<wh>/tire slip mod"
"el"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [-390, 0]
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "vehicle speed"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -45]
		    Branch {
		    DstBlock		    "force req'd to accelerate\n(N)"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -260]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    }
		  }
		}
		Line {
		  SrcBlock		  "(m/s) -> (mph)"
		  SrcPort		  1
		  DstBlock		  "Goto <sdo><cyc>"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "force req'd to ascend\n(N)"
		  SrcPort		  1
		  Points		  [10, 0; 0, -30]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "rolling resistance force"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    Points		    [0, -15; 55, 0]
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "Goto <vc> and\n<wh>/tire slip mod"
"el1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "wheel and axle \nfront/rear <wh>"
	      Ports		      [3, 3]
	      Position		      [380, 132, 430, 188]
	      BackgroundColor	      "yellow"
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "image(imread('bdi_wh.jpg'))"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"wheel and axle \nfront/rear <wh>"
		Location		[202, 73, 966, 748]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "tractive force and speed\nreq'd of "
"tire/road interface\n(N), (m/s)"
		  Position		  [55, 169, 75, 191]
		  FontName		  "Arial"
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed\navailable from\nd"
"rivetrain into front axle\n(Nm), (rad/s)"
		  Position		  [55, 480, 75, 500]
		  FontName		  "Arial"
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "torque and speed\navailable from\nd"
"rivetrain into rear axle\n(Nm), (rad/s)"
		  Position		  [55, 735, 75, 755]
		  ForegroundColor	  "lightBlue"
		  FontName		  "Arial"
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [900, 680, 956, 720]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [237, 12]
		    VerticalAlignment	    "top"
		    Text		    "This block determines the require"
"d axle torque and speed given the tractive force and\nspeed required to meet "
"the trace in the top blocks, and determines the available tractive\nforce and"
" possible vehicle speed given the drivetrain-input torque and rotational spee"
"d\nin the bottom blocks.  The \"wheel control\" blocks apply the braking stra"
"tegy and ensure\nthat accelerations beyond the capability of the tires are no"
"t requested. "
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [195, 500, 225, 530]
		  ForegroundColor	  "lightBlue"
		  Value			  "wh_front_active_bool"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [140, 151, 160, 209]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [105, 373, 125, 602]
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux2"
		  Ports			  [1, 2]
		  Position		  [100, 716, 120, 774]
		  ForegroundColor	  "lightBlue"
		  ShowName		  off
		  FontName		  "Arial"
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  Position		  [20, 314, 95, 336]
		  Orientation		  "left"
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "wh_trq_a"
		  TagVisibility		  "scoped"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [770, 82, 785, 133]
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [825, 465, 845, 520]
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [775, 232, 790, 283]
		  ForegroundColor	  "lightBlue"
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [3, 1]
		  Position		  [680, 56, 700, 134]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [3, 1]
		  Position		  [205, 381, 225, 439]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "--+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum4"
		  Ports			  [3, 1]
		  Position		  [680, 206, 700, 284]
		  ForegroundColor	  "lightBlue"
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum5"
		  Ports			  [3, 1]
		  Position		  [205, 681, 225, 739]
		  ForegroundColor	  "lightBlue"
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "--+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [260, 500, 290, 530]
		  ForegroundColor	  "lightBlue"
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "effect of \ninertia (Nm)"
		  Ports			  [1, 1]
		  Position		  [535, 142, 565, 178]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "effect of \ninertia (Nm)"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "axle input speed (rad/s)"
		    Position		    [50, 15, 70, 35]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [30, 59, 135, 81]
		    FontName		    "Arial"
		    Value		    "wh_inertia"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [290, 13, 310, 57]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Derivative
		    Name		    "d/dt"
		    Position		    [155, 15, 185, 35]
		    FontName		    "Arial"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "inertia torque\n(Nm)"
		    Position		    [380, 25, 400, 45]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "inertia torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [70, 0; 0, -25]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "axle input speed (rad/s)"
		    SrcPort		    1
		    DstBlock		    "d/dt"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "d/dt"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [232, 107]
		    VerticalAlignment	    "top"
		    Text		    "This block computes the torque re"
"quired to overcome the inertia of the\nwheels and axle."
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace"
		  Ports			  [1]
		  Position		  [255, 797, 350, 813]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName01|rear_spd_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "wh_rear_spd_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace1"
		  Ports			  [1]
		  Position		  [200, 262, 295, 278]
		  Orientation		  "left"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName01|wt_front_axle|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace1"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "wh_wt_front_axle"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace10"
		  Ports			  [1]
		  Position		  [790, 62, 885, 78]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName01|trq_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace10"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "wh_trq_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace11"
		  Ports			  [1]
		  Position		  [565, 762, 660, 778]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName01|rear_brake_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace11"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "wh_rear_brake_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace12"
		  Ports			  [1]
		  Position		  [565, 722, 660, 738]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName01|front_brake_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace12"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "wh_front_brake_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace2"
		  Ports			  [1]
		  Position		  [90, 287, 185, 303]
		  Orientation		  "left"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName01|front_traction_ratio|"
"logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace2"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "wh_front_traction_ratio"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace3"
		  Ports			  [1]
		  Position		  [205, 302, 300, 318]
		  Orientation		  "left"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName01|wt_rear_axle|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace3"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "wh_wt_rear_axle"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace4"
		  Ports			  [1]
		  Position		  [20, 357, 80, 373]
		  Orientation		  "left"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName01|trq_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace4"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "wh_trq_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace5"
		  Ports			  [1]
		  Position		  [40, 628, 105, 642]
		  Orientation		  "left"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName01|spd_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace5"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "wh_spd_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace6"
		  Ports			  [1]
		  Position		  [40, 687, 120, 703]
		  Orientation		  "left"
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName01|rear_trq_a|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace6"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "wh_rear_trq_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace7"
		  Ports			  [1]
		  Position		  [795, 167, 890, 183]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName01|rear_spd_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace7"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "wh_rear_spd_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace8"
		  Ports			  [1]
		  Position		  [795, 207, 890, 223]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName01|rear_trq_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace8"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "wh_rear_trq_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "enhancedToWorkspace9"
		  Ports			  [1]
		  Position		  [790, 22, 885, 38]
		  ShowName		  off
		  CopyFcn		  "breakLinkCopyFcn"
		  ParentCloseFcn	  "breakLinkParCloseFcn"
		  FontSize		  8
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "enhancedToWorkspace"
		  MaskDescription	  "A wrapper for the Simulink \"To Wor"
"kspace\" block that allows you to evaluate the name of the variable to log to"
" workspace. This is useful to avoid the double logging errors that occur when"
" you pull in two library models that attempt to log to the same variable."
		  MaskHelp		  "<h2>Enhanced To Workspace Block</h2"
">\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gener"
"al name of the variable. Variables are saved to the workspace as <i>generalNa"
"me_specificName</i>. Note that this is an evaluated variable. If you would li"
"ke to type in the value directly, it must be surrounded with single quotes. O"
"therwise you can input the name of a variable containing a char string.</li>"
"\n<li><b>Specific Name:</b> This is the specific name of the variable. Note t"
"hat this is input as a char literal (i.e., you don't need quotes).</li>\n<li>"
"<b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the vari"
"able will not be logged to the workspace. If 1, the variable will be logged. "
"This is done so that variable logging can be turned off to improve speed.</li"
">\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toget"
"her to allow one to dynamically resolve variable names at run time in simulin"
"k. This is most powerful when used in conjunction with a masked subsystem to "
"allow multiple instances of that masked subsytem to be used in the same model"
". The strategy is to set the generalName in the block mask which will allow t"
"he block to change the general name for all variable logging on the fly. \n<h"
"3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspace"
" block. These files are located in the &lt; ADVISOR root &gt;/GUI directory :"
"\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initialization"
" for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the b"
"lock callback when the simulink block is copied. It is necessary to break the"
" link to the enhancedToWorkspace similar to the To Workspace block in order f"
"or it to be able to configure itself. (Try copying simulink's To Workspace bl"
"ock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i>"
" This file is similar to the breakLinkCopyFcn and is used when a parent syste"
"m is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'Ke"
"efe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</B"
"> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type<"
"/B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</U"
"L>\n</VARDEF>\n-->\n"
		  MaskPromptString	  "General Name [char-evaluated]|Speci"
"fic Name [char-literal]|Enable flag (1=on,0=off)"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "generalName=@1;specificName=&2;logF"
"lag=@3;"
		  MaskInitialization	  "enhancedToWsMaker"
		  MaskDisplay		  "disp([generalName,'_',specificName]"
")"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "generalName01|spd_r|logFlag"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "enhancedToWorkspace9"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "wh_spd_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "front \nactive?"
		  Position		  [715, 78, 735, 112]
		  ForegroundColor	  "lightBlue"
		  FontName		  "Arial"
		  Gain			  "wh_front_active_bool"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "front \nactive?1"
		  Position		  [140, 413, 160, 447]
		  ForegroundColor	  "lightBlue"
		  FontName		  "Arial"
		  Gain			  "wh_front_active_bool"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "front \nactive?2"
		  Position		  [245, 393, 260, 427]
		  ForegroundColor	  "lightBlue"
		  FontName		  "Arial"
		  Gain			  "wh_front_active_bool"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "front brake"
		  Ports			  [1, 1]
		  Position		  [560, 450, 590, 480]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "front brake"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "F_brake"
		    Position		    [20, 65, 40, 85]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [165, 63, 355, 87]
		    Value		    "wh_max_front_brake_force"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [85, 65, 105, 85]
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "F_brake_max"
		    Position		    [395, 65, 415, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "F_brake_max"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "F_brake"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "front force"
		  Ports			  [2, 1]
		  Position		  [375, 41, 410, 94]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "front force"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [15, 135, 45, 150]
		    Orientation		    "up"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "In2"
		    Position		    [20, 163, 50, 177]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [115, 127, 145, 158]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    Ports		    [2, 1]
		    Position		    [170, 84, 195, 111]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "brake request \ncontroller interf"
"ace"
		    Ports		    [0, 1]
		    Position		    [35, 80, 125, 100]
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "brake request \ncontroller interf"
"ace"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    From
		    Name		    "From <logic>"
		    Position		    [200, 39, 300, 71]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "F_front_brake_req"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "F_front_brake_req"
		    Position		    [335, 45, 355, 65]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "From <logic>"
		    SrcPort		    1
		    DstBlock		    "F_front_brake_req"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace11"
		    Ports		    [1]
		    Position		    [215, 42, 310, 58]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName01|front_brake_r|logFl"
"ag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace11"
		    Location		    [453, 361, 913, 631]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "wh_front_brake_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "tractive torque\nreq/d of drivetr"
"ain\n(Nm)"
		    Position		    [215, 79, 280, 121]
		    FontName		    "Arial"
		    Gain		    "wh_radius"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [305, 93, 335, 107]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "tractive torque\nreq/d of drivetr"
"ain\n(Nm)"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In2"
		    SrcPort		    1
		    Points		    [0, -20]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    Points		    [70, 0]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "tractive torque\nreq/d of drivetr"
"ain\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "brake request \ncontroller interf"
"ace"
		    SrcPort		    1
		    Points		    [0, 0; 20, 0]
		    Branch {
		    Points		    [0, -40]
		    DstBlock		    "enhancedToWorkspace11"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "front tire\ntractive force\n(N)"
		  Ports			  [2, 1]
		  Position		  [615, 410, 635, 430]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "front/rear brake controller interfa"
"ce\n(achievable)"
		  Ports			  [5, 2]
		  Position		  [365, 442, 510, 538]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "front/rear brake controller inter"
"face\n(achievable)"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "F_drivetrain_ach"
		    Position		    [100, 45, 120, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w_wheel_ach"
		    Position		    [100, 105, 120, 125]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "F_rear_drivetrain_ach"
		    Position		    [100, 175, 120, 195]
		    ForegroundColor	    "lightBlue"
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "F_max_front_brake"
		    Position		    [105, 235, 125, 255]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "F_max_rear_brake"
		    Position		    [105, 290, 125, 310]
		    Port		    "5"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <logic>"
		    Position		    [305, 34, 410, 66]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "F_front_brake"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <logic>1"
		    Position		    [305, 94, 410, 126]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "F_rear_brake"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <logic>"
		    Position		    [155, 38, 280, 72]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "F_drivetrain_ach"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <logic>1"
		    Position		    [155, 99, 280, 131]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "w_wheel_ach"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <logic>2"
		    Position		    [160, 228, 290, 262]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "F_max_front_brake"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <logic>3"
		    Position		    [160, 284, 290, 316]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "F_max_rear_brake"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <logic>4"
		    Position		    [165, 168, 285, 202]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "F_rear_drivetrain_ach"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "F_front_brake"
		    Position		    [445, 40, 465, 60]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "F_rear_brake"
		    Position		    [445, 100, 465, 120]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "F_rear_drivetrain_ach"
		    SrcPort		    1
		    DstBlock		    "Goto <logic>4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "F_max_rear_brake"
		    SrcPort		    1
		    DstBlock		    "Goto <logic>3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "F_max_front_brake"
		    SrcPort		    1
		    DstBlock		    "Goto <logic>2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "F_drivetrain_ach"
		    SrcPort		    1
		    DstBlock		    "Goto <logic>"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w_wheel_ach"
		    SrcPort		    1
		    DstBlock		    "Goto <logic>1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <logic>"
		    SrcPort		    1
		    DstBlock		    "F_front_brake"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <logic>1"
		    SrcPort		    1
		    DstBlock		    "F_rear_brake"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "help"
		  Ports			  []
		  Position		  [812, 678, 842, 722]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  OpenFcn		  "web(['file:\\\\\\' which('advisor_d"
"oc.htm')]);"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "image(imread('doc_man.jpg'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "help"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "limits and losses\ndiagnostics"
		  Ports			  [5]
		  Position		  [705, 658, 740, 722]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "limits and losses\ndiagnostics"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "speed"
		    Position		    [280, 45, 310, 60]
		    Orientation		    "down"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "front brake"
		    Position		    [25, 113, 55, 127]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "front brake max"
		    Position		    [75, 128, 105, 142]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "rear brake max"
		    Position		    [35, 178, 65, 192]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "rear brake"
		    Position		    [35, 232, 65, 248]
		    Port		    "5"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [275, 87, 305, 123]
		    FontName		    "Arial"
		    Gain		    "-1"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>1"
		    Position		    [280, 154, 385, 176]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "brake_limited"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [2, 1]
		    Position		    [225, 147, 255, 178]
		    Operator		    "OR"
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [330, 82, 360, 113]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [155, 112, 185, 143]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator2"
		    Position		    [155, 177, 185, 208]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum3"
		    Ports		    [2, 1]
		    Position		    [230, 86, 250, 119]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    Ports		    [1]
		    Position		    [385, 92, 480, 108]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName01|brake_loss_pwr|logF"
"lag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "wh_brake_loss_pwr"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "rear brake"
		    SrcPort		    1
		    Points		    [55, 0; 0, -40]
		    Branch {
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [10, 0; 0, -90]
		    DstBlock		    "Sum3"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "rear brake max"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "front brake max"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "front brake"
		    SrcPort		    1
		    Points		    [45, 0; 15, 0]
		    Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -25]
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "speed"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator2"
		    SrcPort		    1
		    Points		    [15, 0; 0, -25]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [15, 0; 0, 25]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "Goto <sdo>1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum3"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "loss\n(Nm)"
		  Ports			  [1, 1]
		  Position		  [535, 77, 565, 113]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "loss\n(Nm)"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "axle speed (rad/s)"
		    Position		    [50, 5, 70, 25]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [220, 95, 240, 115]
		    Orientation		    "up"
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [285, 49, 315, 81]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "current veh mass"
		    Ports		    [0, 1]
		    Position		    [50, 46, 90, 64]
		    BackgroundColor	    "darkGreen"
		    SourceBlock		    "lib_wheel2/Submodels/current veh "
"mass"
		    SourceType		    "SubSystem"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "wheel & axle\nbearing drag (Nm)"
		    Position		    [160, 43, 190, 67]
		    InputValues		    "wh_axle_loss_mass"
		    OutputValues	    "wh_axle_loss_trq"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "drag torque\n(Nm)"
		    Position		    [380, 55, 400, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "wheel & axle\nbearing drag (Nm)"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -15]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "axle speed (rad/s)"
		    SrcPort		    1
		    Points		    [135, 0; 0, 50]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "drag torque\n(Nm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "current veh mass"
		    SrcPort		    1
		    DstBlock		    "wheel & axle\nbearing drag (Nm)"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [232, 142]
		    VerticalAlignment	    "top"
		    Text		    "The loss torque is zero when the "
"axle is not turning."
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "rear \nactive?"
		  Position		  [720, 228, 740, 262]
		  ForegroundColor	  "lightBlue"
		  FontName		  "Arial"
		  Gain			  "wh_rear_active_bool"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "rear \nactive?1"
		  Position		  [135, 713, 150, 747]
		  ForegroundColor	  "lightBlue"
		  FontName		  "Arial"
		  Gain			  "wh_rear_active_bool"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "rear \nactive?2"
		  Position		  [245, 693, 260, 727]
		  ForegroundColor	  "lightBlue"
		  FontName		  "Arial"
		  Gain			  "wh_rear_active_bool"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "rear brake"
		  Ports			  [1, 1]
		  Position		  [560, 500, 590, 530]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "rear brake"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "F_brake"
		    Position		    [20, 65, 40, 85]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [140, 63, 290, 87]
		    Value		    "wh_max_rear_brake_force"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator"
		    Position		    [85, 65, 105, 85]
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "F_brake_max"
		    Position		    [320, 65, 340, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "F_brake"
		    SrcPort		    1
		    DstBlock		    "Terminator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "F_brake_max"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "rear force"
		  Ports			  [2, 1]
		  Position		  [465, 263, 500, 312]
		  ForegroundColor	  "lightBlue"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "rear force"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [35, 93, 65, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "In2"
		    Position		    [45, 128, 75, 142]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [120, 97, 150, 128]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [175, 139, 200, 166]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum4"
		    Ports		    [2, 1]
		    Position		    [175, 54, 200, 81]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "brake request controller interfac"
"e1"
		    Ports		    [0, 1]
		    Position		    [40, 50, 130, 70]
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "brake request controller interfac"
"e1"
		    Location		    [275, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    From
		    Name		    "From <logic>"
		    Position		    [175, 39, 300, 71]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "F_rear_brake_req"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "F_rear_brake_req"
		    Position		    [335, 45, 355, 65]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "From <logic>"
		    SrcPort		    1
		    DstBlock		    "F_rear_brake_req"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    Ports		    [1]
		    Position		    [240, 22, 335, 38]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName01|rear_brake_r|logFla"
"g"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [202, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "wh_rear_brake_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "tractive torque\nreq/d of drivetr"
"ain\n(Nm)1"
		    Position		    [220, 49, 285, 91]
		    FontName		    "Arial"
		    Gain		    "wh_radius"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [310, 63, 340, 77]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [0, -30; -25, 0; 0, -25; -20, 0]
		    DstBlock		    "Sum4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In2"
		    SrcPort		    1
		    Points		    [0, -15]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    Points		    [0, 5; 25, 0]
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "tractive torque\nreq/d of drivetr"
"ain\n(Nm)1"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum4"
		    SrcPort		    1
		    DstBlock		    "tractive torque\nreq/d of drivetr"
"ain\n(Nm)1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "brake request controller interfac"
"e1"
		    SrcPort		    1
		    Points		    [0, 0; 15, 0]
		    Branch {
		    Points		    [0, -30]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "rear tire\ntractive force\n(N)"
		  Ports			  [2, 1]
		  Position		  [635, 600, 655, 620]
		  ForegroundColor	  "lightBlue"
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "split inertia\nfront/rear"
		  Position		  [590, 145, 610, 175]
		  ForegroundColor	  "lightBlue"
		  FontName		  "Arial"
		  Gain			  "1/(wh_front_active_bool+wh_rear_act"
"ive_bool)"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "split loss \nfront/rear"
		  Position		  [585, 78, 610, 112]
		  ForegroundColor	  "lightBlue"
		  FontName		  "Arial"
		  Gain			  "1/(wh_front_active_bool+wh_rear_act"
"ive_bool)"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "tire slip model\n(m/s)"
		  Ports			  [7, 1]
		  Position		  [740, 418, 775, 592]
		  ForegroundColor	  "lightBlue"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "tire slip model\n(m/s)"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "weight borne \nby front axle\n(N)"
		    Position		    [140, 35, 160, 55]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "total tractive \nforce available"
"\n(N)"
		    Position		    [80, 90, 100, 110]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "axle speed available\n(rad/s)"
		    Position		    [95, 200, 115, 220]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "axle speed\nreq'd (rad/s)"
		    Position		    [95, 255, 115, 275]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "vehicle speed\nrequired (m/s)"
		    Position		    [90, 345, 110, 365]
		    Port		    "5"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "weight borne by \nrear axle (N)"
		    Position		    [235, 110, 255, 130]
		    ForegroundColor	    "lightBlue"
		    Port		    "6"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "front fraction"
		    Position		    [80, 160, 100, 180]
		    ForegroundColor	    "lightBlue"
		    Port		    "7"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Abs
		    Name		    "Abs1"
		    Position		    [285, 245, 315, 275]
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [820, 340, 876, 380]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [275, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [222, 12]
		    VerticalAlignment	    "top"
		    Text		    "This block implements the effects"
" of finite tire slip (with respect to the road) on the\nvehicle speed/wheel s"
"peed relationship.  Slip is defined as s=(omega*r - v) / v.  The\none-to-one "
"mapping of slip to normalized tractive force, F_tract/W_front_axle, up to\nth"
"e maximum, is stored in the variables \"wh_slip\" and \"wh_slip_force_coeff."
"\"  The\nslip calculation here is overridden if the actual axle speed and the"
" requested axle\nspeed are the same, indicating that no drivetrain speed limi"
"ts were encountered."
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [360, 310, 380, 330]
		    Orientation		    "left"
		    Value		    "1e-3"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant5"
		    Position		    [490, 70, 510, 90]
		    FontName		    "Arial"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant6"
		    Position		    [635, 174, 700, 196]
		    Orientation		    "left"
		    FontName		    "Arial"
		    Value		    "wh_radius"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn"
		    Position		    [595, 54, 625, 76]
		    FontName		    "Arial"
		    Expr		    "1/u"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <sdo>1"
		    Position		    [735, 42, 825, 68]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "veh_spd_a_rec"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [355, 252, 385, 283]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [195, 155, 215, 175]
		    ForegroundColor	    "lightBlue"
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    Ports		    [2, 1]
		    Position		    [425, 90, 445, 110]
		    ForegroundColor	    "lightBlue"
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum3"
		    Ports		    [2, 1]
		    Position		    [545, 55, 565, 75]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum4"
		    Ports		    [2, 1]
		    Position		    [205, 250, 225, 270]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [740, 90, 770, 120]
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "front axle"
		    Ports		    [2, 1]
		    Position		    [215, 30, 255, 90]
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "front axle"
		    Location		    [275, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [110, 43, 140, 57]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "In2"
		    Position		    [25, 128, 55, 142]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Abs
		    Name		    "Abs"
		    Position		    [105, 120, 135, 150]
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [220, 135, 240, 155]
		    Orientation		    "up"
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "F/W"
		    Ports		    [2, 1]
		    Position		    [165, 25, 185, 60]
		    FontName		    "Arial"
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [420, 45, 440, 80]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [187, 95, 218, 115]
		    Orientation		    "up"
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [310, 40, 340, 70]
		    UpperLimit		    "max(wh_slip_force_coeff)"
		    LowerLimit		    "min(wh_slip_force_coeff)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Signum
		    Name		    "Sign"
		    Position		    [105, 169, 140, 201]
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [250, 39, 280, 71]
		    FontName		    "Arial"
		    Threshold		    "0"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "s=s(F/W)"
		    Position		    [365, 43, 395, 67]
		    InputValues		    "wh_slip_force_coeff"
		    OutputValues	    "wh_slip"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [465, 58, 495, 72]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "F/W"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "In2"
		    SrcPort		    1
		    Points		    [0, 0; 15, 0]
		    Branch {
		    Points		    [0, 50]
		    DstBlock		    "Sign"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Abs"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "s=s(F/W)"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sign"
		    SrcPort		    1
		    Points		    [240, 0; 0, -115]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "F/W"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "s=s(F/W)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Abs"
		    SrcPort		    1
		    Points		    [0, 0; 5, 0]
		    Branch {
		    Points		    [50, 0]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -100]
		    DstBlock		    "F/W"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [0, -35]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -65]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "front frac"
		    Ports		    [2, 1]
		    Position		    [145, 106, 165, 139]
		    ForegroundColor	    "lightBlue"
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "rear axle"
		    Ports		    [2, 1]
		    Position		    [305, 105, 345, 165]
		    ForegroundColor	    "lightBlue"
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "rear axle"
		    Location		    [275, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [110, 43, 140, 57]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "In2"
		    Position		    [25, 128, 55, 142]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Abs
		    Name		    "Abs"
		    Position		    [105, 120, 135, 150]
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    Position		    [220, 135, 240, 155]
		    Orientation		    "up"
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "F/W"
		    Ports		    [2, 1]
		    Position		    [165, 25, 185, 60]
		    FontName		    "Arial"
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [420, 45, 440, 80]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [187, 95, 218, 115]
		    Orientation		    "up"
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [310, 40, 340, 70]
		    UpperLimit		    "max(wh_slip_force_coeff)"
		    LowerLimit		    "min(wh_slip_force_coeff)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Signum
		    Name		    "Sign"
		    Position		    [105, 169, 140, 201]
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [250, 39, 280, 71]
		    FontName		    "Arial"
		    Threshold		    "0"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "s=s(F/W)"
		    Position		    [365, 43, 395, 67]
		    InputValues		    "wh_slip_force_coeff"
		    OutputValues	    "wh_slip"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [465, 58, 495, 72]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "F/W"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "In2"
		    SrcPort		    1
		    Points		    [0, 0; 15, 0]
		    Branch {
		    Points		    [0, 50]
		    DstBlock		    "Sign"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Abs"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "s=s(F/W)"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sign"
		    SrcPort		    1
		    Points		    [240, 0; 0, -115]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "F/W"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "s=s(F/W)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Abs"
		    SrcPort		    1
		    Points		    [0, 0; 5, 0]
		    Branch {
		    Points		    [50, 0]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -100]
		    DstBlock		    "F/W"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [0, -35]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -65]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "vehicle speed\n(m/s)"
		    Ports		    [3, 1]
		    Position		    [660, 53, 680, 137]
		    FontName		    "Arial"
		    Inputs		    "3"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "possible vehicle\nspeed\n(m/s)"
		    Position		    [815, 95, 835, 115]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    Points		    [15, 0; 0, -40]
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "rear axle"
		    SrcPort		    1
		    Points		    [30, 0; 0, -30]
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "front axle"
		    SrcPort		    1
		    Points		    [75, 0; 0, 35]
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [70, 0]
		    DstBlock		    "rear axle"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "front frac"
		    SrcPort		    1
		    Points		    [0, 0; 5, 0]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [10, 0; 0, -50]
		    DstBlock		    "front axle"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "front fraction"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "front frac"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "total tractive \nforce available"
"\n(N)"
		    SrcPort		    1
		    Points		    [0, 0; 25, 0]
		    Branch {
		    Points		    [50, 0]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "front frac"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "weight borne by \nrear axle (N)"
		    SrcPort		    1
		    DstBlock		    "rear axle"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "vehicle speed\n(m/s)"
		    SrcPort		    1
		    Points		    [0, 0; 20, 0]
		    Branch {
		    Points		    [0, -40]
		    DstBlock		    "Goto <sdo>1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "possible vehicle\nspeed\n(m/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "weight borne \nby front axle\n(N)"
		    SrcPort		    1
		    DstBlock		    "front axle"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Abs1"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "axle speed\nreq'd (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Sum4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum4"
		    SrcPort		    1
		    DstBlock		    "Abs1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "vehicle speed\nrequired (m/s)"
		    SrcPort		    1
		    Points		    [610, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [320, 0; 0, -165]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant6"
		    SrcPort		    1
		    Points		    [0, -60]
		    DstBlock		    "vehicle speed\n(m/s)"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "axle speed available\n(rad/s)"
		    SrcPort		    1
		    Points		    [0, 0; 50, 0]
		    Branch {
		    Points		    [445, 0; 0, -115]
		    DstBlock		    "vehicle speed\n(m/s)"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant5"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Sum3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Fcn"
		    SrcPort		    1
		    DstBlock		    "vehicle speed\n(m/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum3"
		    SrcPort		    1
		    DstBlock		    "Fcn"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [428, 435]
		    ForegroundColor	    "red"
		    Text		    "See note regarding sum in backwar"
"d path"
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "tire slip model\n(rad/s)"
		  Ports			  [5, 1]
		  Position		  [465, 129, 500, 231]
		  ForegroundColor	  "lightBlue"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "tire slip model\n(rad/s)"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "total tractive \nforce requested"
"\n(N)"
		    Position		    [70, 160, 90, 180]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "requested time-step\naverage vehi"
"cle speed\n(m/s)"
		    Position		    [70, 20, 90, 40]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "weight borne by\nfront axle\n(N)"
		    Position		    [75, 85, 95, 105]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "weight borne by \nrear axle\n(N)1"
		    Position		    [75, 300, 95, 320]
		    ForegroundColor	    "lightBlue"
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "front traction ratio"
		    Position		    [70, 245, 90, 265]
		    ForegroundColor	    "lightBlue"
		    Port		    "5"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant5"
		    Position		    [440, 120, 460, 140]
		    FontName		    "Arial"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant6"
		    Position		    [440, 185, 530, 205]
		    Orientation		    "up"
		    FontName		    "Arial"
		    Value		    "1/wh_radius"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [155, 205, 175, 225]
		    ForegroundColor	    "lightBlue"
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    Ports		    [2, 1]
		    Position		    [320, 150, 340, 170]
		    ForegroundColor	    "lightBlue"
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum3"
		    Ports		    [2, 1]
		    Position		    [495, 105, 515, 125]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "enhancedToWorkspace"
		    Ports		    [1]
		    Position		    [455, 32, 550, 48]
		    ShowName		    off
		    CopyFcn		    "breakLinkCopyFcn"
		    ParentCloseFcn	    "breakLinkParCloseFcn"
		    FontSize		    8
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    on
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "enhancedToWorkspace"
		    MaskDescription	    "A wrapper for the Simulink \"To W"
"orkspace\" block that allows you to evaluate the name of the variable to log "
"to workspace. This is useful to avoid the double logging errors that occur wh"
"en you pull in two library models that attempt to log to the same variable."
		    MaskHelp		    "<h2>Enhanced To Workspace Block</"
"h2>\n<h3>Parameters</h3>\n<UL>\n<li><b>General Name:</b> This is the more gen"
"eral name of the variable. Variables are saved to the workspace as <i>general"
"Name_specificName</i>. Note that this is an evaluated variable. If you would "
"like to type in the value directly, it must be surrounded with single quotes."
" Otherwise you can input the name of a variable containing a char string.</li"
">\n<li><b>Specific Name:</b> This is the specific name of the variable. Note "
"that this is input as a char literal (i.e., you don't need quotes).</li>\n<li"
"><b>Enable Flag:</b> This flag should have the value of 0 or 1. If 0, the var"
"iable will not be logged to the workspace. If 1, the variable will be logged."
" This is done so that variable logging can be turned off to improve speed.</l"
"i>\n</ul>\n<h3>Overview</h3>\n<p>The enhanced to workspace block was put toge"
"ther to allow one to dynamically resolve variable names at run time in simuli"
"nk. This is most powerful when used in conjunction with a masked subsystem to"
" allow multiple instances of that masked subsytem to be used in the same mode"
"l. The strategy is to set the generalName in the block mask which will allow "
"the block to change the general name for all variable logging on the fly. \n<"
"h3>Helper Files</h3>\n<p>Three m-files are required by the enhancedToWorkspac"
"e block. These files are located in the &lt; ADVISOR root &gt;/GUI directory "
":\n<ul>\n<li><i>enhancedToWsMaker.m</i> This file runs the mask initializatio"
"n for the block</li>\n<li><i>breakLinkCopyFcn.m</i> This file is used by the "
"block callback when the simulink block is copied. It is necessary to break th"
"e link to the enhancedToWorkspace similar to the To Workspace block in order "
"for it to be able to configure itself. (Try copying simulink's To Workspace b"
"lock--it is impossible to make a link)</li>\n<li><i>breakLinkParCloseFcn.m</i"
"> This file is similar to the breakLinkCopyFcn and is used when a parent syst"
"em is closed</li>\n</ul>\n<hr>\n\n<p>Created 2003-Jan-21, Michael Patrick O'K"
"eefe, NREL</p>\n\n<!--\n<VARDEF>\n<H3>var_name</H3>\n<UL>\n<LI><B>data type</"
"B> data type here</LI>\n<LI><B>units</B> units here</LI>\n<LI><B>vehicle type"
"</B> vehicle type here</LI>\n<LI><B>description</B> description here</LI>\n</"
"UL>\n</VARDEF>\n-->\n"
		    MaskPromptString	    "General Name [char-evaluated]|Spe"
"cific Name [char-literal]|Enable flag (1=on,0=off)"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskVariables	    "generalName=@1;specificName=&2;lo"
"gFlag=@3;"
		    MaskInitialization	    "enhancedToWsMaker"
		    MaskDisplay		    "disp([generalName,'_',specificNam"
"e])"
		    MaskSelfModifiable	    on
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "generalName01|slip_r|logFlag"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "enhancedToWorkspace"
		    Location		    [202, 73, 966, 748]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [65, 93, 95, 107]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [145, 85, 205, 115]
		    VariableName	    "wh_slip_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "front frac"
		    Ports		    [2, 1]
		    Position		    [155, 124, 175, 171]
		    ForegroundColor	    "lightBlue"
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "front slip"
		    Ports		    [2, 1]
		    Position		    [210, 95, 250, 155]
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "front slip"
		    Location		    [275, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [100, 43, 130, 57]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "In2"
		    Position		    [25, 118, 55, 132]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Abs
		    Name		    "Abs"
		    Position		    [105, 110, 135, 140]
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "F/W"
		    Ports		    [2, 1]
		    Position		    [155, 25, 175, 60]
		    FontName		    "Arial"
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [360, 45, 380, 80]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [230, 30, 260, 60]
		    UpperLimit		    "max(wh_slip_force_coeff)"
		    LowerLimit		    "min(wh_slip_force_coeff)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Signum
		    Name		    "Sign"
		    Position		    [105, 169, 140, 201]
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "s=s(F/W)"
		    Position		    [300, 33, 330, 57]
		    InputValues		    "wh_slip_force_coeff"
		    OutputValues	    "wh_slip"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [405, 58, 435, 72]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "F/W"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "s=s(F/W)"
		    SrcPort		    1
		    Points		    [0, 10]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In2"
		    SrcPort		    1
		    Points		    [0, 0; 15, 0]
		    Branch {
		    Points		    [0, 60]
		    DstBlock		    "Sign"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Abs"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sign"
		    SrcPort		    1
		    Points		    [200, 0]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Abs"
		    SrcPort		    1
		    DstBlock		    "F/W"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "F/W"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "s=s(F/W)"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "rear slip"
		    Ports		    [2, 1]
		    Position		    [220, 200, 260, 260]
		    ForegroundColor	    "lightBlue"
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "rear slip"
		    Location		    [275, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "automatic"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [100, 43, 130, 57]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "In2"
		    Position		    [25, 118, 55, 132]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Abs
		    Name		    "Abs"
		    Position		    [105, 110, 135, 140]
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "F/W"
		    Ports		    [2, 1]
		    Position		    [155, 25, 175, 60]
		    FontName		    "Arial"
		    Inputs		    "*/"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [360, 45, 380, 80]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [230, 30, 260, 60]
		    UpperLimit		    "max(wh_slip_force_coeff)"
		    LowerLimit		    "min(wh_slip_force_coeff)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Signum
		    Name		    "Sign"
		    Position		    [105, 169, 140, 201]
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "s=s(F/W)"
		    Position		    [300, 33, 330, 57]
		    InputValues		    "wh_slip_force_coeff"
		    OutputValues	    "wh_slip"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [405, 58, 435, 72]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "F/W"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "s=s(F/W)"
		    SrcPort		    1
		    Points		    [0, 10]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In2"
		    SrcPort		    1
		    Points		    [0, 0; 15, 0]
		    Branch {
		    Points		    [0, 60]
		    DstBlock		    "Sign"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Abs"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sign"
		    SrcPort		    1
		    Points		    [200, 0]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Abs"
		    SrcPort		    1
		    DstBlock		    "F/W"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "F/W"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "s=s(F/W)"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "wheel speed\n(rad/s)"
		    Ports		    [3, 1]
		    Position		    [560, 73, 580, 157]
		    FontName		    "Arial"
		    Inputs		    "3"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "slip-augmented rotational\nspeed "
"(rad/s)"
		    Position		    [640, 105, 660, 125]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    Points		    [65, 0; 0, -60; 25, 0]
		    Branch {
		    Points		    [0, -60]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [45, 0]
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "rear slip"
		    SrcPort		    1
		    Points		    [20, 0; 0, -65]
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "front slip"
		    SrcPort		    1
		    Points		    [25, 0; 0, 30]
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "weight borne by \nrear axle\n(N)1"
		    SrcPort		    1
		    Points		    [100, 0; 0, -95]
		    DstBlock		    "rear slip"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [10, 0; 0, 30]
		    DstBlock		    "rear slip"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "front traction ratio"
		    SrcPort		    1
		    Points		    [35, 0; 0, -95]
		    DstBlock		    "front frac"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "total tractive \nforce requested"
"\n(N)"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [10, 0; 0, -35]
		    DstBlock		    "front frac"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "front frac"
		    SrcPort		    1
		    Points		    [0, -5; 5, 0]
		    Branch {
		    Points		    [0, -5]
		    DstBlock		    "front slip"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [10, 0; 0, 45; -55, 0]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "wheel speed\n(rad/s)"
		    SrcPort		    1
		    DstBlock		    "slip-augmented rotational\nspeed "
"(rad/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant5"
		    SrcPort		    1
		    Points		    [5, 0; 0, -10]
		    DstBlock		    "Sum3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum3"
		    SrcPort		    1
		    DstBlock		    "wheel speed\n(rad/s)"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant6"
		    SrcPort		    1
		    Points		    [0, -35]
		    DstBlock		    "wheel speed\n(rad/s)"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "requested time-step\naverage vehi"
"cle speed\n(m/s)"
		    SrcPort		    1
		    Points		    [330, 0; 0, 55]
		    DstBlock		    "wheel speed\n(rad/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "weight borne by\nfront axle\n(N)"
		    SrcPort		    1
		    Points		    [95, 0]
		    DstBlock		    "front slip"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [181, 374]
		    ForegroundColor	    "red"
		    Text		    "Question: for front and rear, is "
"it the sum of or min/max? tm:020703"
		    }
		    Annotation {
		    Position		    [547, 262]
		    VerticalAlignment	    "top"
		    Text		    "This block implements the effects"
" of finite tire slip\n(with respect to the road) on the vehicle speed/wheel s"
"peed relationship."
		    }
		    Annotation {
		    Position		    [542, 302]
		    VerticalAlignment	    "top"
		    Text		    "Slip is defined as s=(omega*r - v"
") / v.  The one-to-one mapping of slip to normalized\ntractive force, F_tract"
"/W_front_axle, up to the maximum, is stored in the variables\n\"wh_slip\" and"
" \"wh_slip_force_coeff.\""
		    }
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "total tractive \nforce (N)"
		  Ports			  [2, 1]
		  Position		  [755, 323, 775, 352]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "traction controller interface"
		  Ports			  [2, 5]
		  Position		  [190, 118, 315, 242]
		  ForegroundColor	  "lightBlue"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "traction controller interface"
		    Location		    [275, 77, 966, 744]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "F_req"
		    Position		    [40, 45, 60, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "v_ave_req"
		    Position		    [40, 105, 60, 125]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <logic>"
		    Position		    [210, 39, 315, 71]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "F_req_limited"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <logic>1"
		    Position		    [210, 99, 315, 131]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "v_req_limited"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <logic>2"
		    Position		    [210, 154, 315, 186]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "wt_front_axle"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <logic>3"
		    Position		    [210, 204, 315, 236]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "wt_rear_axle"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From <logic>4"
		    Position		    [210, 254, 315, 286]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "front_traction_ratio"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <logic>"
		    Position		    [90, 39, 175, 71]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "F_req"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto <logic>1"
		    Position		    [95, 98, 175, 132]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "v_ave_req"
		    TagVisibility	    "scoped"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "F_req_limited"
		    Position		    [355, 45, 375, 65]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "v_req_limited"
		    Position		    [355, 105, 375, 125]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "wt_front_axle"
		    Position		    [355, 160, 375, 180]
		    ForegroundColor	    "lightBlue"
		    Port		    "3"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "wt_rear_axle"
		    Position		    [355, 210, 375, 230]
		    ForegroundColor	    "lightBlue"
		    Port		    "4"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "front_traction_ratio"
		    Position		    [355, 260, 375, 280]
		    ForegroundColor	    "lightBlue"
		    Port		    "5"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "From <logic>4"
		    SrcPort		    1
		    DstBlock		    "front_traction_ratio"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <logic>3"
		    SrcPort		    1
		    DstBlock		    "wt_rear_axle"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "v_ave_req"
		    SrcPort		    1
		    DstBlock		    "Goto <logic>1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "F_req"
		    SrcPort		    1
		    DstBlock		    "Goto <logic>"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <logic>2"
		    SrcPort		    1
		    DstBlock		    "wt_front_axle"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <logic>1"
		    SrcPort		    1
		    DstBlock		    "v_req_limited"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From <logic>"
		    SrcPort		    1
		    DstBlock		    "F_req_limited"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "tractive force \nat tire patch \ndu"
"e to driveline\n(Nm)"
		  Position		  [280, 388, 305, 432]
		  FontName		  "Arial"
		  Gain			  "1/wh_radius"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "tractive force \nat tire patch \ndu"
"e to driveline\n(Nm)1"
		  Position		  [285, 688, 325, 732]
		  ForegroundColor	  "lightBlue"
		  FontName		  "Arial"
		  Gain			  "1/wh_radius"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed req'd\nfrom drivet"
"rain into front axle\n(Nm),(rad/s)"
		  Position		  [870, 100, 890, 120]
		  FontName		  "Arial"
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "torque and speed req'd\nfrom drivet"
"rain into rear axle\n(Nm),(rad/s)"
		  Position		  [865, 250, 885, 270]
		  ForegroundColor	  "lightBlue"
		  FontName		  "Arial"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "tractive force and\nlinear speed \n"
"achievable"
		  Position		  [890, 485, 910, 505]
		  FontName		  "Arial"
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [5, 0]
		  Branch {
		    Points		    [10, 0; 0, 90]
		    DstBlock		    "enhancedToWorkspace5"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -50; 105, 0; 0, 10]
		    DstBlock		    "Switch"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "front \nactive?2"
		  SrcPort		  1
		  DstBlock		  "tractive force \nat tire patch \ndu"
"e to driveline\n(Nm)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "rear \nactive?2"
		  SrcPort		  1
		  DstBlock		  "tractive force \nat tire patch \ndu"
"e to driveline\n(Nm)1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "rear \nactive?1"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -35]
		    DstBlock		    "enhancedToWorkspace6"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum5"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "front \nactive?1"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, -65; -35, 0]
		    Branch {
		    DstBlock		    "enhancedToWorkspace4"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -40]
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "rear \nactive?"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, -30]
		    DstBlock		    "enhancedToWorkspace8"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "front \nactive?"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -25]
		    DstBlock		    "enhancedToWorkspace10"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  2
		  Points		  [40, 0]
		  Branch {
		    Points		    [0, 45]
		    DstBlock		    "enhancedToWorkspace"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [25, 0; 0, -210; 55, 0]
		    DstBlock		    "Switch"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  1
		  DstBlock		  "rear \nactive?1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "rear tire\ntractive force\n(N)"
		  SrcPort		  1
		  Points		  [5, 0; 0, -265]
		  DstBlock		  "total tractive \nforce (N)"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "tractive force \nat tire patch \ndu"
"e to driveline\n(Nm)1"
		  SrcPort		  1
		  Points		  [0, -95]
		  Branch {
		    DstBlock		    "rear tire\ntractive force\n(N)"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -125]
		    DstBlock		    "front/rear brake controller inter"
"face\n(achievable)"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "torque and speed\navailable from\nd"
"rivetrain into rear axle\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum5"
		  SrcPort		  1
		  DstBlock		  "rear \nactive?2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "traction controller interface"
		  SrcPort		  4
		  Points		  [25, 0]
		  Branch {
		    Points		    [0, 105]
		    DstBlock		    "enhancedToWorkspace3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [30, 0]
		    Branch {
		    Points		    [0, 190; 310, 0; 0, 160]
		    DstBlock		    "tire slip model\n(m/s)"
		    DstPort		    6
		    }
		    Branch {
		    Points		    [75, 0]
		    DstBlock		    "tire slip model\n(rad/s)"
		    DstPort		    4
		    }
		  }
		}
		Line {
		  SrcBlock		  "split inertia\nfront/rear"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 175; -450, 0; 0, 75]
		    Branch {
		    Points		    [0, 300]
		    DstBlock		    "Sum5"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		  }
		  Branch {
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 85]
		    DstBlock		    "Sum4"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [20, 0; 0, -40]
		    DstBlock		    "Sum"
		    DstPort		    3
		    }
		  }
		}
		Line {
		  SrcBlock		  "split loss \nfront/rear"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 255; -450, 0; 0, 40]
		    Branch {
		    Points		    [0, 300]
		    DstBlock		    "Sum5"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 125]
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "torque and speed req'd\nfrom drivet"
"rain into rear axle\n(Nm),(rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum4"
		  SrcPort		  1
		  DstBlock		  "rear \nactive?"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "rear force"
		  SrcPort		  1
		  Points		  [135, 0; 0, -20]
		  DstBlock		  "Sum4"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "traction controller interface"
		  SrcPort		  5
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 65]
		    DstBlock		    "enhancedToWorkspace2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [30, 0]
		    Branch {
		    Points		    [0, -150]
		    DstBlock		    "front force"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [10, 0]
		    Branch {
		    Points		    [40, 0]
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "rear force"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [45, 0]
		    DstBlock		    "tire slip model\n(rad/s)"
		    DstPort		    5
		    }
		    }
		    Branch {
		    Points		    [0, 175; 310, 0; 0, 175]
		    DstBlock		    "tire slip model\n(m/s)"
		    DstPort		    7
		    }
		    }
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "traction controller interface"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "front/rear brake controller interfa"
"ce\n(achievable)"
		  SrcPort		  2
		  Points		  [5, 0]
		  Branch {
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, 195]
		    Branch {
		    Points		    [0, 60]
		    DstBlock		    "enhancedToWorkspace11"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "limits and losses\ndiagnostics"
		    DstPort		    5
		    }
		    }
		    Branch {
		    DstBlock		    "rear brake"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 90]
		    DstBlock		    "rear tire\ntractive force\n(N)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "traction controller interface"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, -75]
		    DstBlock		    "front force"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [85, 0]
		    Branch {
		    Points		    [35, 0]
		    DstBlock		    "tire slip model\n(rad/s)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 145]
		    DstBlock		    "rear force"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  Points		  [10, 0; 0, 40; 15, 0]
		  Branch {
		    Points		    [0, 35; 330, 0; 0, -110]
		    DstBlock		    "tire slip model\n(m/s)"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, -65; 0, -20]
		    DstBlock		    "front/rear brake controller inter"
"face\n(achievable)"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  DstBlock		  "front \nactive?1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "front \nactive?"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "torque and speed req'd\nfrom drivet"
"rain into front axle\n(Nm),(rad/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "traction controller interface"
		  SrcPort		  3
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 90]
		    DstBlock		    "enhancedToWorkspace1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [60, 0]
		    Branch {
		    Points		    [0, 180; 330, 0]
		    DstBlock		    "tire slip model\n(m/s)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "tire slip model\n(rad/s)"
		    DstPort		    3
		    }
		  }
		}
		Line {
		  SrcBlock		  "rear brake"
		  SrcPort		  1
		  Points		  [10, 0; 0, 55]
		  Branch {
		    Points		    [0, 130]
		    DstBlock		    "limits and losses\ndiagnostics"
		    DstPort		    4
		  }
		  Branch {
		    Points		    [-255, 0]
		    DstBlock		    "front/rear brake controller inter"
"face\n(achievable)"
		    DstPort		    5
		  }
		}
		Line {
		  SrcBlock		  "front brake"
		  SrcPort		  1
		  Points		  [20, 0; 0, 115]
		  Branch {
		    Points		    [0, 110]
		    DstBlock		    "limits and losses\ndiagnostics"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [-275, 0; 0, -70]
		    DstBlock		    "front/rear brake controller inter"
"face\n(achievable)"
		    DstPort		    4
		  }
		}
		Line {
		  SrcBlock		  "front tire\ntractive force\n(N)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -90]
		    DstBlock		    "total tractive \nforce (N)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [70, 0; 0, 35]
		    DstBlock		    "tire slip model\n(m/s)"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "front/rear brake controller interfa"
"ce\n(achievable)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 215]
		    Branch {
		    Points		    [0, 50]
		    DstBlock		    "enhancedToWorkspace12"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "limits and losses\ndiagnostics"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "front brake"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, -40]
		    DstBlock		    "front tire\ntractive force\n(N)"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "torque and speed\navailable from\nd"
"rivetrain into front axle\n(Nm), (rad/s)"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "total tractive \nforce (N)"
		  SrcPort		  1
		  Points		  [20, 0; 0, 140]
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "tractive force and\nlinear speed \n"
"achievable"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "front force"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "tire slip model\n(rad/s)"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 190; 190, 0; 0, 135]
		    DstBlock		    "tire slip model\n(m/s)"
		    DstPort		    4
		  }
		  Branch {
		    Points		    [0, -20; 0, 0]
		    Branch {
		    Points		    [0, -65]
		    Branch {
		    Points		    [0, -65; 240, 0]
		    Branch {
		    DstBlock		    "enhancedToWorkspace9"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 90]
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "enhancedToWorkspace7"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 95]
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "loss\n(Nm)"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "effect of \ninertia (Nm)"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "tractive force and speed\nreq'd of "
"tire/road interface\n(N), (m/s)"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "loss\n(Nm)"
		  SrcPort		  1
		  DstBlock		  "split loss \nfront/rear"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "effect of \ninertia (Nm)"
		  SrcPort		  1
		  DstBlock		  "split inertia\nfront/rear"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "front \nactive?2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "tractive force \nat tire patch \ndu"
"e to driveline\n(Nm)"
		  SrcPort		  1
		  Points		  [10, 0; 0, 5]
		  Branch {
		    DstBlock		    "front tire\ntractive force\n(N)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 35]
		    DstBlock		    "front/rear brake controller inter"
"face\n(achievable)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "tire slip model\n(m/s)"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    Points		    [0, 0; 0, 145; -110, 0]
		    DstBlock		    "limits and losses\ndiagnostics"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [10, 0]
		  DstBlock		  "traction controller interface"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "traction controller interface"
		  SrcPort		  2
		  Points		  [65, 0]
		  Branch {
		    Points		    [0, 225; 310, 0; 0, 150]
		    DstBlock		    "tire slip model\n(m/s)"
		    DstPort		    5
		  }
		  Branch {
		    Points		    [65, 0]
		    DstBlock		    "tire slip model\n(rad/s)"
		    DstPort		    2
		  }
		}
		Annotation {
		  Position		  [672, 812]
		  ForegroundColor	  "red"
		  Text			  "NOTE: Rear speed terminated for now"
", May need to take the min/max of front/rear (tm:020703)"
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "requested out"
	      Position		      [435, 55, 455, 75]
	      FontName		      "Arial"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "torque and speed req'd\nfrom drivetrain"
" into axles\n(Nm),(rad/s)"
	      Position		      [705, 130, 725, 150]
	      FontName		      "Arial"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "sensors"
	      Position		      [810, 630, 830, 650]
	      FontName		      "Arial"
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "signal annotator"
	      SrcPort		      1
	      DstBlock		      "requested out"
	      DstPort		      1
	    }
	    Line {
	      Name		      "F_rear_brake_req"
	      Labels		      [0, 0]
	      SrcBlock		      "From26"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      27
	    }
	    Line {
	      Name		      "slip_limited"
	      Labels		      [0, 0]
	      SrcBlock		      "From25"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      26
	    }
	    Line {
	      SrcBlock		      "2 axle -->\n1 driveline\nconverter"
	      SrcPort		      1
	      DstBlock		      "torque and speed req'd\nfrom drivetrain"
" into axles\n(Nm),(rad/s)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "2 axle -->\n1 driveline\nconverter"
	      SrcPort		      3
	      Points		      [5, 0; 0, 55; -260, 0; 0, -55]
	      DstBlock		      "wheel and axle \nfront/rear <wh>"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "2 axle -->\n1 driveline\nconverter"
	      SrcPort		      2
	      Points		      [30, 0; 0, 85; -305, 0; 0, -85]
	      DstBlock		      "wheel and axle \nfront/rear <wh>"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "torque and speed\navailable from\ndrive"
"train into axles\n(Nm), (rad/s)"
	      SrcPort		      1
	      DstBlock		      "2 axle -->\n1 driveline\nconverter"
	      DstPort		      3
	    }
	    Line {
	      Name		      "front_traction_ratio"
	      Labels		      [0, 0]
	      SrcBlock		      "From24"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      25
	    }
	    Line {
	      Name		      "wt_rear_axle"
	      Labels		      [0, 0]
	      SrcBlock		      "From23"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      24
	    }
	    Line {
	      Name		      "wt_front_axle"
	      Labels		      [0, 0]
	      SrcBlock		      "From21"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      23
	    }
	    Line {
	      Name		      "v_req_limited"
	      Labels		      [0, 0]
	      SrcBlock		      "From20"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      22
	    }
	    Line {
	      Name		      "F_req_limited"
	      Labels		      [0, 0]
	      SrcBlock		      "From22"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      21
	    }
	    Line {
	      Name		      "v_ave_req"
	      Labels		      [0, 0]
	      SrcBlock		      "From19"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      20
	    }
	    Line {
	      Name		      "F_req"
	      Labels		      [0, 0]
	      SrcBlock		      "From18"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      19
	    }
	    Line {
	      Name		      "veh_spd_a_rec"
	      Labels		      [0, 0]
	      SrcBlock		      "From17"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      18
	    }
	    Line {
	      Name		      "brake_limited"
	      Labels		      [0, 0]
	      SrcBlock		      "From16"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      17
	    }
	    Line {
	      Name		      "F_max_rear_brake"
	      Labels		      [0, 0]
	      SrcBlock		      "From15"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      16
	    }
	    Line {
	      Name		      "F_max_front_brake"
	      Labels		      [0, 0]
	      SrcBlock		      "From14"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      15
	    }
	    Line {
	      Name		      "F_rear_drivetrain_ach"
	      Labels		      [0, 0]
	      SrcBlock		      "From13"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      14
	    }
	    Line {
	      Name		      "w_wheel_ach"
	      Labels		      [0, 0]
	      SrcBlock		      "From12"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      13
	    }
	    Line {
	      Name		      "F_rear_brake"
	      Labels		      [0, 0]
	      SrcBlock		      "From11"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      12
	    }
	    Line {
	      Name		      "F_front_brake"
	      Labels		      [0, 0]
	      SrcBlock		      "From10"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      11
	    }
	    Line {
	      Name		      "F_drivetrain_ach"
	      Labels		      [0, 0]
	      SrcBlock		      "From9"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      10
	    }
	    Line {
	      Name		      "F_front_brake_req"
	      Labels		      [0, 0]
	      SrcBlock		      "From8"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      9
	    }
	    Line {
	      Name		      "wh_trq_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From7"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      8
	    }
	    Line {
	      Name		      "veh_pwr_rr_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From6"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      7
	    }
	    Line {
	      Name		      "veh_pwr_ascent_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From5"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      6
	    }
	    Line {
	      Name		      "veh_pwr_drag_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From4"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      5
	    }
	    Line {
	      Name		      "veh_pwr_accel_a"
	      Labels		      [0, 0]
	      SrcBlock		      "From3"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      4
	    }
	    Line {
	      Name		      "v_prev"
	      Labels		      [0, 0]
	      SrcBlock		      "From2"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "mpha"
	      Labels		      [0, 0]
	      SrcBlock		      "From1"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Bus\nCreator"
	      SrcPort		      1
	      DstBlock		      "sensors"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Fr"
	      Labels		      [0, 0]
	      SrcBlock		      "From <logic>1"
	      SrcPort		      1
	      DstBlock		      "Bus\nCreator"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      3
	      DstBlock		      "<sdo>2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "control"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "wheel and axle \nfront/rear <wh>"
	      SrcPort		      2
	      DstBlock		      "2 axle -->\n1 driveline\nconverter"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "wheel and axle \nfront/rear <wh>"
	      SrcPort		      1
	      DstBlock		      "2 axle -->\n1 driveline\nconverter"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "wheel and axle \nfront/rear <wh>"
	      SrcPort		      3
	      Points		      [35, 0; 0, 80; -225, 0; 0, -110]
	      DstBlock		      "vehicle <veh>"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "vehicle <veh>"
	      SrcPort		      1
	      DstBlock		      "wheel and axle \nfront/rear <wh>"
	      DstPort		      1
	    }
	    Line {
	      Name		      "veh_spd_r"
	      Labels		      [0, 0]
	      SrcBlock		      "vehicle speed\nreq'd at end of\ntime st"
"ep (m/s)"
	      SrcPort		      1
	      Points		      [0, 0; 45, 0]
	      Branch {
		DstBlock		"vehicle <veh>"
		DstPort			1
	      }
	      Branch {
		Points			[0, -65]
		DstBlock		"signal annotator"
		DstPort			1
	      }
	    }
	    Annotation {
	      Position		      [167, 240]
	      BackgroundColor	      "yellow"
	      Text		      "Interface"
	      DropShadow	      on
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      Position		      [162, 60]
	      BackgroundColor	      "yellow"
	      Text		      "Models"
	      DropShadow	      on
	      FontName		      "Arial"
	      FontSize		      22
	      FontWeight	      "bold"
	      FontAngle		      "italic"
	    }
	    Annotation {
	      Position		      [644, 331]
	      HorizontalAlignment     "left"
	      Text		      "Rolling Resistance Force"
	    }
	  }
	}
	Block {
	  BlockType		  Goto
	  Name			  "reqOutTag"
	  Position		  [460, 29, 640, 71]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "vehReqOut"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "sensorsTag"
	  Position		  [440, 283, 620, 327]
	  ForegroundColor	  "red"
	  BackgroundColor	  "black"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	  GotoTag		  "vehSensors"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Outport
	  Name			  "trq & spd r"
	  Position		  [630, 165, 650, 185]
	  FontName		  "Arial"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "veh spd r"
	  SrcPort		  1
	  DstBlock		  "models and interface"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "trq & spd a"
	  SrcPort		  1
	  DstBlock		  "models and interface"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "controlTag"
	  SrcPort		  1
	  Points		  [0, -35; -195, 0]
	  DstBlock		  "models and interface"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "models and interface"
	  SrcPort		  1
	  Points		  [30, 0; 0, -40; -220, 0; 0, -30]
	  DstBlock		  "reqOutTag"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "models and interface"
	  SrcPort		  2
	  DstBlock		  "trq & spd r"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "models and interface"
	  SrcPort		  3
	  Points		  [35, 0; 0, 40; -215, 0]
	  DstBlock		  "sensorsTag"
	  DstPort		  1
	}
	Annotation {
	  Position		  [232, 60]
	  BackgroundColor	  "yellow"
	  Text			  "Vehicle, Wheel, and Axle\n2 axles --> 1 dri"
"veline"
	  DropShadow		  on
	  FontName		  "Arial"
	  FontSize		  18
	  FontWeight		  "bold"
	  FontAngle		  "italic"
	}
      }
    }
    Line {
      SrcBlock		      "vehicle, wheel, & axle\nfront/rear <wh>\n2 axle"
" --> 1 driveline"
      SrcPort		      1
      DstBlock		      "final drive <fd>"
      DstPort		      1
    }
    Line {
      SrcBlock		      "final drive <fd>"
      SrcPort		      2
      Points		      [10, 0; 0, 60; -220, 0]
      DstBlock		      "vehicle, wheel, & axle\nfront/rear <wh>\n2 axle"
" --> 1 driveline"
      DstPort		      2
    }
    Line {
      SrcBlock		      "final drive <fd>"
      SrcPort		      1
      DstBlock		      "gearbox <gb>\nold"
      DstPort		      1
    }
    Line {
      SrcBlock		      "drive cycle\n<cyc>"
      SrcPort		      1
      DstBlock		      "vehicle, wheel, & axle\nfront/rear <wh>\n2 axle"
" --> 1 driveline"
      DstPort		      1
    }
    Line {
      SrcBlock		      "clutch <cl>"
      SrcPort		      1
      DstBlock		      "torque modification\n strategy <cs>"
      DstPort		      1
    }
    Line {
      SrcBlock		      "fuel converter\n<fc>"
      SrcPort		      2
      Points		      [5, 0]
      DstBlock		      "exhaust sys\n<ex>"
      DstPort		      1
    }
    Line {
      SrcBlock		      "do ex calcs?"
      SrcPort		      1
      Points		      [0, 25]
      DstBlock		      "Logical\nOperator1"
      DstPort		      1
    }
    Line {
      SrcBlock		      "fuel converter\n<fc>"
      SrcPort		      1
      Points		      [0, -15]
      DstBlock		      "total fuel used (gal)"
      DstPort		      1
    }
    Line {
      SrcBlock		      "exhaust sys\n<ex>"
      SrcPort		      1
      DstBlock		      "HC, CO,\nNOx, PM (g/s)"
      DstPort		      1
    }
    Line {
      SrcBlock		      "Logical\nOperator1"
      SrcPort		      1
      DstBlock		      "exhaust sys\n<ex>"
      DstPort		      enable
    }
    Line {
      SrcBlock		      "do ex calcs?1"
      SrcPort		      1
      DstBlock		      "Logical\nOperator1"
      DstPort		      2
    }
    Line {
      SrcBlock		      "Clock"
      SrcPort		      1
      DstBlock		      "Goto"
      DstPort		      1
    }
    Line {
      SrcBlock		      "gearbox <gb>\nold"
      SrcPort		      2
      Points		      [0, 75; -180, 0; 0, -70]
      DstBlock		      "final drive <fd>"
      DstPort		      2
    }
    Line {
      SrcBlock		      "clutch <cl>"
      SrcPort		      2
      Points		      [15, 0; 0, 60; 85, 0; 0, 40]
      DstBlock		      "torque\ncoupler <tc>"
      DstPort		      2
    }
    Line {
      SrcBlock		      "torque\ncoupler <tc>"
      SrcPort		      1
      Points		      [35, 0; 0, -25; -270, 0; 0, -90]
      DstBlock		      "clutch <cl>"
      DstPort		      1
    }
    Line {
      SrcBlock		      "motor/controller\n<mc>"
      SrcPort		      2
      Points		      [0, 50; -150, 0]
      DstBlock		      "torque\ncoupler <tc>"
      DstPort		      3
    }
    Line {
      SrcBlock		      "Ground"
      SrcPort		      1
      DstBlock		      "power\nbus <pb>"
      DstPort		      2
    }
    Line {
      SrcBlock		      "power\nbus <pb>"
      SrcPort		      2
      DstBlock		      "ess config"
      DstPort		      1
    }
    Line {
      SrcBlock		      "power\nbus <pb>"
      SrcPort		      1
      Points		      [0, -35]
      DstBlock		      "Terminator"
      DstPort		      1
    }
    Line {
      SrcBlock		      "ess config"
      SrcPort		      1
      Points		      [10, 0; 0, 70; -175, 0]
      DstBlock		      "power\nbus <pb>"
      DstPort		      3
    }
    Line {
      SrcBlock		      "torque\ncoupler <tc>"
      SrcPort		      2
      DstBlock		      "motor/controller\n<mc>"
      DstPort		      1
    }
    Line {
      SrcBlock		      "gearbox <gb>\nold"
      SrcPort		      1
      DstBlock		      "hydraulic\ntorque\nconverter <htc>\nHEV"
      DstPort		      1
    }
    Line {
      SrcBlock		      "hydraulic\ntorque\nconverter <htc>\nHEV"
      SrcPort		      1
      DstBlock		      "torque\ncoupler <tc>"
      DstPort		      1
    }
    Line {
      SrcBlock		      "hydraulic\ntorque\nconverter <htc>\nHEV"
      SrcPort		      2
      Points		      [10, 0; 0, 90; -175, 0]
      DstBlock		      "gearbox <gb>\nold"
      DstPort		      2
    }
    Line {
      SrcBlock		      "torque\ncoupler <tc>"
      SrcPort		      3
      Points		      [0, 60; -145, 0]
      DstBlock		      "hydraulic\ntorque\nconverter <htc>\nHEV"
      DstPort		      2
    }
    Line {
      SrcBlock		      "exhaust sys\n<ex>"
      SrcPort		      2
      DstBlock		      "<cs>"
      DstPort		      1
    }
    Line {
      SrcBlock		      "motor/controller\n<mc>"
      SrcPort		      1
      DstBlock		      "ACC ELEC <acce>"
      DstPort		      1
    }
    Line {
      SrcBlock		      "ACC ELEC <acce>"
      SrcPort		      1
      DstBlock		      "power\nbus <pb>"
      DstPort		      1
    }
    Line {
      SrcBlock		      "power\nbus <pb>"
      SrcPort		      3
      Points		      [0, 40; -190, 0; 0, -35]
      DstBlock		      "ACC ELEC <acce>"
      DstPort		      2
    }
    Line {
      SrcBlock		      "ACC ELEC <acce>"
      SrcPort		      2
      Points		      [20, 0; 0, 60; -195, 0]
      DstBlock		      "motor/controller\n<mc>"
      DstPort		      2
    }
    Line {
      SrcBlock		      "torque modification\n strategy <cs>"
      SrcPort		      1
      DstBlock		      "ACC MECH <accm>"
      DstPort		      1
    }
    Line {
      SrcBlock		      "ACC MECH <accm>"
      SrcPort		      1
      DstBlock		      "fuel converter\n<fc>"
      DstPort		      1
    }
    Line {
      SrcBlock		      "fuel converter\n<fc>"
      SrcPort		      3
      Points		      [0, 70; -205, 0; 0, -55]
      DstBlock		      "ACC MECH <accm>"
      DstPort		      2
    }
    Line {
      SrcBlock		      "ACC MECH <accm>"
      SrcPort		      2
      Points		      [35, 0; 0, 45; -300, 0]
      DstBlock		      "clutch <cl>"
      DstPort		      2
    }
  }
}
