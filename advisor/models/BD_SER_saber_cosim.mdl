Model {
  Name			  "BD_SER_saber_cosim"
  Version		  4.1.1
  SampleTimeColors	  off
  LibraryLinkDisplay	  "none"
  WideLines		  off
  ShowLineDimensions	  off
  ShowPortDataTypes	  off
  ShowStorageClass	  off
  ExecutionOrder	  off
  RecordCoverage	  off
  CovPath		  "/"
  CovSaveName		  "covdata"
  CovMetricSettings	  "dw"
  CovNameIncrementing	  off
  CovHtmlReporting	  on
  BlockNameDataTip	  off
  BlockParametersDataTip  on
  BlockDescriptionStringDataTip	off
  ToolBar		  on
  StatusBar		  off
  BrowserShowLibraryLinks on
  BrowserLookUnderMasks	  on
  Created		  "Wed May 31 09:35:42 2000"
  UpdateHistory		  "UpdateHistoryNever"
  ModifiedByFormat	  "%<Auto>"
  LastModifiedBy	  "ssprik"
  ModifiedDateFormat	  "%<Auto>"
  LastModifiedDate	  "Wed Sep 24 15:21:51 2003"
  ModifiedComment	  "mokeefe -- Thu Apr 18 08:09:28 2002 -- Version 1.12"
"1\nsaving the model:\no \"without the model browser open\"\no with only top-l"
"evel screen visible \no and with \"fit to view\" enabled"
  ModifiedHistory	  "mokeefe -- Thu Apr 18 08:09:28 2002 -- Version 1.12"
"1\nsaving the model:\no \"without the model browser open\"\no with only top-l"
"evel screen visible \no and with \"fit to view\" enabled\n\n"
  ModelVersionFormat	  "1.%<AutoIncrement:470>"
  ConfigurationManager	  "none"
  SimParamPage		  "Solver"
  StartTime		  "0.0"
  StopTime		  "max(cyc_mph(:,1))"
  SolverMode		  "SingleTasking"
  Solver		  "ode1"
  RelTol		  "1e-3"
  AbsTol		  "1e-3"
  Refine		  "1"
  MaxStep		  "1"
  MinStep		  "auto"
  MaxNumMinSteps	  "-1"
  InitialStep		  "auto"
  FixedStep		  "1"
  MaxOrder		  5
  OutputOption		  "RefineOutputTimes"
  OutputTimes		  "[]"
  LoadExternalInput	  off
  ExternalInput		  "[t, u]"
  SaveTime		  off
  TimeSaveName		  "tout"
  SaveState		  off
  StateSaveName		  "xout"
  SaveOutput		  off
  OutputSaveName	  "yout"
  LoadInitialState	  off
  InitialState		  "xInitial"
  SaveFinalState	  off
  FinalStateName	  "xFinal"
  SaveFormat		  "Array"
  LimitDataPoints	  off
  MaxDataPoints		  "1000"
  Decimation		  "1"
  AlgebraicLoopMsg	  "warning"
  MinStepSizeMsg	  "warning"
  UnconnectedInputMsg	  "warning"
  UnconnectedOutputMsg	  "warning"
  UnconnectedLineMsg	  "none"
  InheritedTsInSrcMsg	  "warning"
  SingleTaskRateTransMsg  "none"
  MultiTaskRateTransMsg	  "error"
  IntegerOverflowMsg	  "warning"
  CheckForMatrixSingularity "none"
  UnnecessaryDatatypeConvMsg "none"
  Int32ToFloatConvMsg	  "warning"
  InvalidFcnCallConnMsg	  "error"
  SignalLabelMismatchMsg  "none"
  LinearizationMsg	  "none"
  VectorMatrixConversionMsg "none"
  SfunCompatibilityCheckMsg "none"
  BlockPriorityViolationMsg "warning"
  ArrayBoundsChecking	  "none"
  ConsistencyChecking	  "none"
  ZeroCross		  on
  Profile		  off
  SimulationMode	  "normal"
  RTWSystemTargetFile	  "grt.tlc"
  RTWInlineParameters	  off
  RTWRetainRTWFile	  off
  RTWTemplateMakefile	  "grt_vc.tmf"
  RTWMakeCommand	  "make_rtw"
  RTWGenerateCodeOnly	  off
  TLCProfiler		  off
  TLCDebug		  off
  TLCCoverage		  off
  AccelSystemTargetFile	  "accel.tlc"
  AccelTemplateMakefile	  "accel_default_tmf"
  AccelMakeCommand	  "make_rtw"
  TryForcingSFcnDF	  off
  ExtModeMexFile	  "ext_comm"
  ExtModeBatchMode	  off
  ExtModeTrigType	  "manual"
  ExtModeTrigMode	  "oneshot"
  ExtModeTrigPort	  "1"
  ExtModeTrigElement	  "any"
  ExtModeTrigDuration	  1000
  ExtModeTrigHoldOff	  0
  ExtModeTrigDelay	  0
  ExtModeTrigDirection	  "rising"
  ExtModeTrigLevel	  0
  ExtModeArchiveMode	  "off"
  ExtModeAutoIncOneShot	  off
  ExtModeIncDirWhenArm	  off
  ExtModeAddSuffixToVar	  off
  ExtModeWriteAllDataToWs off
  ExtModeArmWhenConnect	  off
  ExtModeSkipDownloadWhenConnect off
  ExtModeLogAll		  on
  ExtModeAutoUpdateStatusClock on
  OptimizeBlockIOStorage  on
  BufferReuse		  on
  ParameterPooling	  on
  BlockReductionOpt	  on
  RTWExpressionDepthLimit 5
  BooleanDataType	  off
  BlockDefaults {
    Orientation		    "right"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    NamePlacement	    "normal"
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    ShowName		    on
  }
  AnnotationDefaults {
    HorizontalAlignment	    "center"
    VerticalAlignment	    "middle"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  LineDefaults {
    FontName		    "Helvetica"
    FontSize		    9
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  System {
    Name		    "BD_SER_saber_cosim"
    Location		    [23, 130, 1129, 460]
    Open		    on
    ModelBrowserVisibility  off
    ModelBrowserWidth	    212
    ScreenColor		    "white"
    PaperOrientation	    "landscape"
    PaperPositionMode	    "auto"
    PaperType		    "usletter"
    PaperUnits		    "inches"
    ZoomFactor		    "111"
    ReportName		    "simulink-default.rpt"
    Block {
      BlockType		      Reference
      Name		      "2 axle -->\n1 driveline\nconverter"
      Ports		      [3, 3]
      Position		      [240, 170, 265, 230]
      SourceBlock	      "lib_wheel/2 axle -->\n1 driveline\nconverter"
      SourceType	      "SubSystem"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
    }
    Block {
      BlockType		      Goto
      Name		      "<cs>"
      Position		      [895, 202, 960, 218]
      GotoTag		      "ex_cat_tmp"
      TagVisibility	      "global"
    }
    Block {
      BlockType		      SubSystem
      Name		      "<sdo> series"
      Ports		      []
      Position		      [155, 89, 212, 132]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskDisplay	      "image(imread('bdi_sdo.jpg'))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      System {
	Name			"<sdo> series"
	Location		[14, 182, 610, 962]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Constant
	  Name			  "Constant"
	  Position		  [100, 395, 120, 415]
	  ShowName		  off
	  Value			  "1"
	  VectorParams1D	  on
	}
	Block {
	  BlockType		  From
	  Name			  "From <vc>"
	  Position		  [320, 335, 390, 365]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "shifting"
	}
	Block {
	  BlockType		  From
	  Name			  "From <vc>1"
	  Position		  [40, 21, 105, 39]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "key_on"
	}
	Block {
	  BlockType		  From
	  Name			  "From <veh>"
	  Position		  [320, 290, 390, 320]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "mpha"
	}
	Block {
	  BlockType		  From
	  Name			  "From<cs>"
	  Position		  [25, 325, 120, 345]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "engine_on"
	}
	Block {
	  BlockType		  From
	  Name			  "From<cyc>"
	  Position		  [315, 581, 415, 599]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "grade"
	}
	Block {
	  BlockType		  From
	  Name			  "From<cyc>1"
	  Position		  [320, 626, 420, 644]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "elevation"
	}
	Block {
	  BlockType		  From
	  Name			  "From<cyc>2"
	  Position		  [320, 671, 420, 689]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "distance"
	}
	Block {
	  BlockType		  From
	  Name			  "From<ess>/limit power2"
	  Position		  [20, 470, 135, 490]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "ess_soc_low_limited"
	}
	Block {
	  BlockType		  From
	  Name			  "From<ess>/limit power3"
	  Position		  [295, 446, 395, 464]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "ess_minV_limited"
	}
	Block {
	  BlockType		  From
	  Name			  "From<ess>/limit power4"
	  Position		  [295, 500, 395, 520]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "ess_maxV_limited"
	}
	Block {
	  BlockType		  From
	  Name			  "From<ess>/limit power5"
	  Position		  [20, 510, 135, 530]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "ess_soc_hi_limited"
	}
	Block {
	  BlockType		  From
	  Name			  "From<fc>"
	  Position		  [30, 248, 125, 272]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "fc_trq_out_a"
	}
	Block {
	  BlockType		  From
	  Name			  "From<fc>1"
	  Position		  [30, 288, 125, 312]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "fc_spd_out_a"
	}
	Block {
	  BlockType		  From
	  Name			  "From<gb>"
	  Position		  [315, 75, 410, 105]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "gear_number"
	}
	Block {
	  BlockType		  From
	  Name			  "From<main>"
	  Position		  [320, 716, 420, 734]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "time"
	}
	Block {
	  BlockType		  From
	  Name			  "From<vc>"
	  Position		  [315, 25, 410, 55]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "gear_ratio"
	}
	Block {
	  BlockType		  From
	  Name			  "From<vc>/engine control"
	  Position		  [35, 153, 125, 177]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "fc_trq_limited"
	}
	Block {
	  BlockType		  From
	  Name			  "From<vc>/engine control2"
	  Position		  [30, 203, 125, 227]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "fc_spd_limited"
	}
	Block {
	  BlockType		  From
	  Name			  "From<vc>2"
	  Position		  [315, 235, 410, 265]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "clutch_state"
	}
	Block {
	  BlockType		  From
	  Name			  "From<vc>3"
	  Position		  [315, 130, 410, 160]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "cyc_mph_r"
	}
	Block {
	  BlockType		  From
	  Name			  "From<vc>4"
	  Position		  [315, 185, 410, 215]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "bus_voltage"
	}
	Block {
	  BlockType		  From
	  Name			  "From<vc>5"
	  Position		  [20, 369, 115, 391]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "clutch_state"
	}
	Block {
	  BlockType		  From
	  Name			  "From<wh>"
	  Position		  [30, 65, 125, 85]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "slip_limited"
	}
	Block {
	  BlockType		  From
	  Name			  "From<wh>1"
	  Position		  [25, 109, 125, 131]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "brake_limited"
	}
	Block {
	  BlockType		  Logic
	  Name			  "Logical\nOperator"
	  Ports			  [1, 1]
	  Position		  [135, 322, 165, 348]
	  ShowName		  off
	  Operator		  "NOT"
	  Inputs		  "1"
	}
	Block {
	  BlockType		  Logic
	  Name			  "Logical\nOperator1"
	  Ports			  [1, 1]
	  Position		  [125, 18, 155, 42]
	  ShowName		  off
	  Operator		  "NOT"
	  Inputs		  "1"
	}
	Block {
	  BlockType		  RelationalOperator
	  Name			  "Relational\nOperator"
	  Position		  [140, 371, 165, 404]
	  ShowName		  off
	  Operator		  "=="
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace"
	  Position		  [485, 715, 510, 735]
	  FontName		  "Arial"
	  VariableName		  "t"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "0"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace1"
	  Position		  [445, 295, 505, 315]
	  VariableName		  "mpha"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace2"
	  Position		  [445, 340, 505, 360]
	  VariableName		  "shifting"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace3"
	  Position		  [430, 78, 505, 102]
	  VariableName		  "gear_number"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace38"
	  Position		  [170, 64, 265, 86]
	  VariableName		  "lim_wh_traction"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace39"
	  Position		  [430, 28, 505, 52]
	  VariableName		  "gear_ratio"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace4"
	  Position		  [170, 252, 245, 268]
	  ShowName		  off
	  VariableName		  "fc_trq_out_a"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace41"
	  Position		  [170, 111, 250, 129]
	  VariableName		  "lim_wh_brake"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace42"
	  Position		  [180, 21, 245, 39]
	  VariableName		  "lim_key_off"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace44"
	  Position		  [440, 130, 500, 160]
	  VariableName		  "cyc_mph_r"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace45"
	  Position		  [175, 469, 260, 491]
	  VariableName		  "lim_ess_soc_low"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace46"
	  Position		  [180, 509, 265, 531]
	  VariableName		  "lim_ess_soc_hi"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace5"
	  Position		  [175, 291, 250, 309]
	  ShowName		  off
	  VariableName		  "fc_spd_out_a"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace51"
	  Position		  [170, 155, 250, 175]
	  VariableName		  "lim_fc_trq"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace52"
	  Position		  [440, 185, 500, 215]
	  VariableName		  "pb_voltage"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace53"
	  Position		  [440, 443, 520, 467]
	  VariableName		  "lim_ess_minV"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace54"
	  Position		  [430, 238, 505, 262]
	  VariableName		  "clutch_state"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace55"
	  Position		  [185, 377, 270, 403]
	  VariableName		  "lim_clutch_dis"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace56"
	  Position		  [180, 322, 265, 348]
	  VariableName		  "lim_engine_off"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace57"
	  Position		  [175, 205, 245, 225]
	  VariableName		  "lim_fc_spd"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace58"
	  Position		  [440, 499, 520, 521]
	  VariableName		  "lim_ess_maxV"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace59"
	  Position		  [460, 578, 540, 602]
	  VariableName		  "grade"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace60"
	  Position		  [465, 623, 545, 647]
	  VariableName		  "elevation"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace61"
	  Position		  [465, 668, 545, 692]
	  VariableName		  "distance"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Line {
	  SrcBlock		  "From<main>"
	  SrcPort		  1
	  DstBlock		  "To Workspace"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From<vc>5"
	  SrcPort		  1
	  DstBlock		  "Relational\nOperator"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From<fc>1"
	  SrcPort		  1
	  DstBlock		  "To Workspace5"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From<fc>"
	  SrcPort		  1
	  DstBlock		  "To Workspace4"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From<ess>/limit power5"
	  SrcPort		  1
	  DstBlock		  "To Workspace46"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From<ess>/limit power2"
	  SrcPort		  1
	  DstBlock		  "To Workspace45"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Logical\nOperator"
	  SrcPort		  1
	  DstBlock		  "To Workspace56"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From<cs>"
	  SrcPort		  1
	  DstBlock		  "Logical\nOperator"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Constant"
	  SrcPort		  1
	  DstBlock		  "Relational\nOperator"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Relational\nOperator"
	  SrcPort		  1
	  DstBlock		  "To Workspace55"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From<cyc>2"
	  SrcPort		  1
	  DstBlock		  "To Workspace61"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From<cyc>1"
	  SrcPort		  1
	  DstBlock		  "To Workspace60"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From<cyc>"
	  SrcPort		  1
	  DstBlock		  "To Workspace59"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From<ess>/limit power3"
	  SrcPort		  1
	  DstBlock		  "To Workspace53"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From<ess>/limit power4"
	  SrcPort		  1
	  DstBlock		  "To Workspace58"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Logical\nOperator1"
	  SrcPort		  1
	  DstBlock		  "To Workspace42"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From <vc>1"
	  SrcPort		  1
	  DstBlock		  "Logical\nOperator1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From <vc>"
	  SrcPort		  1
	  DstBlock		  "To Workspace2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From <veh>"
	  SrcPort		  1
	  DstBlock		  "To Workspace1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From<vc>2"
	  SrcPort		  1
	  DstBlock		  "To Workspace54"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From<vc>4"
	  SrcPort		  1
	  DstBlock		  "To Workspace52"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From<vc>3"
	  SrcPort		  1
	  DstBlock		  "To Workspace44"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From<vc>"
	  SrcPort		  1
	  DstBlock		  "To Workspace39"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From<wh>"
	  SrcPort		  1
	  DstBlock		  "To Workspace38"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From<wh>1"
	  SrcPort		  1
	  DstBlock		  "To Workspace41"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From<vc>/engine control2"
	  SrcPort		  1
	  DstBlock		  "To Workspace57"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From<vc>/engine control"
	  SrcPort		  1
	  DstBlock		  "To Workspace51"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From<gb>"
	  SrcPort		  1
	  DstBlock		  "To Workspace3"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "<vc> series"
      Ports		      []
      Position		      [150, 25, 211, 62]
      BackgroundColor	      "yellow"
      ShowPortLabels	      on
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskDisplay	      "image(imread('bdi_vc.jpg'))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      System {
	Name			"<vc> series"
	Location		[26, 236, 1013, 904]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  From
	  Name			  "From <cs>"
	  Position		  [530, 396, 615, 414]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "engine_on"
	}
	Block {
	  BlockType		  From
	  Name			  "From <gb>1"
	  Position		  [545, 235, 625, 255]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "w_gb_out"
	}
	Block {
	  BlockType		  From
	  Name			  "From <gb>2"
	  Position		  [545, 271, 625, 289]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "eta_gb"
	}
	Block {
	  BlockType		  From
	  Name			  "From <gb>3"
	  Position		  [540, 306, 630, 324]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "slip_limited"
	}
	Block {
	  BlockType		  From
	  Name			  "From <veh>"
	  Position		  [25, 212, 100, 228]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "v_prev"
	}
	Block {
	  BlockType		  From
	  Name			  "From <wh>"
	  Position		  [20, 245, 80, 265]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "F_req"
	}
	Block {
	  BlockType		  From
	  Name			  "From <wh>1"
	  Position		  [15, 176, 100, 194]
	  NamePlacement		  "alternate"
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "v_ave_req"
	}
	Block {
	  BlockType		  From
	  Name			  "From <wh>2"
	  Position		  [110, 367, 220, 383]
	  NamePlacement		  "alternate"
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "F_drivetrain_ach"
	}
	Block {
	  BlockType		  From
	  Name			  "From <wh>3"
	  Position		  [115, 401, 215, 419]
	  NamePlacement		  "alternate"
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "w_wheel_ach"
	}
	Block {
	  BlockType		  From
	  Name			  "From <wh>4"
	  Position		  [110, 325, 170, 345]
	  NamePlacement		  "alternate"
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "F_req"
	}
	Block {
	  BlockType		  From
	  Name			  "From <wh>5"
	  Position		  [110, 461, 230, 479]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "F_max_rear_brake"
	}
	Block {
	  BlockType		  From
	  Name			  "From <wh>6"
	  Position		  [285, 205, 345, 225]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "F_req"
	}
	Block {
	  BlockType		  From
	  Name			  "From <wh>7"
	  Position		  [75, 101, 160, 119]
	  NamePlacement		  "alternate"
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "v_ave_req"
	}
	Block {
	  BlockType		  From
	  Name			  "From<gb>"
	  Position		  [540, 206, 620, 224]
	  NamePlacement		  "alternate"
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "T_gb_out"
	}
	Block {
	  BlockType		  From
	  Name			  "From<wh>4"
	  Position		  [110, 426, 225, 444]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "F_max_front_brake"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto"
	  Position		  [710, 217, 785, 243]
	  NamePlacement		  "alternate"
	  GotoTag		  "gear_number"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <fc>\n<mc><pb>"
	  Position		  [720, 476, 770, 494]
	  GotoTag		  "key_on"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <gb>"
	  Position		  [715, 291, 785, 309]
	  GotoTag		  "shifting"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <gb>1"
	  Position		  [715, 256, 785, 274]
	  GotoTag		  "gear_ratio"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <sdo>"
	  Position		  [715, 394, 785, 416]
	  GotoTag		  "clutch_state"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <sdo>1"
	  Position		  [435, 201, 520, 219]
	  GotoTag		  "slip_limited"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <wh>"
	  Position		  [430, 135, 515, 155]
	  NamePlacement		  "alternate"
	  GotoTag		  "F_req_limited"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <wh>1"
	  Position		  [180, 209, 270, 231]
	  GotoTag		  "v_req_limited"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <wh>2"
	  Position		  [180, 246, 270, 264]
	  GotoTag		  "wt_front_axle"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <wh>3"
	  Position		  [310, 371, 395, 389]
	  GotoTag		  "F_front_brake"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <wh>4"
	  Position		  [310, 434, 395, 456]
	  GotoTag		  "F_rear_brake"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <wh>5"
	  Position		  [225, 100, 335, 120]
	  GotoTag		  "F_front_brake_req"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  RelationalOperator
	  Name			  "Relational\nOperator"
	  Position		  [380, 192, 410, 223]
	  Operator		  "~="
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum"
	  Ports			  [2, 1]
	  Position		  [380, 127, 410, 158]
	  IconShape		  "rectangular"
	  Inputs		  "-+"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Reference
	  Name			  "braking strategy"
	  Ports			  [2, 2]
	  Position		  [180, 97, 210, 148]
	  NamePlacement		  "alternate"
	  SourceBlock		  "lib_controls/SubSystem/braking strategy"
	  SourceType		  "SubSystem"
	  ShowPortLabels	  "off"
	  TreatAsAtomicUnit	  "off"
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "config traction control"
	  Ports			  [3, 5]
	  Position		  [120, 170, 155, 270]
	  BackgroundColor	  "darkGreen"
	  ShowName		  off
	  AttributesFormatString  "%<BlockChoice>"
	  ShowPortLabels	  off
	  BlockChoice		  "traction control 2 axle"
	  TemplateBlock		  "lib_controls/SubSystem/config traction cont"
"rol"
	  MemberBlocks		  "traction control 2 axle,traction control J2"
"452 2 axle"
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "config traction control"
	    Location		    [148, 182, 646, 482]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "time-average\nvehicle speed\n req'd (m/"
"s)"
	      Position		      [20, 40, 40, 60]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "vehicle speed at\nbeginning of time\n s"
"tep (m/s)"
	      Position		      [20, 80, 40, 100]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "total tractive\nforce req'd\n(N)"
	      Position		      [20, 120, 40, 140]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "traction control 2 axle"
	      Ports		      [3, 5]
	      Position		      [100, 40, 140, 80]
	      BackgroundColor	      "darkGreen"
	      SourceBlock	      "lib_controls/SubSystem/traction control"
" 2 axle"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      "off"
	      TreatAsAtomicUnit	      "off"
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "req'd force\n(N)"
	      Position		      [200, 40, 220, 60]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "req'd speed\n(m/s)"
	      Position		      [200, 80, 220, 100]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "weight on\nfront axle\n(N)"
	      Position		      [200, 120, 220, 140]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "weight on\nrear axle\n(N)"
	      Position		      [200, 160, 220, 180]
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "front/total \ntraction ratio"
	      Position		      [200, 200, 220, 220]
	      Port		      "5"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "time-average\nvehicle speed\n req'd (m/"
"s)"
	      SrcPort		      1
	      Points		      [20, 0; 0, -5]
	      DstBlock		      "traction control 2 axle"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "vehicle speed at\nbeginning of time\n s"
"tep (m/s)"
	      SrcPort		      1
	      Points		      [20, 0; 0, -30]
	      DstBlock		      "traction control 2 axle"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "total tractive\nforce req'd\n(N)"
	      SrcPort		      1
	      Points		      [40, 0]
	      DstBlock		      "traction control 2 axle"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "traction control 2 axle"
	      SrcPort		      1
	      Points		      [20, 0; 0, 10]
	      DstBlock		      "req'd force\n(N)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "traction control 2 axle"
	      SrcPort		      2
	      Points		      [10, 0; 0, 40]
	      DstBlock		      "req'd speed\n(m/s)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "traction control 2 axle"
	      SrcPort		      3
	      Points		      [35, 0; 0, 70]
	      DstBlock		      "weight on\nfront axle\n(N)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "traction control 2 axle"
	      SrcPort		      4
	      Points		      [35, 0; 0, 100]
	      DstBlock		      "weight on\nrear axle\n(N)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "traction control 2 axle"
	      SrcPort		      5
	      Points		      [0, 130]
	      DstBlock		      "front/total \ntraction ratio"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Reference
	  Name			  "front and rear\nbrake controller\n(achievab"
"le)"
	  Ports			  [6, 2]
	  Position		  [255, 346, 290, 474]
	  SourceBlock		  "lib_controls/SubSystem/front and rear\nbrak"
"e controller\n(achievable)"
	  SourceType		  "SubSystem"
	  ShowPortLabels	  "off"
	  TreatAsAtomicUnit	  "off"
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "gearbox control\nfor series \nHV and EV"
	  Ports			  [4, 3]
	  Position		  [650, 209, 690, 316]
	  FontName		  "Arial"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "gearbox control\nfor series \nHV and EV"
	    Location		    [12, 74, 999, 742]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "gb_trq_out_r"
	      Position		      [45, 130, 65, 150]
	      FontName		      "Arial"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "gb_spd_out_r"
	      Position		      [45, 250, 65, 270]
	      FontName		      "Arial"
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "prev.\nPout/Pin"
	      Position		      [45, 20, 65, 40]
	      FontName		      "Arial"
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "tires are at\ntraction limit"
	      Position		      [45, 75, 65, 95]
	      FontName		      "Arial"
	      Port		      "4"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Block NOTES"
	      Ports		      []
	      Position		      [875, 590, 931, 630]
	      BackgroundColor	      "green"
	      ShowName		      off
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "disp('Block\\nNOTES')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Block NOTES"
		Location		[229, 259, 687, 388]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Annotation {
		  Position		  [227, 12]
		  VerticalAlignment	  "top"
		  Text			  "This gearbox control block computes"
" the current gear number given the gearbox's\nreq'd output torque and speed a"
"nd an estimate its efficiency.  Upshifts occur, given a\ncertain engine speed"
",  when the estimated engine load falls below the upshift curve\nin engine sp"
"eed/load space, and downshifts likewise occur when estimated engine\nload ris"
"es above the downshift curve.  Separate upshift and downshift curves are\ndef"
"ined for each gear.  An upshift may not be immediately followed by a downshif"
"t.\nIf the tires are about to slip, don't upshift unless the engine would be "
"at max. speed.\nEnforce this rule by setting the load to 1 when the tires are"
" about to slip."
		}
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [330, 95, 350, 115]
	      Orientation	      "left"
	      Value		      "1"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant14"
	      Position		      [460, 538, 555, 552]
	      ForegroundColor	      "red"
	      Value		      "tx_speed_dep"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant15"
	      Position		      [390, 403, 485, 417]
	      ForegroundColor	      "red"
	      Value		      "tx_speed_dep"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 2]
	      Position		      [730, 391, 735, 429]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "2"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "Fcn"
	      Position		      [155, 20, 185, 40]
	      FontName		      "Arial"
	      Expr		      "1/u"
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "Fcn1"
	      Position		      [85, 180, 115, 200]
	      Orientation	      "up"
	      FontName		      "Arial"
	      Expr		      "1/u"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From"
	      Position		      [560, 510, 685, 530]
	      NamePlacement	      "alternate"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "spd_dep_gear_num"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <logic>2"
	      Position		      [40, 464, 145, 496]
	      ForegroundColor	      "red"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "v_req_limited"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      Position		      [560, 570, 685, 590]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "def_gear_num"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From2"
	      Position		      [500, 430, 625, 450]
	      NamePlacement	      "alternate"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "def_gear_ratio"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From3"
	      Position		      [500, 455, 625, 475]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "def_shifting"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From4"
	      Position		      [500, 365, 625, 385]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "spd_dep_muxed"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain1"
	      Position		      [480, 237, 505, 263]
	      FontName		      "Arial"
	      Gain		      "-1"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [265, 455, 385, 475]
	      NamePlacement	      "alternate"
	      GotoTag		      "spd_dep_muxed"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      Position		      [265, 479, 385, 501]
	      GotoTag		      "spd_dep_gear_num"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto4"
	      Position		      [810, 250, 945, 270]
	      GotoTag		      "def_gear_num"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto5"
	      Position		      [835, 95, 945, 115]
	      GotoTag		      "def_gear_ratio"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto6"
	      Position		      [835, 170, 945, 190]
	      NamePlacement	      "alternate"
	      GotoTag		      "def_shifting"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "MOTOR\ntorque\ncapability"
	      Position		      [190, 210, 220, 230]
	      Orientation	      "up"
	      FontName		      "Arial"
	      InputValues	      "mc_map_spd*mc_spd_scale"
	      OutputValues	      "mc_max_trq*mc_trq_scale+eps"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [645, 427, 650, 478]
	      ShowName		      off
	      Inputs		      "2"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product2"
	      Ports		      [2, 1]
	      Position		      [225, 142, 255, 173]
	      Inputs		      "*/"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product3"
	      Ports		      [2, 1]
	      Position		      [540, 233, 560, 257]
	      FontName		      "Arial"
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      RateLimiter
	      Name		      "Rate Limiter"
	      Position		      [510, 307, 540, 333]
	      Orientation	      "left"
	      RisingSlewLimit	      "1/(gb_shift_delay+eps)"
	      FallingSlewLimit	      "-1/(gb_shift_delay+eps)"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation"
	      Position		      [90, 20, 120, 40]
	      FontName		      "Arial"
	      UpperLimit	      "1"
	      LowerLimit	      "0.2"
	      LinearizeAsGain	      on
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation1"
	      Position		      [725, 96, 745, 114]
	      FontName		      "Arial"
	      UpperLimit	      "gb_gears_num"
	      LowerLimit	      "1"
	      LinearizeAsGain	      on
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Speed Dependent Shifting"
	      Ports		      [1, 2]
	      Position		      [190, 452, 220, 503]
	      SourceBlock	      "lib_controls/SubSystem/Speed Dependent "
"Shifting"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      "off"
	      TreatAsAtomicUnit	      "off"
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [325, 135, 355, 165]
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch3"
	      Position		      [705, 530, 735, 560]
	      Threshold		      "0.5"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch4"
	      Position		      [675, 395, 705, 425]
	      Threshold		      "0.5"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "allow downshift?"
	      Ports		      [1, 1]
	      Position		      [420, 42, 450, 78]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"allow downshift?"
		Location		[328, 265, 817, 480]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "prev gearnum"
		  Position		  [35, 35, 55, 55]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [2, 1]
		  Position		  [375, 43, 405, 67]
		  FontName		  "Arial"
		  Operator		  "NOR"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [145, 60, 180, 80]
		  FontName		  "Arial"
		  X0			  "1"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory1"
		  Position		  [145, 105, 180, 125]
		  FontName		  "Arial"
		  X0			  "1"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator1"
		  Position		  [225, 38, 255, 62]
		  FontName		  "Arial"
		  Operator		  ">"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator2"
		  Position		  [225, 98, 255, 122]
		  FontName		  "Arial"
		  Operator		  ">"
		}
		Block {
		  BlockType		  Outport
		  Name			  "allow shift"
		  Position		  [445, 45, 465, 65]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Relational\nOperator2"
		  SrcPort		  1
		  Points		  [100, 0]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Memory1"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 30; -60, 0]
		    DstBlock		    "Memory1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [15, 0; 0, -15]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Relational\nOperator1"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "prev gearnum"
		  SrcPort		  1
		  Points		  [45, 0]
		  Branch {
		    Points		    [0, 25]
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  DstBlock		  "allow shift"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "current\ngear\nnumber"
	      Ports		      [2, 1]
	      Position		      [670, 87, 690, 123]
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "delta\ngear\nnumber"
	      Position		      [600, 144, 630, 176]
	      FontName		      "Arial"
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "downshift \ncommand"
	      Ports		      [3, 1]
	      Position		      [415, 224, 445, 276]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"downshift \ncommand"
		Location		[431, 372, 906, 667]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "prev gear number"
		  Position		  [45, 98, 75, 112]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "engine load"
		  Position		  [45, 38, 75, 52]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "engine speed"
		  Position		  [45, 133, 75, 147]
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [130, 107, 165, 143]
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator"
		  Position		  [350, 38, 380, 62]
		  FontName		  "Arial"
		  Operator		  ">"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "load fraction"
		  Ports			  [1, 1]
		  Position		  [240, 100, 270, 150]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "Gear Selector"
		  MaskDescription	  "This block will perform a linear in"
"terplation (extrapolation outside of bounds) to determine the shift point loa"
"d fraction associated with the current gear number and speed. \n\nThe Speeds "
"parameter should be defined as an array of vectors containing speeds for each"
" gear number.  The Load Fractions parameter should be defined as a array of v"
"ectors containing load fractions indexed by the speeds in the Speeds paramete"
"r for each gear number."
		  MaskHelp		  "Reference the base workspace variab"
"les - gb_**shift_spd and gb_**shift_load  where ** is either up for upshift c"
"onditions or dn for downshift conditions.\n\nOr define the arrays as follows:"
"\n\n{[spd1 spd2 spd3 spd4]; [spd1 spd2 spd3 spd4]; ...}\n\n{[load1 load2 load"
"3 load4]; [load1 load2 load3 load4]; ...}\n\nwhere each array contains one ro"
"w for each gear in the gearbox.  Speeds should be defined in rad/s and loads "
"as a decimal fraction.\n\n"
		  MaskPromptString	  "Speeds:|Load Fractions:"
		  MaskStyleString	  "edit,edit"
		  MaskTunableValueString  "on,on"
		  MaskCallbackString	  "|"
		  MaskEnableString	  "on,on"
		  MaskVisibilityString	  "on,on"
		  MaskToolTipString	  "on,on"
		  MaskVariables		  "spd=@1;load=@2;"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "gb_dnshift_spd|gb_dnshift_load"
		  MaskVariableAliases	  ","
		  System {
		    Name		    "load fraction"
		    Location		    [464, 440, 704, 522]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 33, 55, 47]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-Function"
		    Ports		    [1, 1]
		    Position		    [80, 25, 160, 55]
		    FunctionName	    "sfun_gearbox"
		    Parameters		    "load, spd"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [185, 33, 215, 47]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "S-Function"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "command"
		  Position		  [420, 43, 450, 57]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Relational\nOperator"
		  SrcPort		  1
		  DstBlock		  "command"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "engine speed"
		  SrcPort		  1
		  Points		  [35, 0]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "prev gear number"
		  SrcPort		  1
		  Points		  [35, 0]
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "engine load"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "load fraction"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "load fraction"
		  SrcPort		  1
		  Points		  [55, 0; 0, -70]
		  DstBlock		  "Relational\nOperator"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      Product
	      Name		      "gb_spd_in_r"
	      Ports		      [2, 1]
	      Position		      [150, 253, 170, 277]
	      FontName		      "Arial"
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "gear ratio"
	      Position		      [400, 308, 430, 332]
	      Orientation	      "left"
	      FontName		      "Arial"
	      InputValues	      "[1:length(gb_ratio)]"
	      OutputValues	      "gb_ratio"
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "gear ratio1"
	      Position		      [785, 93, 815, 117]
	      FontName		      "Arial"
	      InputValues	      "[1:length(gb_ratio)]"
	      OutputValues	      "gb_ratio"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "gearbox speed\nestimator"
	      Ports		      [1, 1]
	      Position		      [225, 250, 255, 280]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"gearbox speed\nestimator"
		Location		[232, 187, 820, 696]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "gb_spd_in_r\nif no gear change"
		  Position		  [45, 18, 75, 32]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [515, 345, 571, 385]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [497, 485, 832, 570]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [167, 41]
		    Text		    "The requested motor speed is repl"
"aced by an estimate of the\nengine's previous speed whenever the vehicle miss"
"ed the trace\n by more than 1 mph on the last time step."
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [165, 240, 185, 260]
		  Orientation		  "left"
		  Value			  "eps"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [315, 165, 335, 185]
		  Orientation		  "left"
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [230, 360, 250, 380]
		  Orientation		  "left"
		  Value			  "1"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant3"
		  Position		  [230, 460, 250, 480]
		  Orientation		  "left"
		  Value			  "0.11"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  From
		  Name			  "From"
		  Position		  [195, 40, 285, 70]
		  Orientation		  "left"
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "gb_spd_in_a"
		}
		Block {
		  BlockType		  From
		  Name			  "From <cyc>"
		  Position		  [30, 304, 120, 336]
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "cyc_mph_r"
		}
		Block {
		  BlockType		  From
		  Name			  "From <veh>"
		  Position		  [30, 99, 85, 131]
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "mpha"
		}
		Block {
		  BlockType		  From
		  Name			  "From <wh>/\ntire slip model (m/s)"
		  Position		  [30, 184, 120, 216]
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "veh_spd_a_rec"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [150, 97, 190, 133]
		  Gain			  "0.447"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical"
		  Ports			  [2, 1]
		  Position		  [375, 317, 405, 348]
		  Operator		  "AND"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [395, 110, 425, 140]
		  X0			  "cyc_mph(1,2)*0.447/wh_radius*fd_rat"
"io*gb_ratio(gb_num_init)"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory1"
		  Position		  [310, 310, 340, 340]
		  X0			  "1"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [3, 1]
		  Position		  [215, 99, 245, 131]
		  Inputs		  "**/"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational"
		  Position		  [225, 307, 255, 338]
		  Operator		  ">"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational1"
		  Position		  [225, 412, 255, 443]
		  Operator		  "<="
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [160, 192, 190, 223]
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [160, 297, 190, 328]
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [310, 110, 340, 140]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [465, 120, 495, 150]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "dt"
		  Ports			  [0, 1]
		  Position		  [165, 408, 185, 432]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "dt"
		    Location		    [240, 561, 480, 665]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [25, 25, 45, 45]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [75, 53, 105, 77]
		    X0			    "-1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum4"
		    Ports		    [2, 1]
		    Position		    [130, 27, 160, 58]
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [185, 38, 215, 52]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Sum4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum4"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [545, 128, 575, 142]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "Constant3"
		  SrcPort		  1
		  Points		  [-15, 0]
		  DstBlock		  "Relational1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Relational1"
		  SrcPort		  1
		  Points		  [100, 0]
		  DstBlock		  "Logical"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Logical"
		  SrcPort		  1
		  Points		  [30, 0; 0, -200]
		  DstBlock		  "Switch1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Memory1"
		  SrcPort		  1
		  DstBlock		  "Logical"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "dt"
		  SrcPort		  1
		  DstBlock		  "Relational1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From"
		  SrcPort		  1
		  Points		  [0, 50]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gb_spd_in_r\nif no gear change"
		  SrcPort		  1
		  Points		  [370, 0]
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "Memory"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Relational"
		  SrcPort		  1
		  DstBlock		  "Memory1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Relational"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  Points		  [-15, 0]
		  DstBlock		  "Relational"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From <veh>"
		  SrcPort		  1
		  Points		  [35, 0]
		  Branch {
		    Points		    [0, 190]
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Gain"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "From <cyc>"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [-15, 0]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  Points		  [-15, 0]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  Labels		  [1, 0]
		  SrcBlock		  "From <wh>/\ntire slip model (m/s)"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, -25; 155, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  "Product"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "load=T/\n(maxT\nat spd)"
	      Position		      [275, 151, 295, 169]
	      FontName		      "Arial"
	      UpperLimit	      "1"
	      LowerLimit	      "0"
	      LinearizeAsGain	      on
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "prev gear\nnumber"
	      Position		      [690, 20, 730, 40]
	      Orientation	      "left"
	      FontName		      "Arial"
	      X0		      "1"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "prev gear\nratio"
	      Position		      [265, 310, 300, 330]
	      Orientation	      "left"
	      FontName		      "Arial"
	      X0		      "gb_ratio(1)"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "shifting1"
	      Ports		      [1, 1]
	      Position		      [785, 164, 815, 196]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"shifting1"
		Location		[164, 210, 454, 401]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "gear\nnumber"
		  Position		  [15, 50, 35, 70]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [20, 131, 120, 159]
		  FontName		  "Arial"
		  Value			  "gb_shift_delay-1e-6"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator"
		  Position		  [185, 53, 215, 77]
		  FontName		  "Arial"
		  Operator		  "<"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "time since last shift"
		  Ports			  [1, 1]
		  Position		  [65, 43, 125, 77]
		  ShowName		  off
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('time since\\nlast shift')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "time since last shift"
		    Location		    [16, 396, 306, 535]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [10, 60, 30, 80]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "just shifted"
		    Ports		    [1, 1]
		    Position		    [60, 57, 110, 83]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('just\\nshifted')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "just shifted"
		    Location		    [140, 214, 463, 359]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [55, 55, 75, 75]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [120, 55, 155, 75]
		    FontName		    "Arial"
		    X0			    "1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [190, 58, 220, 82]
		    FontName		    "Arial"
		    Operator		    "~="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [250, 60, 270, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 30; 75, 0; 0, -20]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "timer"
		    Ports		    [1, 1]
		    Position		    [140, 55, 175, 85]
		    ShowName		    off
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('timer')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "timer"
		    Location		    [455, 179, 859, 394]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "trigger"
		    Position		    [15, 125, 35, 145]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [100, 100, 120, 120]
		    FontName		    "Arial"
		    Value		    "1"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    Position		    [100, 150, 120, 170]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [150, 5, 170, 25]
		    FontName		    "Arial"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [265, 59, 295, 91]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "no-lag\nReset Integrator"
		    Ports		    [3, 1]
		    Position		    [155, 96, 205, 174]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "No-lag Reset Integrator"
		    MaskDescription	    "No-lag Reset Integrator"
		    MaskHelp		    "Integrates first input using Eule"
"r technique.\\nAt the time step that input 2 <> zero,\\noutput is reset to in"
"put 3."
		    MaskPromptString	    "Initial Value"
		    MaskStyleString	    "edit"
		    MaskTunableValueString  "on"
		    MaskEnableString	    "on"
		    MaskVisibilityString    "on"
		    MaskToolTipString	    "on"
		    MaskInitialization	    "initval=@1;"
		    MaskDisplay		    "disp('1/s\\nw/ reset\\nno lag')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "15"
		    System {
		    Name		    "no-lag\nReset Integrator"
		    Location		    [258, 616, 780, 880]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in_1"
		    Position		    [60, 100, 80, 120]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_2"
		    Position		    [60, 140, 80, 160]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "in_3"
		    Position		    [45, 185, 65, 205]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [125, 205, 145, 225]
		    Orientation		    "up"
		    NamePlacement	    "alternate"
		    Value		    "0"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [340, 55, 375, 75]
		    Orientation		    "left"
		    FontName		    "Arial"
		    X0			    "initval"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [160, 96, 180, 114]
		    FontName		    "Arial"
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [230, 90, 250, 110]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [290, 139, 320, 171]
		    FontName		    "Arial"
		    Threshold		    "eps"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dt"
		    Ports		    [0, 1]
		    Position		    [112, 50, 138, 80]
		    Orientation		    "down"
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "dt"
		    Location		    [80, 285, 429, 424]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [65, 60, 85, 80]
		    FontName		    "Arial"
		    FontSize		    8
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [125, 85, 160, 105]
		    FontName		    "Arial"
		    FontSize		    8
		    X0			    "-1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 65, 225, 85]
		    FontName		    "Arial"
		    FontSize		    8
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [255, 65, 275, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "in_2==0"
		    Position		    [160, 143, 190, 167]
		    Operator		    "=="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [455, 145, 475, 165]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, -40]
		    DstBlock		    "in_2==0"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_2==0"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [10, 0; 0, 45]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [-130, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "dt"
		    SrcPort		    1
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in_2"
		    SrcPort		    1
		    DstBlock		    "in_2==0"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_3"
		    SrcPort		    1
		    Points		    [200, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "time"
		    Position		    [350, 65, 370, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "no-lag\nReset Integrator"
		    SrcPort		    1
		    Points		    [35, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [35, 0; 0, 50]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "trigger"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "no-lag\nReset Integrator"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -60]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "time"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [225, 60, 245, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "timer"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "just shifted"
		    SrcPort		    1
		    DstBlock		    "timer"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in_1"
		    SrcPort		    1
		    DstBlock		    "just shifted"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "out_1"
		  Position		  [250, 55, 270, 75]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "time since last shift"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [15, 0; 0, -75]
		  DstBlock		  "Relational\nOperator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "gear\nnumber"
		  SrcPort		  1
		  DstBlock		  "time since last shift"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Relational\nOperator"
		  SrcPort		  1
		  DstBlock		  "out_1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "upshift\n command"
	      Ports		      [3, 1]
	      Position		      [415, 124, 445, 176]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"upshift\n command"
		Location		[324, 355, 799, 650]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "prev gear number"
		  Position		  [45, 103, 75, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "engine load"
		  Position		  [45, 38, 75, 52]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "engine speed"
		  Position		  [45, 133, 75, 147]
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [130, 107, 165, 143]
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator"
		  Position		  [350, 38, 380, 62]
		  FontName		  "Arial"
		  Operator		  "<"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "load fraction"
		  Ports			  [1, 1]
		  Position		  [245, 100, 275, 150]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "Gear Selector"
		  MaskDescription	  "This block will perform a linear in"
"terplation (extrapolation outside of bounds) to determine the shift point loa"
"d fraction associated with the current gear number and speed. \n\nThe Speeds "
"parameter should be defined as an array of vectors containing speeds for each"
" gear number.  The Load Fractions parameter should be defined as a array of v"
"ectors containing load fractions indexed by the speeds in the Speeds paramete"
"r for each gear number."
		  MaskHelp		  "Reference the base workspace variab"
"les - gb_**shift_spd and gb_**shift_load  where ** is either up for upshift c"
"onditions or dn for downshift conditions.\n\nOr define the arrays as follows:"
"\n\n{[spd1 spd2 spd3 spd4]; [spd1 spd2 spd3 spd4]; ...}\n\n{[load1 load2 load"
"3 load4]; [load1 load2 load3 load4]; ...}\n\nwhere each array contains one ro"
"w for each gear in the gearbox.  Speeds should be defined in rad/s and loads "
"as a decimal fraction.\n\n"
		  MaskPromptString	  "Speeds:|Load Fractions:"
		  MaskStyleString	  "edit,edit"
		  MaskTunableValueString  "on,on"
		  MaskCallbackString	  "|"
		  MaskEnableString	  "on,on"
		  MaskVisibilityString	  "on,on"
		  MaskToolTipString	  "on,on"
		  MaskVariables		  "spd=@1;load=@2;"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "gb_upshift_spd|gb_upshift_load"
		  MaskVariableAliases	  ","
		  System {
		    Name		    "load fraction"
		    Location		    [464, 440, 704, 522]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 33, 55, 47]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-Function"
		    Ports		    [1, 1]
		    Position		    [80, 25, 160, 55]
		    FunctionName	    "sfun_gearbox"
		    Parameters		    "load, spd"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [185, 33, 215, 47]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "S-Function"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "S-Function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "command"
		  Position		  [420, 43, 450, 57]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Relational\nOperator"
		  SrcPort		  1
		  DstBlock		  "command"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "engine speed"
		  SrcPort		  1
		  Points		  [35, 0]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "load fraction"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "prev gear number"
		  SrcPort		  1
		  Points		  [35, 0]
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "engine load"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "load fraction"
		  SrcPort		  1
		  Points		  [50, 0; 0, -70]
		  DstBlock		  "Relational\nOperator"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      Product
	      Name		      "~gb_trq_in_r"
	      Ports		      [3, 1]
	      Position		      [150, 132, 170, 168]
	      FontName		      "Arial"
	      Inputs		      "3"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "gear number, out"
	      Position		      [800, 535, 820, 555]
	      FontName		      "Arial"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "gear ratio, out"
	      Position		      [800, 375, 820, 395]
	      FontName		      "Arial"
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "shifting, out"
	      Position		      [800, 420, 820, 440]
	      FontName		      "Arial"
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "shifting1"
	      SrcPort		      1
	      DstBlock		      "Goto6"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "gear ratio1"
	      SrcPort		      1
	      DstBlock		      "Goto5"
	      DstPort		      1
	    }
	    Line {
	      Labels		      [1, 0]
	      SrcBlock		      "Switch3"
	      SrcPort		      1
	      DstBlock		      "gear number, out"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      Points		      [0, 10]
	      DstBlock		      "shifting, out"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      Points		      [0, -15]
	      DstBlock		      "gear ratio, out"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Speed Dependent Shifting"
	      SrcPort		      2
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Speed Dependent Shifting"
	      SrcPort		      1
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <logic>2"
	      SrcPort		      1
	      DstBlock		      "Speed Dependent Shifting"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From"
	      SrcPort		      1
	      DstBlock		      "Switch3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch4"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From3"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From2"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "Switch4"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "From4"
	      SrcPort		      1
	      Points		      [30, 0]
	      DstBlock		      "Switch4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant15"
	      SrcPort		      1
	      DstBlock		      "Switch4"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From1"
	      SrcPort		      1
	      DstBlock		      "Switch3"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Constant14"
	      SrcPort		      1
	      DstBlock		      "Switch3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "prev gear\nnumber"
	      SrcPort		      1
	      Points		      [-160, 0]
	      Branch {
		Points			[0, 65]
		DstBlock		"current\ngear\nnumber"
		DstPort			1
	      }
	      Branch {
		Points			[-130, 0; 0, 30]
		Branch {
		  Points		  [0, 75]
		  Branch {
		    Points		    [0, 100]
		    DstBlock		    "downshift \ncommand"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "upshift\n command"
		    DstPort		    1
		  }
		}
		Branch {
		  DstBlock		  "allow downshift?"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "Saturation1"
	      SrcPort		      1
	      Points		      [15, 0]
	      Branch {
		Points			[0, 75]
		Branch {
		  Points		  [0, 80]
		  Branch {
		    DstBlock		    "Goto4"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 60]
		    DstBlock		    "Rate Limiter"
		    DstPort		    1
		  }
		}
		Branch {
		  DstBlock		  "shifting1"
		  DstPort		  1
		}
	      }
	      Branch {
		Points			[0, 0]
		Branch {
		  DstBlock		  "gear ratio1"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, -75]
		  DstBlock		  "prev gear\nnumber"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      Points		      [25, 0]
	      Branch {
		Points			[0, 100]
		DstBlock		"downshift \ncommand"
		DstPort			2
	      }
	      Branch {
		DstBlock		"upshift\n command"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [-15, 0]
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "tires are at\ntraction limit"
	      SrcPort		      1
	      Points		      [230, 0; 0, 65]
	      DstBlock		      "Switch"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "load=T/\n(maxT\nat spd)"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Fcn"
	      SrcPort		      1
	      Points		      [10, 0; 0, 85; -75, 0; 0, 35]
	      DstBlock		      "~gb_trq_in_r"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "~gb_trq_in_r"
	      SrcPort		      1
	      DstBlock		      "Product2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Product2"
	      SrcPort		      1
	      DstBlock		      "load=T/\n(maxT\nat spd)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "MOTOR\ntorque\ncapability"
	      SrcPort		      1
	      Points		      [0, -40]
	      DstBlock		      "Product2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Fcn1"
	      SrcPort		      1
	      Points		      [0, -15]
	      DstBlock		      "~gb_trq_in_r"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "delta\ngear\nnumber"
	      SrcPort		      1
	      Points		      [15, 0; 0, -45]
	      DstBlock		      "current\ngear\nnumber"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "prev gear\nratio"
	      SrcPort		      1
	      Points		      [-160, 0; 0, -50]
	      Branch {
		DstBlock		"gb_spd_in_r"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Fcn1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "allow downshift?"
	      SrcPort		      1
	      Points		      [55, 0; 0, 180]
	      DstBlock		      "Product3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Product3"
	      SrcPort		      1
	      Points		      [10, 0; 0, -75]
	      DstBlock		      "delta\ngear\nnumber"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Gain1"
	      SrcPort		      1
	      DstBlock		      "Product3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "downshift \ncommand"
	      SrcPort		      1
	      DstBlock		      "Gain1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "gb_spd_out_r"
	      SrcPort		      1
	      DstBlock		      "gb_spd_in_r"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Rate Limiter"
	      SrcPort		      1
	      DstBlock		      "gear ratio"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "gear ratio"
	      SrcPort		      1
	      DstBlock		      "prev gear\nratio"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "upshift\n command"
	      SrcPort		      1
	      Points		      [115, 0]
	      Branch {
		Points			[0, 10]
		DstBlock		"delta\ngear\nnumber"
		DstPort			2
	      }
	      Branch {
		DstBlock		"delta\ngear\nnumber"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "gb_trq_out_r"
	      SrcPort		      1
	      DstBlock		      "~gb_trq_in_r"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "prev.\nPout/Pin"
	      SrcPort		      1
	      DstBlock		      "Saturation"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Saturation"
	      SrcPort		      1
	      DstBlock		      "Fcn"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "current\ngear\nnumber"
	      SrcPort		      1
	      DstBlock		      "Saturation1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "gb_spd_in_r"
	      SrcPort		      1
	      DstBlock		      "gearbox speed\nestimator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "gearbox speed\nestimator"
	      SrcPort		      1
	      Points		      [60, 0]
	      Branch {
		Points			[55, 0]
		Branch {
		  Points		  [0, -100]
		  DstBlock		  "upshift\n command"
		  DstPort		  3
		}
		Branch {
		  DstBlock		  "downshift \ncommand"
		  DstPort		  3
		}
	      }
	      Branch {
		Points			[0, -20]
		DstBlock		"MOTOR\ntorque\ncapability"
		DstPort			1
	      }
	    }
	    Annotation {
	      Position		      [887, 42]
	      Text		      "local GOTO blocks:"
	    }
	    Annotation {
	      Position		      [882, 74]
	      Text		      "default gear ratio\ncalculation"
	    }
	    Annotation {
	      Position		      [893, 211]
	      Text		      "default shifting\ncalculation"
	    }
	    Annotation {
	      Position		      [889, 304]
	      Text		      "default gear number\ncalculation"
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "key_on"
	  Ports			  [0, 1]
	  Position		  [650, 470, 690, 500]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskType		  "Repeating table"
	  MaskDescription	  "Repeating table.\nEnter values of time and "
"output for first cycle."
	  MaskHelp		  "Repeats cycle given in table. Time values s"
"hould be monotonically increasing."
	  MaskPromptString	  "Time values:|Output values:"
	  MaskStyleString	  "edit,edit"
	  MaskTunableValueString  "on,on"
	  MaskCallbackString	  "|"
	  MaskEnableString	  "on,on"
	  MaskVisibilityString	  "on,on"
	  MaskToolTipString	  "on,on"
	  MaskInitialization	  "period = max(@1); t = @1; y = @2;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "vc_key_on(:,1)|vc_key_on(:,2)"
	  MaskVariableAliases	  ","
	  System {
	    Name		    "key_on"
	    Location		    [7, 74, 300, 156]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Clock
	      Name		      "Clock"
	      Position		      [15, 25, 35, 45]
	      DisplayTime	      off
	      Decimation	      "10"
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "Fcn1"
	      Position		      [80, 25, 120, 45]
	      Expr		      "rem(u[1],period)"
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "Look-Up Table"
	      Position		      [180, 23, 220, 47]
	      InputValues	      "t"
	      OutputValues	      "y"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "out_1"
	      Position		      [255, 25, 275, 45]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Fcn1"
	      SrcPort		      1
	      DstBlock		      "Look-Up Table"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Clock"
	      SrcPort		      1
	      DstBlock		      "Fcn1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Look-Up Table"
	      SrcPort		      1
	      DstBlock		      "out_1"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "series 'clutch'\ncontrol"
	  Ports			  [1, 1]
	  Position		  [650, 386, 685, 424]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "series 'clutch'\ncontrol"
	    Location		    [295, 159, 784, 433]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "engine on"
	      Position		      [35, 33, 65, 47]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Block NOTES"
	      Ports		      []
	      Position		      [420, 220, 476, 260]
	      BackgroundColor	      "green"
	      ShowName		      off
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "disp('Block\\nNOTES')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Block NOTES"
		Location		[315, 744, 770, 896]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Annotation {
		  Position		  [227, 12]
		  VerticalAlignment	  "top"
		  Text			  "There is no clutch, per se, in the "
"series hybrid vehicle, that is connected to\nthe engine.  This clutch control"
" is provided to tell the fuel converter (a.k.a. engine)\nwhen it can spin up "
"freely.  The fuel converter spins up or down when the 'clutch' is\ndisengaged"
", and provides torque when the 'clutch' is engaged (signal==3).\n\nHere, the "
"fuel converter spins up when the engine has been off within the\npast 0.5 s ("
"or one time step, whichever is greater).  At all other times, the fuel\nconve"
"rter provides torque to the generator."
		}
	      }
	    }
	    Block {
	      BlockType		      Clock
	      Name		      "Clock"
	      Position		      [45, 190, 65, 210]
	      DisplayTime	      off
	      Decimation	      "10"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant6"
	      Position		      [385, 105, 405, 125]
	      Orientation	      "left"
	      Value		      "1"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant7"
	      Position		      [385, 15, 405, 35]
	      Orientation	      "left"
	      Value		      "3"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory1"
	      Position		      [120, 50, 150, 80]
	      X0		      "cyc_mph(1,2)>0"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory2"
	      Position		      [115, 220, 145, 250]
	      X0		      "-1"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [180, 192, 210, 223]
	      IconShape		      "rectangular"
	      Inputs		      "+-"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [380, 55, 410, 85]
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch1"
	      Position		      [275, 55, 305, 85]
	      Threshold		      "0.5"
	    }
	    Block {
	      BlockType		      TransportDelay
	      Name		      "Transport\nDelay"
	      Position		      [115, 130, 145, 160]
	      DelayTime		      "0.5"
	      InitialInput	      "0"
	      BufferSize	      "1024"
	      PadeOrder		      "0"
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "clutch\nslipping1"
	      Ports		      [2, 1]
	      Position		      [180, 41, 210, 74]
	      Operator		      "AND"
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "clutch\nslipping2"
	      Ports		      [2, 1]
	      Position		      [180, 121, 210, 154]
	      Operator		      "AND"
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "clutch\nstate"
	      Position		      [445, 63, 475, 77]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "Memory1"
	      SrcPort		      1
	      DstBlock		      "clutch\nslipping1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant7"
	      SrcPort		      1
	      Points		      [-15, 0]
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch1"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "clutch\nstate"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant6"
	      SrcPort		      1
	      Points		      [-15, 0]
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "clutch\nslipping1"
	      SrcPort		      1
	      DstBlock		      "Switch1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Transport\nDelay"
	      SrcPort		      1
	      DstBlock		      "clutch\nslipping2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "clutch\nslipping2"
	      SrcPort		      1
	      Points		      [25, 0; 0, -60]
	      DstBlock		      "Switch1"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Clock"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		DstBlock		"Sum"
		DstPort			1
	      }
	      Branch {
		Points			[0, 35]
		DstBlock		"Memory2"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Memory2"
	      SrcPort		      1
	      Points		      [15, 0]
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      Points		      [45, 0]
	      DstBlock		      "Switch1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "engine on"
	      SrcPort		      1
	      Points		      [25, 0]
	      Branch {
		Points			[70, 0]
		DstBlock		"clutch\nslipping1"
		DstPort			1
	      }
	      Branch {
		Points			[0, 25]
		Branch {
		  DstBlock		  "Memory1"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 45]
		  Branch {
		    Points		    [0, 35]
		    DstBlock		    "Transport\nDelay"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [70, 0]
		    DstBlock		    "clutch\nslipping2"
		    DstPort		    1
		  }
		}
	      }
	    }
	  }
	}
	Block {
	  BlockType		  Reference
	  Name			  "sim stop\nsubsystem"
	  Ports			  []
	  Position		  [40, 15, 70, 65]
	  SourceBlock		  "lib_controls/SubSystem/sim stop\nsubsystem"
	  SourceType		  "SubSystem"
	  ShowPortLabels	  "on"
	  TreatAsAtomicUnit	  "off"
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	}
	Line {
	  SrcBlock		  "gearbox control\nfor series \nHV and EV"
	  SrcPort		  1
	  DstBlock		  "Goto"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "gearbox control\nfor series \nHV and EV"
	  SrcPort		  2
	  DstBlock		  "Goto <gb>1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "gearbox control\nfor series \nHV and EV"
	  SrcPort		  3
	  DstBlock		  "Goto <gb>"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From <wh>1"
	  SrcPort		  1
	  DstBlock		  "config traction control"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From <wh>6"
	  SrcPort		  1
	  DstBlock		  "Relational\nOperator"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Relational\nOperator"
	  SrcPort		  1
	  DstBlock		  "Goto <sdo>1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Sum"
	  SrcPort		  1
	  DstBlock		  "Goto <wh>"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From <wh>"
	  SrcPort		  1
	  DstBlock		  "config traction control"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "config traction control"
	  SrcPort		  3
	  Points		  [0, 35]
	  DstBlock		  "Goto <wh>2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "config traction control"
	  SrcPort		  2
	  Points		  [0, 20]
	  DstBlock		  "Goto <wh>1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From <veh>"
	  SrcPort		  1
	  DstBlock		  "config traction control"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "config traction control"
	  SrcPort		  1
	  Points		  [0, 5; 5, 0]
	  Branch {
	    Points		    [170, 0]
	    Branch {
	      Points		      [0, 15]
	      DstBlock		      "Relational\nOperator"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [0, -35]
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	  }
	  Branch {
	    DstBlock		    "braking strategy"
	    DstPort		    2
	  }
	}
	Line {
	  SrcBlock		  "braking strategy"
	  SrcPort		  2
	  DstBlock		  "Sum"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From <wh>7"
	  SrcPort		  1
	  DstBlock		  "braking strategy"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "braking strategy"
	  SrcPort		  1
	  DstBlock		  "Goto <wh>5"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From <wh>4"
	  SrcPort		  1
	  Points		  [65, 0]
	  DstBlock		  "front and rear\nbrake controller\n(achievab"
"le)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "front and rear\nbrake controller\n(achievab"
"le)"
	  SrcPort		  2
	  DstBlock		  "Goto <wh>4"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From <wh>5"
	  SrcPort		  1
	  Points		  [0, -10]
	  DstBlock		  "front and rear\nbrake controller\n(achievab"
"le)"
	  DstPort		  5
	}
	Line {
	  SrcBlock		  "From<wh>4"
	  SrcPort		  1
	  DstBlock		  "front and rear\nbrake controller\n(achievab"
"le)"
	  DstPort		  4
	}
	Line {
	  SrcBlock		  "From <wh>3"
	  SrcPort		  1
	  DstBlock		  "front and rear\nbrake controller\n(achievab"
"le)"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "From <wh>2"
	  SrcPort		  1
	  DstBlock		  "front and rear\nbrake controller\n(achievab"
"le)"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "front and rear\nbrake controller\n(achievab"
"le)"
	  SrcPort		  1
	  DstBlock		  "Goto <wh>3"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "key_on"
	  SrcPort		  1
	  DstBlock		  "Goto <fc>\n<mc><pb>"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From <cs>"
	  SrcPort		  1
	  DstBlock		  "series 'clutch'\ncontrol"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "series 'clutch'\ncontrol"
	  SrcPort		  1
	  DstBlock		  "Goto <sdo>"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From <gb>3"
	  SrcPort		  1
	  DstBlock		  "gearbox control\nfor series \nHV and EV"
	  DstPort		  4
	}
	Line {
	  SrcBlock		  "From<gb>"
	  SrcPort		  1
	  Points		  [0, 10]
	  DstBlock		  "gearbox control\nfor series \nHV and EV"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From <gb>1"
	  SrcPort		  1
	  Points		  [5, 0]
	  DstBlock		  "gearbox control\nfor series \nHV and EV"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "From <gb>2"
	  SrcPort		  1
	  Points		  [0, -5]
	  DstBlock		  "gearbox control\nfor series \nHV and EV"
	  DstPort		  3
	}
      }
    }
    Block {
      BlockType		      Clock
      Name		      "Clock"
      Position		      [25, 65, 45, 85]
      DisplayTime	      off
      Decimation	      "10"
    }
    Block {
      BlockType		      SubSystem
      Name		      "Cosimulate Elect"
      Ports		      [2, 2]
      Position		      [535, 165, 630, 220]
      AncestorBlock	      "lib_cosimulation/SaberCosim"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskDisplay	      "image(imread('series_cosim.bmp'))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      System {
	Name			"Cosimulate Elect"
	Location		[365, 266, 1164, 746]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed req'd\nat input side of ge"
"arbox\n(Nm),(rad/s)"
	  Position		  [60, 153, 90, 167]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "speed and torque \navail from fc \n(Nm) (ra"
"d/s)"
	  Position		  [60, 273, 90, 287]
	  Port			  "2"
	  LatchInput		  off
	  PortDimensions	  "2"
	  Interpolate		  on
	}
	Block {
	  BlockType		  Goto
	  Name			  "<sdo>1"
	  Position		  [260, 414, 340, 436]
	  GotoTag		  "gc_spd_in_r"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux"
	  Ports			  [1, 2]
	  Position		  [190, 101, 200, 219]
	  Outputs		  "2"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux1"
	  Ports			  [1, 2]
	  Position		  [120, 221, 130, 339]
	  Outputs		  "2"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Generator RPM Ach"
	  Ports			  [1, 1]
	  Position		  [280, 241, 355, 259]
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "Generator RPM Ach"
	    Location		    [345, 134, 1207, 796]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "w_apu"
	      Position		      [15, 358, 45, 372]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	      Port {
		PortNumber		1
		Name			"w_apu"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [210, 65, 240, 95]
	      Value		      "0"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Enabled\nSubsystem"
	      Ports		      [1, 1, 1]
	      Position		      [375, 163, 475, 187]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      on
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"Enabled\nSubsystem"
		Location		[421, 301, 919, 601]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  Ports			  []
		  Position		  [235, 20, 255, 40]
		  StatesWhenEnabling	  "held"
		  ShowOutputPort	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [360, 103, 390, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From"
	      Position		      [325, 452, 375, 468]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "time"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      Position		      [295, 262, 345, 278]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "time"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From4"
	      Position		      [200, 137, 250, 153]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "time"
	    }
	    Block {
	      BlockType		      InitialCondition
	      Name		      "IC"
	      Position		      [435, 443, 490, 477]
	      Value		      "time_step"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory1"
	      Position		      [485, 255, 515, 285]
	      X0		      ".001"
	      InheritSampleTime	      on
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory2"
	      Position		      [350, 350, 380, 380]
	      ShowName		      off
	      X0		      "80"
	      InheritSampleTime	      on
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux3"
	      Ports		      [6, 1]
	      Position		      [670, 30, 680, 605]
	      ShowName		      off
	      Inputs		      "6"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator"
	      Position		      [330, 122, 360, 153]
	      ShowName		      off
	      Operator		      "=="
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation"
	      Position		      [380, 255, 410, 285]
	      UpperLimit	      "inf"
	      LowerLimit	      ".001"
	      LinearizeAsGain	      on
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "rad/s -> rpm1"
	      Position		      [155, 350, 185, 380]
	      Gain		      "60/(2*pi)"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "RPM"
	      Position		      [775, 313, 805, 327]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator"
	      SrcPort		      1
	      Points		      [60, 0]
	      DstBlock		      "Enabled\nSubsystem"
	      DstPort		      enable
	    }
	    Line {
	      SrcBlock		      "From4"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Enabled\nSubsystem"
	      SrcPort		      1
	      DstBlock		      "Mux3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Memory2"
	      SrcPort		      1
	      DstBlock		      "Mux3"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "Mux3"
	      SrcPort		      1
	      DstBlock		      "RPM"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "IC"
	      SrcPort		      1
	      DstBlock		      "Mux3"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "Saturation"
	      SrcPort		      1
	      DstBlock		      "Memory1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From1"
	      SrcPort		      1
	      DstBlock		      "Saturation"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Memory1"
	      SrcPort		      1
	      DstBlock		      "Mux3"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "From"
	      SrcPort		      1
	      DstBlock		      "IC"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [0, 0; 55, 0]
	      Branch {
		Points			[0, 50]
		DstBlock		"Relational\nOperator"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Mux3"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "w_apu"
	      Labels		      [0, 0]
	      SrcBlock		      "w_apu"
	      SrcPort		      1
	      DstBlock		      "rad/s -> rpm1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "rad/s -> rpm1"
	      SrcPort		      1
	      Points		      [75, 0; 5, 0]
	      Branch {
		Points			[15, 0]
		Branch {
		  DstBlock		  "Memory2"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 190]
		  DstBlock		  "Mux3"
		  DstPort		  6
		}
	      }
	      Branch {
		Points			[0, -190]
		DstBlock		"Enabled\nSubsystem"
		DstPort			1
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Model Data In"
	  Ports			  [0, 1]
	  Position		  [280, 362, 355, 378]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "disp('Series')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Model Data In"
	    Location		    [86, 74, 477, 614]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      SubSystem
	      Name		      "Aux Loads\n14V and 42V"
	      Ports		      [0, 1]
	      Position		      [70, 55, 110, 75]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"Aux Loads\n14V and 42V"
		Location		[128, 328, 436, 688]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Reference
		  Name			  "Aux Loads\n14V"
		  Ports			  [0, 1]
		  Position		  [55, 145, 95, 165]
		  SourceBlock		  "lib_cosimulation/Aux Loads\n14V"
		  SourceType		  "SubSystem"
		  ShowPortLabels	  "on"
		  TreatAsAtomicUnit	  "off"
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Aux Loads\n42V"
		  Ports			  [0, 1]
		  Position		  [55, 225, 95, 245]
		  SourceBlock		  "lib_cosimulation/Aux Loads\n42V"
		  SourceType		  "SubSystem"
		  ShowPortLabels	  "on"
		  TreatAsAtomicUnit	  "off"
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Elec Aux Loads\nAdditional"
		  Ports			  [0, 1]
		  Position		  [55, 64, 100, 86]
		  SourceBlock		  "lib_cosimulation/Elec Aux Loads\nAd"
"ditional"
		  SourceType		  "SubSystem"
		  ShowPortLabels	  "on"
		  TreatAsAtomicUnit	  "off"
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		}
		Block {
		  BlockType		  "S-Function"
		  Name			  "Matrix\nConcatenation1"
		  Ports			  [3, 1]
		  Position		  [175, 36, 195, 274]
		  FunctionName		  "smatrxcat"
		  Parameters		  "numInports,catMethod"
		  PortCounts		  "[]"
		  SFunctionModules	  "''"
		  MaskType		  "Matrix Concatenation"
		  MaskDescription	  "Perform horizontal or vertical conc"
"atenation.  1-D vector input signals are treated as column vectors, i.e., [Mx"
"1] matrices.  The output is always a matrix."
		  MaskPromptString	  "Number of inputs:|Concatenation met"
"hod:"
		  MaskStyleString	  "edit,popup(Horizontal|Vertical)"
		  MaskTunableValueString  "on,on"
		  MaskCallbackString	  "|"
		  MaskEnableString	  "on,on"
		  MaskVisibilityString	  "on,on"
		  MaskToolTipString	  "on,on"
		  MaskVariables		  "numInports=@1;catMethod=@2;"
		  MaskInitialization	  "xy = matrxcatmask('icon');"
		  MaskDisplay		  "plot(xy.x,xy.y);\ntext(0.15,0.86,xy"
".label);\n"
		  MaskSelfModifiable	  on
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "normalized"
		  MaskValueString	  "3|Horizontal"
		  MaskVariableAliases	  ","
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [225, 148, 255, 162]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "Matrix\nConcatenation1"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Aux Loads\n42V"
		  SrcPort		  1
		  DstBlock		  "Matrix\nConcatenation1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Aux Loads\n14V"
		  SrcPort		  1
		  DstBlock		  "Matrix\nConcatenation1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Elec Aux Loads\nAdditional"
		  SrcPort		  1
		  DstBlock		  "Matrix\nConcatenation1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "DC/DC converter"
	      Ports		      [0, 1]
	      Position		      [70, 120, 110, 140]
	      SourceBlock	      "lib_cosimulation/DC//DC converter"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      "on"
	      TreatAsAtomicUnit	      "off"
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Generator\nreg"
	      Ports		      [0, 1]
	      Position		      [75, 380, 115, 400]
	      SourceBlock	      "lib_cosimulation/Generator\nreg"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      "on"
	      TreatAsAtomicUnit	      "off"
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [7, 1]
	      Position		      [265, 26, 280, 494]
	      ShowName		      off
	      Inputs		      "7"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Regulator"
	      Ports		      [0, 1]
	      Position		      [70, 185, 110, 205]
	      SourceBlock	      "lib_cosimulation/Regulator"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      "on"
	      TreatAsAtomicUnit	      "off"
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "ess param inputs"
	      Ports		      [0, 1]
	      Position		      [70, 249, 120, 271]
	      AttributesFormatString  "%<BlockChoice>"
	      ShowPortLabels	      off
	      BlockChoice	      "Rint"
	      TemplateBlock	      "lib_cosimulation/ess param inputs"
	      MemberBlocks	      "Rint,Saber lib pb"
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"ess param inputs"
		Location		[148, 182, 646, 482]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Reference
		  Name			  "Rint"
		  Ports			  [0, 1]
		  Position		  [100, 40, 140, 80]
		  SourceBlock		  "lib_cosimulation/Rint"
		  SourceType		  "SubSystem"
		  ShowPortLabels	  "on"
		  TreatAsAtomicUnit	  "off"
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [200, 40, 220, 60]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "Rint"
		  SrcPort		  1
		  Points		  [20, 0; 0, -10]
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "ess2 param inputs"
	      Ports		      [0, 1]
	      Position		      [70, 314, 120, 336]
	      AttributesFormatString  "%<BlockChoice>"
	      ShowPortLabels	      off
	      BlockChoice	      "Saber lib pb2"
	      TemplateBlock	      "lib_cosimulation/ess2 param inputs"
	      MemberBlocks	      "Rint2,Saber lib pb2"
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"ess2 param inputs"
		Location		[148, 182, 646, 482]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Reference
		  Name			  "Saber lib pb2"
		  Ports			  [0, 1]
		  Position		  [100, 40, 140, 80]
		  SourceBlock		  "lib_cosimulation/Saber lib pb2"
		  SourceType		  "SubSystem"
		  ShowPortLabels	  "on"
		  TreatAsAtomicUnit	  "off"
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [200, 40, 220, 60]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "Saber lib pb2"
		  SrcPort		  1
		  Points		  [20, 0; 0, -10]
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "motor"
	      Ports		      [0, 1]
	      Position		      [75, 445, 115, 465]
	      SourceBlock	      "lib_cosimulation/motor"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      "on"
	      TreatAsAtomicUnit	      "off"
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [330, 253, 360, 267]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "DC/DC converter"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Aux Loads\n14V and 42V"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Regulator"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "ess param inputs"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "ess2 param inputs"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "Generator\nreg"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      6
	    }
	    Line {
	      SrcBlock		      "motor"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      7
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Motor RPM Req"
	  Ports			  [1, 1]
	  Position		  [280, 181, 355, 199]
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "Motor RPM Req"
	    Location		    [363, 260, 1121, 952]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "w_apu"
	      Position		      [25, 358, 55, 372]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [105, 65, 135, 95]
	      Value		      "0"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Enabled\nSubsystem"
	      Ports		      [1, 1, 1]
	      Position		      [270, 163, 370, 187]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      on
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"Enabled\nSubsystem"
		Location		[421, 301, 919, 601]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  Ports			  []
		  Position		  [235, 20, 255, 40]
		  StatesWhenEnabling	  "held"
		  ShowOutputPort	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [360, 103, 390, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From"
	      Position		      [220, 452, 270, 468]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "time"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      Position		      [190, 262, 240, 278]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "time"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From4"
	      Position		      [95, 137, 145, 153]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "time"
	    }
	    Block {
	      BlockType		      InitialCondition
	      Name		      "IC"
	      Position		      [330, 443, 385, 477]
	      Value		      "time_step"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory1"
	      Position		      [380, 255, 410, 285]
	      X0		      ".001"
	      InheritSampleTime	      on
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory2"
	      Position		      [245, 350, 275, 380]
	      ShowName		      off
	      X0		      "0"
	      InheritSampleTime	      on
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux3"
	      Ports		      [6, 1]
	      Position		      [575, 27, 585, 608]
	      ShowName		      off
	      Inputs		      "[1 1 1 1 1 1]"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator"
	      Position		      [225, 122, 255, 153]
	      ShowName		      off
	      Operator		      "=="
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation"
	      Position		      [275, 255, 305, 285]
	      UpperLimit	      "inf"
	      LowerLimit	      ".001"
	      LinearizeAsGain	      on
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "rad/s -> rpm1"
	      Position		      [125, 350, 155, 380]
	      Gain		      "60/(2*pi)"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "RPM"
	      Position		      [680, 313, 710, 327]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator"
	      SrcPort		      1
	      Points		      [60, 0]
	      DstBlock		      "Enabled\nSubsystem"
	      DstPort		      enable
	    }
	    Line {
	      SrcBlock		      "From4"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Enabled\nSubsystem"
	      SrcPort		      1
	      DstBlock		      "Mux3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Memory2"
	      SrcPort		      1
	      DstBlock		      "Mux3"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "Mux3"
	      SrcPort		      1
	      DstBlock		      "RPM"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "IC"
	      SrcPort		      1
	      DstBlock		      "Mux3"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "Saturation"
	      SrcPort		      1
	      DstBlock		      "Memory1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From1"
	      SrcPort		      1
	      DstBlock		      "Saturation"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Memory1"
	      SrcPort		      1
	      DstBlock		      "Mux3"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "From"
	      SrcPort		      1
	      DstBlock		      "IC"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [55, 0]
	      Branch {
		Points			[0, 50]
		DstBlock		"Relational\nOperator"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Mux3"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "w_apu"
	      SrcPort		      1
	      DstBlock		      "rad/s -> rpm1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "rad/s -> rpm1"
	      SrcPort		      1
	      Points		      [0, 0; 5, 0]
	      Branch {
		Points			[15, 0]
		Branch {
		  DstBlock		  "Memory2"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 190]
		  DstBlock		  "Mux3"
		  DstPort		  6
		}
	      }
	      Branch {
		Points			[0, -190]
		DstBlock		"Enabled\nSubsystem"
		DstPort			1
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Motor Trq Req"
	  Ports			  [1, 1]
	  Position		  [280, 121, 355, 139]
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "Motor Trq Req"
	    Location		    [299, 271, 1057, 963]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "trq"
	      Position		      [25, 358, 55, 372]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [105, 65, 135, 95]
	      Value		      "0"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Enabled\nSubsystem"
	      Ports		      [1, 1, 1]
	      Position		      [265, 163, 365, 187]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      on
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"Enabled\nSubsystem"
		Location		[421, 301, 919, 601]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [110, 103, 140, 117]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  Ports			  []
		  Position		  [235, 20, 255, 40]
		  StatesWhenEnabling	  "held"
		  ShowOutputPort	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [360, 103, 390, 117]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From"
	      Position		      [220, 452, 270, 468]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "time"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      Position		      [190, 262, 240, 278]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "time"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From4"
	      Position		      [95, 137, 145, 153]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "time"
	    }
	    Block {
	      BlockType		      InitialCondition
	      Name		      "IC"
	      Position		      [330, 443, 385, 477]
	      Value		      "time_step"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory1"
	      Position		      [380, 255, 410, 285]
	      X0		      ".001"
	      InheritSampleTime	      on
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory2"
	      Position		      [245, 350, 275, 380]
	      ShowName		      off
	      X0		      "0"
	      InheritSampleTime	      on
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux3"
	      Ports		      [6, 1]
	      Position		      [580, 27, 590, 608]
	      ShowName		      off
	      Inputs		      "[1 1 1 1 1 1]"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator"
	      Position		      [225, 122, 255, 153]
	      ShowName		      off
	      Operator		      "=="
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation"
	      Position		      [275, 255, 305, 285]
	      UpperLimit	      "inf"
	      LowerLimit	      ".001"
	      LinearizeAsGain	      on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "trq array"
	      Position		      [680, 313, 710, 327]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "trq"
	      SrcPort		      1
	      Points		      [35, 0]
	      Branch {
		Points			[85, 0]
		Branch {
		  DstBlock		  "Memory2"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 190]
		  DstBlock		  "Mux3"
		  DstPort		  6
		}
	      }
	      Branch {
		Points			[0, -190]
		DstBlock		"Enabled\nSubsystem"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [55, 0]
	      Branch {
		Points			[0, 50]
		DstBlock		"Relational\nOperator"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Mux3"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "From"
	      SrcPort		      1
	      DstBlock		      "IC"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Memory1"
	      SrcPort		      1
	      DstBlock		      "Mux3"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "From1"
	      SrcPort		      1
	      DstBlock		      "Saturation"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Saturation"
	      SrcPort		      1
	      DstBlock		      "Memory1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "IC"
	      SrcPort		      1
	      DstBlock		      "Mux3"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "Mux3"
	      SrcPort		      1
	      DstBlock		      "trq array"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Memory2"
	      SrcPort		      1
	      DstBlock		      "Mux3"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "Enabled\nSubsystem"
	      SrcPort		      1
	      DstBlock		      "Mux3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From4"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator"
	      SrcPort		      1
	      Points		      [55, 0]
	      DstBlock		      "Enabled\nSubsystem"
	      DstPort		      enable
	    }
	  }
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux1"
	  Ports			  [2, 1]
	  Position		  [660, 251, 665, 289]
	  ShowName		  off
	  Inputs		  "2"
	  DisplayOption		  "bar"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux2"
	  Ports			  [2, 1]
	  Position		  [690, 211, 695, 249]
	  ShowName		  off
	  Inputs		  "2"
	  DisplayOption		  "bar"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux3"
	  Ports			  [5, 1]
	  Position		  [405, 99, 415, 401]
	  ShowName		  off
	  Inputs		  "5"
	  DisplayOption		  "bar"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Series Cosim"
	  Ports			  [1, 1]
	  Position		  [455, 225, 515, 275]
	  AttributesFormatString  "%<BlockChoice>"
	  ShowPortLabels	  off
	  BlockChoice		  "Saber Text File Exchange"
	  TemplateBlock		  "lib_cosimulation/Series Cosim"
	  MemberBlocks		  "Saber Text File Exchange,Series Saber Cosim"
",Series Simplorer Cosim"
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Series Cosim"
	    Location		    [148, 182, 646, 482]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "In1"
	      Position		      [20, 40, 40, 60]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Saber Text File Exchange"
	      Ports		      [1, 1]
	      Position		      [100, 40, 140, 80]
	      AncestorBlock	      "lib_cosimulation/SaberCosim"
	      SourceBlock	      "lib_cosimulation/Saber Text File Exchan"
"ge"
	      SourceType	      "Unknown"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [200, 40, 220, 60]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "In1"
	      SrcPort		      1
	      Points		      [20, 0; 0, 10]
	      DstBlock		      "Saber Text File Exchange"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Saber Text File Exchange"
	      SrcPort		      1
	      Points		      [20, 0; 0, -10]
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Series cosim\noutput gotos"
	  Ports			  [1, 4]
	  Position		  [550, 207, 580, 293]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "Series cosim\noutput gotos"
	    Location		    [367, 206, 929, 896]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "In1"
	      Position		      [20, 348, 50, 362]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "<sdo>1"
	      Position		      [410, 229, 490, 251]
	      GotoTag		      "gc_spd_in_a"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 8]
	      Position		      [110, 65, 130, 645]
	      Outputs		      "[4 4 4 2 2 30 12 4]"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From"
	      Position		      [300, 86, 390, 104]
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gc_trq_in_r"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      Position		      [300, 151, 390, 169]
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gc_shaft_spd_a"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Saber_ess2_outputs"
	      Ports		      [1]
	      Position		      [220, 234, 290, 266]
	      AttributesFormatString  "%<BlockChoice>"
	      ShowPortLabels	      on
	      BlockChoice	      "Saber_pb2"
	      TemplateBlock	      "lib_outputs/Saber_ess2_outputs"
	      MemberBlocks	      "Saber_pb2,Saber_rint2"
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"Saber_ess2_outputs"
		Location		[148, 182, 646, 482]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [20, 40, 40, 60]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Reference
		  Name			  "Saber_pb2"
		  Ports			  [1]
		  Position		  [100, 40, 140, 80]
		  SourceBlock		  "lib_outputs/Saber_pb2"
		  SourceType		  "SubSystem"
		  ShowPortLabels	  "on"
		  TreatAsAtomicUnit	  "off"
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  Points		  [20, 0; 0, 10]
		  DstBlock		  "Saber_pb2"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Saber_ess_outputs"
	      Ports		      [1]
	      Position		      [220, 164, 290, 196]
	      AttributesFormatString  "%<BlockChoice>"
	      ShowPortLabels	      on
	      BlockChoice	      "Saber_rint"
	      TemplateBlock	      "lib_outputs/Saber_ess_outputs"
	      MemberBlocks	      "Saber_pb,Saber_rint"
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"Saber_ess_outputs"
		Location		[148, 182, 646, 482]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [20, 40, 40, 60]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Reference
		  Name			  "Saber_rint"
		  Ports			  [1]
		  Position		  [100, 40, 140, 80]
		  SourceBlock		  "lib_outputs/Saber_rint"
		  SourceType		  "SubSystem"
		  ShowPortLabels	  "on"
		  TreatAsAtomicUnit	  "off"
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  Points		  [20, 0; 0, 10]
		  DstBlock		  "Saber_rint"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [245, 100, 265, 120]
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "gc spd => fc spd\n1/pulley ratio"
	      Position		      [410, 145, 440, 175]
	      Gain		      "1/tc_gc_to_fc_ratio_fun(0)"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "gc trq => fc trq\npulley ratio"
	      Position		      [410, 80, 440, 110]
	      Gain		      "tc_gc_to_fc_ratio_fun(0)"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "saber acc 14v\noutput gotos"
	      Ports		      [1]
	      Position		      [225, 446, 295, 474]
	      SourceBlock	      "lib_outputs/saber acc 14v\noutput gotos"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      "on"
	      TreatAsAtomicUnit	      "off"
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "saber acc HiV\noutput gotos"
	      Ports		      [1]
	      Position		      [225, 516, 295, 544]
	      SourceBlock	      "lib_outputs/saber acc HiV\noutput gotos"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      "on"
	      TreatAsAtomicUnit	      "off"
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "saber acc additional\noutputs"
	      Ports		      [1]
	      Position		      [220, 376, 290, 404]
	      SourceBlock	      "lib_outputs/saber acc additional\noutpu"
"ts"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      "on"
	      TreatAsAtomicUnit	      "off"
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "saber dcdc output\ngotos"
	      Ports		      [1]
	      Position		      [220, 306, 290, 334]
	      SourceBlock	      "lib_outputs/saber dcdc output\ngotos"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      "on"
	      TreatAsAtomicUnit	      "off"
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "saber gc output\ngotos1"
	      Ports		      [1, 1]
	      Position		      [160, 96, 230, 124]
	      SourceBlock	      "lib_outputs/saber gc output\ngotos"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      "on"
	      TreatAsAtomicUnit	      "off"
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "saber mc output\ngotos"
	      Ports		      [1, 2]
	      Position		      [225, 583, 295, 612]
	      LinkData {
		BlockName		"sign convention"
		DialogParameters {
		  Gain			  "1"
		}
	      }
	      SourceBlock	      "lib_outputs/saber mc output\ngotos"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      "on"
	      TreatAsAtomicUnit	      "off"
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "fc_trq_r"
	      Position		      [475, 88, 505, 102]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "fc_spd_r"
	      Position		      [475, 153, 505, 167]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "mc_trq"
	      Position		      [400, 598, 430, 612]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "mc_spd"
	      Position		      [400, 583, 430, 597]
	      NamePlacement	      "alternate"
	      Port		      "4"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      3
	      DstBlock		      "Saber_ess2_outputs"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      DstBlock		      "Saber_ess_outputs"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "saber mc output\ngotos"
	      SrcPort		      1
	      DstBlock		      "mc_spd"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "saber mc output\ngotos"
	      SrcPort		      2
	      DstBlock		      "mc_trq"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "In1"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      DstBlock		      "saber gc output\ngotos1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From"
	      SrcPort		      1
	      DstBlock		      "gc trq => fc trq\npulley ratio"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From1"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		DstBlock		"gc spd => fc spd\n1/pulley ratio"
		DstPort			1
	      }
	      Branch {
		DstBlock		"<sdo>1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "saber gc output\ngotos1"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      4
	      DstBlock		      "saber dcdc output\ngotos"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "gc spd => fc spd\n1/pulley ratio"
	      SrcPort		      1
	      DstBlock		      "fc_spd_r"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "gc trq => fc trq\npulley ratio"
	      SrcPort		      1
	      DstBlock		      "fc_trq_r"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      6
	      DstBlock		      "saber acc 14v\noutput gotos"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      7
	      DstBlock		      "saber acc HiV\noutput gotos"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      8
	      DstBlock		      "saber mc output\ngotos"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      5
	      DstBlock		      "saber acc additional\noutputs"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace1"
	  Position		  [235, 28, 385, 52]
	  ShowName		  off
	  VariableName		  "mc_trq_out_r"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace5"
	  Position		  [270, 63, 420, 87]
	  ShowName		  off
	  VariableName		  "mc_spd_out_r"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  Gain
	  Name			  "fc spd => gc spd\npulley ratio"
	  Position		  [175, 235, 205, 265]
	  Gain			  "tc_gc_to_fc_ratio_fun(0)"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Gain
	  Name			  "fc trq =>gc trq\n1/pulley ratio"
	  Position		  [175, 295, 205, 325]
	  Gain			  "1/tc_gc_to_fc_ratio_fun(0)"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	  Port {
	    PortNumber		    1
	    Name		    "max trq available to gc"
	    TestPoint		    off
	    LinearAnalysisOutput    off
	    LinearAnalysisInput	    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "fc trq and spd\nreq'd for gen"
	  Position		  [720, 223, 750, 237]
	  NamePlacement		  "alternate"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "drive torque and\nspeed avail. at rotor\n(N"
"m), (rad/s)"
	  Position		  [720, 263, 750, 277]
	  FontName		  "Arial"
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "torque and speed req'd\nat input side of ge"
"arbox\n(Nm),(rad/s)"
	  SrcPort		  1
	  DstBlock		  "Demux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Mux3"
	  SrcPort		  1
	  DstBlock		  "Series Cosim"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Series Cosim"
	  SrcPort		  1
	  DstBlock		  "Series cosim\noutput gotos"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Mux1"
	  SrcPort		  1
	  DstBlock		  "drive torque and\nspeed avail. at rotor\n(N"
"m), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Series cosim\noutput gotos"
	  SrcPort		  1
	  DstBlock		  "Mux2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  2
	  Points		  [0, 0; 45, 0]
	  Branch {
	    DstBlock		    "Motor RPM Req"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, -115]
	    DstBlock		    "To Workspace5"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Motor RPM Req"
	  SrcPort		  1
	  DstBlock		  "Mux3"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  1
	  Points		  [0, 0; 10, 0]
	  Branch {
	    DstBlock		    "Motor Trq Req"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, -90]
	    DstBlock		    "To Workspace1"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Motor Trq Req"
	  SrcPort		  1
	  DstBlock		  "Mux3"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Series cosim\noutput gotos"
	  SrcPort		  4
	  DstBlock		  "Mux1"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Series cosim\noutput gotos"
	  SrcPort		  3
	  DstBlock		  "Mux1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Series cosim\noutput gotos"
	  SrcPort		  2
	  DstBlock		  "Mux2"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Mux2"
	  SrcPort		  1
	  DstBlock		  "fc trq and spd\nreq'd for gen"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Generator RPM Ach"
	  SrcPort		  1
	  DstBlock		  "Mux3"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "fc spd => gc spd\npulley ratio"
	  SrcPort		  1
	  Points		  [0, 0; 25, 0]
	  Branch {
	    DstBlock		    "Generator RPM Ach"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, 175]
	    DstBlock		    "<sdo>1"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Model Data In"
	  SrcPort		  1
	  DstBlock		  "Mux3"
	  DstPort		  5
	}
	Line {
	  SrcBlock		  "Demux1"
	  SrcPort		  1
	  DstBlock		  "fc spd => gc spd\npulley ratio"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux1"
	  SrcPort		  2
	  DstBlock		  "fc trq =>gc trq\n1/pulley ratio"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "speed and torque \navail from fc \n(Nm) (ra"
"d/s)"
	  SrcPort		  1
	  DstBlock		  "Demux1"
	  DstPort		  1
	}
	Line {
	  Name			  "max trq available to gc"
	  Labels		  [-1, 0]
	  SrcBlock		  "fc trq =>gc trq\n1/pulley ratio"
	  SrcPort		  1
	  DstBlock		  "Mux3"
	  DstPort		  4
	}
      }
    }
    Block {
      BlockType		      Goto
      Name		      "Goto<sdo>"
      Position		      [70, 68, 140, 82]
      GotoTag		      "time"
      TagVisibility	      "global"
    }
    Block {
      BlockType		      ToWorkspace
      Name		      "HC, CO,\nNOx, PM (g/s)"
      Position		      [895, 147, 945, 163]
      FontName		      "Arial"
      VariableName	      "emis"
      MaxDataPoints	      "inf"
      Decimation	      "1"
      SampleTime	      "0"
      SaveFormat	      "Array"
    }
    Block {
      BlockType		      SubSystem
      Name		      "Interactive Graphics"
      Ports		      []
      Position		      [402, 45, 467, 99]
      AttributesFormatString  "%<BlockChoice>"
      LinkData {
	BlockName		"off/Live Inputs/veh/roll res interactive"
	DialogParameters {
	  BlockChoice		  "roll res force req (N)"
	}
      }
      ShowPortLabels	      on
      BlockChoice	      "off"
      TemplateBlock	      "lib_interactive/Interactive Graphics"
      MemberBlocks	      "off,on"
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      System {
	Name			"Interactive Graphics"
	Location		[148, 182, 646, 482]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Reference
	  Name			  "off"
	  Tag			  "Altia_off"
	  Ports			  []
	  Position		  [100, 40, 140, 80]
	  Orientation		  "up"
	  SourceBlock		  "lib_interactive/off"
	  SourceType		  ""
	}
      }
    }
    Block {
      BlockType		      Logic
      Name		      "Logical\nOperator1"
      Ports		      [2, 1]
      Position		      [855, 109, 880, 136]
      Orientation	      "left"
      ShowName		      off
      Operator		      "AND"
      Inputs		      "2"
    }
    Block {
      BlockType		      SubSystem
      Name		      "Mechanical Accessory\nLoads <acc>"
      Ports		      [1, 1]
      Position		      [615, 60, 665, 140]
      ShowPortLabels	      on
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskDisplay	      "image(imread('bdi_acc_pic.bmp'))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      System {
	Name			"Mechanical Accessory\nLoads <acc>"
	Location		[407, 236, 873, 482]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "trq\nand\nspd"
	  Position		  [70, 108, 100, 122]
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux2"
	  Ports			  [1, 2]
	  Position		  [165, 86, 170, 144]
	  BackgroundColor	  "black"
	  ShowName		  off
	  Outputs		  "2"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  From
	  Name			  "From <cs>"
	  Position		  [45, 49, 160, 71]
	  BackgroundColor	  "magenta"
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "acc_total_mech_trq"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux2"
	  Ports			  [2, 1]
	  Position		  [265, 70, 270, 150]
	  ShowName		  off
	  Inputs		  "2"
	  DisplayOption		  "bar"
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum"
	  Ports			  [2, 1]
	  Position		  [200, 62, 220, 113]
	  ShowName		  off
	  IconShape		  "rectangular"
	  Inputs		  "++"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Outport
	  Name			  "trq and spd1"
	  Position		  [360, 103, 390, 117]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "Mux2"
	  SrcPort		  1
	  DstBlock		  "trq and spd1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "trq\nand\nspd"
	  SrcPort		  1
	  DstBlock		  "Demux2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Sum"
	  SrcPort		  1
	  DstBlock		  "Mux2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From <cs>"
	  SrcPort		  1
	  Points		  [10, 0; 0, 15]
	  DstBlock		  "Sum"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux2"
	  SrcPort		  1
	  DstBlock		  "Sum"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Demux2"
	  SrcPort		  2
	  DstBlock		  "Mux2"
	  DstPort		  2
	}
      }
    }
    Block {
      BlockType		      Reference
      Name		      "NOTES"
      Ports		      []
      Position		      [15, 262, 65, 296]
      BackgroundColor	      "green"
      ShowName		      off
      SourceBlock	      "lib_help/NOTES"
      SourceType	      ""
    }
    Block {
      BlockType		      Terminator
      Name		      "Terminator"
      Position		      [775, 105, 795, 125]
      ShowName		      off
    }
    Block {
      BlockType		      Constant
      Name		      "do ex calcs?"
      Position		      [905, 89, 950, 101]
      Orientation	      "left"
      ShowName		      off
      Value		      "ex_calc"
      VectorParams1D	      on
    }
    Block {
      BlockType		      Constant
      Name		      "do ex calcs?1"
      Position		      [905, 124, 950, 136]
      Orientation	      "left"
      ShowName		      off
      Value		      "fc_emis"
      VectorParams1D	      on
    }
    Block {
      BlockType		      Reference
      Name		      "drive cycle\n<cyc>"
      Ports		      [0, 1]
      Position		      [15, 116, 50, 184]
      BackgroundColor	      "yellow"
      SourceBlock	      "lib_drive_cycle/drive cycle\n<cyc>"
      SourceType	      ""
    }
    Block {
      BlockType		      Reference
      Name		      "exhaust sys\n<ex>"
      Ports		      [1, 2, 1]
      Position		      [820, 143, 870, 187]
      BackgroundColor	      "yellow"
      SourceBlock	      "lib_exhaust/exhaust sys\n<ex>"
      SourceType	      ""
    }
    Block {
      BlockType		      Reference
      Name		      "final drive <fd>"
      Ports		      [2, 2]
      Position		      [305, 168, 350, 217]
      BackgroundColor	      "yellow"
      SourceBlock	      "lib_transmission/final drive <fd>"
      SourceType	      ""
    }
    Block {
      BlockType		      Reference
      Name		      "fuel\nconverter\n <fc> for series"
      Ports		      [1, 3]
      Position		      [700, 78, 755, 122]
      BackgroundColor	      "yellow"
      LinkData {
	BlockName		"fuel use and EO emis Configurable Subsystem"
	DialogParameters {
	  BlockChoice		  "fuel use and EO emis"
	}
      }
      SourceBlock	      "lib_fuel_converter/fuel\nconverter\n <fc> for s"
"eries"
      SourceType	      ""
    }
    Block {
      BlockType		      Reference
      Name		      "gearbox <gb>"
      Ports		      [2, 2]
      Position		      [375, 168, 440, 212]
      BackgroundColor	      "yellow"
      SourceBlock	      "lib_transmission/gearbox <gb>"
      SourceType	      ""
    }
    Block {
      BlockType		      Reference
      Name		      "help"
      Ports		      []
      Position		      [310, 75, 357, 137]
      BackgroundColor	      "yellow"
      DropShadow	      on
      ShowName		      off
      SourceBlock	      "lib_help/help"
      SourceType	      ""
    }
    Block {
      BlockType		      SubSystem
      Name		      "series hybrid\ncontrol stategy\n <cs>"
      Ports		      [1, 1]
      Position		      [470, 184, 510, 226]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskDisplay	      "image(imread('bdi_cs.jpg'))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      System {
	Name			"series hybrid\ncontrol stategy\n <cs>"
	Location		[79, 500, 1217, 820]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "gb trq & spd r"
	  Position		  [30, 238, 60, 252]
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Constant
	  Name			  "Constant"
	  Position		  [790, 202, 810, 218]
	  ShowName		  off
	  Value			  "0"
	  VectorParams1D	  on
	}
	Block {
	  BlockType		  Constant
	  Name			  "Constant1"
	  Position		  [320, 145, 465, 165]
	  ShowName		  off
	  Value			  "cs_fc_spd_setpt_fun(0)"
	  VectorParams1D	  on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "FC on mod"
	  Ports			  [2, 1]
	  Position		  [225, 82, 255, 118]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "FC on mod"
	    Location		    [51, 275, 950, 846]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "SOC"
	      Position		      [40, 338, 70, 352]
	      Port		      "1"
	      LatchInput	      off
	      PortDimensions	      "1"
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "bus voltage"
	      Position		      [40, 408, 70, 422]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Charge to hi soc: 1\nDischarge to lo so"
"c: 0"
	      Ports		      [1, 1, 0, 1]
	      Position		      [420, 68, 475, 102]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      on
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"Charge to hi soc: 1\nDischarge to lo "
"soc: 0"
		Location		[116, 570, 614, 870]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [35, 143, 65, 157]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  TriggerPort
		  Name			  "Trigger"
		  Ports			  []
		  Position		  [225, 20, 245, 40]
		  TriggerType		  "rising"
		  ShowOutputPort	  off
		  OutputDataType	  "auto"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [395, 143, 425, 157]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [560, 341, 610, 359]
	      ShowName		      off
	      Value		      "cs_hi_soc"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      Position		      [230, 197, 285, 213]
	      ShowName		      off
	      Value		      "cs_lo_soc"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant7"
	      Position		      [635, 300, 675, 320]
	      ShowName		      off
	      Value		      "fc_on"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>"
	      Position		      [625, 267, 680, 283]
	      NamePlacement	      "alternate"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "key_on"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>1"
	      Position		      [505, 327, 560, 343]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "SOC"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>2"
	      Position		      [505, 402, 560, 418]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "voltage"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>3"
	      Position		      [170, 272, 225, 288]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "voltage"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>4"
	      Position		      [170, 182, 225, 198]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "SOC"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>7"
	      Position		      [170, 32, 225, 48]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "SOC"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      Position		      [110, 330, 150, 360]
	      GotoTag		      "SOC"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [105, 400, 160, 430]
	      GotoTag		      "voltage"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      Position		      [200, 362, 335, 378]
	      Orientation	      "left"
	      GotoTag		      "ess_soc_hi_limited"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto3"
	      Position		      [65, 162, 200, 178]
	      Orientation	      "left"
	      GotoTag		      "ess_soc_low_limited"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto4"
	      Position		      [65, 242, 200, 258]
	      Orientation	      "left"
	      GotoTag		      "ess_minV_limited"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto5"
	      Position		      [200, 427, 335, 443]
	      Orientation	      "left"
	      GotoTag		      "ess_maxV_limited"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      HitCross
	      Name		      "Hit \nhi soc"
	      Ports		      [1, 1]
	      Position		      [280, 24, 310, 56]
	      HitCrossingOffset	      "cs_hi_soc"
	      HitCrossingDirection    "rising"
	      ShowOutputPort	      on
	    }
	    Block {
	      BlockType		      HitCross
	      Name		      "Hit \nlow soc"
	      Ports		      [1, 1]
	      Position		      [280, 89, 310, 121]
	      HitCrossingOffset	      "cs_lo_soc"
	      HitCrossingDirection    "falling"
	      ShowOutputPort	      on
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace54"
	      Position		      [605, 133, 680, 157]
	      VariableName	      "cs_charging"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "bus voltage\nbelow max\n"
	      Position		      [640, 402, 670, 433]
	      Operator		      "<"
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "bus voltage low,\nfc must be on"
	      Position		      [320, 272, 350, 303]
	      Operator		      "<="
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "desire fc on"
	      Ports		      [2, 1]
	      Position		      [445, 157, 475, 328]
	      Operator		      "OR"
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "fc on\nrequirements"
	      Ports		      [5, 1]
	      Position		      [725, 225, 755, 395]
	      Operator		      "AND"
	      Inputs		      "5"
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "hit SOC boundry"
	      Ports		      [2, 1]
	      Position		      [360, 31, 390, 64]
	      Operator		      "OR"
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "if on, stay on"
	      Ports		      [2, 1]
	      Position		      [565, 221, 595, 254]
	      ShowName		      off
	      Operator		      "OR"
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "if on, stay on1"
	      Ports		      [1, 1]
	      Position		      [360, 363, 390, 377]
	      Orientation	      "left"
	      ShowName		      off
	      Operator		      "NOT"
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "if on, stay on2"
	      Ports		      [1, 1]
	      Position		      [360, 428, 390, 442]
	      Orientation	      "left"
	      ShowName		      off
	      Operator		      "NOT"
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "max ess voltage"
	      Position		      [560, 416, 610, 434]
	      Value		      "ess_max_volts_fun(0)"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "min ess voltage"
	      Position		      [230, 286, 280, 304]
	      Value		      "ess_min_volts_fun(0)"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "soc below\nupper limit"
	      Position		      [640, 328, 670, 357]
	      Operator		      "<="
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "soc too low"
	      Position		      [320, 182, 350, 213]
	      Operator		      "<="
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "FC on"
	      Position		      [825, 303, 855, 317]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "Constant7"
	      SrcPort		      1
	      DstBlock		      "fc on\nrequirements"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "soc below\nupper limit"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "min ess voltage"
	      SrcPort		      1
	      DstBlock		      "bus voltage low,\nfc must be on"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      DstBlock		      "soc too low"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "max ess voltage"
	      SrcPort		      1
	      DstBlock		      "bus voltage\nbelow max\n"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "SOC"
	      SrcPort		      1
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "bus voltage"
	      SrcPort		      1
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <vc>1"
	      SrcPort		      1
	      DstBlock		      "soc below\nupper limit"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <vc>2"
	      SrcPort		      1
	      DstBlock		      "bus voltage\nbelow max\n"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <vc>3"
	      SrcPort		      1
	      DstBlock		      "bus voltage low,\nfc must be on"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <vc>4"
	      SrcPort		      1
	      DstBlock		      "soc too low"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fc on\nrequirements"
	      SrcPort		      1
	      DstBlock		      "FC on"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <vc>"
	      SrcPort		      1
	      DstBlock		      "fc on\nrequirements"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "desire fc on"
	      SrcPort		      1
	      DstBlock		      "if on, stay on"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "soc below\nupper limit"
	      SrcPort		      1
	      Points		      [0, 0; 5, 0]
	      Branch {
		Points			[0, 25]
		DstBlock		"if on, stay on1"
		DstPort			1
	      }
	      Branch {
		DstBlock		"fc on\nrequirements"
		DstPort			4
	      }
	    }
	    Line {
	      SrcBlock		      "bus voltage\nbelow max\n"
	      SrcPort		      1
	      Points		      [15, 0]
	      Branch {
		Points			[0, 15]
		DstBlock		"if on, stay on2"
		DstPort			1
	      }
	      Branch {
		Points			[0, -40]
		DstBlock		"fc on\nrequirements"
		DstPort			5
	      }
	    }
	    Line {
	      SrcBlock		      "soc too low"
	      SrcPort		      1
	      Points		      [0, 0; 20, 0]
	      Branch {
		DstBlock		"desire fc on"
		DstPort			1
	      }
	      Branch {
		Points			[0, -30]
		DstBlock		"Goto3"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "bus voltage low,\nfc must be on"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		Points			[65, 0]
		DstBlock		"desire fc on"
		DstPort			2
	      }
	      Branch {
		Points			[0, -40]
		DstBlock		"Goto4"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "if on, stay on"
	      SrcPort		      1
	      DstBlock		      "fc on\nrequirements"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Charge to hi soc: 1\nDischarge to lo so"
"c: 0"
	      SrcPort		      1
	      Points		      [70, 0; 0, 60]
	      Branch {
		DstBlock		"if on, stay on"
		DstPort			1
	      }
	      Branch {
		DstBlock		"To Workspace54"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "hit SOC boundry"
	      SrcPort		      1
	      Points		      [50, 0]
	      DstBlock		      "Charge to hi soc: 1\nDischarge to lo so"
"c: 0"
	      DstPort		      trigger
	    }
	    Line {
	      SrcBlock		      "Hit \nhi soc"
	      SrcPort		      1
	      DstBlock		      "hit SOC boundry"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Hit \nlow soc"
	      SrcPort		      1
	      Points		      [15, 0; 0, -20]
	      Branch {
		Points			[0, -30]
		DstBlock		"hit SOC boundry"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Charge to hi soc: 1\nDischarge to lo "
"soc: 0"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "From <vc>7"
	      SrcPort		      1
	      Points		      [-10, 0; 20, 0]
	      Branch {
		DstBlock		"Hit \nhi soc"
		DstPort			1
	      }
	      Branch {
		Points			[0, 65]
		DstBlock		"Hit \nlow soc"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "if on, stay on1"
	      SrcPort		      1
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "if on, stay on2"
	      SrcPort		      1
	      DstBlock		      "Goto5"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  From
	  Name			  "From <ess>"
	  Position		  [15, 80, 75, 100]
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "SOC"
	}
	Block {
	  BlockType		  From
	  Name			  "From <ess>1"
	  Position		  [15, 115, 90, 135]
	  ShowName		  off
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "bus_voltage"
	}
	Block {
	  BlockType		  From
	  Name			  "From <vc>1"
	  Position		  [360, 35, 455, 65]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "fc_spd_out_r"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <fc>2"
	  Position		  [500, 38, 580, 62]
	  GotoTag		  "spd_command"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <fc>3"
	  Position		  [320, 91, 395, 109]
	  GotoTag		  "engine_on"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux"
	  Ports			  [2, 1]
	  Position		  [1045, 191, 1050, 229]
	  ShowName		  off
	  Inputs		  "2"
	  DisplayOption		  "bar"
	}
	Block {
	  BlockType		  Switch
	  Name			  "Switch"
	  Position		  [845, 181, 875, 219]
	  Threshold		  "eps"
	}
	Block {
	  BlockType		  Saturate
	  Name			  "fc spd\nlimited"
	  Position		  [485, 140, 510, 170]
	  UpperLimit		  "max(fc_map_spd)*fc_spd_scale"
	  LowerLimit		  "0"
	  LinearizeAsGain	  on
	}
	Block {
	  BlockType		  Gain
	  Name			  "fc spd => gc spd\npulley ratio"
	  Position		  [550, 90, 580, 120]
	  Gain			  "tc_gc_to_fc_ratio_fun(0)"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "gc max trq r\nw / limits"
	  Ports			  [2, 1]
	  Position		  [910, 230, 1015, 250]
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "gc max trq r\nw / limits"
	    Location		    [75, 275, 1034, 834]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "fc spd"
	      Position		      [55, 353, 85, 367]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "gb trq\n& spd"
	      Position		      [55, 73, 85, 87]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [115, 400, 145, 430]
	      Value		      "0"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      Position		      [710, 51, 730, 69]
	      ShowName		      off
	      Value		      "0"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant2"
	      Position		      [470, 85, 580, 105]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Value		      "cs_fc_off2regen_pwr"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [415, 402, 540, 428]
	      ShowName		      off
	      GotoTag		      "acc_total_mech_trq"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Mechanical Accessory\nLoads <acc>"
	      Ports		      [2, 2]
	      Position		      [205, 420, 255, 500]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "image(imread('bdi_acc_pic.bmp'))"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Mechanical Accessory\nLoads <acc>"
		Location		[493, 217, 1168, 902]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [95, 233, 125, 247]
		  ShowName		  off
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "In2"
		  Position		  [95, 348, 125, 362]
		  ShowName		  off
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [180, 488, 210, 502]
		  ShowName		  off
		  Value			  "eps"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [165, 211, 170, 269]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [165, 326, 170, 384]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		  BusSelectionMode	  off
		}
		Block {
		  BlockType		  From
		  Name			  "From1"
		  Position		  [70, 117, 150, 133]
		  BackgroundColor	  "cyan"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "acc_on"
		}
		Block {
		  BlockType		  From
		  Name			  "From3"
		  Position		  [70, 67, 150, 83]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "signal_one"
		}
		Block {
		  BlockType		  From
		  Name			  "From4"
		  Position		  [70, 92, 150, 108]
		  BackgroundColor	  "green"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "signal_two"
		}
		Block {
		  BlockType		  From
		  Name			  "From5"
		  Position		  [230, 447, 310, 463]
		  BackgroundColor	  "orange"
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "engine_on"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  Position		  [310, 244, 400, 266]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  GotoTag		  "signal_one"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto1"
		  Position		  [310, 359, 400, 381]
		  BackgroundColor	  "green"
		  ShowName		  off
		  GotoTag		  "signal_two"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto2"
		  Position		  [385, 459, 475, 481]
		  BackgroundColor	  "cyan"
		  ShowName		  off
		  GotoTag		  "acc_on"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [2, 1]
		  Position		  [340, 440, 370, 500]
		  ShowName		  off
		  Operator		  "AND"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Mechanical Accessory\nLoads v2 <acc"
">"
		  Ports			  [3, 2]
		  Position		  [200, 61, 250, 139]
		  AncestorBlock		  "lib_accessory/Mechanical Accessory"
"\nLoads v2 <acc>"
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskPromptString	  "Electrical Load Status: 1 on; 0 off"
"|maximum shaft speed for aux. (rad/s)|minimum shaft speed for aux. (rad/s)|In"
"itial Mechanical Torque of the Accessory Loads (Nm)|Initial Mechanical Auxili"
"ary Load Power (W)"
		  MaskStyleString	  "edit,edit,edit,edit,edit"
		  MaskTunableValueString  "on,on,on,on,on"
		  MaskCallbackString	  "||||"
		  MaskEnableString	  "on,on,on,on,on"
		  MaskVisibilityString	  "on,on,on,on,on"
		  MaskToolTipString	  "on,on,on,on,on"
		  MaskVariables		  "load_on=@1;acc_max_spd=@2;acc_min_s"
"pd=@3;ic_mech_trq=@4;ic_mech_pwr=@5;"
		  MaskDisplay		  "image(imread('bdi_acc_pic.bmp'))"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "not(ess_on)*1|inf|(vc_idle_spd*vc_i"
"dle_bool)+eps|0|0"
		  MaskVariableAliases	  ",,,,"
		  System {
		    Name		    "Mechanical Accessory\nLoads v2 <a"
"cc>"
		    Location		    [202, 74, 1055, 819]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "requested shaft\nT and w, out\nto"
" the driveline \n(Nm ; rad/s; rad/s)"
		    Position		    [90, 103, 120, 117]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "achieved shaft and belt\nT and w,"
" in\nfrom the prime mover\n(Nm ; rad/s)"
		    Position		    [85, 213, 115, 227]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "accessory on/off"
		    Position		    [220, 288, 250, 302]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Accessory SDO"
		    Ports		    [1]
		    Position		    [720, 300, 820, 350]
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "Accessory SDO"
		    Location		    [202, 74, 955, 744]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "data bus"
		    Position		    [30, 158, 60, 172]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    Ports		    [1, 6]
		    Position		    [125, 20, 130, 310]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "6"
		    BusSelectionMode	    off
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace"
		    Position		    [185, 27, 320, 53]
		    ShowName		    off
		    VariableName	    "acc_mech_trq_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace1"
		    Position		    [345, 177, 480, 203]
		    ShowName		    off
		    VariableName	    "acc_mech_pwr_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace2"
		    Position		    [185, 227, 320, 253]
		    ShowName		    off
		    VariableName	    "acc_mech_trq_est"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace3"
		    Position		    [185, 77, 320, 103]
		    ShowName		    off
		    VariableName	    "acc_mech_pwr_r"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace4"
		    Position		    [185, 127, 320, 153]
		    ShowName		    off
		    VariableName	    "acc_mech_trq_a"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "To Workspace5"
		    Position		    [185, 277, 320, 303]
		    ShowName		    off
		    VariableName	    "acc_mech_pwr_est"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Array"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "mechanical power logging"
		    Ports		    [1]
		    Position		    [235, 178, 275, 202]
		    BackgroundColor	    "darkGreen"
		    SourceBlock		    "lib_accessory/SubLibraries/mechan"
"ical power logging"
		    SourceType		    "Unknown"
		    eff			    "acc_mech_eff"
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    6
		    DstBlock		    "To Workspace5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    5
		    DstBlock		    "To Workspace2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    3
		    DstBlock		    "To Workspace4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    DstBlock		    "To Workspace3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    DstBlock		    "To Workspace"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    4
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 30; 180, 0]
		    DstBlock		    "To Workspace1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "mechanical power logging"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "data bus"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [545, 30, 601, 70]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [296, 288, 775, 504]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [252, 253]
		    Text		    "In this model, only one speed is "
"used to predict accessory\nloading. The forward model is \"dummied\" out."
		    }
		    Annotation {
		    Position		    [248, 187]
		    Text		    "A third input is given for access"
"ory load speed. This is done so that\nthe accessory block can use fc_spd_est "
"which is an estimated vehicle speed\n(equal to fc_spd_out under normal circum"
"stances).\nUsing fc_spd_est provides total compatibility with ADVISOR v3.2"
		    }
		    Annotation {
		    Position		    [247, 98]
		    Text		    "In terms of an interface, the mod"
"el assumes belt-driven mechanical loads\nthat run off of a prime mover shaft "
"(e.g., engine shaft)\n\nThis model takes in requested driveline torque and sp"
"eed requests and\naugments torque due to belt driven accessories.\n\nThe torq"
"ue passed along down to the driveline is only torque to move the\nvehicle."
		    }
		    Annotation {
		    Position		    [248, 24]
		    Text		    "This is the mechanical auxiliary "
"loads model."
		    }
		    }
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    Ports		    [1, 3]
		    Position		    [165, 91, 170, 129]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "3"
		    BusSelectionMode	    off
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux1"
		    Ports		    [1, 3]
		    Position		    [160, 201, 165, 239]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "3"
		    BusSelectionMode	    off
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [340, 66, 465, 94]
		    BackgroundColor	    "green"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "eng_shaft_trq_in_r"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From1"
		    Position		    [340, 121, 465, 149]
		    BackgroundColor	    "green"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "eng_shaft_spd_in_r"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From10"
		    Position		    [655, 96, 780, 124]
		    BackgroundColor	    "green"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_pwr_r"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From11"
		    Position		    [655, 176, 780, 204]
		    BackgroundColor	    "orange"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_pwr_a"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From12"
		    Position		    [655, 136, 780, 164]
		    BackgroundColor	    "orange"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_trq_a"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From13"
		    Position		    [655, 216, 785, 244]
		    BackgroundColor	    "gray"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_trq_est"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From14"
		    Position		    [45, 411, 170, 439]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_spd_r"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From15"
		    Position		    [45, 544, 170, 566]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_spd_a"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From16"
		    Position		    [45, 579, 170, 601]
		    BackgroundColor	    "green"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_trq_r"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From17"
		    Position		    [655, 256, 785, 284]
		    BackgroundColor	    "gray"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_pwr_est"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From18"
		    Position		    [45, 441, 170, 469]
		    BackgroundColor	    "cyan"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    FontName		    "Times New Roman"
		    FontSize		    12
		    FontWeight		    "bold"
		    GotoTag		    "acc_on_bool"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From19"
		    Position		    [45, 681, 170, 709]
		    BackgroundColor	    "cyan"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    FontName		    "Times New Roman"
		    FontSize		    12
		    GotoTag		    "acc_mech_pwr_a"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From2"
		    Position		    [340, 176, 465, 204]
		    BackgroundColor	    "orange"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "driveline_trq_out_a"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From3"
		    Position		    [340, 231, 470, 259]
		    BackgroundColor	    "orange"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "driveline_spd_out_a"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From4"
		    Position		    [45, 381, 170, 409]
		    BackgroundColor	    "magenta"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "driveline_trq_out_r"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From5"
		    Position		    [45, 351, 170, 379]
		    BackgroundColor	    "magenta"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "driveline_spd_out_r"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From6"
		    Position		    [45, 508, 170, 532]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "eng_shaft_trq_in_a"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From7"
		    Position		    [45, 476, 175, 504]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "eng_shaft_spd_in_a"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From8"
		    Position		    [45, 631, 170, 659]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_trq_a"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From9"
		    Position		    [655, 56, 780, 84]
		    BackgroundColor	    "green"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_mech_trq_r"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto"
		    Position		    [205, 67, 330, 93]
		    BackgroundColor	    "magenta"
		    ShowName		    off
		    GotoTag		    "driveline_trq_out_r"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto1"
		    Position		    [205, 96, 330, 124]
		    BackgroundColor	    "magenta"
		    ShowName		    off
		    GotoTag		    "driveline_spd_out_r"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto10"
		    Position		    [505, 541, 635, 569]
		    BackgroundColor	    "orange"
		    ShowName		    off
		    GotoTag		    "acc_mech_trq_a"
		    TagVisibility	    "global"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto11"
		    Position		    [505, 576, 635, 604]
		    BackgroundColor	    "orange"
		    ShowName		    off
		    GotoTag		    "acc_mech_pwr_a"
		    TagVisibility	    "global"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto12"
		    Position		    [510, 631, 635, 659]
		    BackgroundColor	    "gray"
		    ShowName		    off
		    GotoTag		    "acc_mech_trq_est"
		    TagVisibility	    "global"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto13"
		    Position		    [210, 126, 330, 154]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    GotoTag		    "acc_mech_spd_r"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto14"
		    Position		    [270, 281, 390, 309]
		    BackgroundColor	    "cyan"
		    ShowName		    off
		    FontName		    "Times New Roman"
		    FontSize		    12
		    FontWeight		    "bold"
		    GotoTag		    "acc_on_bool"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto15"
		    Position		    [210, 236, 330, 264]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    GotoTag		    "acc_mech_spd_a"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto16"
		    Position		    [510, 681, 635, 709]
		    BackgroundColor	    "gray"
		    ShowName		    off
		    GotoTag		    "acc_mech_pwr_est"
		    TagVisibility	    "global"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto2"
		    Position		    [210, 176, 330, 204]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "eng_shaft_trq_in_a"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto3"
		    Position		    [210, 206, 330, 234]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "eng_shaft_spd_in_a"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto4"
		    Position		    [510, 382, 635, 408]
		    BackgroundColor	    "green"
		    ShowName		    off
		    GotoTag		    "eng_shaft_trq_in_r"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto5"
		    Position		    [510, 351, 635, 379]
		    BackgroundColor	    "green"
		    ShowName		    off
		    GotoTag		    "eng_shaft_spd_in_r"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto6"
		    Position		    [505, 506, 635, 534]
		    BackgroundColor	    "orange"
		    ShowName		    off
		    GotoTag		    "driveline_trq_out_a"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto7"
		    Position		    [505, 477, 635, 503]
		    BackgroundColor	    "orange"
		    ShowName		    off
		    GotoTag		    "driveline_spd_out_a"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto8"
		    Position		    [510, 412, 635, 438]
		    BackgroundColor	    "green"
		    ShowName		    off
		    GotoTag		    "acc_mech_trq_r"
		    TagVisibility	    "global"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto9"
		    Position		    [510, 441, 635, 469]
		    BackgroundColor	    "green"
		    ShowName		    off
		    GotoTag		    "acc_mech_pwr_r"
		    TagVisibility	    "global"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [495, 96, 500, 134]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [495, 206, 500, 244]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [6, 1]
		    Position		    [805, 55, 815, 285]
		    ShowName		    off
		    Inputs		    "6"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [190, 416, 220, 434]
		    ShowName		    off
		    FontName		    "Arial"
		    UpperLimit		    "acc_max_spd"
		    LowerLimit		    "acc_min_spd"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [190, 546, 220, 564]
		    ShowName		    off
		    FontName		    "Arial"
		    UpperLimit		    "acc_max_spd"
		    LowerLimit		    "acc_min_spd"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "backward model"
		    Ports		    [3, 3]
		    Position		    [240, 379, 440, 471]
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "backward model"
		    Location		    [213, 74, 955, 752]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "trq_in"
		    Position		    [55, 78, 85, 92]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "spd_in"
		    Position		    [60, 213, 90, 227]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "acc on/off"
		    Position		    [60, 308, 90, 322]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From"
		    Position		    [285, 135, 340, 155]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_on"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From1"
		    Position		    [305, 235, 360, 255]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_on"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto"
		    Position		    [175, 304, 225, 326]
		    BackgroundColor	    "lightBlue"
		    ShowName		    off
		    GotoTag		    "acc_on"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [380, 132, 395, 183]
		    ShowName		    off
		    Inputs		    "**"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [380, 207, 395, 258]
		    ShowName		    off
		    Inputs		    "**"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [490, 75, 510, 95]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    ToWorkspace
		    Name		    "acc_mech_var_loads"
		    Position		    [380, 341, 495, 369]
		    ShowName		    off
		    VariableName	    "acc_mech_var_load"
		    MaxDataPoints	    "inf"
		    Decimation		    "1"
		    SampleTime		    "-1"
		    SaveFormat		    "Structure"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "mechanical accessories (Nm)"
		    Ports		    [1, 3]
		    Position		    [170, 171, 245, 269]
		    ForegroundColor	    "blue"
		    AttributesFormatString  "%<BlockChoice>"
		    ShowPortLabels	    off
		    BlockChoice		    "Mechanical Accessories: Speed Dep"
"endant and Variable Electrical"
		    TemplateBlock	    "lib_accessory/mechanical accessor"
"ies (Nm)"
		    MemberBlocks	    "Mechanical Accessories: Const Mec"
"h Var Elect,Mechanical Accessories: Constant Mechanical & Electrical,Mechanic"
"al Accessories: Speed Dependant and Variable Electrical,Saber Dual Voltage Co"
"sim,Saber Single Voltage Cosim,SindaTransAC"
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "image(imread('bdi_acc_pic_cs.bmp'"
"))"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "mechanical accessories (Nm)"
		    Location		    [148, 182, 646, 482]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    Position		    [20, 40, 40, 60]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Mechanical Accessories:\nSpeed De"
"pendant and Variable Electrical"
		    Ports		    [1, 3]
		    Position		    [100, 40, 140, 80]
		    ForegroundColor	    "blue"
		    SourceBlock		    "lib_accessory/Mechanical Accessor"
"ies:\nSpeed Dependant and Variable Electrical"
		    SourceType		    "Unknown"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_acc"
		    Position		    [200, 40, 220, 60]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "P_mech_acc"
		    Position		    [200, 80, 220, 100]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "probes"
		    Position		    [200, 120, 220, 140]
		    Port		    "3"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    Points		    [20, 0; 0, 10]
		    DstBlock		    "Mechanical Accessories:\nSpeed De"
"pendant and Variable Electrical"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mechanical Accessories:\nSpeed De"
"pendant and Variable Electrical"
		    SrcPort		    1
		    Points		    [20, 0; 0, 5]
		    DstBlock		    "T_acc"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mechanical Accessories:\nSpeed De"
"pendant and Variable Electrical"
		    SrcPort		    2
		    Points		    [20, 0; 0, 30]
		    DstBlock		    "P_mech_acc"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mechanical Accessories:\nSpeed De"
"pendant and Variable Electrical"
		    SrcPort		    3
		    Points		    [10, 0; 0, 55]
		    DstBlock		    "probes"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "trq_out"
		    Position		    [545, 78, 575, 92]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "acc_mech_trq_r"
		    Position		    [545, 153, 575, 167]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "acc_mech_pwr_r"
		    Position		    [545, 228, 575, 242]
		    Port		    "3"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "mechanical accessories (Nm)"
		    SrcPort		    3
		    Points		    [45, 0; 0, 20; 25, 0; 0, 85]
		    DstBlock		    "acc_mech_var_loads"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From1"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "acc on/off"
		    SrcPort		    1
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "mechanical accessories (Nm)"
		    SrcPort		    2
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [0, 0]
		    DstBlock		    "acc_mech_pwr_r"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "mechanical accessories (Nm)"
		    SrcPort		    1
		    Points		    [0, -20]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [0, 0; 100, 0]
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "acc_mech_trq_r"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "trq_out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "trq_in"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "spd_in"
		    SrcPort		    1
		    DstBlock		    "mechanical accessories (Nm)"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [362, 415]
		    }
		    Annotation {
		    Position		    [476, 221]
		    Text		    "Power, W, input to accessory"
		    }
		    Annotation {
		    Position		    [546, 65]
		    Text		    "T, Nm, shaft out"
		    }
		    Annotation {
		    Position		    [249, 73]
		    Text		    "T, Nm, driveline"
		    }
		    Annotation {
		    Position		    [447, 147]
		    Text		    "T, Nm, accessory"
		    }
		    Annotation {
		    Position		    [96, 179]
		    Text		    "w_apu, rad/s"
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "forward model"
		    Ports		    [3, 3]
		    Position		    [245, 505, 445, 605]
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    System {
		    Name		    "forward model"
		    Location		    [452, 291, 1205, 961]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "trq_in"
		    Position		    [45, 78, 75, 92]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "spd_in"
		    Position		    [45, 113, 75, 127]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "acc_trq_req"
		    Position		    [45, 148, 75, 162]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    From
		    Name		    "From1"
		    Position		    [325, 45, 380, 65]
		    BackgroundColor	    "green"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "pm_trq_a"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From2"
		    Position		    [280, 175, 335, 195]
		    BackgroundColor	    "green"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_spd"
		    }
		    Block {
		    BlockType		    From
		    Name		    "From3"
		    Position		    [260, 100, 315, 120]
		    BackgroundColor	    "green"
		    ShowName		    off
		    CloseFcn		    "tagdialog Close"
		    GotoTag		    "acc_trq_r"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto1"
		    Position		    [105, 110, 165, 130]
		    BackgroundColor	    "green"
		    ShowName		    off
		    GotoTag		    "acc_spd"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto2"
		    Position		    [105, 75, 165, 95]
		    BackgroundColor	    "green"
		    ShowName		    off
		    GotoTag		    "pm_trq_a"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Goto
		    Name		    "Goto3"
		    Position		    [105, 145, 165, 165]
		    BackgroundColor	    "green"
		    ShowName		    off
		    GotoTag		    "acc_trq_r"
		    TagVisibility	    "local"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [365, 146, 380, 199]
		    ShowName		    off
		    Inputs		    "**"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [415, 45, 435, 65]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "trq_out"
		    Position		    [495, 48, 525, 62]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "acc_mech_trq_a"
		    Position		    [495, 103, 525, 117]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "acc_mech_pwr_a"
		    Position		    [495, 168, 525, 182]
		    Port		    "3"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "From1"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "acc_trq_req"
		    SrcPort		    1
		    DstBlock		    "Goto3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "trq_in"
		    SrcPort		    1
		    DstBlock		    "Goto2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From2"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From3"
		    SrcPort		    1
		    Points		    [0, 0; 10, 0]
		    Branch {
		    Points		    [0, 50]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [95, 0]
		    Branch {
		    Points		    [0, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "acc_mech_trq_a"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "acc_mech_pwr_a"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "trq_out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "spd_in"
		    SrcPort		    1
		    DstBlock		    "Goto1"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [210, 154]
		    Text		    "acc torque, Nm"
		    }
		    Annotation {
		    Position		    [250, 267]
		    BackgroundColor	    "yellow"
		    Text		    "NOTES"
		    FontName		    "Times New Roman"
		    FontSize		    12
		    FontWeight		    "bold"
		    }
		    Annotation {
		    Position		    [254, 304]
		    Text		    "This simplistic model may not cor"
"rectly account for accessory torque and/or power\nwhen the upstream torque pr"
"ovider is torque or speed limited"
		    }
		    Annotation {
		    Position		    [461, 156]
		    Text		    "Power, W, input to accessory"
		    }
		    Annotation {
		    Position		    [471, 35]
		    Text		    "T, Nm, shaft out"
		    }
		    Annotation {
		    Position		    [209, 83]
		    Text		    "driveline and \nacc torque, Nm"
		    }
		    Annotation {
		    Position		    [377, 102]
		    Text		    "T, Nm, accessory"
		    }
		    Annotation {
		    Position		    [211, 119]
		    Text		    "acc speed, rad/s"
		    }
		    }
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "memory"
		    Position		    [325, 630, 355, 660]
		    ShowName		    off
		    X0			    "ic_mech_trq"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "memory1"
		    Position		    [325, 680, 355, 710]
		    ShowName		    off
		    X0			    "ic_mech_pwr"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "requested shaft and belt\nT and w"
", in from\nthe prime mover\n(Nm ; rad/s)"
		    Position		    [565, 108, 595, 122]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "achieved shaft T and w, out\nto t"
"he driveline\n(Nm ; rad/s)"
		    Position		    [560, 218, 590, 232]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "From19"
		    SrcPort		    1
		    DstBlock		    "memory1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From8"
		    SrcPort		    1
		    DstBlock		    "memory"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "memory1"
		    SrcPort		    1
		    DstBlock		    "Goto16"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "memory"
		    SrcPort		    1
		    DstBlock		    "Goto12"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From17"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    6
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    3
		    Points		    [15, 0; 0, 20]
		    DstBlock		    "Goto13"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux1"
		    SrcPort		    3
		    Points		    [25, 0]
		    DstBlock		    "Goto15"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From16"
		    SrcPort		    1
		    DstBlock		    "forward model"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "backward model"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From14"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    DstBlock		    "forward model"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From15"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "forward model"
		    SrcPort		    3
		    DstBlock		    "Goto11"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "forward model"
		    SrcPort		    2
		    DstBlock		    "Goto10"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "forward model"
		    SrcPort		    1
		    DstBlock		    "Goto6"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From18"
		    SrcPort		    1
		    DstBlock		    "backward model"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "accessory on/off"
		    SrcPort		    1
		    DstBlock		    "Goto14"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From6"
		    SrcPort		    1
		    DstBlock		    "forward model"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From11"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "From12"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "From7"
		    SrcPort		    1
		    DstBlock		    "Goto7"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From5"
		    SrcPort		    1
		    DstBlock		    "Goto5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From13"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    5
		    }
		    Line {
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    Points		    [0, 120; -115, 0]
		    DstBlock		    "Accessory SDO"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From10"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From9"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "backward model"
		    SrcPort		    1
		    DstBlock		    "Goto4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From4"
		    SrcPort		    1
		    DstBlock		    "backward model"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "backward model"
		    SrcPort		    3
		    DstBlock		    "Goto9"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "backward model"
		    SrcPort		    2
		    DstBlock		    "Goto8"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From3"
		    SrcPort		    1
		    Points		    [0, -10]
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From2"
		    SrcPort		    1
		    Points		    [5, 0; 0, 25]
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "achieved shaft T and w, out\nto t"
"he driveline\n(Nm ; rad/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "From1"
		    SrcPort		    1
		    Points		    [5, 0; 0, -10]
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "From"
		    SrcPort		    1
		    Points		    [5, 0; 0, 25]
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "requested shaft and belt\nT and w"
", in from\nthe prime mover\n(Nm ; rad/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux1"
		    SrcPort		    2
		    DstBlock		    "Goto3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux1"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Goto2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "achieved shaft and belt\nT and w,"
" in\nfrom the prime mover\n(Nm ; rad/s)"
		    SrcPort		    1
		    DstBlock		    "Demux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    DstBlock		    "Goto1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Goto"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "requested shaft\nT and w, out\nto"
" the driveline \n(Nm ; rad/s; rad/s)"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Annotation {
		    Position		    [747, 26]
		    BackgroundColor	    "lightBlue"
		    Text		    "Data Logging"
		    DropShadow		    on
		    FontName		    "Times New Roman"
		    FontSize		    14
		    FontWeight		    "bold"
		    }
		    Annotation {
		    Position		    [337, 336]
		    BackgroundColor	    "lightBlue"
		    Text		    "Backward-Forward Models"
		    DropShadow		    on
		    FontName		    "Times New Roman"
		    FontSize		    14
		    FontWeight		    "bold"
		    }
		    Annotation {
		    Position		    [337, 31]
		    BackgroundColor	    "lightBlue"
		    Text		    "INTERFACE"
		    DropShadow		    on
		    FontName		    "Times New Roman"
		    FontSize		    14
		    FontWeight		    "bold"
		    }
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [3, 1]
		  Position		  [265, 206, 270, 304]
		  ShowName		  off
		  Inputs		  "3"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [3, 1]
		  Position		  [265, 321, 270, 419]
		  ShowName		  off
		  Inputs		  "3"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator"
		  Position		  [300, 463, 320, 507]
		  ShowName		  off
		  Operator		  ">"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [320, 73, 350, 87]
		  ShowName		  off
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out2"
		  Position		  [320, 113, 350, 127]
		  ShowName		  off
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "From3"
		  SrcPort		  1
		  DstBlock		  "Mechanical Accessory\nLoads v2 <acc"
">"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mechanical Accessory\nLoads v2 <acc"
">"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mechanical Accessory\nLoads v2 <acc"
">"
		  SrcPort		  2
		  DstBlock		  "Out2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From4"
		  SrcPort		  1
		  DstBlock		  "Mechanical Accessory\nLoads v2 <acc"
">"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From1"
		  SrcPort		  1
		  DstBlock		  "Mechanical Accessory\nLoads v2 <acc"
">"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Goto"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 30]
		    DstBlock		    "Mux"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "Goto1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In2"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 30]
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, 75]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From5"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Relational\nOperator"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  DstBlock		  "Goto2"
		  DstPort		  1
		}
		Annotation {
		  Position		  [43, 285]
		  Text			  "from  <fc>"
		}
		Annotation {
		  Position		  [43, 400]
		  Text			  "from  <fc>"
		}
		Annotation {
		  Position		  [218, 214]
		  Text			  "torque req"
		}
		Annotation {
		  Position		  [217, 244]
		  Text			  "speed req"
		}
		Annotation {
		  Position		  [216, 275]
		  Text			  "aux spd req"
		}
		Annotation {
		  Position		  [218, 332]
		  Text			  "torque achieved"
		}
		Annotation {
		  Position		  [215, 362]
		  Text			  "speed achieved"
		}
		Annotation {
		  Position		  [213, 392]
		  Text			  "aux spd achieved"
		}
		Annotation {
		  Position		  [203, 460]
		  Text			  "from  <vc>"
		}
	      }
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [180, 421, 185, 459]
	      ShowName		      off
	      Inputs		      "2"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [755, 43, 785, 137]
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [275, 470, 295, 490]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "fc max trq"
	      Position		      [115, 344, 145, 376]
	      InputValues	      "fc_map_spd*fc_spd_scale"
	      OutputValues	      "fc_max_trq*fc_trq_scale"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "fc spd => gc spd\npulley ratio"
	      Position		      [295, 245, 325, 275]
	      Gain		      "tc_gc_to_fc_ratio_fun(0)"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "fc trq setpt"
	      Position		      [50, 182, 200, 208]
	      Value		      "cs_fc_trq_setpt_fun(0)"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "gb pwr r\n(neg: regen pwr r)"
	      Ports		      [1, 1]
	      Position		      [200, 63, 245, 97]
	      Inputs		      "1"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "gc max trq"
	      Position		      [395, 236, 450, 284]
	      InputValues	      "gc_map_spd*gc_spd_scale"
	      OutputValues	      "gc_max_trq*gc_trq_scale"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "gc trq =>fc trq\npulley ratio"
	      Position		      [500, 245, 530, 275]
	      Gain		      "tc_gc_to_fc_ratio_fun(0)"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      MinMax
	      Name		      "limit fc trq by setpoint\nand gc and fc"
" trq avail"
	      Ports		      [2, 1]
	      Position		      [685, 187, 715, 218]
	      Function		      "min"
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "max fc trq\navail to gc"
	      Ports		      [2, 1]
	      Position		      [370, 350, 390, 370]
	      NamePlacement	      "alternate"
	      IconShape		      "round"
	      Inputs		      "|+-"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      MinMax
	      Name		      "max gc trq\nor max fc trq\navailable to"
" gc"
	      Ports		      [2, 1]
	      Position		      [600, 337, 630, 368]
	      Function		      "min"
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "regen pwr => pos"
	      Position		      [355, 65, 385, 95]
	      Gain		      "-1"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "regen pwr hi:\nfc trq => 0"
	      Position		      [600, 72, 630, 103]
	      Operator		      ">="
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "torque"
	      Ports		      [1, 1]
	      Position		      [325, 421, 365, 459]
	      InputType		      "Vector"
	      ElementSrc	      "Internal"
	      Elements		      "1"
	      RowSrc		      "Internal"
	      Rows		      "1"
	      ColumnSrc		      "Internal"
	      Columns		      "1"
	      InputPortWidth	      "2"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "fc_trq_setpt"
	      Position		      [875, 83, 905, 97]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "fc trq setpt"
	      SrcPort		      1
	      DstBlock		      "limit fc trq by setpoint\nand gc and fc"
" trq avail"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fc spd"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		Points			[0, 90]
		DstBlock		"Mux"
		DstPort			2
	      }
	      Branch {
		Points			[5, 0]
		Branch {
		  Points		  [0, 0]
		  DstBlock		  "fc max trq"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, -100]
		  DstBlock		  "fc spd => gc spd\npulley ratio"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "fc max trq"
	      SrcPort		      1
	      DstBlock		      "max fc trq\navail to gc"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "max fc trq\navail to gc"
	      SrcPort		      1
	      DstBlock		      "max gc trq\nor max fc trq\navailable to"
" gc"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "Mechanical Accessory\nLoads <acc>"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mechanical Accessory\nLoads <acc>"
	      SrcPort		      1
	      Points		      [0, 0; 45, 0]
	      Branch {
		Points			[0, 0]
		DstBlock		"torque"
		DstPort			1
	      }
	      Branch {
		Points			[0, 105; -135, 0; 0, -65]
		DstBlock		"Mechanical Accessory\nLoads <acc>"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "torque"
	      SrcPort		      1
	      Points		      [10, 0; 0, -25]
	      Branch {
		DstBlock		"max fc trq\navail to gc"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Goto1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Mechanical Accessory\nLoads <acc>"
	      SrcPort		      2
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "max gc trq\nor max fc trq\navailable to"
" gc"
	      SrcPort		      1
	      Points		      [10, 0; 0, -145]
	      DstBlock		      "limit fc trq by setpoint\nand gc and fc"
" trq avail"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "gc max trq"
	      SrcPort		      1
	      DstBlock		      "gc trq =>fc trq\npulley ratio"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fc spd => gc spd\npulley ratio"
	      SrcPort		      1
	      DstBlock		      "gc max trq"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "gc trq =>fc trq\npulley ratio"
	      SrcPort		      1
	      Points		      [35, 0; 0, 85]
	      DstBlock		      "max gc trq\nor max fc trq\navailable to"
" gc"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [10, 0; 0, 15]
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "fc_trq_setpt"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "limit fc trq by setpoint\nand gc and fc"
" trq avail"
	      SrcPort		      1
	      Points		      [0, -85]
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant2"
	      SrcPort		      1
	      DstBlock		      "regen pwr hi:\nfc trq => 0"
	      DstPort		      2
	    }
	    Line {
	      Labels		      [0, 0]
	      SrcBlock		      "gb pwr r\n(neg: regen pwr r)"
	      SrcPort		      1
	      DstBlock		      "regen pwr => pos"
	      DstPort		      1
	    }
	    Line {
	      Labels		      [0, 0]
	      SrcBlock		      "regen pwr => pos"
	      SrcPort		      1
	      DstBlock		      "regen pwr hi:\nfc trq => 0"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "regen pwr hi:\nfc trq => 0"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "gb trq\n& spd"
	      SrcPort		      1
	      DstBlock		      "gb pwr r\n(neg: regen pwr r)"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  MinMax
	  Name			  "gc spd\nlimited"
	  Ports			  [2, 1]
	  Position		  [780, 132, 810, 163]
	  Function		  "min"
	  Inputs		  "2"
	}
	Block {
	  BlockType		  Saturate
	  Name			  "gc spd\nlimits"
	  Position		  [635, 90, 660, 120]
	  UpperLimit		  "max(gc_map_spd)*gc_spd_scale"
	  LowerLimit		  "0"
	  LinearizeAsGain	  on
	}
	Block {
	  BlockType		  Gain
	  Name			  "gc spd =>fc spd\n1/pulley ratio"
	  Position		  [705, 90, 735, 120]
	  Gain			  "1/tc_gc_to_fc_ratio_fun(0)"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Outport
	  Name			  "engine speed\nand torque\n(Nm) (rad/s)"
	  Position		  [1090, 200, 1110, 220]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "FC on mod"
	  SrcPort		  1
	  Points		  [0, 0; 10, 0]
	  Branch {
	    Points		    [0, 100]
	    DstBlock		    "Switch"
	    DstPort		    2
	  }
	  Branch {
	    DstBlock		    "Goto <fc>3"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "From <vc>1"
	  SrcPort		  1
	  DstBlock		  "Goto <fc>2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Constant"
	  SrcPort		  1
	  DstBlock		  "Switch"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "gb trq & spd r"
	  SrcPort		  1
	  DstBlock		  "gc max trq r\nw / limits"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "From <ess>1"
	  SrcPort		  1
	  Points		  [55, 0; 0, -15]
	  DstBlock		  "FC on mod"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "From <ess>"
	  SrcPort		  1
	  DstBlock		  "FC on mod"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Constant1"
	  SrcPort		  1
	  DstBlock		  "fc spd\nlimited"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "fc spd\nlimited"
	  SrcPort		  1
	  Points		  [0, 0]
	  Branch {
	    DstBlock		    "gc spd\nlimited"
	    DstPort		    2
	  }
	  Branch {
	    Points		    [0, -50]
	    DstBlock		    "fc spd => gc spd\npulley ratio"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Mux"
	  SrcPort		  1
	  DstBlock		  "engine speed\nand torque\n(Nm) (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Switch"
	  SrcPort		  1
	  Points		  [5, 0]
	  Branch {
	    Points		    [0, 35]
	    DstBlock		    "gc max trq r\nw / limits"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "Mux"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "gc max trq r\nw / limits"
	  SrcPort		  1
	  Points		  [5, 0; 0, -20]
	  DstBlock		  "Mux"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "gc spd\nlimited"
	  SrcPort		  1
	  Points		  [15, 0]
	  DstBlock		  "Switch"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "fc spd => gc spd\npulley ratio"
	  SrcPort		  1
	  DstBlock		  "gc spd\nlimits"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "gc spd =>fc spd\n1/pulley ratio"
	  SrcPort		  1
	  Points		  [25, 0]
	  DstBlock		  "gc spd\nlimited"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "gc spd\nlimits"
	  SrcPort		  1
	  DstBlock		  "gc spd =>fc spd\n1/pulley ratio"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      ToWorkspace
      Name		      "total fuel used\n (gal)"
      Position		      [785, 57, 835, 73]
      FontName		      "Arial"
      VariableName	      "gal"
      MaxDataPoints	      "inf"
      Decimation	      "1"
      SampleTime	      "0"
      SaveFormat	      "Array"
    }
    Block {
      BlockType		      Reference
      Name		      "vehicle <veh>"
      Ports		      [2, 1]
      Position		      [75, 158, 130, 202]
      BackgroundColor	      "yellow"
      LinkData {
	BlockName		"config\nforce req'd to\novercome rolling resi"
"stance"
	DialogParameters {
	  BlockChoice		  "force req'd to overcome rolling resistance "
"(N)"
	}
	BlockName		"config\nvehicle speed"
	DialogParameters {
	  BlockChoice		  "vehicle speed (m/s)"
	}
	BlockName		"rolling resistance force"
	DialogParameters {
	  BlockChoice		  "force req'd to overcome rolling resistance "
"(N)"
	}
	BlockName		"vehicle speed"
	DialogParameters {
	  BlockChoice		  "vehicle speed (m/s)"
	}
      }
      SourceBlock	      "lib_vehicle/vehicle <veh>"
      SourceType	      ""
    }
    Block {
      BlockType		      Reference
      Name		      "wheel and axle \nfront/rear <wh>"
      Ports		      [3, 3]
      Position		      [160, 172, 210, 228]
      BackgroundColor	      "yellow"
      SourceBlock	      "lib_wheel/wheel and axle \nfront//rear <wh>"
      SourceType	      ""
    }
    Line {
      SrcBlock		      "gearbox <gb>"
      SrcPort		      1
      Points		      [0, 0; 10, 0]
      Branch {
	DstBlock		"Cosimulate Elect"
	DstPort			1
      }
      Branch {
	DstBlock		"series hybrid\ncontrol stategy\n <cs>"
	DstPort			1
      }
    }
    Line {
      SrcBlock		      "gearbox <gb>"
      SrcPort		      2
      Points		      [0, 55; -160, 0; 0, -50]
      DstBlock		      "final drive <fd>"
      DstPort		      2
    }
    Line {
      SrcBlock		      "final drive <fd>"
      SrcPort		      1
      DstBlock		      "gearbox <gb>"
      DstPort		      1
    }
    Line {
      SrcBlock		      "drive cycle\n<cyc>"
      SrcPort		      1
      Points		      [5, 0]
      DstBlock		      "vehicle <veh>"
      DstPort		      1
    }
    Line {
      SrcBlock		      "Clock"
      SrcPort		      1
      DstBlock		      "Goto<sdo>"
      DstPort		      1
    }
    Line {
      SrcBlock		      "fuel\nconverter\n <fc> for series"
      SrcPort		      2
      Points		      [45, 0]
      DstBlock		      "exhaust sys\n<ex>"
      DstPort		      1
    }
    Line {
      SrcBlock		      "fuel\nconverter\n <fc> for series"
      SrcPort		      1
      Points		      [0, -20]
      DstBlock		      "total fuel used\n (gal)"
      DstPort		      1
    }
    Line {
      SrcBlock		      "Logical\nOperator1"
      SrcPort		      1
      Points		      [0, 3]
      DstBlock		      "exhaust sys\n<ex>"
      DstPort		      enable
    }
    Line {
      SrcBlock		      "do ex calcs?"
      SrcPort		      1
      DstBlock		      "Logical\nOperator1"
      DstPort		      1
    }
    Line {
      SrcBlock		      "exhaust sys\n<ex>"
      SrcPort		      1
      DstBlock		      "HC, CO,\nNOx, PM (g/s)"
      DstPort		      1
    }
    Line {
      SrcBlock		      "do ex calcs?1"
      SrcPort		      1
      DstBlock		      "Logical\nOperator1"
      DstPort		      2
    }
    Line {
      SrcBlock		      "exhaust sys\n<ex>"
      SrcPort		      2
      Points		      [0, 35]
      DstBlock		      "<cs>"
      DstPort		      1
    }
    Line {
      SrcBlock		      "Cosimulate Elect"
      SrcPort		      2
      Points		      [15, 0; 0, 45; -290, 0]
      DstBlock		      "gearbox <gb>"
      DstPort		      2
    }
    Line {
      SrcBlock		      "series hybrid\ncontrol stategy\n <cs>"
      SrcPort		      1
      DstBlock		      "Cosimulate Elect"
      DstPort		      2
    }
    Line {
      SrcBlock		      "fuel\nconverter\n <fc> for series"
      SrcPort		      3
      DstBlock		      "Terminator"
      DstPort		      1
    }
    Line {
      SrcBlock		      "Cosimulate Elect"
      SrcPort		      1
      Points		      [0, -25; -40, 0; 0, -55]
      DstBlock		      "Mechanical Accessory\nLoads <acc>"
      DstPort		      1
    }
    Line {
      SrcBlock		      "Mechanical Accessory\nLoads <acc>"
      SrcPort		      1
      DstBlock		      "fuel\nconverter\n <fc> for series"
      DstPort		      1
    }
    Line {
      SrcBlock		      "wheel and axle \nfront/rear <wh>"
      SrcPort		      1
      DstBlock		      "2 axle -->\n1 driveline\nconverter"
      DstPort		      1
    }
    Line {
      SrcBlock		      "wheel and axle \nfront/rear <wh>"
      SrcPort		      2
      DstBlock		      "2 axle -->\n1 driveline\nconverter"
      DstPort		      2
    }
    Line {
      SrcBlock		      "2 axle -->\n1 driveline\nconverter"
      SrcPort		      1
      DstBlock		      "final drive <fd>"
      DstPort		      1
    }
    Line {
      SrcBlock		      "2 axle -->\n1 driveline\nconverter"
      SrcPort		      2
      Points		      [5, 0; 0, 70; -135, 0; 0, -70]
      DstBlock		      "wheel and axle \nfront/rear <wh>"
      DstPort		      2
    }
    Line {
      SrcBlock		      "2 axle -->\n1 driveline\nconverter"
      SrcPort		      3
      Points		      [0, 45; -125, 0]
      DstBlock		      "wheel and axle \nfront/rear <wh>"
      DstPort		      3
    }
    Line {
      SrcBlock		      "vehicle <veh>"
      SrcPort		      1
      DstBlock		      "wheel and axle \nfront/rear <wh>"
      DstPort		      1
    }
    Line {
      SrcBlock		      "final drive <fd>"
      SrcPort		      2
      Points		      [0, 70; -130, 0]
      DstBlock		      "2 axle -->\n1 driveline\nconverter"
      DstPort		      3
    }
    Line {
      SrcBlock		      "wheel and axle \nfront/rear <wh>"
      SrcPort		      3
      Points		      [0, 55; -155, 0]
      DstBlock		      "vehicle <veh>"
      DstPort		      2
    }
  }
}
