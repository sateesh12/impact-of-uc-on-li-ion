<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Motor Controller</title>
  <style type="text/css">code{white-space: pre;}</style>
</head>
<body>
<div id="header">
<h1 class="title">Motor Controller</h1>
</div>
<h3 id="motorcontroller">Motor/controller</h3>
<p><em><a href="mc.gif">Motor/controller block diagram</a></em></p>
<p><strong><u>Role of subsystem in vehicle</u></strong><br />The ‘motor/controller’ block translates torque and speed requests into electric power requests and converts actual power input to torque and speed output.</p>
<p><strong><u>Description of modeling approach</u></strong><br />The motor/controller model includes the effects of losses in the motor and controller, rotor inertia, and the motor’s torque speed-dependent torque capability. Power losses are handled as a 2-D lookup table indexed by rotor speed and output torque. The motor’s maximum torque is enforced using a lookup table indexed by rotor speed. <a href="mc_cont.html">Motor control</a> blocks outside the ‘motor/controller’ ensure that the controller’s maximum current is not exceeded and that the motor shuts down when it is not needed. Available torque is computed from available power by assuming that the ratio of rotor torque to input (electric) power is the same for the actual/achievable situation as was computed for the request. This is mathematically equivalent to assuming the motor/controller efficiency. Rotor speed for the actual/achievable calculations is as computed in the ‘request’ branch.</p>
<p>
<p><strong><u>Variables used in subsystem</u></strong></p>
<blockquote>
<p><a href="advisor_appendices.html#Input%20Motor/Controller">See Appendix A.2: Input Variables</a><br /><a href="advisor_appendices.html#Output%20Motor/Controller">See Appendix A.3: Output Variables</a></p>
</blockquote>
<p><strong><u>Implementation: Thermal Model</u></strong><br />A simple thermal model of the motor calculates the temperature of the motor and the thermal power rejected in to the coolant to maintain this temperature.  The motor is modeled as a lumped capacity mass with liquid cooling based on a thermostat setpoint.  Heat is generated by the motor, and removed through natural and forced convection, radiation to ambient air, and forced liquid cooling (see Figure 1).</p>
<center>
<p>
<p><img src="mc_therm_schematic.jpg" /><br /><strong>Figure 1: Schematic of motor thermal model</strong></p>
</center>
<p><u>Qmc_gen</u><br />The heat generated by the motor is found from the input power and output torque and speed.  <em>Q<sub>mc_gen</sub>=P<sub>in</sub>-T*<font face="Symbol">w</font></em>.</p>
<p>
<p><a name="Qair"></a><u>Qair</u><br />Heat is removed from the motor through natural and forced convection with the ambient air.  <em>Q<sub>air</sub>=h<sub>air</sub>*A*(T<sub>mc</sub>-T<sub>ambient</sub>)</em>   The heat transfer coefficient is computed using known heat transfer coefficients for given experimental conditions.  For a <font face="Symbol">D</font>T of 1000<sup>o</sup>C, h from natural convection was 6 W/m<sup>2</sup>K.  For air flow of 30 mph, h from forced convection was 60 W/m<sup>2</sup>K.  A minimum of h<sub>air</sub> was set to a natural convection level at 6 W/m<sup>2</sup>K.  For natural convection over an arbitrary shape, the Nusselt number is related to the Rayleigh number by the following equation<sup>*</sup>:</p>
<center>
<div class="figure">
<img src="mc_therm_eqn2.jpg" />
</div>
</center>
<p>For forced convection over a cylinder, the Nusselt number is related to the Rayleigh number by the following equation<sup>*</sup>:</p>
<center>
<div class="figure">
<img src="mc_therm_eqn3.jpg" />
</div>
</center>
<p>Thus the equation for the heat transfer coefficient used in the model was: <em>h<sub>air</sub></em>=6+6*( <font face="Symbol">D</font>T/1000)<sup>0.25</sup>+60*( V<sub>air</sub>/30)<sup>0.63</sup>.  Air speed over the motor is assumed to be half of the vehicle speed.</p>
<p><u>Qrad</u><br />Heat was also removed through radiation.  <em>Q<sub>rad</sub>=<font face="Symbol">es</font>*A*(T<sub>mc</sub><sup>4</sup>-T<sub>ambient</sub><sup>4</sup>)=0.9*5.67E-8*A*(T<sub>mc</sub><sup>4</sup>-T<sub>ambient</sub><sup>4</sup>)</em>The emissivity was assumed to be 0.9, and here the temperatures are in Kelvin.</p>
<p><u>Qmc_coolant</u><br />The coolant flow was turned on if the temperature of the motor exceeded a thermostat setpoint.  The details of the flow are not considered.  It is assumed that all of the extra energy (=Qmc_gen-Qair-Qrad) is absorbed into the coolant.</p>
<p><u>Tmc</u><br />Finally, the temperature of the motor was found by integrating the added heat through time, adjusting for the heat capacity of the motor. <img src="mc_therm_eqn.jpg" /></p>
<p>
<p>Figure 2 shows the block diagram implementation.</p>
<center>
<p>
<p><img src="mc_thermal.gif" /><br /><strong>Figure 2: Block diagram of motor thermal model</strong></p>
</center>
<p>*Reference: Basic Heat and Mass Transfer, Anthony F. Mills, Irwin, 1995.<br /> * * * * *</p>
<center>
<p><a href="advisor_ch3.html">Back to Chapter 3</a></p>
</center>
<p>Last Revised: 7/21/00:AB</p>
</body>
</html>
