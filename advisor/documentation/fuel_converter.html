<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Fuel Converter</title>
  <style type="text/css">code{white-space: pre;}</style>
</head>
<body>
<div id="header">
<h1 class="title">Fuel Converter</h1>
</div>
<h3 id="fuel-converter">Fuel Converter</h3>
<p><a href="Engine%20Cold-Hot%20Comparison.html">Updates to Fuel Converter Cold-to-Hot Correction Factors, January 2001</a><em><a href="fc.gif"></a></em></p>
<p><em><a href="fc.gif">Fuel Converter block diagram</a></em><br /><em><a href="fc_tmp.gif">Fuel Use and EO emissions block diagram</a></em></p>
<p><strong><u>Role of subsystem in vehicle</u></strong><br />The fuel converter model simulates a power source for the vehicle. In the case of an internal combustion engine, it is the device that converts the fuel into useable energy (mechanical shaft work) for the drivetrian. It can be incorporated into various vehicle configurations including, series, parallel, and conventional vehicles.</p>
<p><strong><u>Description of modeling approach</u></strong><br />Given a requested speed and torque calculated by the other submodels, the fuel converter model determines the engine operating point required to meet these requirements while also accounting for inertial losses and accessory loads. The engine controller module does not allow the fuel converter to operate outside of its normal operating speed and torque ranges. The controller also determines the engine speed if the clutch is disengaged. Once the achievable speed and torque have been determine these values are passed back to the rest of the vehicle model. These values are also used to determine the fuel use and emissions for each time step. The fuel use and fuel converter out emissions values are stored in tables indexed by fuel converter speed and torque. Temperature correction factors have been incorporated to scale the fuel use and emissions for cold starts.</p>
<p>
<p><strong><u>Variables used in subsystem</u></strong></p>
<blockquote>
<p><a href="advisor_appendices.html#Input%20Fuel%20Converter">See Appendix A.2: Input Variables</a><br /><a href="advisor_appendices.html#Output_Fuel_Converter">See Appendix A.3: Output Variables</a></p>
</blockquote>
<p><strong><u><a href="bore_stroke_scaling.html">Fuel Converter Scaling</a></u></strong></p>
<p>
<p><strong><u>Implementation: Thermal Model</u></strong><br />The thermal model of the engine breaks the engine assembly into four temperatures: the cylinder, the engine block, the exterior engine accessories, and the hood of the vehicle.  The coolant operates as a thermostat, with the setpoint set by the user.  Heat is generated by combustion, conducted to the engine block, and removed through  forced liquid cooling, conduction, natural convection, and radiation (see Figure 1).</p>
<center>
</p>
<p>
<p><img src="fc_therm_schematic.jpg" /><br /><strong>Figure 1: Schematic of engine thermal model</strong></p>
</center>
<p>The calculations for the individual heat transfer paths are detailed below, and the temperatures of the four nodes are then given.  See Figure 1 for subscript notation (example: Qc2i,c = heat transferred from the cylinder to the inner block via conduction)..</p>
<p>
<p><u>CYLINDER</u><br /><u>Qfc_gen</u><br />The heat generated by the engine is found from the fuel used, the usable power, and the heat contained in the exhaust.</p>
<center>
<div class="figure">
<img src="fc_therm_eqn1.jpg" />
</div>
</center>
<p><u>Qc2i,c</u><br />Heat is removed from the cylinder to the engine block through conduction.  This conductance (W/K) is specified by the user in the engine input file; a representative value is 500 W/K. <em>Q<sub>c2i,c</sub>=fc_c2i_th_cond*(T<sub>c</sub>-T<sub>i</sub>)</em></p>
<p>
<p><u>INNER/ENGINE BLOCK</u><br /><u>Qi2x,c</u><br />Some of the input heat (Qc2i,c) is removed from the engine block to the exterior/engine accessories through conduction.  Again, this conductance (e.g. 500 W/K) is specified by the user in the engine input file. <em>Q<sub>i2x,c</sub>=fc_i2x_th_cond*(T<sub>i</sub>-T<sub>x</sub>)</em><br /><u>Qfc,coolant</u><br />The remaining heat input into the engine block (Qc2i,c-Qi2x,c) is assumed to be absorbed into the coolant if the coolant flow is on.  The coolant operates on a thermostat setpoint, turning on when the block temperature exceeds the setpoint of fc_tstat.</p>
<center>
<div class="figure">
<img src="fc_therm_eqn2.jpg" />
</div>
</center>
<blockquote>
<p><u>Qfc,htr</u><br />If the key is on, some of the coolant heat is used for the cabin heater.  This amount is based on a user specified heat exchanger effectiveness from the coolant to the heater (e.g. fc_cl2h_eff=0.7), and a given heater air flow (e.g. fc_h_air_flow=1kg/s).  <em>Q<sub>fc,htr</sub>=fc_cl2h_eff*fc_h_air_flow*c<sub>p,air</sub>*(T<sub>coolant</sub>-T<sub>amb</sub>)</em><br /><u>Qfc,rad</u><br />If the key is on, the remaining heat input into the coolant  is released through the radiator. <em>Q<sub>fc,rad</sub>=Q<sub>fc,coolant</sub>-Q<sub>fc,htr</sub></em></p>
</blockquote>
<p><u>EXTERIOR/ENGINE ACCESSORIES</u><br />The surface area used below was scaled by the power scale of the engine: <em>Scale=fc_pwr_scale<sup>0.67</sup></em> (based on a spherical surface area of an engine).<br /><u>Qx2h,r</u><br />Radiative heat from the exterior to the hood is given by: <em>Q<sub>x2h,r</sub>=<font face="Symbol">es</font>*A*(T<sub>x</sub><sup>4</sup>-T<sub>h</sub><sup>4</sup>)=fc_emisv*5.67E-8*fc_ext_sarea*(T<sub>x</sub><sup>4</sup>-T<sub>h</sub><sup>4</sup>).</em>Here the temperatures are in Kelvin.<br /><u>Qx2h,v</u><br />For an explanation of the chosen heat transfer coefficient, see <a href="motor_controller.html#Qair">Qair under the motor thermal model description</a>.  The heat removed from the exterior to the hood through natural and forced convection is given by <em>Q<sub>x2h,v</sub>=h<sub>air</sub>*A*(T<sub>x</sub>-T<sub>h</sub>)=h<sub>air</sub>*fc_ext_sarea*(T<sub>x</sub>-T<sub>h</sub>)</em><br /><u>Qx2h,c</u><br />Some of the input heat (Qi2x,c) is removed from the engine accessories to the hood through conduction.  This conductance (e.g. 10 W/K) is specified by the user in the engine input file. <em>Q<sub>x2h,c</sub>=fc_h2x_th_cond*(T<sub>x</sub>-T<sub>h</sub>)</em><br /><u>Qx2a,r</u><br />Heat was also radiated from the exterior directly to ambient air.  This surface area was assumed to be 50% of the exterior surface area. <em>Q<sub>x2a,r</sub>=<font face="Symbol">es</font>*A*(T<sub>x</sub><sup>4</sup>-T<sub>amb</sub><sup>4</sup>)=fc_emisv*5.67E-8*(.5*fc_ext_sarea)*(T<sub>x</sub><sup>4</sup>-T<sub>amb</sub><sup>4</sup>)</em><br /><u>Qx2a,v</u><br />Again, the surface area available for convection to ambient was assumed to be 50% of the exterior surface area.  For an explanation of the chosen heat transfer coefficient, see <a href="motor_controller.html#Qair">Qair under the motor thermal model description</a>.  The heat removed from the exterior to the ambient air through natural and forced convection is given by <em>Q<sub>x2a,v</sub>=h<sub>air</sub>*A*(T<sub>x</sub>-T<sub>amb</sub>)=h<sub>air</sub>*(.5*fc_ext_sarea)*(T<sub>x</sub>-T<sub>amb</sub>)</em></p>
<p><u>HOOD</u><br /><u>Qh2a,r</u><br />Radiative heat from the hood to the ambient surroundings is given by: <em>Q<sub>h2a,r</sub>=<font face="Symbol">es</font>*A*(T<sub>h</sub><sup>4</sup>-T<sub>amb</sub><sup>4</sup>)=fc_hood_emisv*5.67E-8*fc_hood_sarea*(T<sub>h</sub><sup>4</sup>-T<sub>amb</sub><sup>4</sup>).</em><br /><u>Qh2a,v</u><br />For an explanation of the chosen heat transfer coefficient, see <a href="motor_controller.html#Qair">Qair under the motor thermal model description</a>.  The heat removed from the hood to the ambient air through natural and forced convection is given by <em>Q<sub>h2a,v</sub>=h<sub>air</sub>*A*(T<sub>h</sub>-T<sub>amb</sub>)=h<sub>air</sub>*fc_hood_sarea*(T<sub>h</sub>-T<sub>amb</sub>)</em></p>
<p>
<p><u>TEMPERATURE EQUATIONS</u><br /><u>Tc</u><br />The base mass (cylinder and engine block) was assumed to have a 1.8 kg/kW value (and can also be explicitely defined in the FC file).  Of this mass, 20% was assumed to be associated with the cylinders.</p>
<center>
<div class="figure">
<img src="fc_therm_eqn3.jpg" />
</div>
</center>
<p><u>Ti</u><br />The mass of the engine block was assumed to be 80% of the base mass.</p>
<center>
<div class="figure">
<img src="fc_therm_eqn4.jpg" />
</div>
</center>
<p><u>Tx</u><br />The accessory mass may be explicity defined in the FC file.  As a rule, a mass of 0.8 kg/kW was assumed (based on 1994 OTA report, Table 3).</p>
<center>
<div class="figure">
<img src="fc_therm_eqn5.jpg" />
</div>
</center>
<p><u>Th</u><br />The mass of the hood was assumed to be 10% of the vehicle glider mass.</p>
<center>
<div class="figure">
<img src="fc_therm_eqn6.jpg" />
</div>
</center>
<p>
<p><strong><u>Equations used in subsystem</u></strong><br />(torque available) = (engine torque available) – (accessories torque)</p>
<blockquote>
<p>(accessories torque) = (accessories mechanical power) * (engine speed)<br />(engine torque available) = max((closed throttle torque), min((torque requested), (max torque)))</p>
<blockquote>
<p>(torque requested) = (torque requested by clutch) + (inertial torque) + (accessories torque)</p>
<blockquote>
<p>(inertial torque) = (shaft rate of acceleration) * (engine inertia)<br />(accessories torque) = (accessories power) / (shaft speed)</p>
</blockquote>
</blockquote>
</blockquote>
<p>(speed available) = min((speed requested), (max engine speed)) * (clutch state = engaged) + (spin-down speed) * (clutch state ~= engaged)</p>
<blockquote>
<p>(spin-down speed) = max((idle speed),(closed throttle speed))</p>
<blockquote>
<p>(closed throttle speed) = ((closed throttle torque) - (accessories torque)) / (engine inertia) * (time step)</p>
</blockquote>
<p>(speed requested) = (speed requested by clutch)</p>
</blockquote>
<p>(gallons of fuel used) = sum(fuel used per time step)</p>
<blockquote>
<p>(fuel used per time step) = (engine out fuel used) * (engine temperature fuel use correction factor)</p>
<blockquote>
<p>(engine temperature correction factor) = 1+ ((fc_tstat-(engine coolant temperature))/(75))^3.1<br />(engine coolant temperature) = Ti as calculated above (see Figure 1)</p>
</blockquote>
</blockquote>
<p>(engine-out emissions per time step) = (fully-hot engine out emissions as a function of speed and torque)*(engine temperature emissions correction factor)</p>
<blockquote>
<blockquote>
<p>(normalized temperature)=(fc_tstat-(engine coolant temperature))/(fc_tstat-20)<br />For HC: (engine temperature correction factor) = 1+7.4* (normalized temperature) ^ 3.072<br />For CO: (engine temperature correction factor) = 1 + 9.4 * (normalized temperature) ^ 3.21<br />For NOx: (engine temperature correction factor) = 1+ 0.6 * (normalized temperature) ^ 7.3<br />For PM: assumed to be the same as HC, (engine temperature correction factor) = 1+7.4* (normalized temperature) ^ 3.072</p>
</blockquote>
</blockquote>
<p><strong><u>References</u></strong><br />The temperature corrections for the emissions releases are based on a report entitled “Emission Simulations: GM Lumina, Ford Taurus, GM Impact, and Chrysler TEVan” by J. Dill Murrell and Associates, LLC., Saline, MI, January 1996.</p>
<hr />
<center>
<p><a href="advisor_ch3.html">Back to Chapter 3</a></p>
</center>
<p>Last Revised: 01/31/01: VHJ</p>
</body>
</html>
